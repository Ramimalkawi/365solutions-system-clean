var Q0=Object.defineProperty;var sm=Ee=>{throw TypeError(Ee)};var H0=(Ee,t,Ae)=>t in Ee?Q0(Ee,t,{enumerable:!0,configurable:!0,writable:!0,value:Ae}):Ee[t]=Ae;var ys=(Ee,t,Ae)=>H0(Ee,typeof t!="symbol"?t+"":t,Ae),Rf=(Ee,t,Ae)=>t.has(Ee)||sm("Cannot "+Ae);var yr=(Ee,t,Ae)=>(Rf(Ee,t,"read from private field"),Ae?Ae.call(Ee):t.get(Ee)),Vn=(Ee,t,Ae)=>t.has(Ee)?sm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(Ee):t.set(Ee,Ae),Hn=(Ee,t,Ae,_e)=>(Rf(Ee,t,"write to private field"),_e?_e.call(Ee,Ae):t.set(Ee,Ae),Ae),Bn=(Ee,t,Ae)=>(Rf(Ee,t,"access private method"),Ae);var th=(Ee,t,Ae,_e)=>({set _(xe){Hn(Ee,t,xe,Ae)},get _(){return yr(Ee,t,_e)}});function _mergeNamespaces(Ee,t){for(var Ae=0;Ae<t.length;Ae++){const _e=t[Ae];if(typeof _e!="string"&&!Array.isArray(_e)){for(const xe in _e)if(xe!=="default"&&!(xe in Ee)){const Ce=Object.getOwnPropertyDescriptor(_e,xe);Ce&&Object.defineProperty(Ee,xe,Ce.get?Ce:{enumerable:!0,get:()=>_e[xe]})}}}return Object.freeze(Object.defineProperty(Ee,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const xe of document.querySelectorAll('link[rel="modulepreload"]'))_e(xe);new MutationObserver(xe=>{for(const Ce of xe)if(Ce.type==="childList")for(const Se of Ce.addedNodes)Se.tagName==="LINK"&&Se.rel==="modulepreload"&&_e(Se)}).observe(document,{childList:!0,subtree:!0});function Ae(xe){const Ce={};return xe.integrity&&(Ce.integrity=xe.integrity),xe.referrerPolicy&&(Ce.referrerPolicy=xe.referrerPolicy),xe.crossOrigin==="use-credentials"?Ce.credentials="include":xe.crossOrigin==="anonymous"?Ce.credentials="omit":Ce.credentials="same-origin",Ce}function _e(xe){if(xe.ep)return;xe.ep=!0;const Ce=Ae(xe);fetch(xe.href,Ce)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Ee){return Ee&&Ee.__esModule&&Object.prototype.hasOwnProperty.call(Ee,"default")?Ee.default:Ee}function getAugmentedNamespace(Ee){if(Object.prototype.hasOwnProperty.call(Ee,"__esModule"))return Ee;var t=Ee.default;if(typeof t=="function"){var Ae=function _e(){return this instanceof _e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};Ae.prototype=t.prototype}else Ae={};return Object.defineProperty(Ae,"__esModule",{value:!0}),Object.keys(Ee).forEach(function(_e){var xe=Object.getOwnPropertyDescriptor(Ee,_e);Object.defineProperty(Ae,_e,xe.get?xe:{enumerable:!0,get:function(){return Ee[_e]}})}),Ae}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var Ee=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function Ae(_e,xe,Ce){var Se=null;if(Ce!==void 0&&(Se=""+Ce),xe.key!==void 0&&(Se=""+xe.key),"key"in xe){Ce={};for(var Re in xe)Re!=="key"&&(Ce[Re]=xe[Re])}else Ce=xe;return xe=Ce.ref,{$$typeof:Ee,type:_e,key:Se,ref:xe!==void 0?xe:null,props:Ce}}return reactJsxRuntime_production.Fragment=t,reactJsxRuntime_production.jsx=Ae,reactJsxRuntime_production.jsxs=Ae,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var Ee=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),Ae=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),Ce=Symbol.for("react.consumer"),Se=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),Fe=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),Ue=Symbol.iterator;function ke(hr){return hr===null||typeof hr!="object"?null:(hr=Ue&&hr[Ue]||hr["@@iterator"],typeof hr=="function"?hr:null)}var Oe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},je=Object.assign,Ke={};function ze(hr,Sr,ar){this.props=hr,this.context=Sr,this.refs=Ke,this.updater=ar||Oe}ze.prototype.isReactComponent={},ze.prototype.setState=function(hr,Sr){if(typeof hr!="object"&&typeof hr!="function"&&hr!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,hr,Sr,"setState")},ze.prototype.forceUpdate=function(hr){this.updater.enqueueForceUpdate(this,hr,"forceUpdate")};function Ve(){}Ve.prototype=ze.prototype;function Xe(hr,Sr,ar){this.props=hr,this.context=Sr,this.refs=Ke,this.updater=ar||Oe}var ir=Xe.prototype=new Ve;ir.constructor=Xe,je(ir,ze.prototype),ir.isPureReactComponent=!0;var sr=Array.isArray,rr={H:null,A:null,T:null,S:null,V:null},nr=Object.prototype.hasOwnProperty;function We(hr,Sr,ar,tr,lr,pr){return ar=pr.ref,{$$typeof:Ee,type:hr,key:Sr,ref:ar!==void 0?ar:null,props:pr}}function Ge(hr,Sr){return We(hr.type,Sr,void 0,void 0,void 0,hr.props)}function Ze(hr){return typeof hr=="object"&&hr!==null&&hr.$$typeof===Ee}function or(hr){var Sr={"=":"=0",":":"=2"};return"$"+hr.replace(/[=:]/g,function(ar){return Sr[ar]})}var He=/\/+/g;function Je(hr,Sr){return typeof hr=="object"&&hr!==null&&hr.key!=null?or(""+hr.key):Sr.toString(36)}function $e(){}function mr(hr){switch(hr.status){case"fulfilled":return hr.value;case"rejected":throw hr.reason;default:switch(typeof hr.status=="string"?hr.then($e,$e):(hr.status="pending",hr.then(function(Sr){hr.status==="pending"&&(hr.status="fulfilled",hr.value=Sr)},function(Sr){hr.status==="pending"&&(hr.status="rejected",hr.reason=Sr)})),hr.status){case"fulfilled":return hr.value;case"rejected":throw hr.reason}}throw hr}function wr(hr,Sr,ar,tr,lr){var pr=typeof hr;(pr==="undefined"||pr==="boolean")&&(hr=null);var Er=!1;if(hr===null)Er=!0;else switch(pr){case"bigint":case"string":case"number":Er=!0;break;case"object":switch(hr.$$typeof){case Ee:case t:Er=!0;break;case Ie:return Er=hr._init,wr(Er(hr._payload),Sr,ar,tr,lr)}}if(Er)return lr=lr(hr),Er=tr===""?"."+Je(hr,0):tr,sr(lr)?(ar="",Er!=null&&(ar=Er.replace(He,"$&/")+"/"),wr(lr,Sr,ar,"",function(Ir){return Ir})):lr!=null&&(Ze(lr)&&(lr=Ge(lr,ar+(lr.key==null||hr&&hr.key===lr.key?"":(""+lr.key).replace(He,"$&/")+"/")+Er)),Sr.push(lr)),1;Er=0;var Rr=tr===""?".":tr+":";if(sr(hr))for(var Tr=0;Tr<hr.length;Tr++)tr=hr[Tr],pr=Rr+Je(tr,Tr),Er+=wr(tr,Sr,ar,pr,lr);else if(Tr=ke(hr),typeof Tr=="function")for(hr=Tr.call(hr),Tr=0;!(tr=hr.next()).done;)tr=tr.value,pr=Rr+Je(tr,Tr++),Er+=wr(tr,Sr,ar,pr,lr);else if(pr==="object"){if(typeof hr.then=="function")return wr(mr(hr),Sr,ar,tr,lr);throw Sr=String(hr),Error("Objects are not valid as a React child (found: "+(Sr==="[object Object]"?"object with keys {"+Object.keys(hr).join(", ")+"}":Sr)+"). If you meant to render a collection of children, use an array instead.")}return Er}function vr(hr,Sr,ar){if(hr==null)return hr;var tr=[],lr=0;return wr(hr,tr,"","",function(pr){return Sr.call(ar,pr,lr++)}),tr}function ur(hr){if(hr._status===-1){var Sr=hr._result;Sr=Sr(),Sr.then(function(ar){(hr._status===0||hr._status===-1)&&(hr._status=1,hr._result=ar)},function(ar){(hr._status===0||hr._status===-1)&&(hr._status=2,hr._result=ar)}),hr._status===-1&&(hr._status=0,hr._result=Sr)}if(hr._status===1)return hr._result.default;throw hr._result}var Cr=typeof reportError=="function"?reportError:function(hr){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Sr=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof hr=="object"&&hr!==null&&typeof hr.message=="string"?String(hr.message):String(hr),error:hr});if(!window.dispatchEvent(Sr))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",hr);return}console.error(hr)};function _r(){}return react_production.Children={map:vr,forEach:function(hr,Sr,ar){vr(hr,function(){Sr.apply(this,arguments)},ar)},count:function(hr){var Sr=0;return vr(hr,function(){Sr++}),Sr},toArray:function(hr){return vr(hr,function(Sr){return Sr})||[]},only:function(hr){if(!Ze(hr))throw Error("React.Children.only expected to receive a single React element child.");return hr}},react_production.Component=ze,react_production.Fragment=Ae,react_production.Profiler=xe,react_production.PureComponent=Xe,react_production.StrictMode=_e,react_production.Suspense=Be,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rr,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(hr){return rr.H.useMemoCache(hr)}},react_production.cache=function(hr){return function(){return hr.apply(null,arguments)}},react_production.cloneElement=function(hr,Sr,ar){if(hr==null)throw Error("The argument must be a React element, but you passed "+hr+".");var tr=je({},hr.props),lr=hr.key,pr=void 0;if(Sr!=null)for(Er in Sr.ref!==void 0&&(pr=void 0),Sr.key!==void 0&&(lr=""+Sr.key),Sr)!nr.call(Sr,Er)||Er==="key"||Er==="__self"||Er==="__source"||Er==="ref"&&Sr.ref===void 0||(tr[Er]=Sr[Er]);var Er=arguments.length-2;if(Er===1)tr.children=ar;else if(1<Er){for(var Rr=Array(Er),Tr=0;Tr<Er;Tr++)Rr[Tr]=arguments[Tr+2];tr.children=Rr}return We(hr.type,lr,void 0,void 0,pr,tr)},react_production.createContext=function(hr){return hr={$$typeof:Se,_currentValue:hr,_currentValue2:hr,_threadCount:0,Provider:null,Consumer:null},hr.Provider=hr,hr.Consumer={$$typeof:Ce,_context:hr},hr},react_production.createElement=function(hr,Sr,ar){var tr,lr={},pr=null;if(Sr!=null)for(tr in Sr.key!==void 0&&(pr=""+Sr.key),Sr)nr.call(Sr,tr)&&tr!=="key"&&tr!=="__self"&&tr!=="__source"&&(lr[tr]=Sr[tr]);var Er=arguments.length-2;if(Er===1)lr.children=ar;else if(1<Er){for(var Rr=Array(Er),Tr=0;Tr<Er;Tr++)Rr[Tr]=arguments[Tr+2];lr.children=Rr}if(hr&&hr.defaultProps)for(tr in Er=hr.defaultProps,Er)lr[tr]===void 0&&(lr[tr]=Er[tr]);return We(hr,pr,void 0,void 0,null,lr)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(hr){return{$$typeof:Re,render:hr}},react_production.isValidElement=Ze,react_production.lazy=function(hr){return{$$typeof:Ie,_payload:{_status:-1,_result:hr},_init:ur}},react_production.memo=function(hr,Sr){return{$$typeof:Fe,type:hr,compare:Sr===void 0?null:Sr}},react_production.startTransition=function(hr){var Sr=rr.T,ar={};rr.T=ar;try{var tr=hr(),lr=rr.S;lr!==null&&lr(ar,tr),typeof tr=="object"&&tr!==null&&typeof tr.then=="function"&&tr.then(_r,Cr)}catch(pr){Cr(pr)}finally{rr.T=Sr}},react_production.unstable_useCacheRefresh=function(){return rr.H.useCacheRefresh()},react_production.use=function(hr){return rr.H.use(hr)},react_production.useActionState=function(hr,Sr,ar){return rr.H.useActionState(hr,Sr,ar)},react_production.useCallback=function(hr,Sr){return rr.H.useCallback(hr,Sr)},react_production.useContext=function(hr){return rr.H.useContext(hr)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(hr,Sr){return rr.H.useDeferredValue(hr,Sr)},react_production.useEffect=function(hr,Sr,ar){var tr=rr.H;if(typeof ar=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tr.useEffect(hr,Sr)},react_production.useId=function(){return rr.H.useId()},react_production.useImperativeHandle=function(hr,Sr,ar){return rr.H.useImperativeHandle(hr,Sr,ar)},react_production.useInsertionEffect=function(hr,Sr){return rr.H.useInsertionEffect(hr,Sr)},react_production.useLayoutEffect=function(hr,Sr){return rr.H.useLayoutEffect(hr,Sr)},react_production.useMemo=function(hr,Sr){return rr.H.useMemo(hr,Sr)},react_production.useOptimistic=function(hr,Sr){return rr.H.useOptimistic(hr,Sr)},react_production.useReducer=function(hr,Sr,ar){return rr.H.useReducer(hr,Sr,ar)},react_production.useRef=function(hr){return rr.H.useRef(hr)},react_production.useState=function(hr){return rr.H.useState(hr)},react_production.useSyncExternalStore=function(hr,Sr,ar){return rr.H.useSyncExternalStore(hr,Sr,ar)},react_production.useTransition=function(){return rr.H.useTransition()},react_production.version="19.1.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(Ee){function t(vr,ur){var Cr=vr.length;vr.push(ur);e:for(;0<Cr;){var _r=Cr-1>>>1,hr=vr[_r];if(0<xe(hr,ur))vr[_r]=ur,vr[Cr]=hr,Cr=_r;else break e}}function Ae(vr){return vr.length===0?null:vr[0]}function _e(vr){if(vr.length===0)return null;var ur=vr[0],Cr=vr.pop();if(Cr!==ur){vr[0]=Cr;e:for(var _r=0,hr=vr.length,Sr=hr>>>1;_r<Sr;){var ar=2*(_r+1)-1,tr=vr[ar],lr=ar+1,pr=vr[lr];if(0>xe(tr,Cr))lr<hr&&0>xe(pr,tr)?(vr[_r]=pr,vr[lr]=Cr,_r=lr):(vr[_r]=tr,vr[ar]=Cr,_r=ar);else if(lr<hr&&0>xe(pr,Cr))vr[_r]=pr,vr[lr]=Cr,_r=lr;else break e}}return ur}function xe(vr,ur){var Cr=vr.sortIndex-ur.sortIndex;return Cr!==0?Cr:vr.id-ur.id}if(Ee.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var Ce=performance;Ee.unstable_now=function(){return Ce.now()}}else{var Se=Date,Re=Se.now();Ee.unstable_now=function(){return Se.now()-Re}}var Be=[],Fe=[],Ie=1,Ue=null,ke=3,Oe=!1,je=!1,Ke=!1,ze=!1,Ve=typeof setTimeout=="function"?setTimeout:null,Xe=typeof clearTimeout=="function"?clearTimeout:null,ir=typeof setImmediate<"u"?setImmediate:null;function sr(vr){for(var ur=Ae(Fe);ur!==null;){if(ur.callback===null)_e(Fe);else if(ur.startTime<=vr)_e(Fe),ur.sortIndex=ur.expirationTime,t(Be,ur);else break;ur=Ae(Fe)}}function rr(vr){if(Ke=!1,sr(vr),!je)if(Ae(Be)!==null)je=!0,nr||(nr=!0,Je());else{var ur=Ae(Fe);ur!==null&&wr(rr,ur.startTime-vr)}}var nr=!1,We=-1,Ge=5,Ze=-1;function or(){return ze?!0:!(Ee.unstable_now()-Ze<Ge)}function He(){if(ze=!1,nr){var vr=Ee.unstable_now();Ze=vr;var ur=!0;try{e:{je=!1,Ke&&(Ke=!1,Xe(We),We=-1),Oe=!0;var Cr=ke;try{t:{for(sr(vr),Ue=Ae(Be);Ue!==null&&!(Ue.expirationTime>vr&&or());){var _r=Ue.callback;if(typeof _r=="function"){Ue.callback=null,ke=Ue.priorityLevel;var hr=_r(Ue.expirationTime<=vr);if(vr=Ee.unstable_now(),typeof hr=="function"){Ue.callback=hr,sr(vr),ur=!0;break t}Ue===Ae(Be)&&_e(Be),sr(vr)}else _e(Be);Ue=Ae(Be)}if(Ue!==null)ur=!0;else{var Sr=Ae(Fe);Sr!==null&&wr(rr,Sr.startTime-vr),ur=!1}}break e}finally{Ue=null,ke=Cr,Oe=!1}ur=void 0}}finally{ur?Je():nr=!1}}}var Je;if(typeof ir=="function")Je=function(){ir(He)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,mr=$e.port2;$e.port1.onmessage=He,Je=function(){mr.postMessage(null)}}else Je=function(){Ve(He,0)};function wr(vr,ur){We=Ve(function(){vr(Ee.unstable_now())},ur)}Ee.unstable_IdlePriority=5,Ee.unstable_ImmediatePriority=1,Ee.unstable_LowPriority=4,Ee.unstable_NormalPriority=3,Ee.unstable_Profiling=null,Ee.unstable_UserBlockingPriority=2,Ee.unstable_cancelCallback=function(vr){vr.callback=null},Ee.unstable_forceFrameRate=function(vr){0>vr||125<vr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ge=0<vr?Math.floor(1e3/vr):5},Ee.unstable_getCurrentPriorityLevel=function(){return ke},Ee.unstable_next=function(vr){switch(ke){case 1:case 2:case 3:var ur=3;break;default:ur=ke}var Cr=ke;ke=ur;try{return vr()}finally{ke=Cr}},Ee.unstable_requestPaint=function(){ze=!0},Ee.unstable_runWithPriority=function(vr,ur){switch(vr){case 1:case 2:case 3:case 4:case 5:break;default:vr=3}var Cr=ke;ke=vr;try{return ur()}finally{ke=Cr}},Ee.unstable_scheduleCallback=function(vr,ur,Cr){var _r=Ee.unstable_now();switch(typeof Cr=="object"&&Cr!==null?(Cr=Cr.delay,Cr=typeof Cr=="number"&&0<Cr?_r+Cr:_r):Cr=_r,vr){case 1:var hr=-1;break;case 2:hr=250;break;case 5:hr=1073741823;break;case 4:hr=1e4;break;default:hr=5e3}return hr=Cr+hr,vr={id:Ie++,callback:ur,priorityLevel:vr,startTime:Cr,expirationTime:hr,sortIndex:-1},Cr>_r?(vr.sortIndex=Cr,t(Fe,vr),Ae(Be)===null&&vr===Ae(Fe)&&(Ke?(Xe(We),We=-1):Ke=!0,wr(rr,Cr-_r))):(vr.sortIndex=hr,t(Be,vr),je||Oe||(je=!0,nr||(nr=!0,Je()))),vr},Ee.unstable_shouldYield=or,Ee.unstable_wrapCallback=function(vr){var ur=ke;return function(){var Cr=ke;ke=ur;try{return vr.apply(this,arguments)}finally{ke=Cr}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var Ee=requireReact();function t(Be){var Fe="https://react.dev/errors/"+Be;if(1<arguments.length){Fe+="?args[]="+encodeURIComponent(arguments[1]);for(var Ie=2;Ie<arguments.length;Ie++)Fe+="&args[]="+encodeURIComponent(arguments[Ie])}return"Minified React error #"+Be+"; visit "+Fe+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ae(){}var _e={d:{f:Ae,r:function(){throw Error(t(522))},D:Ae,C:Ae,L:Ae,m:Ae,X:Ae,S:Ae,M:Ae},p:0,findDOMNode:null},xe=Symbol.for("react.portal");function Ce(Be,Fe,Ie){var Ue=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xe,key:Ue==null?null:""+Ue,children:Be,containerInfo:Fe,implementation:Ie}}var Se=Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Re(Be,Fe){if(Be==="font")return"";if(typeof Fe=="string")return Fe==="use-credentials"?Fe:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_e,reactDom_production.createPortal=function(Be,Fe){var Ie=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fe||Fe.nodeType!==1&&Fe.nodeType!==9&&Fe.nodeType!==11)throw Error(t(299));return Ce(Be,Fe,null,Ie)},reactDom_production.flushSync=function(Be){var Fe=Se.T,Ie=_e.p;try{if(Se.T=null,_e.p=2,Be)return Be()}finally{Se.T=Fe,_e.p=Ie,_e.d.f()}},reactDom_production.preconnect=function(Be,Fe){typeof Be=="string"&&(Fe?(Fe=Fe.crossOrigin,Fe=typeof Fe=="string"?Fe==="use-credentials"?Fe:"":void 0):Fe=null,_e.d.C(Be,Fe))},reactDom_production.prefetchDNS=function(Be){typeof Be=="string"&&_e.d.D(Be)},reactDom_production.preinit=function(Be,Fe){if(typeof Be=="string"&&Fe&&typeof Fe.as=="string"){var Ie=Fe.as,Ue=Re(Ie,Fe.crossOrigin),ke=typeof Fe.integrity=="string"?Fe.integrity:void 0,Oe=typeof Fe.fetchPriority=="string"?Fe.fetchPriority:void 0;Ie==="style"?_e.d.S(Be,typeof Fe.precedence=="string"?Fe.precedence:void 0,{crossOrigin:Ue,integrity:ke,fetchPriority:Oe}):Ie==="script"&&_e.d.X(Be,{crossOrigin:Ue,integrity:ke,fetchPriority:Oe,nonce:typeof Fe.nonce=="string"?Fe.nonce:void 0})}},reactDom_production.preinitModule=function(Be,Fe){if(typeof Be=="string")if(typeof Fe=="object"&&Fe!==null){if(Fe.as==null||Fe.as==="script"){var Ie=Re(Fe.as,Fe.crossOrigin);_e.d.M(Be,{crossOrigin:Ie,integrity:typeof Fe.integrity=="string"?Fe.integrity:void 0,nonce:typeof Fe.nonce=="string"?Fe.nonce:void 0})}}else Fe==null&&_e.d.M(Be)},reactDom_production.preload=function(Be,Fe){if(typeof Be=="string"&&typeof Fe=="object"&&Fe!==null&&typeof Fe.as=="string"){var Ie=Fe.as,Ue=Re(Ie,Fe.crossOrigin);_e.d.L(Be,Ie,{crossOrigin:Ue,integrity:typeof Fe.integrity=="string"?Fe.integrity:void 0,nonce:typeof Fe.nonce=="string"?Fe.nonce:void 0,type:typeof Fe.type=="string"?Fe.type:void 0,fetchPriority:typeof Fe.fetchPriority=="string"?Fe.fetchPriority:void 0,referrerPolicy:typeof Fe.referrerPolicy=="string"?Fe.referrerPolicy:void 0,imageSrcSet:typeof Fe.imageSrcSet=="string"?Fe.imageSrcSet:void 0,imageSizes:typeof Fe.imageSizes=="string"?Fe.imageSizes:void 0,media:typeof Fe.media=="string"?Fe.media:void 0})}},reactDom_production.preloadModule=function(Be,Fe){if(typeof Be=="string")if(Fe){var Ie=Re(Fe.as,Fe.crossOrigin);_e.d.m(Be,{as:typeof Fe.as=="string"&&Fe.as!=="script"?Fe.as:void 0,crossOrigin:Ie,integrity:typeof Fe.integrity=="string"?Fe.integrity:void 0})}else _e.d.m(Be)},reactDom_production.requestFormReset=function(Be){_e.d.r(Be)},reactDom_production.unstable_batchedUpdates=function(Be,Fe){return Be(Fe)},reactDom_production.useFormState=function(Be,Fe,Ie){return Se.H.useFormState(Be,Fe,Ie)},reactDom_production.useFormStatus=function(){return Se.H.useHostTransitionStatus()},reactDom_production.version="19.1.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function Ee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ee)}catch(t){console.error(t)}}return Ee(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var Ee=requireScheduler(),t=requireReact(),Ae=requireReactDom();function _e(Te){var Pe="https://react.dev/errors/"+Te;if(1<arguments.length){Pe+="?args[]="+encodeURIComponent(arguments[1]);for(var De=2;De<arguments.length;De++)Pe+="&args[]="+encodeURIComponent(arguments[De])}return"Minified React error #"+Te+"; visit "+Pe+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function xe(Te){return!(!Te||Te.nodeType!==1&&Te.nodeType!==9&&Te.nodeType!==11)}function Ce(Te){var Pe=Te,De=Te;if(Te.alternate)for(;Pe.return;)Pe=Pe.return;else{Te=Pe;do Pe=Te,(Pe.flags&4098)!==0&&(De=Pe.return),Te=Pe.return;while(Te)}return Pe.tag===3?De:null}function Se(Te){if(Te.tag===13){var Pe=Te.memoizedState;if(Pe===null&&(Te=Te.alternate,Te!==null&&(Pe=Te.memoizedState)),Pe!==null)return Pe.dehydrated}return null}function Re(Te){if(Ce(Te)!==Te)throw Error(_e(188))}function Be(Te){var Pe=Te.alternate;if(!Pe){if(Pe=Ce(Te),Pe===null)throw Error(_e(188));return Pe!==Te?null:Te}for(var De=Te,Me=Pe;;){var Ye=De.return;if(Ye===null)break;var Ar=Ye.alternate;if(Ar===null){if(Me=Ye.return,Me!==null){De=Me;continue}break}if(Ye.child===Ar.child){for(Ar=Ye.child;Ar;){if(Ar===De)return Re(Ye),Te;if(Ar===Me)return Re(Ye),Pe;Ar=Ar.sibling}throw Error(_e(188))}if(De.return!==Me.return)De=Ye,Me=Ar;else{for(var Ur=!1,Wr=Ye.child;Wr;){if(Wr===De){Ur=!0,De=Ye,Me=Ar;break}if(Wr===Me){Ur=!0,Me=Ye,De=Ar;break}Wr=Wr.sibling}if(!Ur){for(Wr=Ar.child;Wr;){if(Wr===De){Ur=!0,De=Ar,Me=Ye;break}if(Wr===Me){Ur=!0,Me=Ar,De=Ye;break}Wr=Wr.sibling}if(!Ur)throw Error(_e(189))}}if(De.alternate!==Me)throw Error(_e(190))}if(De.tag!==3)throw Error(_e(188));return De.stateNode.current===De?Te:Pe}function Fe(Te){var Pe=Te.tag;if(Pe===5||Pe===26||Pe===27||Pe===6)return Te;for(Te=Te.child;Te!==null;){if(Pe=Fe(Te),Pe!==null)return Pe;Te=Te.sibling}return null}var Ie=Object.assign,Ue=Symbol.for("react.element"),ke=Symbol.for("react.transitional.element"),Oe=Symbol.for("react.portal"),je=Symbol.for("react.fragment"),Ke=Symbol.for("react.strict_mode"),ze=Symbol.for("react.profiler"),Ve=Symbol.for("react.provider"),Xe=Symbol.for("react.consumer"),ir=Symbol.for("react.context"),sr=Symbol.for("react.forward_ref"),rr=Symbol.for("react.suspense"),nr=Symbol.for("react.suspense_list"),We=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),Ze=Symbol.for("react.activity"),or=Symbol.for("react.memo_cache_sentinel"),He=Symbol.iterator;function Je(Te){return Te===null||typeof Te!="object"?null:(Te=He&&Te[He]||Te["@@iterator"],typeof Te=="function"?Te:null)}var $e=Symbol.for("react.client.reference");function mr(Te){if(Te==null)return null;if(typeof Te=="function")return Te.$$typeof===$e?null:Te.displayName||Te.name||null;if(typeof Te=="string")return Te;switch(Te){case je:return"Fragment";case ze:return"Profiler";case Ke:return"StrictMode";case rr:return"Suspense";case nr:return"SuspenseList";case Ze:return"Activity"}if(typeof Te=="object")switch(Te.$$typeof){case Oe:return"Portal";case ir:return(Te.displayName||"Context")+".Provider";case Xe:return(Te._context.displayName||"Context")+".Consumer";case sr:var Pe=Te.render;return Te=Te.displayName,Te||(Te=Pe.displayName||Pe.name||"",Te=Te!==""?"ForwardRef("+Te+")":"ForwardRef"),Te;case We:return Pe=Te.displayName||null,Pe!==null?Pe:mr(Te.type)||"Memo";case Ge:Pe=Te._payload,Te=Te._init;try{return mr(Te(Pe))}catch{}}return null}var wr=Array.isArray,vr=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ur=Ae.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Cr={pending:!1,data:null,method:null,action:null},_r=[],hr=-1;function Sr(Te){return{current:Te}}function ar(Te){0>hr||(Te.current=_r[hr],_r[hr]=null,hr--)}function tr(Te,Pe){hr++,_r[hr]=Te.current,Te.current=Pe}var lr=Sr(null),pr=Sr(null),Er=Sr(null),Rr=Sr(null);function Tr(Te,Pe){switch(tr(Er,Pe),tr(pr,Te),tr(lr,null),Pe.nodeType){case 9:case 11:Te=(Te=Pe.documentElement)&&(Te=Te.namespaceURI)?Dg(Te):0;break;default:if(Te=Pe.tagName,Pe=Pe.namespaceURI)Pe=Dg(Pe),Te=Ng(Pe,Te);else switch(Te){case"svg":Te=1;break;case"math":Te=2;break;default:Te=0}}ar(lr),tr(lr,Te)}function Ir(){ar(lr),ar(pr),ar(Er)}function Zr(Te){Te.memoizedState!==null&&tr(Rr,Te);var Pe=lr.current,De=Ng(Pe,Te.type);Pe!==De&&(tr(pr,Te),tr(lr,De))}function zr(Te){pr.current===Te&&(ar(lr),ar(pr)),Rr.current===Te&&(ar(Rr),Yu._currentValue=Cr)}var $r=Object.prototype.hasOwnProperty,vn=Ee.unstable_scheduleCallback,bn=Ee.unstable_cancelCallback,An=Ee.unstable_shouldYield,Fr=Ee.unstable_requestPaint,dn=Ee.unstable_now,Dr=Ee.unstable_getCurrentPriorityLevel,jr=Ee.unstable_ImmediatePriority,hn=Ee.unstable_UserBlockingPriority,pn=Ee.unstable_NormalPriority,xn=Ee.unstable_LowPriority,Dn=Ee.unstable_IdlePriority,On=Ee.log,yn=Ee.unstable_setDisableYieldValue,Gn=null,Qn=null;function di(Te){if(typeof On=="function"&&yn(Te),Qn&&typeof Qn.setStrictMode=="function")try{Qn.setStrictMode(Gn,Te)}catch{}}var ni=Math.clz32?Math.clz32:In,wi=Math.log,Nr=Math.LN2;function In(Te){return Te>>>=0,Te===0?32:31-(wi(Te)/Nr|0)|0}var Kn=256,si=4194304;function Kr(Te){var Pe=Te&42;if(Pe!==0)return Pe;switch(Te&-Te){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Te&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return Te&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return Te}}function Xr(Te,Pe,De){var Me=Te.pendingLanes;if(Me===0)return 0;var Ye=0,Ar=Te.suspendedLanes,Ur=Te.pingedLanes;Te=Te.warmLanes;var Wr=Me&134217727;return Wr!==0?(Me=Wr&~Ar,Me!==0?Ye=Kr(Me):(Ur&=Wr,Ur!==0?Ye=Kr(Ur):De||(De=Wr&~Te,De!==0&&(Ye=Kr(De))))):(Wr=Me&~Ar,Wr!==0?Ye=Kr(Wr):Ur!==0?Ye=Kr(Ur):De||(De=Me&~Te,De!==0&&(Ye=Kr(De)))),Ye===0?0:Pe!==0&&Pe!==Ye&&(Pe&Ar)===0&&(Ar=Ye&-Ye,De=Pe&-Pe,Ar>=De||Ar===32&&(De&4194048)!==0)?Pe:Ye}function br(Te,Pe){return(Te.pendingLanes&~(Te.suspendedLanes&~Te.pingedLanes)&Pe)===0}function Sn(Te,Pe){switch(Te){case 1:case 2:case 4:case 8:case 64:return Pe+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Pe+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(){var Te=Kn;return Kn<<=1,(Kn&4194048)===0&&(Kn=256),Te}function fr(){var Te=si;return si<<=1,(si&62914560)===0&&(si=4194304),Te}function Lr(Te){for(var Pe=[],De=0;31>De;De++)Pe.push(Te);return Pe}function un(Te,Pe){Te.pendingLanes|=Pe,Pe!==268435456&&(Te.suspendedLanes=0,Te.pingedLanes=0,Te.warmLanes=0)}function Pr(Te,Pe,De,Me,Ye,Ar){var Ur=Te.pendingLanes;Te.pendingLanes=De,Te.suspendedLanes=0,Te.pingedLanes=0,Te.warmLanes=0,Te.expiredLanes&=De,Te.entangledLanes&=De,Te.errorRecoveryDisabledLanes&=De,Te.shellSuspendCounter=0;var Wr=Te.entanglements,Cn=Te.expirationTimes,$n=Te.hiddenUpdates;for(De=Ur&~De;0<De;){var li=31-ni(De),mi=1<<li;Wr[li]=0,Cn[li]=-1;var ei=$n[li];if(ei!==null)for($n[li]=null,li=0;li<ei.length;li++){var ti=ei[li];ti!==null&&(ti.lane&=-536870913)}De&=~mi}Me!==0&&Yr(Te,Me,0),Ar!==0&&Ye===0&&Te.tag!==0&&(Te.suspendedLanes|=Ar&~(Ur&~Pe))}function Yr(Te,Pe,De){Te.pendingLanes|=Pe,Te.suspendedLanes&=~Pe;var Me=31-ni(Pe);Te.entangledLanes|=Pe,Te.entanglements[Me]=Te.entanglements[Me]|1073741824|De&4194090}function En(Te,Pe){var De=Te.entangledLanes|=Pe;for(Te=Te.entanglements;De;){var Me=31-ni(De),Ye=1<<Me;Ye&Pe|Te[Me]&Pe&&(Te[Me]|=Pe),De&=~Ye}}function Zn(Te){switch(Te){case 2:Te=1;break;case 8:Te=4;break;case 32:Te=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:Te=128;break;case 268435456:Te=134217728;break;default:Te=0}return Te}function Vr(Te){return Te&=-Te,2<Te?8<Te?(Te&134217727)!==0?32:268435456:8:2}function Mr(){var Te=ur.p;return Te!==0?Te:(Te=window.event,Te===void 0?32:$g(Te.type))}function gn(Te,Pe){var De=ur.p;try{return ur.p=Te,Pe()}finally{ur.p=De}}var wn=Math.random().toString(36).slice(2),Rn="__reactFiber$"+wn,Nn="__reactProps$"+wn,zn="__reactContainer$"+wn,ci="__reactEvents$"+wn,ui="__reactListeners$"+wn,oi="__reactHandles$"+wn,Bi="__reactResources$"+wn,fi="__reactMarker$"+wn;function yi(Te){delete Te[Rn],delete Te[Nn],delete Te[ci],delete Te[ui],delete Te[oi]}function bi(Te){var Pe=Te[Rn];if(Pe)return Pe;for(var De=Te.parentNode;De;){if(Pe=De[zn]||De[Rn]){if(De=Pe.alternate,Pe.child!==null||De!==null&&De.child!==null)for(Te=kg(Te);Te!==null;){if(De=Te[Rn])return De;Te=kg(Te)}return Pe}Te=De,De=Te.parentNode}return null}function Ci(Te){if(Te=Te[Rn]||Te[zn]){var Pe=Te.tag;if(Pe===5||Pe===6||Pe===13||Pe===26||Pe===27||Pe===3)return Te}return null}function Pi(Te){var Pe=Te.tag;if(Pe===5||Pe===26||Pe===27||Pe===6)return Te.stateNode;throw Error(_e(33))}function Ii(Te){var Pe=Te[Bi];return Pe||(Pe=Te[Bi]={hoistableStyles:new Map,hoistableScripts:new Map}),Pe}function Li(Te){Te[fi]=!0}var Zi=new Set,Ns={};function xs(Te,Pe){Rs(Te,Pe),Rs(Te+"Capture",Pe)}function Rs(Te,Pe){for(Ns[Te]=Pe,Te=0;Te<Pe.length;Te++)Zi.add(Pe[Te])}var Va=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yl={},Wo={};function PA(Te){return $r.call(Wo,Te)?!0:$r.call(Yl,Te)?!1:Va.test(Te)?Wo[Te]=!0:(Yl[Te]=!0,!1)}function Ua(Te,Pe,De){if(PA(Pe))if(De===null)Te.removeAttribute(Pe);else{switch(typeof De){case"undefined":case"function":case"symbol":Te.removeAttribute(Pe);return;case"boolean":var Me=Pe.toLowerCase().slice(0,5);if(Me!=="data-"&&Me!=="aria-"){Te.removeAttribute(Pe);return}}Te.setAttribute(Pe,""+De)}}function La(Te,Pe,De){if(De===null)Te.removeAttribute(Pe);else{switch(typeof De){case"undefined":case"function":case"symbol":case"boolean":Te.removeAttribute(Pe);return}Te.setAttribute(Pe,""+De)}}function Gs(Te,Pe,De,Me){if(Me===null)Te.removeAttribute(De);else{switch(typeof Me){case"undefined":case"function":case"symbol":case"boolean":Te.removeAttribute(De);return}Te.setAttributeNS(Pe,De,""+Me)}}var io,FA;function Qa(Te){if(io===void 0)try{throw Error()}catch(De){var Pe=De.stack.trim().match(/\n( *(at )?)/);io=Pe&&Pe[1]||"",FA=-1<De.stack.indexOf(`
    at`)?" (<anonymous>)":-1<De.stack.indexOf("@")?"@unknown:0:0":""}return`
`+io+Te+FA}var yl=!1;function so(Te,Pe){if(!Te||yl)return"";yl=!0;var De=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var Me={DetermineComponentFrameRoot:function(){try{if(Pe){var mi=function(){throw Error()};if(Object.defineProperty(mi.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mi,[])}catch(ti){var ei=ti}Reflect.construct(Te,[],mi)}else{try{mi.call()}catch(ti){ei=ti}Te.call(mi.prototype)}}else{try{throw Error()}catch(ti){ei=ti}(mi=Te())&&typeof mi.catch=="function"&&mi.catch(function(){})}}catch(ti){if(ti&&ei&&typeof ti.stack=="string")return[ti.stack,ei.stack]}return[null,null]}};Me.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Ye=Object.getOwnPropertyDescriptor(Me.DetermineComponentFrameRoot,"name");Ye&&Ye.configurable&&Object.defineProperty(Me.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Ar=Me.DetermineComponentFrameRoot(),Ur=Ar[0],Wr=Ar[1];if(Ur&&Wr){var Cn=Ur.split(`
`),$n=Wr.split(`
`);for(Ye=Me=0;Me<Cn.length&&!Cn[Me].includes("DetermineComponentFrameRoot");)Me++;for(;Ye<$n.length&&!$n[Ye].includes("DetermineComponentFrameRoot");)Ye++;if(Me===Cn.length||Ye===$n.length)for(Me=Cn.length-1,Ye=$n.length-1;1<=Me&&0<=Ye&&Cn[Me]!==$n[Ye];)Ye--;for(;1<=Me&&0<=Ye;Me--,Ye--)if(Cn[Me]!==$n[Ye]){if(Me!==1||Ye!==1)do if(Me--,Ye--,0>Ye||Cn[Me]!==$n[Ye]){var li=`
`+Cn[Me].replace(" at new "," at ");return Te.displayName&&li.includes("<anonymous>")&&(li=li.replace("<anonymous>",Te.displayName)),li}while(1<=Me&&0<=Ye);break}}}finally{yl=!1,Error.prepareStackTrace=De}return(De=Te?Te.displayName||Te.name:"")?Qa(De):""}function Jl(Te){switch(Te.tag){case 26:case 27:case 5:return Qa(Te.type);case 16:return Qa("Lazy");case 13:return Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 15:return so(Te.type,!1);case 11:return so(Te.type.render,!1);case 1:return so(Te.type,!0);case 31:return Qa("Activity");default:return""}}function Es(Te){try{var Pe="";do Pe+=Jl(Te),Te=Te.return;while(Te);return Pe}catch(De){return`
Error generating stack: `+De.message+`
`+De.stack}}function $s(Te){switch(typeof Te){case"bigint":case"boolean":case"number":case"string":case"undefined":return Te;case"object":return Te;default:return""}}function El(Te){var Pe=Te.type;return(Te=Te.nodeName)&&Te.toLowerCase()==="input"&&(Pe==="checkbox"||Pe==="radio")}function IA(Te){var Pe=El(Te)?"checked":"value",De=Object.getOwnPropertyDescriptor(Te.constructor.prototype,Pe),Me=""+Te[Pe];if(!Te.hasOwnProperty(Pe)&&typeof De<"u"&&typeof De.get=="function"&&typeof De.set=="function"){var Ye=De.get,Ar=De.set;return Object.defineProperty(Te,Pe,{configurable:!0,get:function(){return Ye.call(this)},set:function(Ur){Me=""+Ur,Ar.call(this,Ur)}}),Object.defineProperty(Te,Pe,{enumerable:De.enumerable}),{getValue:function(){return Me},setValue:function(Ur){Me=""+Ur},stopTracking:function(){Te._valueTracker=null,delete Te[Pe]}}}}function xo(Te){Te._valueTracker||(Te._valueTracker=IA(Te))}function Zl(Te){if(!Te)return!1;var Pe=Te._valueTracker;if(!Pe)return!0;var De=Pe.getValue(),Me="";return Te&&(Me=El(Te)?Te.checked?"true":"false":Te.value),Te=Me,Te!==De?(Pe.setValue(Te),!0):!1}function ia(Te){if(Te=Te||(typeof document<"u"?document:void 0),typeof Te>"u")return null;try{return Te.activeElement||Te.body}catch{return Te.body}}var _l=/[\n"\\]/g;function ts(Te){return Te.replace(_l,function(Pe){return"\\"+Pe.charCodeAt(0).toString(16)+" "})}function sa(Te,Pe,De,Me,Ye,Ar,Ur,Wr){Te.name="",Ur!=null&&typeof Ur!="function"&&typeof Ur!="symbol"&&typeof Ur!="boolean"?Te.type=Ur:Te.removeAttribute("type"),Pe!=null?Ur==="number"?(Pe===0&&Te.value===""||Te.value!=Pe)&&(Te.value=""+$s(Pe)):Te.value!==""+$s(Pe)&&(Te.value=""+$s(Pe)):Ur!=="submit"&&Ur!=="reset"||Te.removeAttribute("value"),Pe!=null?So(Te,Ur,$s(Pe)):De!=null?So(Te,Ur,$s(De)):Me!=null&&Te.removeAttribute("value"),Ye==null&&Ar!=null&&(Te.defaultChecked=!!Ar),Ye!=null&&(Te.checked=Ye&&typeof Ye!="function"&&typeof Ye!="symbol"),Wr!=null&&typeof Wr!="function"&&typeof Wr!="symbol"&&typeof Wr!="boolean"?Te.name=""+$s(Wr):Te.removeAttribute("name")}function Co(Te,Pe,De,Me,Ye,Ar,Ur,Wr){if(Ar!=null&&typeof Ar!="function"&&typeof Ar!="symbol"&&typeof Ar!="boolean"&&(Te.type=Ar),Pe!=null||De!=null){if(!(Ar!=="submit"&&Ar!=="reset"||Pe!=null))return;De=De!=null?""+$s(De):"",Pe=Pe!=null?""+$s(Pe):De,Wr||Pe===Te.value||(Te.value=Pe),Te.defaultValue=Pe}Me=Me??Ye,Me=typeof Me!="function"&&typeof Me!="symbol"&&!!Me,Te.checked=Wr?Te.checked:!!Me,Te.defaultChecked=!!Me,Ur!=null&&typeof Ur!="function"&&typeof Ur!="symbol"&&typeof Ur!="boolean"&&(Te.name=Ur)}function So(Te,Pe,De){Pe==="number"&&ia(Te.ownerDocument)===Te||Te.defaultValue===""+De||(Te.defaultValue=""+De)}function Ha(Te,Pe,De,Me){if(Te=Te.options,Pe){Pe={};for(var Ye=0;Ye<De.length;Ye++)Pe["$"+De[Ye]]=!0;for(De=0;De<Te.length;De++)Ye=Pe.hasOwnProperty("$"+Te[De].value),Te[De].selected!==Ye&&(Te[De].selected=Ye),Ye&&Me&&(Te[De].defaultSelected=!0)}else{for(De=""+$s(De),Pe=null,Ye=0;Ye<Te.length;Ye++){if(Te[Ye].value===De){Te[Ye].selected=!0,Me&&(Te[Ye].defaultSelected=!0);return}Pe!==null||Te[Ye].disabled||(Pe=Te[Ye])}Pe!==null&&(Pe.selected=!0)}}function os(Te,Pe,De){if(Pe!=null&&(Pe=""+$s(Pe),Pe!==Te.value&&(Te.value=Pe),De==null)){Te.defaultValue!==Pe&&(Te.defaultValue=Pe);return}Te.defaultValue=De!=null?""+$s(De):""}function To(Te,Pe,De,Me){if(Pe==null){if(Me!=null){if(De!=null)throw Error(_e(92));if(wr(Me)){if(1<Me.length)throw Error(_e(93));Me=Me[0]}De=Me}De==null&&(De=""),Pe=De}De=$s(Pe),Te.defaultValue=De,Me=Te.textContent,Me===De&&Me!==""&&Me!==null&&(Te.value=Me)}function Ca(Te,Pe){if(Pe){var De=Te.firstChild;if(De&&De===Te.lastChild&&De.nodeType===3){De.nodeValue=Pe;return}}Te.textContent=Pe}var ao=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function DA(Te,Pe,De){var Me=Pe.indexOf("--")===0;De==null||typeof De=="boolean"||De===""?Me?Te.setProperty(Pe,""):Pe==="float"?Te.cssFloat="":Te[Pe]="":Me?Te.setProperty(Pe,De):typeof De!="number"||De===0||ao.has(Pe)?Pe==="float"?Te.cssFloat=De:Te[Pe]=(""+De).trim():Te[Pe]=De+"px"}function $l(Te,Pe,De){if(Pe!=null&&typeof Pe!="object")throw Error(_e(62));if(Te=Te.style,De!=null){for(var Me in De)!De.hasOwnProperty(Me)||Pe!=null&&Pe.hasOwnProperty(Me)||(Me.indexOf("--")===0?Te.setProperty(Me,""):Me==="float"?Te.cssFloat="":Te[Me]="");for(var Ye in Pe)Me=Pe[Ye],Pe.hasOwnProperty(Ye)&&De[Ye]!==Me&&DA(Te,Ye,Me)}else for(var Ar in Pe)Pe.hasOwnProperty(Ar)&&DA(Te,Ar,Pe[Ar])}function eA(Te){if(Te.indexOf("-")===-1)return!1;switch(Te){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(Te){return bl.test(""+Te)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":Te}var Ka=null;function ps(Te){return Te=Te.target||Te.srcElement||window,Te.correspondingUseElement&&(Te=Te.correspondingUseElement),Te.nodeType===3?Te.parentNode:Te}var Ao=null,qa=null;function Oi(Te){var Pe=Ci(Te);if(Pe&&(Te=Pe.stateNode)){var De=Te[Nn]||null;e:switch(Te=Pe.stateNode,Pe.type){case"input":if(sa(Te,De.value,De.defaultValue,De.defaultValue,De.checked,De.defaultChecked,De.type,De.name),Pe=De.name,De.type==="radio"&&Pe!=null){for(De=Te;De.parentNode;)De=De.parentNode;for(De=De.querySelectorAll('input[name="'+ts(""+Pe)+'"][type="radio"]'),Pe=0;Pe<De.length;Pe++){var Me=De[Pe];if(Me!==Te&&Me.form===Te.form){var Ye=Me[Nn]||null;if(!Ye)throw Error(_e(90));sa(Me,Ye.value,Ye.defaultValue,Ye.defaultValue,Ye.checked,Ye.defaultChecked,Ye.type,Ye.name)}}for(Pe=0;Pe<De.length;Pe++)Me=De[Pe],Me.form===Te.form&&Zl(Me)}break e;case"textarea":os(Te,De.value,De.defaultValue);break e;case"select":Pe=De.value,Pe!=null&&Ha(Te,!!De.multiple,Pe,!1)}}}var Ga=!1;function NA(Te,Pe,De){if(Ga)return Te(Pe,De);Ga=!0;try{var Me=Te(Pe);return Me}finally{if(Ga=!1,(Ao!==null||qa!==null)&&(Mh(),Ao&&(Pe=Ao,Te=qa,qa=Ao=null,Oi(Pe),Te)))for(Pe=0;Pe<Te.length;Pe++)Oi(Te[Pe])}}function Aa(Te,Pe){var De=Te.stateNode;if(De===null)return null;var Me=De[Nn]||null;if(Me===null)return null;De=Me[Pe];e:switch(Pe){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Me=!Me.disabled)||(Te=Te.type,Me=!(Te==="button"||Te==="input"||Te==="select"||Te==="textarea")),Te=!Me;break e;default:Te=!1}if(Te)return null;if(De&&typeof De!="function")throw Error(_e(231,Pe,typeof De));return De}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if(Sa)try{var za={};Object.defineProperty(za,"passive",{get:function(){ma=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{ma=!1}var Ta=null,Ro=null,co=null;function tA(){if(co)return co;var Te,Pe=Ro,De=Pe.length,Me,Ye="value"in Ta?Ta.value:Ta.textContent,Ar=Ye.length;for(Te=0;Te<De&&Pe[Te]===Ye[Te];Te++);var Ur=De-Te;for(Me=1;Me<=Ur&&Pe[De-Me]===Ye[Ar-Me];Me++);return co=Ye.slice(Te,1<Me?1-Me:void 0)}function Ra(Te){var Pe=Te.keyCode;return"charCode"in Te?(Te=Te.charCode,Te===0&&Pe===13&&(Te=13)):Te=Pe,Te===10&&(Te=13),32<=Te||Te===13?Te:0}function ca(){return!0}function Wa(){return!1}function js(Te){function Pe(De,Me,Ye,Ar,Ur){this._reactName=De,this._targetInst=Ye,this.type=Me,this.nativeEvent=Ar,this.target=Ur,this.currentTarget=null;for(var Wr in Te)Te.hasOwnProperty(Wr)&&(De=Te[Wr],this[Wr]=De?De(Ar):Ar[Wr]);return this.isDefaultPrevented=(Ar.defaultPrevented!=null?Ar.defaultPrevented:Ar.returnValue===!1)?ca:Wa,this.isPropagationStopped=Wa,this}return Ie(Pe.prototype,{preventDefault:function(){this.defaultPrevented=!0;var De=this.nativeEvent;De&&(De.preventDefault?De.preventDefault():typeof De.returnValue!="unknown"&&(De.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var De=this.nativeEvent;De&&(De.stopPropagation?De.stopPropagation():typeof De.cancelBubble!="unknown"&&(De.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),Pe}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Te){return Te.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=js(Xi),Xa=Ie({},Xi,{view:0,detail:0}),rA=js(Xa),Xo,Yo,Oa,ua=Ie({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Do,button:0,buttons:0,relatedTarget:function(Te){return Te.relatedTarget===void 0?Te.fromElement===Te.srcElement?Te.toElement:Te.fromElement:Te.relatedTarget},movementX:function(Te){return"movementX"in Te?Te.movementX:(Te!==Oa&&(Oa&&Te.type==="mousemove"?(Xo=Te.screenX-Oa.screenX,Yo=Te.screenY-Oa.screenY):Yo=Xo=0,Oa=Te),Xo)},movementY:function(Te){return"movementY"in Te?Te.movementY:Yo}}),Vs=js(ua),UA=Ie({},ua,{dataTransfer:0}),Po=js(UA),aa=Ie({},Xa,{relatedTarget:0}),Fo=js(aa),uo=Ie({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),wl=js(uo),Jo=Ie({},Xi,{clipboardData:function(Te){return"clipboardData"in Te?Te.clipboardData:window.clipboardData}}),xl=js(Jo),nA=Ie({},Xi,{data:0}),Zo=js(nA),Io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(Te){var Pe=this.nativeEvent;return Pe.getModifierState?Pe.getModifierState(Te):(Te=Cl[Te])?!!Pe[Te]:!1}function Do(){return el}var LA=Ie({},Xa,{key:function(Te){if(Te.key){var Pe=Io[Te.key]||Te.key;if(Pe!=="Unidentified")return Pe}return Te.type==="keypress"?(Te=Ra(Te),Te===13?"Enter":String.fromCharCode(Te)):Te.type==="keydown"||Te.type==="keyup"?$o[Te.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Do,charCode:function(Te){return Te.type==="keypress"?Ra(Te):0},keyCode:function(Te){return Te.type==="keydown"||Te.type==="keyup"?Te.keyCode:0},which:function(Te){return Te.type==="keypress"?Ra(Te):Te.type==="keydown"||Te.type==="keyup"?Te.keyCode:0}}),ho=js(LA),No=Ie({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=js(No),ha=Ie({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Do}),Sl=js(ha),cr=Ie({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),kr=js(cr),mn=Ie({},ua,{deltaX:function(Te){return"deltaX"in Te?Te.deltaX:"wheelDeltaX"in Te?-Te.wheelDeltaX:0},deltaY:function(Te){return"deltaY"in Te?Te.deltaY:"wheelDeltaY"in Te?-Te.wheelDeltaY:"wheelDelta"in Te?-Te.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=js(mn),Mn=Ie({},Xi,{newState:0,oldState:0}),ii=js(Mn),Ei=[9,13,27,32],Si=Sa&&"CompositionEvent"in window,qe=null;Sa&&"documentMode"in document&&(qe=document.documentMode);var gr=Sa&&"TextEvent"in window&&!qe,Br=Sa&&(!Si||qe&&8<qe&&11>=qe),Gr=" ",kn=!1;function Jn(Te,Pe){switch(Te){case"keyup":return Ei.indexOf(Pe.keyCode)!==-1;case"keydown":return Pe.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _i(Te){return Te=Te.detail,typeof Te=="object"&&"data"in Te?Te.data:null}var ki=!1;function Yi(Te,Pe){switch(Te){case"compositionend":return _i(Pe);case"keypress":return Pe.which!==32?null:(kn=!0,Gr);case"textInput":return Te=Pe.data,Te===Gr&&kn?null:Te;default:return null}}function Hi(Te,Pe){if(ki)return Te==="compositionend"||!Si&&Jn(Te,Pe)?(Te=tA(),co=Ro=Ta=null,ki=!1,Te):null;switch(Te){case"paste":return null;case"keypress":if(!(Pe.ctrlKey||Pe.altKey||Pe.metaKey)||Pe.ctrlKey&&Pe.altKey){if(Pe.char&&1<Pe.char.length)return Pe.char;if(Pe.which)return String.fromCharCode(Pe.which)}return null;case"compositionend":return Br&&Pe.locale!=="ko"?null:Pe.data;default:return null}}var ls={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ds(Te){var Pe=Te&&Te.nodeName&&Te.nodeName.toLowerCase();return Pe==="input"?!!ls[Te.type]:Pe==="textarea"}function Ya(Te,Pe,De,Me){Ao?qa?qa.push(Me):qa=[Me]:Ao=Me,Pe=qh(Pe,"onChange"),0<Pe.length&&(De=new Bo("onChange","change",null,De,Me),Te.push({event:De,listeners:Pe}))}var Us=null,Ba=null;function Uo(Te){Rg(Te,0)}function Tl(Te){var Pe=Pi(Te);if(Zl(Pe))return Te}function OA(Te,Pe){if(Te==="change")return Pe}var iA=!1;if(Sa){var zs;if(Sa){var Rl="oninput"in document;if(!Rl){var sA=document.createElement("div");sA.setAttribute("oninput","return;"),Rl=typeof sA.oninput=="function"}zs=Rl}else zs=!1;iA=zs&&(!document.documentMode||9<document.documentMode)}function aA(){Us&&(Us.detachEvent("onpropertychange",kA),Ba=Us=null)}function kA(Te){if(Te.propertyName==="value"&&Tl(Ba)){var Pe=[];Ya(Pe,Ba,Te,ps(Te)),NA(Uo,Pe)}}function Pa(Te,Pe,De){Te==="focusin"?(aA(),Us=Pe,Ba=De,Us.attachEvent("onpropertychange",kA)):Te==="focusout"&&aA()}function mu(Te){if(Te==="selectionchange"||Te==="keyup"||Te==="keydown")return Tl(Ba)}function fc(Te,Pe){if(Te==="click")return Tl(Pe)}function Oc(Te,Pe){if(Te==="input"||Te==="change")return Tl(Pe)}function Ja(Te,Pe){return Te===Pe&&(Te!==0||1/Te===1/Pe)||Te!==Te&&Pe!==Pe}var ea=typeof Object.is=="function"?Object.is:Ja;function Bl(Te,Pe){if(ea(Te,Pe))return!0;if(typeof Te!="object"||Te===null||typeof Pe!="object"||Pe===null)return!1;var De=Object.keys(Te),Me=Object.keys(Pe);if(De.length!==Me.length)return!1;for(Me=0;Me<De.length;Me++){var Ye=De[Me];if(!$r.call(Pe,Ye)||!ea(Te[Ye],Pe[Ye]))return!1}return!0}function pc(Te){for(;Te&&Te.firstChild;)Te=Te.firstChild;return Te}function rl(Te,Pe){var De=pc(Te);Te=0;for(var Me;De;){if(De.nodeType===3){if(Me=Te+De.textContent.length,Te<=Pe&&Me>=Pe)return{node:De,offset:Pe-Te};Te=Me}e:{for(;De;){if(De.nextSibling){De=De.nextSibling;break e}De=De.parentNode}De=void 0}De=pc(De)}}function Pl(Te,Pe){return Te&&Pe?Te===Pe?!0:Te&&Te.nodeType===3?!1:Pe&&Pe.nodeType===3?Pl(Te,Pe.parentNode):"contains"in Te?Te.contains(Pe):Te.compareDocumentPosition?!!(Te.compareDocumentPosition(Pe)&16):!1:!1}function va(Te){Te=Te!=null&&Te.ownerDocument!=null&&Te.ownerDocument.defaultView!=null?Te.ownerDocument.defaultView:window;for(var Pe=ia(Te.document);Pe instanceof Te.HTMLIFrameElement;){try{var De=typeof Pe.contentWindow.location.href=="string"}catch{De=!1}if(De)Te=Pe.contentWindow;else break;Pe=ia(Te.document)}return Pe}function oa(Te){var Pe=Te&&Te.nodeName&&Te.nodeName.toLowerCase();return Pe&&(Pe==="input"&&(Te.type==="text"||Te.type==="search"||Te.type==="tel"||Te.type==="url"||Te.type==="password")||Pe==="textarea"||Te.contentEditable==="true")}var Fl=Sa&&"documentMode"in document&&11>=document.documentMode,Fa=null,fo=null,Lo=null,po=!1;function Ps(Te,Pe,De){var Me=De.window===De?De.document:De.nodeType===9?De:De.ownerDocument;po||Fa==null||Fa!==ia(Me)||(Me=Fa,"selectionStart"in Me&&oa(Me)?Me={start:Me.selectionStart,end:Me.selectionEnd}:(Me=(Me.ownerDocument&&Me.ownerDocument.defaultView||window).getSelection(),Me={anchorNode:Me.anchorNode,anchorOffset:Me.anchorOffset,focusNode:Me.focusNode,focusOffset:Me.focusOffset}),Lo&&Bl(Lo,Me)||(Lo=Me,Me=qh(fo,"onSelect"),0<Me.length&&(Pe=new Bo("onSelect","select",null,Pe,De),Te.push({event:Pe,listeners:Me}),Pe.target=Fa)))}function go(Te,Pe){var De={};return De[Te.toLowerCase()]=Pe.toLowerCase(),De["Webkit"+Te]="webkit"+Pe,De["Moz"+Te]="moz"+Pe,De}var Qs={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionrun:go("Transition","TransitionRun"),transitionstart:go("Transition","TransitionStart"),transitioncancel:go("Transition","TransitionCancel"),transitionend:go("Transition","TransitionEnd")},Ia={},oA={};Sa&&(oA=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function Oo(Te){if(Ia[Te])return Ia[Te];if(!Qs[Te])return Te;var Pe=Qs[Te],De;for(De in Pe)if(Pe.hasOwnProperty(De)&&De in oA)return Ia[Te]=Pe[De];return Te}var MA=Oo("animationend"),Il=Oo("animationiteration"),Dl=Oo("animationstart"),Nl=Oo("transitionrun"),lA=Oo("transitionstart"),jA=Oo("transitioncancel"),Ul=Oo("transitionend"),nl=new Map,AA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");AA.push("scrollEnd");function Fs(Te,Pe){nl.set(Te,Pe),xs(Pe,[Te])}var ka=new WeakMap;function zi(Te,Pe){if(typeof Te=="object"&&Te!==null){var De=ka.get(Te);return De!==void 0?De:(Pe={value:Te,source:Pe,stack:Es(Pe)},ka.set(Te,Pe),Pe)}return{value:Te,source:Pe,stack:Es(Pe)}}var Wi=[],_s=0,Ls=0;function Za(){for(var Te=_s,Pe=Ls=_s=0;Pe<Te;){var De=Wi[Pe];Wi[Pe++]=null;var Me=Wi[Pe];Wi[Pe++]=null;var Ye=Wi[Pe];Wi[Pe++]=null;var Ar=Wi[Pe];if(Wi[Pe++]=null,Me!==null&&Ye!==null){var Ur=Me.pending;Ur===null?Ye.next=Ye:(Ye.next=Ur.next,Ur.next=Ye),Me.pending=Ye}Ar!==0&&kc(De,Ye,Ar)}}function Ll(Te,Pe,De,Me){Wi[_s++]=Te,Wi[_s++]=Pe,Wi[_s++]=De,Wi[_s++]=Me,Ls|=Me,Te.lanes|=Me,Te=Te.alternate,Te!==null&&(Te.lanes|=Me)}function Ol(Te,Pe,De,Me){return Ll(Te,Pe,De,Me),cA(Te)}function il(Te,Pe){return Ll(Te,null,null,Pe),cA(Te)}function kc(Te,Pe,De){Te.lanes|=De;var Me=Te.alternate;Me!==null&&(Me.lanes|=De);for(var Ye=!1,Ar=Te.return;Ar!==null;)Ar.childLanes|=De,Me=Ar.alternate,Me!==null&&(Me.childLanes|=De),Ar.tag===22&&(Te=Ar.stateNode,Te===null||Te._visibility&1||(Ye=!0)),Te=Ar,Ar=Ar.return;return Te.tag===3?(Ar=Te.stateNode,Ye&&Pe!==null&&(Ye=31-ni(De),Te=Ar.hiddenUpdates,Me=Te[Ye],Me===null?Te[Ye]=[Pe]:Me.push(Pe),Pe.lane=De|536870912),Ar):null}function cA(Te){if(50<Qu)throw Qu=0,Jd=null,Error(_e(185));for(var Pe=Te.return;Pe!==null;)Te=Pe,Pe=Te.return;return Te.tag===3?Te.stateNode:null}var ta={};function $a(Te,Pe,De,Me){this.tag=Te,this.key=De,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=Pe,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Me,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(Te,Pe,De,Me){return new $a(Te,Pe,De,Me)}function VA(Te){return Te=Te.prototype,!(!Te||!Te.isReactComponent)}function ko(Te,Pe){var De=Te.alternate;return De===null?(De=da(Te.tag,Pe,Te.key,Te.mode),De.elementType=Te.elementType,De.type=Te.type,De.stateNode=Te.stateNode,De.alternate=Te,Te.alternate=De):(De.pendingProps=Pe,De.type=Te.type,De.flags=0,De.subtreeFlags=0,De.deletions=null),De.flags=Te.flags&65011712,De.childLanes=Te.childLanes,De.lanes=Te.lanes,De.child=Te.child,De.memoizedProps=Te.memoizedProps,De.memoizedState=Te.memoizedState,De.updateQueue=Te.updateQueue,Pe=Te.dependencies,De.dependencies=Pe===null?null:{lanes:Pe.lanes,firstContext:Pe.firstContext},De.sibling=Te.sibling,De.index=Te.index,De.ref=Te.ref,De.refCleanup=Te.refCleanup,De}function gc(Te,Pe){Te.flags&=65011714;var De=Te.alternate;return De===null?(Te.childLanes=0,Te.lanes=Pe,Te.child=null,Te.subtreeFlags=0,Te.memoizedProps=null,Te.memoizedState=null,Te.updateQueue=null,Te.dependencies=null,Te.stateNode=null):(Te.childLanes=De.childLanes,Te.lanes=De.lanes,Te.child=De.child,Te.subtreeFlags=0,Te.deletions=null,Te.memoizedProps=De.memoizedProps,Te.memoizedState=De.memoizedState,Te.updateQueue=De.updateQueue,Te.type=De.type,Pe=De.dependencies,Te.dependencies=Pe===null?null:{lanes:Pe.lanes,firstContext:Pe.firstContext}),Te}function uA(Te,Pe,De,Me,Ye,Ar){var Ur=0;if(Me=Te,typeof Te=="function")VA(Te)&&(Ur=1);else if(typeof Te=="string")Ur=B0(Te,De,lr.current)?26:Te==="html"||Te==="head"||Te==="body"?27:5;else e:switch(Te){case Ze:return Te=da(31,De,Pe,Ye),Te.elementType=Ze,Te.lanes=Ar,Te;case je:return sl(De.children,Ye,Ar,Pe);case Ke:Ur=8,Ye|=24;break;case ze:return Te=da(12,De,Pe,Ye|2),Te.elementType=ze,Te.lanes=Ar,Te;case rr:return Te=da(13,De,Pe,Ye),Te.elementType=rr,Te.lanes=Ar,Te;case nr:return Te=da(19,De,Pe,Ye),Te.elementType=nr,Te.lanes=Ar,Te;default:if(typeof Te=="object"&&Te!==null)switch(Te.$$typeof){case Ve:case ir:Ur=10;break e;case Xe:Ur=9;break e;case sr:Ur=11;break e;case We:Ur=14;break e;case Ge:Ur=16,Me=null;break e}Ur=29,De=Error(_e(130,Te===null?"null":typeof Te,"")),Me=null}return Pe=da(Ur,De,Pe,Ye),Pe.elementType=Te,Pe.type=Me,Pe.lanes=Ar,Pe}function sl(Te,Pe,De,Me){return Te=da(7,Te,Me,Pe),Te.lanes=De,Te}function Mc(Te,Pe,De){return Te=da(6,Te,null,Pe),Te.lanes=De,Te}function mc(Te,Pe,De){return Pe=da(4,Te.children!==null?Te.children:[],Te.key,Pe),Pe.lanes=De,Pe.stateNode={containerInfo:Te.containerInfo,pendingChildren:null,implementation:Te.implementation},Pe}var kl=[],al=0,QA=null,jc=0,eo=[],Ma=0,hA=null,ol=1,ll="";function dA(Te,Pe){kl[al++]=jc,kl[al++]=QA,QA=Te,jc=Pe}function Ah(Te,Pe,De){eo[Ma++]=ol,eo[Ma++]=ll,eo[Ma++]=hA,hA=Te;var Me=ol;Te=ll;var Ye=32-ni(Me)-1;Me&=~(1<<Ye),De+=1;var Ar=32-ni(Pe)+Ye;if(30<Ar){var Ur=Ye-Ye%5;Ar=(Me&(1<<Ur)-1).toString(32),Me>>=Ur,Ye-=Ur,ol=1<<32-ni(Pe)+Ye|De<<Ye|Me,ll=Ar+Te}else ol=1<<Ar|De<<Ye|Me,ll=Te}function vc(Te){Te.return!==null&&(dA(Te,1),Ah(Te,1,0))}function yc(Te){for(;Te===QA;)QA=kl[--al],kl[al]=null,jc=kl[--al],kl[al]=null;for(;Te===hA;)hA=eo[--Ma],eo[Ma]=null,ll=eo[--Ma],eo[Ma]=null,ol=eo[--Ma],eo[Ma]=null}var Ws=null,Is=null,as=!1,Ml=null,Mo=!1,vu=Error(_e(519));function fA(Te){var Pe=Error(_e(418,""));throw HA(zi(Pe,Te)),vu}function ch(Te){var Pe=Te.stateNode,De=Te.type,Me=Te.memoizedProps;switch(Pe[Rn]=Te,Pe[Nn]=Me,De){case"dialog":es("cancel",Pe),es("close",Pe);break;case"iframe":case"object":case"embed":es("load",Pe);break;case"video":case"audio":for(De=0;De<Ku.length;De++)es(Ku[De],Pe);break;case"source":es("error",Pe);break;case"img":case"image":case"link":es("error",Pe),es("load",Pe);break;case"details":es("toggle",Pe);break;case"input":es("invalid",Pe),Co(Pe,Me.value,Me.defaultValue,Me.checked,Me.defaultChecked,Me.type,Me.name,!0),xo(Pe);break;case"select":es("invalid",Pe);break;case"textarea":es("invalid",Pe),To(Pe,Me.value,Me.defaultValue,Me.children),xo(Pe)}De=Me.children,typeof De!="string"&&typeof De!="number"&&typeof De!="bigint"||Pe.textContent===""+De||Me.suppressHydrationWarning===!0||Ig(Pe.textContent,De)?(Me.popover!=null&&(es("beforetoggle",Pe),es("toggle",Pe)),Me.onScroll!=null&&es("scroll",Pe),Me.onScrollEnd!=null&&es("scrollend",Pe),Me.onClick!=null&&(Pe.onclick=Gh),Pe=!0):Pe=!1,Pe||fA(Te)}function Al(Te){for(Ws=Te.return;Ws;)switch(Ws.tag){case 5:case 13:Mo=!1;return;case 27:case 3:Mo=!0;return;default:Ws=Ws.return}}function ya(Te){if(Te!==Ws)return!1;if(!as)return Al(Te),as=!0,!1;var Pe=Te.tag,De;if((De=Pe!==3&&Pe!==27)&&((De=Pe===5)&&(De=Te.type,De=!(De!=="form"&&De!=="button")||ff(Te.type,Te.memoizedProps)),De=!De),De&&Is&&fA(Te),Al(Te),Pe===13){if(Te=Te.memoizedState,Te=Te!==null?Te.dehydrated:null,!Te)throw Error(_e(317));e:{for(Te=Te.nextSibling,Pe=0;Te;){if(Te.nodeType===8)if(De=Te.data,De==="/$"){if(Pe===0){Is=vl(Te.nextSibling);break e}Pe--}else De!=="$"&&De!=="$!"&&De!=="$?"||Pe++;Te=Te.nextSibling}Is=null}}else Pe===27?(Pe=Is,oc(Te.type)?(Te=vf,vf=null,Is=Te):Is=Pe):Is=Ws?vl(Te.stateNode.nextSibling):null;return!0}function ja(){Is=Ws=null,as=!1}function uh(){var Te=Ml;return Te!==null&&(no===null?no=Te:no.push.apply(no,Te),Ml=null),Te}function HA(Te){Ml===null?Ml=[Te]:Ml.push(Te)}var jo=Sr(null),ra=null,cl=null;function jl(Te,Pe,De){tr(jo,Pe._currentValue),Pe._currentValue=De}function Vo(Te){Te._currentValue=jo.current,ar(jo)}function Vc(Te,Pe,De){for(;Te!==null;){var Me=Te.alternate;if((Te.childLanes&Pe)!==Pe?(Te.childLanes|=Pe,Me!==null&&(Me.childLanes|=Pe)):Me!==null&&(Me.childLanes&Pe)!==Pe&&(Me.childLanes|=Pe),Te===De)break;Te=Te.return}}function Qc(Te,Pe,De,Me){var Ye=Te.child;for(Ye!==null&&(Ye.return=Te);Ye!==null;){var Ar=Ye.dependencies;if(Ar!==null){var Ur=Ye.child;Ar=Ar.firstContext;e:for(;Ar!==null;){var Wr=Ar;Ar=Ye;for(var Cn=0;Cn<Pe.length;Cn++)if(Wr.context===Pe[Cn]){Ar.lanes|=De,Wr=Ar.alternate,Wr!==null&&(Wr.lanes|=De),Vc(Ar.return,De,Te),Me||(Ur=null);break e}Ar=Wr.next}}else if(Ye.tag===18){if(Ur=Ye.return,Ur===null)throw Error(_e(341));Ur.lanes|=De,Ar=Ur.alternate,Ar!==null&&(Ar.lanes|=De),Vc(Ur,De,Te),Ur=null}else Ur=Ye.child;if(Ur!==null)Ur.return=Ye;else for(Ur=Ye;Ur!==null;){if(Ur===Te){Ur=null;break}if(Ye=Ur.sibling,Ye!==null){Ye.return=Ur.return,Ur=Ye;break}Ur=Ur.return}Ye=Ur}}function KA(Te,Pe,De,Me){Te=null;for(var Ye=Pe,Ar=!1;Ye!==null;){if(!Ar){if((Ye.flags&524288)!==0)Ar=!0;else if((Ye.flags&262144)!==0)break}if(Ye.tag===10){var Ur=Ye.alternate;if(Ur===null)throw Error(_e(387));if(Ur=Ur.memoizedProps,Ur!==null){var Wr=Ye.type;ea(Ye.pendingProps.value,Ur.value)||(Te!==null?Te.push(Wr):Te=[Wr])}}else if(Ye===Rr.current){if(Ur=Ye.alternate,Ur===null)throw Error(_e(387));Ur.memoizedState.memoizedState!==Ye.memoizedState.memoizedState&&(Te!==null?Te.push(Yu):Te=[Yu])}Ye=Ye.return}Te!==null&&Qc(Pe,Te,De,Me),Pe.flags|=262144}function Hc(Te){for(Te=Te.firstContext;Te!==null;){if(!ea(Te.context._currentValue,Te.memoizedValue))return!0;Te=Te.next}return!1}function Qo(Te){ra=Te,cl=null,Te=Te.dependencies,Te!==null&&(Te.firstContext=null)}function Xs(Te){return Kc(ra,Te)}function Vl(Te,Pe){return ra===null&&Qo(Te),Kc(Te,Pe)}function Kc(Te,Pe){var De=Pe._currentValue;if(Pe={context:Pe,memoizedValue:De,next:null},cl===null){if(Te===null)throw Error(_e(308));cl=Pe,Te.dependencies={lanes:0,firstContext:Pe},Te.flags|=524288}else cl=cl.next=Pe;return De}var bd=typeof AbortController<"u"?AbortController:function(){var Te=[],Pe=this.signal={aborted:!1,addEventListener:function(De,Me){Te.push(Me)}};this.abort=function(){Pe.aborted=!0,Te.forEach(function(De){return De()})}},hh=Ee.unstable_scheduleCallback,wd=Ee.unstable_NormalPriority,Ys={$$typeof:ir,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yu(){return{controller:new bd,data:new Map,refCount:0}}function Ec(Te){Te.refCount--,Te.refCount===0&&hh(wd,function(){Te.controller.abort()})}var _c=null,Eu=0,pA=0,ul=null;function xd(Te,Pe){if(_c===null){var De=_c=[];Eu=0,pA=sf(),ul={status:"pending",value:void 0,then:function(Me){De.push(Me)}}}return Eu++,Pe.then(dh,dh),Pe}function dh(){if(--Eu===0&&_c!==null){ul!==null&&(ul.status="fulfilled");var Te=_c;_c=null,pA=0,ul=null;for(var Pe=0;Pe<Te.length;Pe++)(0,Te[Pe])()}}function fh(Te,Pe){var De=[],Me={status:"pending",value:null,reason:null,then:function(Ye){De.push(Ye)}};return Te.then(function(){Me.status="fulfilled",Me.value=Pe;for(var Ye=0;Ye<De.length;Ye++)(0,De[Ye])(Pe)},function(Ye){for(Me.status="rejected",Me.reason=Ye,Ye=0;Ye<De.length;Ye++)(0,De[Ye])(void 0)}),Me}var Qe=vr.S;vr.S=function(Te,Pe){typeof Pe=="object"&&Pe!==null&&typeof Pe.then=="function"&&xd(Te,Pe),Qe!==null&&Qe(Te,Pe)};var er=Sr(null);function dr(){var Te=er.current;return Te!==null?Te:Ts.pooledCache}function xr(Te,Pe){Pe===null?tr(er,er.current):tr(er,Pe.pool)}function Or(){var Te=dr();return Te===null?null:{parent:Ys._currentValue,pool:Te}}var Qr=Error(_e(460)),Hr=Error(_e(474)),qr=Error(_e(542)),Jr={then:function(){}};function fn(Te){return Te=Te.status,Te==="fulfilled"||Te==="rejected"}function Pn(){}function Yn(Te,Pe,De){switch(De=Te[De],De===void 0?Te.push(Pe):De!==Pe&&(Pe.then(Pn,Pn),Pe=De),Pe.status){case"fulfilled":return Pe.value;case"rejected":throw Te=Pe.reason,pi(Te),Te;default:if(typeof Pe.status=="string")Pe.then(Pn,Pn);else{if(Te=Ts,Te!==null&&100<Te.shellSuspendCounter)throw Error(_e(482));Te=Pe,Te.status="pending",Te.then(function(Me){if(Pe.status==="pending"){var Ye=Pe;Ye.status="fulfilled",Ye.value=Me}},function(Me){if(Pe.status==="pending"){var Ye=Pe;Ye.status="rejected",Ye.reason=Me}})}switch(Pe.status){case"fulfilled":return Pe.value;case"rejected":throw Te=Pe.reason,pi(Te),Te}throw Wn=Pe,Qr}}var Wn=null;function jn(){if(Wn===null)throw Error(_e(459));var Te=Wn;return Wn=null,Te}function pi(Te){if(Te===Qr||Te===qr)throw Error(_e(483))}var ri=!1;function Fn(Te){Te.updateQueue={baseState:Te.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ln(Te,Pe){Te=Te.updateQueue,Pe.updateQueue===Te&&(Pe.updateQueue={baseState:Te.baseState,firstBaseUpdate:Te.firstBaseUpdate,lastBaseUpdate:Te.lastBaseUpdate,shared:Te.shared,callbacks:null})}function ai(Te){return{lane:Te,tag:0,payload:null,callback:null,next:null}}function gi(Te,Pe,De){var Me=Te.updateQueue;if(Me===null)return null;if(Me=Me.shared,(ms&2)!==0){var Ye=Me.pending;return Ye===null?Pe.next=Pe:(Pe.next=Ye.next,Ye.next=Pe),Me.pending=Pe,Pe=cA(Te),kc(Te,null,De),Pe}return Ll(Te,Me,Pe,De),cA(Te)}function Ai(Te,Pe,De){if(Pe=Pe.updateQueue,Pe!==null&&(Pe=Pe.shared,(De&4194048)!==0)){var Me=Pe.lanes;Me&=Te.pendingLanes,De|=Me,Pe.lanes=De,En(Te,De)}}function Ri(Te,Pe){var De=Te.updateQueue,Me=Te.alternate;if(Me!==null&&(Me=Me.updateQueue,De===Me)){var Ye=null,Ar=null;if(De=De.firstBaseUpdate,De!==null){do{var Ur={lane:De.lane,tag:De.tag,payload:De.payload,callback:null,next:null};Ar===null?Ye=Ar=Ur:Ar=Ar.next=Ur,De=De.next}while(De!==null);Ar===null?Ye=Ar=Pe:Ar=Ar.next=Pe}else Ye=Ar=Pe;De={baseState:Me.baseState,firstBaseUpdate:Ye,lastBaseUpdate:Ar,shared:Me.shared,callbacks:Me.callbacks},Te.updateQueue=De;return}Te=De.lastBaseUpdate,Te===null?De.firstBaseUpdate=Pe:Te.next=Pe,De.lastBaseUpdate=Pe}var xi=!1;function Di(){if(xi){var Te=ul;if(Te!==null)throw Te}}function Ti(Te,Pe,De,Me){xi=!1;var Ye=Te.updateQueue;ri=!1;var Ar=Ye.firstBaseUpdate,Ur=Ye.lastBaseUpdate,Wr=Ye.shared.pending;if(Wr!==null){Ye.shared.pending=null;var Cn=Wr,$n=Cn.next;Cn.next=null,Ur===null?Ar=$n:Ur.next=$n,Ur=Cn;var li=Te.alternate;li!==null&&(li=li.updateQueue,Wr=li.lastBaseUpdate,Wr!==Ur&&(Wr===null?li.firstBaseUpdate=$n:Wr.next=$n,li.lastBaseUpdate=Cn))}if(Ar!==null){var mi=Ye.baseState;Ur=0,li=$n=Cn=null,Wr=Ar;do{var ei=Wr.lane&-536870913,ti=ei!==Wr.lane;if(ti?(ss&ei)===ei:(Me&ei)===ei){ei!==0&&ei===pA&&(xi=!0),li!==null&&(li=li.next={lane:0,tag:Wr.tag,payload:Wr.payload,callback:null,next:null});e:{var Qi=Te,Mi=Wr;ei=Pe;var ws=De;switch(Mi.tag){case 1:if(Qi=Mi.payload,typeof Qi=="function"){mi=Qi.call(ws,mi,ei);break e}mi=Qi;break e;case 3:Qi.flags=Qi.flags&-65537|128;case 0:if(Qi=Mi.payload,ei=typeof Qi=="function"?Qi.call(ws,mi,ei):Qi,ei==null)break e;mi=Ie({},mi,ei);break e;case 2:ri=!0}}ei=Wr.callback,ei!==null&&(Te.flags|=64,ti&&(Te.flags|=8192),ti=Ye.callbacks,ti===null?Ye.callbacks=[ei]:ti.push(ei))}else ti={lane:ei,tag:Wr.tag,payload:Wr.payload,callback:Wr.callback,next:null},li===null?($n=li=ti,Cn=mi):li=li.next=ti,Ur|=ei;if(Wr=Wr.next,Wr===null){if(Wr=Ye.shared.pending,Wr===null)break;ti=Wr,Wr=ti.next,ti.next=null,Ye.lastBaseUpdate=ti,Ye.shared.pending=null}}while(!0);li===null&&(Cn=mi),Ye.baseState=Cn,Ye.firstBaseUpdate=$n,Ye.lastBaseUpdate=li,Ar===null&&(Ye.shared.lanes=0),nc|=Ur,Te.lanes=Ur,Te.memoizedState=mi}}function ns(Te,Pe){if(typeof Te!="function")throw Error(_e(191,Te));Te.call(Pe)}function As(Te,Pe){var De=Te.callbacks;if(De!==null)for(Te.callbacks=null,Te=0;Te<De.length;Te++)ns(De[Te],Pe)}var Gi=Sr(null),qi=Sr(0);function fs(Te,Pe){Te=CA,tr(qi,Te),tr(Gi,Pe),CA=Te|Pe.baseLanes}function cs(){tr(qi,CA),tr(Gi,Gi.current)}function Ki(){CA=qi.current,ar(Gi),ar(qi)}var gs=0,Ui=null,Vi=null,rs=null,is=!1,na=!1,Js=!1,Os=0,ks=0,Hs=null,to=0;function us(){throw Error(_e(321))}function Ks(Te,Pe){if(Pe===null)return!1;for(var De=0;De<Pe.length&&De<Te.length;De++)if(!ea(Te[De],Pe[De]))return!1;return!0}function mo(Te,Pe,De,Me,Ye,Ar){return gs=Ar,Ui=Pe,Pe.memoizedState=null,Pe.updateQueue=null,Pe.lanes=0,vr.H=Te===null||Te.memoizedState===null?hp:dp,Js=!1,Ar=De(Me,Ye),Js=!1,na&&(Ar=gA(Pe,De,Me,Ye)),Ql(Te),Ar}function Ql(Te){vr.H=Sh;var Pe=Vi!==null&&Vi.next!==null;if(gs=0,rs=Vi=Ui=null,is=!1,ks=0,Hs=null,Pe)throw Error(_e(300));Te===null||fa||(Te=Te.dependencies,Te!==null&&Hc(Te)&&(fa=!0))}function gA(Te,Pe,De,Me){Ui=Te;var Ye=0;do{if(na&&(Hs=null),ks=0,na=!1,25<=Ye)throw Error(_e(301));if(Ye+=1,rs=Vi=null,Te.updateQueue!=null){var Ar=Te.updateQueue;Ar.lastEffect=null,Ar.events=null,Ar.stores=null,Ar.memoCache!=null&&(Ar.memoCache.index=0)}vr.H=jm,Ar=Pe(De,Me)}while(na);return Ar}function Hl(){var Te=vr.H,Pe=Te.useState()[0];return Pe=typeof Pe.then=="function"?Kl(Pe):Pe,Te=Te.useState()[0],(Vi!==null?Vi.memoizedState:null)!==Te&&(Ui.flags|=1024),Pe}function Ss(){var Te=Os!==0;return Os=0,Te}function bc(Te,Pe,De){Pe.updateQueue=Te.updateQueue,Pe.flags&=-2053,Te.lanes&=~De}function qc(Te){if(is){for(Te=Te.memoizedState;Te!==null;){var Pe=Te.queue;Pe!==null&&(Pe.pending=null),Te=Te.next}is=!1}gs=0,rs=Vi=Ui=null,na=!1,ks=Os=0,Hs=null}function Ea(){var Te={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rs===null?Ui.memoizedState=rs=Te:rs=rs.next=Te,rs}function Bs(){if(Vi===null){var Te=Ui.alternate;Te=Te!==null?Te.memoizedState:null}else Te=Vi.next;var Pe=rs===null?Ui.memoizedState:rs.next;if(Pe!==null)rs=Pe,Vi=Te;else{if(Te===null)throw Ui.alternate===null?Error(_e(467)):Error(_e(310));Vi=Te,Te={memoizedState:Vi.memoizedState,baseState:Vi.baseState,baseQueue:Vi.baseQueue,queue:Vi.queue,next:null},rs===null?Ui.memoizedState=rs=Te:rs=rs.next=Te}return rs}function mA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(Te){var Pe=ks;return ks+=1,Hs===null&&(Hs=[]),Te=Yn(Hs,Te,Pe),Pe=Ui,(rs===null?Pe.memoizedState:rs.next)===null&&(Pe=Pe.alternate,vr.H=Pe===null||Pe.memoizedState===null?hp:dp),Te}function Da(Te){if(Te!==null&&typeof Te=="object"){if(typeof Te.then=="function")return Kl(Te);if(Te.$$typeof===ir)return Xs(Te)}throw Error(_e(438,String(Te)))}function ql(Te){var Pe=null,De=Ui.updateQueue;if(De!==null&&(Pe=De.memoCache),Pe==null){var Me=Ui.alternate;Me!==null&&(Me=Me.updateQueue,Me!==null&&(Me=Me.memoCache,Me!=null&&(Pe={data:Me.data.map(function(Ye){return Ye.slice()}),index:0})))}if(Pe==null&&(Pe={data:[],index:0}),De===null&&(De=mA(),Ui.updateQueue=De),De.memoCache=Pe,De=Pe.data[Pe.index],De===void 0)for(De=Pe.data[Pe.index]=Array(Te),Me=0;Me<Te;Me++)De[Me]=or;return Pe.index++,De}function Na(Te,Pe){return typeof Pe=="function"?Pe(Te):Pe}function wc(Te){var Pe=Bs();return qA(Pe,Vi,Te)}function qA(Te,Pe,De){var Me=Te.queue;if(Me===null)throw Error(_e(311));Me.lastRenderedReducer=De;var Ye=Te.baseQueue,Ar=Me.pending;if(Ar!==null){if(Ye!==null){var Ur=Ye.next;Ye.next=Ar.next,Ar.next=Ur}Pe.baseQueue=Ye=Ar,Me.pending=null}if(Ar=Te.baseState,Ye===null)Te.memoizedState=Ar;else{Pe=Ye.next;var Wr=Ur=null,Cn=null,$n=Pe,li=!1;do{var mi=$n.lane&-536870913;if(mi!==$n.lane?(ss&mi)===mi:(gs&mi)===mi){var ei=$n.revertLane;if(ei===0)Cn!==null&&(Cn=Cn.next={lane:0,revertLane:0,action:$n.action,hasEagerState:$n.hasEagerState,eagerState:$n.eagerState,next:null}),mi===pA&&(li=!0);else if((gs&ei)===ei){$n=$n.next,ei===pA&&(li=!0);continue}else mi={lane:0,revertLane:$n.revertLane,action:$n.action,hasEagerState:$n.hasEagerState,eagerState:$n.eagerState,next:null},Cn===null?(Wr=Cn=mi,Ur=Ar):Cn=Cn.next=mi,Ui.lanes|=ei,nc|=ei;mi=$n.action,Js&&De(Ar,mi),Ar=$n.hasEagerState?$n.eagerState:De(Ar,mi)}else ei={lane:mi,revertLane:$n.revertLane,action:$n.action,hasEagerState:$n.hasEagerState,eagerState:$n.eagerState,next:null},Cn===null?(Wr=Cn=ei,Ur=Ar):Cn=Cn.next=ei,Ui.lanes|=mi,nc|=mi;$n=$n.next}while($n!==null&&$n!==Pe);if(Cn===null?Ur=Ar:Cn.next=Wr,!ea(Ar,Te.memoizedState)&&(fa=!0,li&&(De=ul,De!==null)))throw De;Te.memoizedState=Ar,Te.baseState=Ur,Te.baseQueue=Cn,Me.lastRenderedState=Ar}return Ye===null&&(Me.lanes=0),[Te.memoizedState,Me.dispatch]}function Gc(Te){var Pe=Bs(),De=Pe.queue;if(De===null)throw Error(_e(311));De.lastRenderedReducer=Te;var Me=De.dispatch,Ye=De.pending,Ar=Pe.memoizedState;if(Ye!==null){De.pending=null;var Ur=Ye=Ye.next;do Ar=Te(Ar,Ur.action),Ur=Ur.next;while(Ur!==Ye);ea(Ar,Pe.memoizedState)||(fa=!0),Pe.memoizedState=Ar,Pe.baseQueue===null&&(Pe.baseState=Ar),De.lastRenderedState=Ar}return[Ar,Me]}function xc(Te,Pe,De){var Me=Ui,Ye=Bs(),Ar=as;if(Ar){if(De===void 0)throw Error(_e(407));De=De()}else De=Pe();var Ur=!ea((Vi||Ye).memoizedState,De);Ur&&(Ye.memoizedState=De,fa=!0),Ye=Ye.queue;var Wr=GA.bind(null,Me,Ye,Te);if(XA(2048,8,Wr,[Te]),Ye.getSnapshot!==Pe||Ur||rs!==null&&rs.memoizedState.tag&1){if(Me.flags|=2048,dl(9,Rc(),Cc.bind(null,Me,Ye,De,Pe),null),Ts===null)throw Error(_e(349));Ar||(gs&124)!==0||zc(Me,Pe,De)}return De}function zc(Te,Pe,De){Te.flags|=16384,Te={getSnapshot:Pe,value:De},Pe=Ui.updateQueue,Pe===null?(Pe=mA(),Ui.updateQueue=Pe,Pe.stores=[Te]):(De=Pe.stores,De===null?Pe.stores=[Te]:De.push(Te))}function Cc(Te,Pe,De,Me){Pe.value=De,Pe.getSnapshot=Me,ph(Pe)&&gh(Te)}function GA(Te,Pe,De){return De(function(){ph(Pe)&&gh(Te)})}function ph(Te){var Pe=Te.getSnapshot;Te=Te.value;try{var De=Pe();return!ea(Te,De)}catch{return!0}}function gh(Te){var Pe=il(Te,2);Pe!==null&&wo(Pe,Te,2)}function Sc(Te){var Pe=Ea();if(typeof Te=="function"){var De=Te;if(Te=De(),Js){di(!0);try{De()}finally{di(!1)}}}return Pe.memoizedState=Pe.baseState=Te,Pe.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:Te},Pe}function hl(Te,Pe,De,Me){return Te.baseState=De,qA(Te,Vi,typeof Me=="function"?Me:Na)}function Cd(Te,Pe,De,Me,Ye){if(Ch(Te))throw Error(_e(485));if(Te=Pe.action,Te!==null){var Ar={payload:Ye,action:Te,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ur){Ar.listeners.push(Ur)}};vr.T!==null?De(!0):Ar.isTransition=!1,Me(Ar),De=Pe.pending,De===null?(Ar.next=Pe.pending=Ar,mh(Pe,Ar)):(Ar.next=De.next,Pe.pending=De.next=Ar)}}function mh(Te,Pe){var De=Pe.action,Me=Pe.payload,Ye=Te.state;if(Pe.isTransition){var Ar=vr.T,Ur={};vr.T=Ur;try{var Wr=De(Ye,Me),Cn=vr.S;Cn!==null&&Cn(Ur,Wr),vh(Te,Pe,Wr)}catch($n){zA(Te,Pe,$n)}finally{vr.T=Ar}}else try{Ar=De(Ye,Me),vh(Te,Pe,Ar)}catch($n){zA(Te,Pe,$n)}}function vh(Te,Pe,De){De!==null&&typeof De=="object"&&typeof De.then=="function"?De.then(function(Me){_u(Te,Pe,Me)},function(Me){return zA(Te,Pe,Me)}):_u(Te,Pe,De)}function _u(Te,Pe,De){Pe.status="fulfilled",Pe.value=De,bu(Pe),Te.state=De,Pe=Te.pending,Pe!==null&&(De=Pe.next,De===Pe?Te.pending=null:(De=De.next,Pe.next=De,mh(Te,De)))}function zA(Te,Pe,De){var Me=Te.pending;if(Te.pending=null,Me!==null){Me=Me.next;do Pe.status="rejected",Pe.reason=De,bu(Pe),Pe=Pe.next;while(Pe!==Me)}Te.action=null}function bu(Te){Te=Te.listeners;for(var Pe=0;Pe<Te.length;Pe++)(0,Te[Pe])()}function wu(Te,Pe){return Pe}function Tc(Te,Pe){if(as){var De=Ts.formState;if(De!==null){e:{var Me=Ui;if(as){if(Is){t:{for(var Ye=Is,Ar=Mo;Ye.nodeType!==8;){if(!Ar){Ye=null;break t}if(Ye=vl(Ye.nextSibling),Ye===null){Ye=null;break t}}Ar=Ye.data,Ye=Ar==="F!"||Ar==="F"?Ye:null}if(Ye){Is=vl(Ye.nextSibling),Me=Ye.data==="F!";break e}}fA(Me)}Me=!1}Me&&(Pe=De[0])}}return De=Ea(),De.memoizedState=De.baseState=Pe,Me={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wu,lastRenderedState:Pe},De.queue=Me,De=Ap.bind(null,Ui,Me),Me.dispatch=De,Me=Sc(!1),Ar=Sd.bind(null,Ui,!1,Me.queue),Me=Ea(),Ye={state:Pe,dispatch:null,action:Te,pending:null},Me.queue=Ye,De=Cd.bind(null,Ui,Ye,Ar,De),Ye.dispatch=De,Me.memoizedState=Te,[Pe,De,!1]}function Wc(Te){var Pe=Bs();return WA(Pe,Vi,Te)}function WA(Te,Pe,De){if(Pe=qA(Te,Pe,wu)[0],Te=wc(Na)[0],typeof Pe=="object"&&Pe!==null&&typeof Pe.then=="function")try{var Me=Kl(Pe)}catch(Ur){throw Ur===Qr?qr:Ur}else Me=Pe;Pe=Bs();var Ye=Pe.queue,Ar=Ye.dispatch;return De!==Pe.memoizedState&&(Ui.flags|=2048,dl(9,Rc(),yh.bind(null,Ye,De),null)),[Me,Ar,Te]}function yh(Te,Pe){Te.action=Pe}function Eh(Te){var Pe=Bs(),De=Vi;if(De!==null)return WA(Pe,De,Te);Bs(),Pe=Pe.memoizedState,De=Bs();var Me=De.queue.dispatch;return De.memoizedState=Te,[Pe,Me,!1]}function dl(Te,Pe,De,Me){return Te={tag:Te,create:De,deps:Me,inst:Pe,next:null},Pe=Ui.updateQueue,Pe===null&&(Pe=mA(),Ui.updateQueue=Pe),De=Pe.lastEffect,De===null?Pe.lastEffect=Te.next=Te:(Me=De.next,De.next=Te,Te.next=Me,Pe.lastEffect=Te),Te}function Rc(){return{destroy:void 0,resource:void 0}}function Xc(){return Bs().memoizedState}function vo(Te,Pe,De,Me){var Ye=Ea();Me=Me===void 0?null:Me,Ui.flags|=Te,Ye.memoizedState=dl(1|Pe,Rc(),De,Me)}function XA(Te,Pe,De,Me){var Ye=Bs();Me=Me===void 0?null:Me;var Ar=Ye.memoizedState.inst;Vi!==null&&Me!==null&&Ks(Me,Vi.memoizedState.deps)?Ye.memoizedState=dl(Pe,Ar,De,Me):(Ui.flags|=Te,Ye.memoizedState=dl(1|Pe,Ar,De,Me))}function xu(Te,Pe){vo(8390656,8,Te,Pe)}function _h(Te,Pe){XA(2048,8,Te,Pe)}function Cu(Te,Pe){return XA(4,2,Te,Pe)}function vA(Te,Pe){return XA(4,4,Te,Pe)}function bh(Te,Pe){if(typeof Pe=="function"){Te=Te();var De=Pe(Te);return function(){typeof De=="function"?De():Pe(null)}}if(Pe!=null)return Te=Te(),Pe.current=Te,function(){Pe.current=null}}function Su(Te,Pe,De){De=De!=null?De.concat([Te]):null,XA(4,4,bh.bind(null,Pe,Te),De)}function Tu(){}function Ru(Te,Pe){var De=Bs();Pe=Pe===void 0?null:Pe;var Me=De.memoizedState;return Pe!==null&&Ks(Pe,Me[1])?Me[0]:(De.memoizedState=[Te,Pe],Te)}function wh(Te,Pe){var De=Bs();Pe=Pe===void 0?null:Pe;var Me=De.memoizedState;if(Pe!==null&&Ks(Pe,Me[1]))return Me[0];if(Me=Te(),Js){di(!0);try{Te()}finally{di(!1)}}return De.memoizedState=[Me,Pe],Me}function yA(Te,Pe,De){return De===void 0||(gs&1073741824)!==0?Te.memoizedState=Pe:(Te.memoizedState=De,Te=sg(),Ui.lanes|=Te,nc|=Te,De)}function Yc(Te,Pe,De,Me){return ea(De,Pe)?De:Gi.current!==null?(Te=yA(Te,De,Me),ea(Te,Pe)||(fa=!0),Te):(gs&42)===0?(fa=!0,Te.memoizedState=De):(Te=sg(),Ui.lanes|=Te,nc|=Te,Pe)}function Bc(Te,Pe,De,Me,Ye){var Ar=ur.p;ur.p=Ar!==0&&8>Ar?Ar:8;var Ur=vr.T,Wr={};vr.T=Wr,Sd(Te,!1,Pe,De);try{var Cn=Ye(),$n=vr.S;if($n!==null&&$n(Wr,Cn),Cn!==null&&typeof Cn=="object"&&typeof Cn.then=="function"){var li=fh(Cn,Me);Iu(Te,Pe,li,bo(Te))}else Iu(Te,Pe,Me,bo(Te))}catch(mi){Iu(Te,Pe,{then:function(){},status:"rejected",reason:mi},bo())}finally{ur.p=Ar,vr.T=Ur}}function pl(){}function Ho(Te,Pe,De,Me){if(Te.tag!==5)throw Error(_e(476));var Ye=gl(Te).queue;Bc(Te,Ye,Pe,Cr,De===null?pl:function(){return Pc(Te),De(Me)})}function gl(Te){var Pe=Te.memoizedState;if(Pe!==null)return Pe;Pe={memoizedState:Cr,baseState:Cr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:Cr},next:null};var De={};return Pe.next={memoizedState:De,baseState:De,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:De},next:null},Te.memoizedState=Pe,Te=Te.alternate,Te!==null&&(Te.memoizedState=Pe),Pe}function Pc(Te){var Pe=gl(Te).next.queue;Iu(Te,Pe,{},bo())}function Fc(){return Xs(Yu)}function Bu(){return Bs().memoizedState}function xh(){return Bs().memoizedState}function Pu(Te){for(var Pe=Te.return;Pe!==null;){switch(Pe.tag){case 24:case 3:var De=bo();Te=ai(De);var Me=gi(Pe,Te,De);Me!==null&&(wo(Me,Pe,De),Ai(Me,Pe,De)),Pe={cache:yu()},Te.payload=Pe;return}Pe=Pe.return}}function Fu(Te,Pe,De){var Me=bo();De={lane:Me,revertLane:0,action:De,hasEagerState:!1,eagerState:null,next:null},Ch(Te)?cp(Pe,De):(De=Ol(Te,Pe,De,Me),De!==null&&(wo(De,Te,Me),up(De,Pe,Me)))}function Ap(Te,Pe,De){var Me=bo();Iu(Te,Pe,De,Me)}function Iu(Te,Pe,De,Me){var Ye={lane:Me,revertLane:0,action:De,hasEagerState:!1,eagerState:null,next:null};if(Ch(Te))cp(Pe,Ye);else{var Ar=Te.alternate;if(Te.lanes===0&&(Ar===null||Ar.lanes===0)&&(Ar=Pe.lastRenderedReducer,Ar!==null))try{var Ur=Pe.lastRenderedState,Wr=Ar(Ur,De);if(Ye.hasEagerState=!0,Ye.eagerState=Wr,ea(Wr,Ur))return Ll(Te,Pe,Ye,0),Ts===null&&Za(),!1}catch{}finally{}if(De=Ol(Te,Pe,Ye,Me),De!==null)return wo(De,Te,Me),up(De,Pe,Me),!0}return!1}function Sd(Te,Pe,De,Me){if(Me={lane:2,revertLane:sf(),action:Me,hasEagerState:!1,eagerState:null,next:null},Ch(Te)){if(Pe)throw Error(_e(479))}else Pe=Ol(Te,De,Me,2),Pe!==null&&wo(Pe,Te,2)}function Ch(Te){var Pe=Te.alternate;return Te===Ui||Pe!==null&&Pe===Ui}function cp(Te,Pe){na=is=!0;var De=Te.pending;De===null?Pe.next=Pe:(Pe.next=De.next,De.next=Pe),Te.pending=Pe}function up(Te,Pe,De){if((De&4194048)!==0){var Me=Pe.lanes;Me&=Te.pendingLanes,De|=Me,Pe.lanes=De,En(Te,De)}}var Sh={readContext:Xs,use:Da,useCallback:us,useContext:us,useEffect:us,useImperativeHandle:us,useLayoutEffect:us,useInsertionEffect:us,useMemo:us,useReducer:us,useRef:us,useState:us,useDebugValue:us,useDeferredValue:us,useTransition:us,useSyncExternalStore:us,useId:us,useHostTransitionStatus:us,useFormState:us,useActionState:us,useOptimistic:us,useMemoCache:us,useCacheRefresh:us},hp={readContext:Xs,use:Da,useCallback:function(Te,Pe){return Ea().memoizedState=[Te,Pe===void 0?null:Pe],Te},useContext:Xs,useEffect:xu,useImperativeHandle:function(Te,Pe,De){De=De!=null?De.concat([Te]):null,vo(4194308,4,bh.bind(null,Pe,Te),De)},useLayoutEffect:function(Te,Pe){return vo(4194308,4,Te,Pe)},useInsertionEffect:function(Te,Pe){vo(4,2,Te,Pe)},useMemo:function(Te,Pe){var De=Ea();Pe=Pe===void 0?null:Pe;var Me=Te();if(Js){di(!0);try{Te()}finally{di(!1)}}return De.memoizedState=[Me,Pe],Me},useReducer:function(Te,Pe,De){var Me=Ea();if(De!==void 0){var Ye=De(Pe);if(Js){di(!0);try{De(Pe)}finally{di(!1)}}}else Ye=Pe;return Me.memoizedState=Me.baseState=Ye,Te={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Te,lastRenderedState:Ye},Me.queue=Te,Te=Te.dispatch=Fu.bind(null,Ui,Te),[Me.memoizedState,Te]},useRef:function(Te){var Pe=Ea();return Te={current:Te},Pe.memoizedState=Te},useState:function(Te){Te=Sc(Te);var Pe=Te.queue,De=Ap.bind(null,Ui,Pe);return Pe.dispatch=De,[Te.memoizedState,De]},useDebugValue:Tu,useDeferredValue:function(Te,Pe){var De=Ea();return yA(De,Te,Pe)},useTransition:function(){var Te=Sc(!1);return Te=Bc.bind(null,Ui,Te.queue,!0,!1),Ea().memoizedState=Te,[!1,Te]},useSyncExternalStore:function(Te,Pe,De){var Me=Ui,Ye=Ea();if(as){if(De===void 0)throw Error(_e(407));De=De()}else{if(De=Pe(),Ts===null)throw Error(_e(349));(ss&124)!==0||zc(Me,Pe,De)}Ye.memoizedState=De;var Ar={value:De,getSnapshot:Pe};return Ye.queue=Ar,xu(GA.bind(null,Me,Ar,Te),[Te]),Me.flags|=2048,dl(9,Rc(),Cc.bind(null,Me,Ar,De,Pe),null),De},useId:function(){var Te=Ea(),Pe=Ts.identifierPrefix;if(as){var De=ll,Me=ol;De=(Me&~(1<<32-ni(Me)-1)).toString(32)+De,Pe="«"+Pe+"R"+De,De=Os++,0<De&&(Pe+="H"+De.toString(32)),Pe+="»"}else De=to++,Pe="«"+Pe+"r"+De.toString(32)+"»";return Te.memoizedState=Pe},useHostTransitionStatus:Fc,useFormState:Tc,useActionState:Tc,useOptimistic:function(Te){var Pe=Ea();Pe.memoizedState=Pe.baseState=Te;var De={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return Pe.queue=De,Pe=Sd.bind(null,Ui,!0,De),De.dispatch=Pe,[Te,Pe]},useMemoCache:ql,useCacheRefresh:function(){return Ea().memoizedState=Pu.bind(null,Ui)}},dp={readContext:Xs,use:Da,useCallback:Ru,useContext:Xs,useEffect:_h,useImperativeHandle:Su,useInsertionEffect:Cu,useLayoutEffect:vA,useMemo:wh,useReducer:wc,useRef:Xc,useState:function(){return wc(Na)},useDebugValue:Tu,useDeferredValue:function(Te,Pe){var De=Bs();return Yc(De,Vi.memoizedState,Te,Pe)},useTransition:function(){var Te=wc(Na)[0],Pe=Bs().memoizedState;return[typeof Te=="boolean"?Te:Kl(Te),Pe]},useSyncExternalStore:xc,useId:Bu,useHostTransitionStatus:Fc,useFormState:Wc,useActionState:Wc,useOptimistic:function(Te,Pe){var De=Bs();return hl(De,Vi,Te,Pe)},useMemoCache:ql,useCacheRefresh:xh},jm={readContext:Xs,use:Da,useCallback:Ru,useContext:Xs,useEffect:_h,useImperativeHandle:Su,useInsertionEffect:Cu,useLayoutEffect:vA,useMemo:wh,useReducer:Gc,useRef:Xc,useState:function(){return Gc(Na)},useDebugValue:Tu,useDeferredValue:function(Te,Pe){var De=Bs();return Vi===null?yA(De,Te,Pe):Yc(De,Vi.memoizedState,Te,Pe)},useTransition:function(){var Te=Gc(Na)[0],Pe=Bs().memoizedState;return[typeof Te=="boolean"?Te:Kl(Te),Pe]},useSyncExternalStore:xc,useId:Bu,useHostTransitionStatus:Fc,useFormState:Eh,useActionState:Eh,useOptimistic:function(Te,Pe){var De=Bs();return Vi!==null?hl(De,Vi,Te,Pe):(De.baseState=Te,[Te,De.queue.dispatch])},useMemoCache:ql,useCacheRefresh:xh},Jc=null,Du=0;function Th(Te){var Pe=Du;return Du+=1,Jc===null&&(Jc=[]),Yn(Jc,Te,Pe)}function Nu(Te,Pe){Pe=Pe.props.ref,Te.ref=Pe!==void 0?Pe:null}function Rh(Te,Pe){throw Pe.$$typeof===Ue?Error(_e(525)):(Te=Object.prototype.toString.call(Pe),Error(_e(31,Te==="[object Object]"?"object with keys {"+Object.keys(Pe).join(", ")+"}":Te)))}function fp(Te){var Pe=Te._init;return Pe(Te._payload)}function pp(Te){function Pe(qn,Un){if(Te){var Xn=qn.deletions;Xn===null?(qn.deletions=[Un],qn.flags|=16):Xn.push(Un)}}function De(qn,Un){if(!Te)return null;for(;Un!==null;)Pe(qn,Un),Un=Un.sibling;return null}function Me(qn){for(var Un=new Map;qn!==null;)qn.key!==null?Un.set(qn.key,qn):Un.set(qn.index,qn),qn=qn.sibling;return Un}function Ye(qn,Un){return qn=ko(qn,Un),qn.index=0,qn.sibling=null,qn}function Ar(qn,Un,Xn){return qn.index=Xn,Te?(Xn=qn.alternate,Xn!==null?(Xn=Xn.index,Xn<Un?(qn.flags|=67108866,Un):Xn):(qn.flags|=67108866,Un)):(qn.flags|=1048576,Un)}function Ur(qn){return Te&&qn.alternate===null&&(qn.flags|=67108866),qn}function Wr(qn,Un,Xn,hi){return Un===null||Un.tag!==6?(Un=Mc(Xn,qn.mode,hi),Un.return=qn,Un):(Un=Ye(Un,Xn),Un.return=qn,Un)}function Cn(qn,Un,Xn,hi){var Fi=Xn.type;return Fi===je?li(qn,Un,Xn.props.children,hi,Xn.key):Un!==null&&(Un.elementType===Fi||typeof Fi=="object"&&Fi!==null&&Fi.$$typeof===Ge&&fp(Fi)===Un.type)?(Un=Ye(Un,Xn.props),Nu(Un,Xn),Un.return=qn,Un):(Un=uA(Xn.type,Xn.key,Xn.props,null,qn.mode,hi),Nu(Un,Xn),Un.return=qn,Un)}function $n(qn,Un,Xn,hi){return Un===null||Un.tag!==4||Un.stateNode.containerInfo!==Xn.containerInfo||Un.stateNode.implementation!==Xn.implementation?(Un=mc(Xn,qn.mode,hi),Un.return=qn,Un):(Un=Ye(Un,Xn.children||[]),Un.return=qn,Un)}function li(qn,Un,Xn,hi,Fi){return Un===null||Un.tag!==7?(Un=sl(Xn,qn.mode,hi,Fi),Un.return=qn,Un):(Un=Ye(Un,Xn),Un.return=qn,Un)}function mi(qn,Un,Xn){if(typeof Un=="string"&&Un!==""||typeof Un=="number"||typeof Un=="bigint")return Un=Mc(""+Un,qn.mode,Xn),Un.return=qn,Un;if(typeof Un=="object"&&Un!==null){switch(Un.$$typeof){case ke:return Xn=uA(Un.type,Un.key,Un.props,null,qn.mode,Xn),Nu(Xn,Un),Xn.return=qn,Xn;case Oe:return Un=mc(Un,qn.mode,Xn),Un.return=qn,Un;case Ge:var hi=Un._init;return Un=hi(Un._payload),mi(qn,Un,Xn)}if(wr(Un)||Je(Un))return Un=sl(Un,qn.mode,Xn,null),Un.return=qn,Un;if(typeof Un.then=="function")return mi(qn,Th(Un),Xn);if(Un.$$typeof===ir)return mi(qn,Vl(qn,Un),Xn);Rh(qn,Un)}return null}function ei(qn,Un,Xn,hi){var Fi=Un!==null?Un.key:null;if(typeof Xn=="string"&&Xn!==""||typeof Xn=="number"||typeof Xn=="bigint")return Fi!==null?null:Wr(qn,Un,""+Xn,hi);if(typeof Xn=="object"&&Xn!==null){switch(Xn.$$typeof){case ke:return Xn.key===Fi?Cn(qn,Un,Xn,hi):null;case Oe:return Xn.key===Fi?$n(qn,Un,Xn,hi):null;case Ge:return Fi=Xn._init,Xn=Fi(Xn._payload),ei(qn,Un,Xn,hi)}if(wr(Xn)||Je(Xn))return Fi!==null?null:li(qn,Un,Xn,hi,null);if(typeof Xn.then=="function")return ei(qn,Un,Th(Xn),hi);if(Xn.$$typeof===ir)return ei(qn,Un,Vl(qn,Xn),hi);Rh(qn,Xn)}return null}function ti(qn,Un,Xn,hi,Fi){if(typeof hi=="string"&&hi!==""||typeof hi=="number"||typeof hi=="bigint")return qn=qn.get(Xn)||null,Wr(Un,qn,""+hi,Fi);if(typeof hi=="object"&&hi!==null){switch(hi.$$typeof){case ke:return qn=qn.get(hi.key===null?Xn:hi.key)||null,Cn(Un,qn,hi,Fi);case Oe:return qn=qn.get(hi.key===null?Xn:hi.key)||null,$n(Un,qn,hi,Fi);case Ge:var Ji=hi._init;return hi=Ji(hi._payload),ti(qn,Un,Xn,hi,Fi)}if(wr(hi)||Je(hi))return qn=qn.get(Xn)||null,li(Un,qn,hi,Fi,null);if(typeof hi.then=="function")return ti(qn,Un,Xn,Th(hi),Fi);if(hi.$$typeof===ir)return ti(qn,Un,Xn,Vl(Un,hi),Fi);Rh(Un,hi)}return null}function Qi(qn,Un,Xn,hi){for(var Fi=null,Ji=null,Ni=Un,ji=Un=0,ga=null;Ni!==null&&ji<Xn.length;ji++){Ni.index>ji?(ga=Ni,Ni=null):ga=Ni.sibling;var hs=ei(qn,Ni,Xn[ji],hi);if(hs===null){Ni===null&&(Ni=ga);break}Te&&Ni&&hs.alternate===null&&Pe(qn,Ni),Un=Ar(hs,Un,ji),Ji===null?Fi=hs:Ji.sibling=hs,Ji=hs,Ni=ga}if(ji===Xn.length)return De(qn,Ni),as&&dA(qn,ji),Fi;if(Ni===null){for(;ji<Xn.length;ji++)Ni=mi(qn,Xn[ji],hi),Ni!==null&&(Un=Ar(Ni,Un,ji),Ji===null?Fi=Ni:Ji.sibling=Ni,Ji=Ni);return as&&dA(qn,ji),Fi}for(Ni=Me(Ni);ji<Xn.length;ji++)ga=ti(Ni,qn,ji,Xn[ji],hi),ga!==null&&(Te&&ga.alternate!==null&&Ni.delete(ga.key===null?ji:ga.key),Un=Ar(ga,Un,ji),Ji===null?Fi=ga:Ji.sibling=ga,Ji=ga);return Te&&Ni.forEach(function(dc){return Pe(qn,dc)}),as&&dA(qn,ji),Fi}function Mi(qn,Un,Xn,hi){if(Xn==null)throw Error(_e(151));for(var Fi=null,Ji=null,Ni=Un,ji=Un=0,ga=null,hs=Xn.next();Ni!==null&&!hs.done;ji++,hs=Xn.next()){Ni.index>ji?(ga=Ni,Ni=null):ga=Ni.sibling;var dc=ei(qn,Ni,hs.value,hi);if(dc===null){Ni===null&&(Ni=ga);break}Te&&Ni&&dc.alternate===null&&Pe(qn,Ni),Un=Ar(dc,Un,ji),Ji===null?Fi=dc:Ji.sibling=dc,Ji=dc,Ni=ga}if(hs.done)return De(qn,Ni),as&&dA(qn,ji),Fi;if(Ni===null){for(;!hs.done;ji++,hs=Xn.next())hs=mi(qn,hs.value,hi),hs!==null&&(Un=Ar(hs,Un,ji),Ji===null?Fi=hs:Ji.sibling=hs,Ji=hs);return as&&dA(qn,ji),Fi}for(Ni=Me(Ni);!hs.done;ji++,hs=Xn.next())hs=ti(Ni,qn,ji,hs.value,hi),hs!==null&&(Te&&hs.alternate!==null&&Ni.delete(hs.key===null?ji:hs.key),Un=Ar(hs,Un,ji),Ji===null?Fi=hs:Ji.sibling=hs,Ji=hs);return Te&&Ni.forEach(function(V0){return Pe(qn,V0)}),as&&dA(qn,ji),Fi}function ws(qn,Un,Xn,hi){if(typeof Xn=="object"&&Xn!==null&&Xn.type===je&&Xn.key===null&&(Xn=Xn.props.children),typeof Xn=="object"&&Xn!==null){switch(Xn.$$typeof){case ke:e:{for(var Fi=Xn.key;Un!==null;){if(Un.key===Fi){if(Fi=Xn.type,Fi===je){if(Un.tag===7){De(qn,Un.sibling),hi=Ye(Un,Xn.props.children),hi.return=qn,qn=hi;break e}}else if(Un.elementType===Fi||typeof Fi=="object"&&Fi!==null&&Fi.$$typeof===Ge&&fp(Fi)===Un.type){De(qn,Un.sibling),hi=Ye(Un,Xn.props),Nu(hi,Xn),hi.return=qn,qn=hi;break e}De(qn,Un);break}else Pe(qn,Un);Un=Un.sibling}Xn.type===je?(hi=sl(Xn.props.children,qn.mode,hi,Xn.key),hi.return=qn,qn=hi):(hi=uA(Xn.type,Xn.key,Xn.props,null,qn.mode,hi),Nu(hi,Xn),hi.return=qn,qn=hi)}return Ur(qn);case Oe:e:{for(Fi=Xn.key;Un!==null;){if(Un.key===Fi)if(Un.tag===4&&Un.stateNode.containerInfo===Xn.containerInfo&&Un.stateNode.implementation===Xn.implementation){De(qn,Un.sibling),hi=Ye(Un,Xn.children||[]),hi.return=qn,qn=hi;break e}else{De(qn,Un);break}else Pe(qn,Un);Un=Un.sibling}hi=mc(Xn,qn.mode,hi),hi.return=qn,qn=hi}return Ur(qn);case Ge:return Fi=Xn._init,Xn=Fi(Xn._payload),ws(qn,Un,Xn,hi)}if(wr(Xn))return Qi(qn,Un,Xn,hi);if(Je(Xn)){if(Fi=Je(Xn),typeof Fi!="function")throw Error(_e(150));return Xn=Fi.call(Xn),Mi(qn,Un,Xn,hi)}if(typeof Xn.then=="function")return ws(qn,Un,Th(Xn),hi);if(Xn.$$typeof===ir)return ws(qn,Un,Vl(qn,Xn),hi);Rh(qn,Xn)}return typeof Xn=="string"&&Xn!==""||typeof Xn=="number"||typeof Xn=="bigint"?(Xn=""+Xn,Un!==null&&Un.tag===6?(De(qn,Un.sibling),hi=Ye(Un,Xn),hi.return=qn,qn=hi):(De(qn,Un),hi=Mc(Xn,qn.mode,hi),hi.return=qn,qn=hi),Ur(qn)):De(qn,Un)}return function(qn,Un,Xn,hi){try{Du=0;var Fi=ws(qn,Un,Xn,hi);return Jc=null,Fi}catch(Ni){if(Ni===Qr||Ni===qr)throw Ni;var Ji=da(29,Ni,null,qn.mode);return Ji.lanes=hi,Ji.return=qn,Ji}finally{}}}var Zc=pp(!0),gp=pp(!1),Ko=Sr(null),Gl=null;function YA(Te){var Pe=Te.alternate;tr(la,la.current&1),tr(Ko,Te),Gl===null&&(Pe===null||Gi.current!==null||Pe.memoizedState!==null)&&(Gl=Te)}function mp(Te){if(Te.tag===22){if(tr(la,la.current),tr(Ko,Te),Gl===null){var Pe=Te.alternate;Pe!==null&&Pe.memoizedState!==null&&(Gl=Te)}}else JA()}function JA(){tr(la,la.current),tr(Ko,Ko.current)}function EA(Te){ar(Ko),Gl===Te&&(Gl=null),ar(la)}var la=Sr(0);function Bh(Te){for(var Pe=Te;Pe!==null;){if(Pe.tag===13){var De=Pe.memoizedState;if(De!==null&&(De=De.dehydrated,De===null||De.data==="$?"||mf(De)))return Pe}else if(Pe.tag===19&&Pe.memoizedProps.revealOrder!==void 0){if((Pe.flags&128)!==0)return Pe}else if(Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===Te)break;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===Te)return null;Pe=Pe.return}Pe.sibling.return=Pe.return,Pe=Pe.sibling}return null}function Td(Te,Pe,De,Me){Pe=Te.memoizedState,De=De(Me,Pe),De=De==null?Pe:Ie({},Pe,De),Te.memoizedState=De,Te.lanes===0&&(Te.updateQueue.baseState=De)}var Rd={enqueueSetState:function(Te,Pe,De){Te=Te._reactInternals;var Me=bo(),Ye=ai(Me);Ye.payload=Pe,De!=null&&(Ye.callback=De),Pe=gi(Te,Ye,Me),Pe!==null&&(wo(Pe,Te,Me),Ai(Pe,Te,Me))},enqueueReplaceState:function(Te,Pe,De){Te=Te._reactInternals;var Me=bo(),Ye=ai(Me);Ye.tag=1,Ye.payload=Pe,De!=null&&(Ye.callback=De),Pe=gi(Te,Ye,Me),Pe!==null&&(wo(Pe,Te,Me),Ai(Pe,Te,Me))},enqueueForceUpdate:function(Te,Pe){Te=Te._reactInternals;var De=bo(),Me=ai(De);Me.tag=2,Pe!=null&&(Me.callback=Pe),Pe=gi(Te,Me,De),Pe!==null&&(wo(Pe,Te,De),Ai(Pe,Te,De))}};function vp(Te,Pe,De,Me,Ye,Ar,Ur){return Te=Te.stateNode,typeof Te.shouldComponentUpdate=="function"?Te.shouldComponentUpdate(Me,Ar,Ur):Pe.prototype&&Pe.prototype.isPureReactComponent?!Bl(De,Me)||!Bl(Ye,Ar):!0}function yp(Te,Pe,De,Me){Te=Pe.state,typeof Pe.componentWillReceiveProps=="function"&&Pe.componentWillReceiveProps(De,Me),typeof Pe.UNSAFE_componentWillReceiveProps=="function"&&Pe.UNSAFE_componentWillReceiveProps(De,Me),Pe.state!==Te&&Rd.enqueueReplaceState(Pe,Pe.state,null)}function Ic(Te,Pe){var De=Pe;if("ref"in Pe){De={};for(var Me in Pe)Me!=="ref"&&(De[Me]=Pe[Me])}if(Te=Te.defaultProps){De===Pe&&(De=Ie({},De));for(var Ye in Te)De[Ye]===void 0&&(De[Ye]=Te[Ye])}return De}var Ph=typeof reportError=="function"?reportError:function(Te){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Pe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Te=="object"&&Te!==null&&typeof Te.message=="string"?String(Te.message):String(Te),error:Te});if(!window.dispatchEvent(Pe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Te);return}console.error(Te)};function Ep(Te){Ph(Te)}function _p(Te){console.error(Te)}function bp(Te){Ph(Te)}function Fh(Te,Pe){try{var De=Te.onUncaughtError;De(Pe.value,{componentStack:Pe.stack})}catch(Me){setTimeout(function(){throw Me})}}function wp(Te,Pe,De){try{var Me=Te.onCaughtError;Me(De.value,{componentStack:De.stack,errorBoundary:Pe.tag===1?Pe.stateNode:null})}catch(Ye){setTimeout(function(){throw Ye})}}function Bd(Te,Pe,De){return De=ai(De),De.tag=3,De.payload={element:null},De.callback=function(){Fh(Te,Pe)},De}function xp(Te){return Te=ai(Te),Te.tag=3,Te}function Cp(Te,Pe,De,Me){var Ye=De.type.getDerivedStateFromError;if(typeof Ye=="function"){var Ar=Me.value;Te.payload=function(){return Ye(Ar)},Te.callback=function(){wp(Pe,De,Me)}}var Ur=De.stateNode;Ur!==null&&typeof Ur.componentDidCatch=="function"&&(Te.callback=function(){wp(Pe,De,Me),typeof Ye!="function"&&(ic===null?ic=new Set([this]):ic.add(this));var Wr=Me.stack;this.componentDidCatch(Me.value,{componentStack:Wr!==null?Wr:""})})}function Vm(Te,Pe,De,Me,Ye){if(De.flags|=32768,Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){if(Pe=De.alternate,Pe!==null&&KA(Pe,De,Ye,!0),De=Ko.current,De!==null){switch(De.tag){case 13:return Gl===null?$d():De.alternate===null&&qs===0&&(qs=3),De.flags&=-257,De.flags|=65536,De.lanes=Ye,Me===Jr?De.flags|=16384:(Pe=De.updateQueue,Pe===null?De.updateQueue=new Set([Me]):Pe.add(Me),tf(Te,Me,Ye)),!1;case 22:return De.flags|=65536,Me===Jr?De.flags|=16384:(Pe=De.updateQueue,Pe===null?(Pe={transitions:null,markerInstances:null,retryQueue:new Set([Me])},De.updateQueue=Pe):(De=Pe.retryQueue,De===null?Pe.retryQueue=new Set([Me]):De.add(Me)),tf(Te,Me,Ye)),!1}throw Error(_e(435,De.tag))}return tf(Te,Me,Ye),$d(),!1}if(as)return Pe=Ko.current,Pe!==null?((Pe.flags&65536)===0&&(Pe.flags|=256),Pe.flags|=65536,Pe.lanes=Ye,Me!==vu&&(Te=Error(_e(422),{cause:Me}),HA(zi(Te,De)))):(Me!==vu&&(Pe=Error(_e(423),{cause:Me}),HA(zi(Pe,De))),Te=Te.current.alternate,Te.flags|=65536,Ye&=-Ye,Te.lanes|=Ye,Me=zi(Me,De),Ye=Bd(Te.stateNode,Me,Ye),Ri(Te,Ye),qs!==4&&(qs=2)),!1;var Ar=Error(_e(520),{cause:Me});if(Ar=zi(Ar,De),Vu===null?Vu=[Ar]:Vu.push(Ar),qs!==4&&(qs=2),Pe===null)return!0;Me=zi(Me,De),De=Pe;do{switch(De.tag){case 3:return De.flags|=65536,Te=Ye&-Ye,De.lanes|=Te,Te=Bd(De.stateNode,Me,Te),Ri(De,Te),!1;case 1:if(Pe=De.type,Ar=De.stateNode,(De.flags&128)===0&&(typeof Pe.getDerivedStateFromError=="function"||Ar!==null&&typeof Ar.componentDidCatch=="function"&&(ic===null||!ic.has(Ar))))return De.flags|=65536,Ye&=-Ye,De.lanes|=Ye,Ye=xp(Ye),Cp(Ye,Te,De,Me),Ri(De,Ye),!1}De=De.return}while(De!==null);return!1}var Sp=Error(_e(461)),fa=!1;function ba(Te,Pe,De,Me){Pe.child=Te===null?gp(Pe,null,De,Me):Zc(Pe,Te.child,De,Me)}function Tp(Te,Pe,De,Me,Ye){De=De.render;var Ar=Pe.ref;if("ref"in Me){var Ur={};for(var Wr in Me)Wr!=="ref"&&(Ur[Wr]=Me[Wr])}else Ur=Me;return Qo(Pe),Me=mo(Te,Pe,De,Ur,Ar,Ye),Wr=Ss(),Te!==null&&!fa?(bc(Te,Pe,Ye),_A(Te,Pe,Ye)):(as&&Wr&&vc(Pe),Pe.flags|=1,ba(Te,Pe,Me,Ye),Pe.child)}function Rp(Te,Pe,De,Me,Ye){if(Te===null){var Ar=De.type;return typeof Ar=="function"&&!VA(Ar)&&Ar.defaultProps===void 0&&De.compare===null?(Pe.tag=15,Pe.type=Ar,Bp(Te,Pe,Ar,Me,Ye)):(Te=uA(De.type,null,Me,Pe,Pe.mode,Ye),Te.ref=Pe.ref,Te.return=Pe,Pe.child=Te)}if(Ar=Te.child,!Od(Te,Ye)){var Ur=Ar.memoizedProps;if(De=De.compare,De=De!==null?De:Bl,De(Ur,Me)&&Te.ref===Pe.ref)return _A(Te,Pe,Ye)}return Pe.flags|=1,Te=ko(Ar,Me),Te.ref=Pe.ref,Te.return=Pe,Pe.child=Te}function Bp(Te,Pe,De,Me,Ye){if(Te!==null){var Ar=Te.memoizedProps;if(Bl(Ar,Me)&&Te.ref===Pe.ref)if(fa=!1,Pe.pendingProps=Me=Ar,Od(Te,Ye))(Te.flags&131072)!==0&&(fa=!0);else return Pe.lanes=Te.lanes,_A(Te,Pe,Ye)}return Pd(Te,Pe,De,Me,Ye)}function Pp(Te,Pe,De){var Me=Pe.pendingProps,Ye=Me.children,Ar=Te!==null?Te.memoizedState:null;if(Me.mode==="hidden"){if((Pe.flags&128)!==0){if(Me=Ar!==null?Ar.baseLanes|De:De,Te!==null){for(Ye=Pe.child=Te.child,Ar=0;Ye!==null;)Ar=Ar|Ye.lanes|Ye.childLanes,Ye=Ye.sibling;Pe.childLanes=Ar&~Me}else Pe.childLanes=0,Pe.child=null;return Fp(Te,Pe,Me,De)}if((De&536870912)!==0)Pe.memoizedState={baseLanes:0,cachePool:null},Te!==null&&xr(Pe,Ar!==null?Ar.cachePool:null),Ar!==null?fs(Pe,Ar):cs(),mp(Pe);else return Pe.lanes=Pe.childLanes=536870912,Fp(Te,Pe,Ar!==null?Ar.baseLanes|De:De,De)}else Ar!==null?(xr(Pe,Ar.cachePool),fs(Pe,Ar),JA(),Pe.memoizedState=null):(Te!==null&&xr(Pe,null),cs(),JA());return ba(Te,Pe,Ye,De),Pe.child}function Fp(Te,Pe,De,Me){var Ye=dr();return Ye=Ye===null?null:{parent:Ys._currentValue,pool:Ye},Pe.memoizedState={baseLanes:De,cachePool:Ye},Te!==null&&xr(Pe,null),cs(),mp(Pe),Te!==null&&KA(Te,Pe,Me,!0),null}function Ih(Te,Pe){var De=Pe.ref;if(De===null)Te!==null&&Te.ref!==null&&(Pe.flags|=4194816);else{if(typeof De!="function"&&typeof De!="object")throw Error(_e(284));(Te===null||Te.ref!==De)&&(Pe.flags|=4194816)}}function Pd(Te,Pe,De,Me,Ye){return Qo(Pe),De=mo(Te,Pe,De,Me,void 0,Ye),Me=Ss(),Te!==null&&!fa?(bc(Te,Pe,Ye),_A(Te,Pe,Ye)):(as&&Me&&vc(Pe),Pe.flags|=1,ba(Te,Pe,De,Ye),Pe.child)}function Ip(Te,Pe,De,Me,Ye,Ar){return Qo(Pe),Pe.updateQueue=null,De=gA(Pe,Me,De,Ye),Ql(Te),Me=Ss(),Te!==null&&!fa?(bc(Te,Pe,Ar),_A(Te,Pe,Ar)):(as&&Me&&vc(Pe),Pe.flags|=1,ba(Te,Pe,De,Ar),Pe.child)}function Dp(Te,Pe,De,Me,Ye){if(Qo(Pe),Pe.stateNode===null){var Ar=ta,Ur=De.contextType;typeof Ur=="object"&&Ur!==null&&(Ar=Xs(Ur)),Ar=new De(Me,Ar),Pe.memoizedState=Ar.state!==null&&Ar.state!==void 0?Ar.state:null,Ar.updater=Rd,Pe.stateNode=Ar,Ar._reactInternals=Pe,Ar=Pe.stateNode,Ar.props=Me,Ar.state=Pe.memoizedState,Ar.refs={},Fn(Pe),Ur=De.contextType,Ar.context=typeof Ur=="object"&&Ur!==null?Xs(Ur):ta,Ar.state=Pe.memoizedState,Ur=De.getDerivedStateFromProps,typeof Ur=="function"&&(Td(Pe,De,Ur,Me),Ar.state=Pe.memoizedState),typeof De.getDerivedStateFromProps=="function"||typeof Ar.getSnapshotBeforeUpdate=="function"||typeof Ar.UNSAFE_componentWillMount!="function"&&typeof Ar.componentWillMount!="function"||(Ur=Ar.state,typeof Ar.componentWillMount=="function"&&Ar.componentWillMount(),typeof Ar.UNSAFE_componentWillMount=="function"&&Ar.UNSAFE_componentWillMount(),Ur!==Ar.state&&Rd.enqueueReplaceState(Ar,Ar.state,null),Ti(Pe,Me,Ar,Ye),Di(),Ar.state=Pe.memoizedState),typeof Ar.componentDidMount=="function"&&(Pe.flags|=4194308),Me=!0}else if(Te===null){Ar=Pe.stateNode;var Wr=Pe.memoizedProps,Cn=Ic(De,Wr);Ar.props=Cn;var $n=Ar.context,li=De.contextType;Ur=ta,typeof li=="object"&&li!==null&&(Ur=Xs(li));var mi=De.getDerivedStateFromProps;li=typeof mi=="function"||typeof Ar.getSnapshotBeforeUpdate=="function",Wr=Pe.pendingProps!==Wr,li||typeof Ar.UNSAFE_componentWillReceiveProps!="function"&&typeof Ar.componentWillReceiveProps!="function"||(Wr||$n!==Ur)&&yp(Pe,Ar,Me,Ur),ri=!1;var ei=Pe.memoizedState;Ar.state=ei,Ti(Pe,Me,Ar,Ye),Di(),$n=Pe.memoizedState,Wr||ei!==$n||ri?(typeof mi=="function"&&(Td(Pe,De,mi,Me),$n=Pe.memoizedState),(Cn=ri||vp(Pe,De,Cn,Me,ei,$n,Ur))?(li||typeof Ar.UNSAFE_componentWillMount!="function"&&typeof Ar.componentWillMount!="function"||(typeof Ar.componentWillMount=="function"&&Ar.componentWillMount(),typeof Ar.UNSAFE_componentWillMount=="function"&&Ar.UNSAFE_componentWillMount()),typeof Ar.componentDidMount=="function"&&(Pe.flags|=4194308)):(typeof Ar.componentDidMount=="function"&&(Pe.flags|=4194308),Pe.memoizedProps=Me,Pe.memoizedState=$n),Ar.props=Me,Ar.state=$n,Ar.context=Ur,Me=Cn):(typeof Ar.componentDidMount=="function"&&(Pe.flags|=4194308),Me=!1)}else{Ar=Pe.stateNode,Ln(Te,Pe),Ur=Pe.memoizedProps,li=Ic(De,Ur),Ar.props=li,mi=Pe.pendingProps,ei=Ar.context,$n=De.contextType,Cn=ta,typeof $n=="object"&&$n!==null&&(Cn=Xs($n)),Wr=De.getDerivedStateFromProps,($n=typeof Wr=="function"||typeof Ar.getSnapshotBeforeUpdate=="function")||typeof Ar.UNSAFE_componentWillReceiveProps!="function"&&typeof Ar.componentWillReceiveProps!="function"||(Ur!==mi||ei!==Cn)&&yp(Pe,Ar,Me,Cn),ri=!1,ei=Pe.memoizedState,Ar.state=ei,Ti(Pe,Me,Ar,Ye),Di();var ti=Pe.memoizedState;Ur!==mi||ei!==ti||ri||Te!==null&&Te.dependencies!==null&&Hc(Te.dependencies)?(typeof Wr=="function"&&(Td(Pe,De,Wr,Me),ti=Pe.memoizedState),(li=ri||vp(Pe,De,li,Me,ei,ti,Cn)||Te!==null&&Te.dependencies!==null&&Hc(Te.dependencies))?($n||typeof Ar.UNSAFE_componentWillUpdate!="function"&&typeof Ar.componentWillUpdate!="function"||(typeof Ar.componentWillUpdate=="function"&&Ar.componentWillUpdate(Me,ti,Cn),typeof Ar.UNSAFE_componentWillUpdate=="function"&&Ar.UNSAFE_componentWillUpdate(Me,ti,Cn)),typeof Ar.componentDidUpdate=="function"&&(Pe.flags|=4),typeof Ar.getSnapshotBeforeUpdate=="function"&&(Pe.flags|=1024)):(typeof Ar.componentDidUpdate!="function"||Ur===Te.memoizedProps&&ei===Te.memoizedState||(Pe.flags|=4),typeof Ar.getSnapshotBeforeUpdate!="function"||Ur===Te.memoizedProps&&ei===Te.memoizedState||(Pe.flags|=1024),Pe.memoizedProps=Me,Pe.memoizedState=ti),Ar.props=Me,Ar.state=ti,Ar.context=Cn,Me=li):(typeof Ar.componentDidUpdate!="function"||Ur===Te.memoizedProps&&ei===Te.memoizedState||(Pe.flags|=4),typeof Ar.getSnapshotBeforeUpdate!="function"||Ur===Te.memoizedProps&&ei===Te.memoizedState||(Pe.flags|=1024),Me=!1)}return Ar=Me,Ih(Te,Pe),Me=(Pe.flags&128)!==0,Ar||Me?(Ar=Pe.stateNode,De=Me&&typeof De.getDerivedStateFromError!="function"?null:Ar.render(),Pe.flags|=1,Te!==null&&Me?(Pe.child=Zc(Pe,Te.child,null,Ye),Pe.child=Zc(Pe,null,De,Ye)):ba(Te,Pe,De,Ye),Pe.memoizedState=Ar.state,Te=Pe.child):Te=_A(Te,Pe,Ye),Te}function Np(Te,Pe,De,Me){return ja(),Pe.flags|=256,ba(Te,Pe,De,Me),Pe.child}var Fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Id(Te){return{baseLanes:Te,cachePool:Or()}}function Dd(Te,Pe,De){return Te=Te!==null?Te.childLanes&~De:0,Pe&&(Te|=qo),Te}function Up(Te,Pe,De){var Me=Pe.pendingProps,Ye=!1,Ar=(Pe.flags&128)!==0,Ur;if((Ur=Ar)||(Ur=Te!==null&&Te.memoizedState===null?!1:(la.current&2)!==0),Ur&&(Ye=!0,Pe.flags&=-129),Ur=(Pe.flags&32)!==0,Pe.flags&=-33,Te===null){if(as){if(Ye?YA(Pe):JA(),as){var Wr=Is,Cn;if(Cn=Wr){e:{for(Cn=Wr,Wr=Mo;Cn.nodeType!==8;){if(!Wr){Wr=null;break e}if(Cn=vl(Cn.nextSibling),Cn===null){Wr=null;break e}}Wr=Cn}Wr!==null?(Pe.memoizedState={dehydrated:Wr,treeContext:hA!==null?{id:ol,overflow:ll}:null,retryLane:536870912,hydrationErrors:null},Cn=da(18,null,null,0),Cn.stateNode=Wr,Cn.return=Pe,Pe.child=Cn,Ws=Pe,Is=null,Cn=!0):Cn=!1}Cn||fA(Pe)}if(Wr=Pe.memoizedState,Wr!==null&&(Wr=Wr.dehydrated,Wr!==null))return mf(Wr)?Pe.lanes=32:Pe.lanes=536870912,null;EA(Pe)}return Wr=Me.children,Me=Me.fallback,Ye?(JA(),Ye=Pe.mode,Wr=Dh({mode:"hidden",children:Wr},Ye),Me=sl(Me,Ye,De,null),Wr.return=Pe,Me.return=Pe,Wr.sibling=Me,Pe.child=Wr,Ye=Pe.child,Ye.memoizedState=Id(De),Ye.childLanes=Dd(Te,Ur,De),Pe.memoizedState=Fd,Me):(YA(Pe),Nd(Pe,Wr))}if(Cn=Te.memoizedState,Cn!==null&&(Wr=Cn.dehydrated,Wr!==null)){if(Ar)Pe.flags&256?(YA(Pe),Pe.flags&=-257,Pe=Ud(Te,Pe,De)):Pe.memoizedState!==null?(JA(),Pe.child=Te.child,Pe.flags|=128,Pe=null):(JA(),Ye=Me.fallback,Wr=Pe.mode,Me=Dh({mode:"visible",children:Me.children},Wr),Ye=sl(Ye,Wr,De,null),Ye.flags|=2,Me.return=Pe,Ye.return=Pe,Me.sibling=Ye,Pe.child=Me,Zc(Pe,Te.child,null,De),Me=Pe.child,Me.memoizedState=Id(De),Me.childLanes=Dd(Te,Ur,De),Pe.memoizedState=Fd,Pe=Ye);else if(YA(Pe),mf(Wr)){if(Ur=Wr.nextSibling&&Wr.nextSibling.dataset,Ur)var $n=Ur.dgst;Ur=$n,Me=Error(_e(419)),Me.stack="",Me.digest=Ur,HA({value:Me,source:null,stack:null}),Pe=Ud(Te,Pe,De)}else if(fa||KA(Te,Pe,De,!1),Ur=(De&Te.childLanes)!==0,fa||Ur){if(Ur=Ts,Ur!==null&&(Me=De&-De,Me=(Me&42)!==0?1:Zn(Me),Me=(Me&(Ur.suspendedLanes|De))!==0?0:Me,Me!==0&&Me!==Cn.retryLane))throw Cn.retryLane=Me,il(Te,Me),wo(Ur,Te,Me),Sp;Wr.data==="$?"||$d(),Pe=Ud(Te,Pe,De)}else Wr.data==="$?"?(Pe.flags|=192,Pe.child=Te.child,Pe=null):(Te=Cn.treeContext,Is=vl(Wr.nextSibling),Ws=Pe,as=!0,Ml=null,Mo=!1,Te!==null&&(eo[Ma++]=ol,eo[Ma++]=ll,eo[Ma++]=hA,ol=Te.id,ll=Te.overflow,hA=Pe),Pe=Nd(Pe,Me.children),Pe.flags|=4096);return Pe}return Ye?(JA(),Ye=Me.fallback,Wr=Pe.mode,Cn=Te.child,$n=Cn.sibling,Me=ko(Cn,{mode:"hidden",children:Me.children}),Me.subtreeFlags=Cn.subtreeFlags&65011712,$n!==null?Ye=ko($n,Ye):(Ye=sl(Ye,Wr,De,null),Ye.flags|=2),Ye.return=Pe,Me.return=Pe,Me.sibling=Ye,Pe.child=Me,Me=Ye,Ye=Pe.child,Wr=Te.child.memoizedState,Wr===null?Wr=Id(De):(Cn=Wr.cachePool,Cn!==null?($n=Ys._currentValue,Cn=Cn.parent!==$n?{parent:$n,pool:$n}:Cn):Cn=Or(),Wr={baseLanes:Wr.baseLanes|De,cachePool:Cn}),Ye.memoizedState=Wr,Ye.childLanes=Dd(Te,Ur,De),Pe.memoizedState=Fd,Me):(YA(Pe),De=Te.child,Te=De.sibling,De=ko(De,{mode:"visible",children:Me.children}),De.return=Pe,De.sibling=null,Te!==null&&(Ur=Pe.deletions,Ur===null?(Pe.deletions=[Te],Pe.flags|=16):Ur.push(Te)),Pe.child=De,Pe.memoizedState=null,De)}function Nd(Te,Pe){return Pe=Dh({mode:"visible",children:Pe},Te.mode),Pe.return=Te,Te.child=Pe}function Dh(Te,Pe){return Te=da(22,Te,null,Pe),Te.lanes=0,Te.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},Te}function Ud(Te,Pe,De){return Zc(Pe,Te.child,null,De),Te=Nd(Pe,Pe.pendingProps.children),Te.flags|=2,Pe.memoizedState=null,Te}function Lp(Te,Pe,De){Te.lanes|=Pe;var Me=Te.alternate;Me!==null&&(Me.lanes|=Pe),Vc(Te.return,Pe,De)}function Ld(Te,Pe,De,Me,Ye){var Ar=Te.memoizedState;Ar===null?Te.memoizedState={isBackwards:Pe,rendering:null,renderingStartTime:0,last:Me,tail:De,tailMode:Ye}:(Ar.isBackwards=Pe,Ar.rendering=null,Ar.renderingStartTime=0,Ar.last=Me,Ar.tail=De,Ar.tailMode=Ye)}function Op(Te,Pe,De){var Me=Pe.pendingProps,Ye=Me.revealOrder,Ar=Me.tail;if(ba(Te,Pe,Me.children,De),Me=la.current,(Me&2)!==0)Me=Me&1|2,Pe.flags|=128;else{if(Te!==null&&(Te.flags&128)!==0)e:for(Te=Pe.child;Te!==null;){if(Te.tag===13)Te.memoizedState!==null&&Lp(Te,De,Pe);else if(Te.tag===19)Lp(Te,De,Pe);else if(Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===Pe)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===Pe)break e;Te=Te.return}Te.sibling.return=Te.return,Te=Te.sibling}Me&=1}switch(tr(la,Me),Ye){case"forwards":for(De=Pe.child,Ye=null;De!==null;)Te=De.alternate,Te!==null&&Bh(Te)===null&&(Ye=De),De=De.sibling;De=Ye,De===null?(Ye=Pe.child,Pe.child=null):(Ye=De.sibling,De.sibling=null),Ld(Pe,!1,Ye,De,Ar);break;case"backwards":for(De=null,Ye=Pe.child,Pe.child=null;Ye!==null;){if(Te=Ye.alternate,Te!==null&&Bh(Te)===null){Pe.child=Ye;break}Te=Ye.sibling,Ye.sibling=De,De=Ye,Ye=Te}Ld(Pe,!0,De,null,Ar);break;case"together":Ld(Pe,!1,null,null,void 0);break;default:Pe.memoizedState=null}return Pe.child}function _A(Te,Pe,De){if(Te!==null&&(Pe.dependencies=Te.dependencies),nc|=Pe.lanes,(De&Pe.childLanes)===0)if(Te!==null){if(KA(Te,Pe,De,!1),(De&Pe.childLanes)===0)return null}else return null;if(Te!==null&&Pe.child!==Te.child)throw Error(_e(153));if(Pe.child!==null){for(Te=Pe.child,De=ko(Te,Te.pendingProps),Pe.child=De,De.return=Pe;Te.sibling!==null;)Te=Te.sibling,De=De.sibling=ko(Te,Te.pendingProps),De.return=Pe;De.sibling=null}return Pe.child}function Od(Te,Pe){return(Te.lanes&Pe)!==0?!0:(Te=Te.dependencies,!!(Te!==null&&Hc(Te)))}function Qm(Te,Pe,De){switch(Pe.tag){case 3:Tr(Pe,Pe.stateNode.containerInfo),jl(Pe,Ys,Te.memoizedState.cache),ja();break;case 27:case 5:Zr(Pe);break;case 4:Tr(Pe,Pe.stateNode.containerInfo);break;case 10:jl(Pe,Pe.type,Pe.memoizedProps.value);break;case 13:var Me=Pe.memoizedState;if(Me!==null)return Me.dehydrated!==null?(YA(Pe),Pe.flags|=128,null):(De&Pe.child.childLanes)!==0?Up(Te,Pe,De):(YA(Pe),Te=_A(Te,Pe,De),Te!==null?Te.sibling:null);YA(Pe);break;case 19:var Ye=(Te.flags&128)!==0;if(Me=(De&Pe.childLanes)!==0,Me||(KA(Te,Pe,De,!1),Me=(De&Pe.childLanes)!==0),Ye){if(Me)return Op(Te,Pe,De);Pe.flags|=128}if(Ye=Pe.memoizedState,Ye!==null&&(Ye.rendering=null,Ye.tail=null,Ye.lastEffect=null),tr(la,la.current),Me)break;return null;case 22:case 23:return Pe.lanes=0,Pp(Te,Pe,De);case 24:jl(Pe,Ys,Te.memoizedState.cache)}return _A(Te,Pe,De)}function kp(Te,Pe,De){if(Te!==null)if(Te.memoizedProps!==Pe.pendingProps)fa=!0;else{if(!Od(Te,De)&&(Pe.flags&128)===0)return fa=!1,Qm(Te,Pe,De);fa=(Te.flags&131072)!==0}else fa=!1,as&&(Pe.flags&1048576)!==0&&Ah(Pe,jc,Pe.index);switch(Pe.lanes=0,Pe.tag){case 16:e:{Te=Pe.pendingProps;var Me=Pe.elementType,Ye=Me._init;if(Me=Ye(Me._payload),Pe.type=Me,typeof Me=="function")VA(Me)?(Te=Ic(Me,Te),Pe.tag=1,Pe=Dp(null,Pe,Me,Te,De)):(Pe.tag=0,Pe=Pd(null,Pe,Me,Te,De));else{if(Me!=null){if(Ye=Me.$$typeof,Ye===sr){Pe.tag=11,Pe=Tp(null,Pe,Me,Te,De);break e}else if(Ye===We){Pe.tag=14,Pe=Rp(null,Pe,Me,Te,De);break e}}throw Pe=mr(Me)||Me,Error(_e(306,Pe,""))}}return Pe;case 0:return Pd(Te,Pe,Pe.type,Pe.pendingProps,De);case 1:return Me=Pe.type,Ye=Ic(Me,Pe.pendingProps),Dp(Te,Pe,Me,Ye,De);case 3:e:{if(Tr(Pe,Pe.stateNode.containerInfo),Te===null)throw Error(_e(387));Me=Pe.pendingProps;var Ar=Pe.memoizedState;Ye=Ar.element,Ln(Te,Pe),Ti(Pe,Me,null,De);var Ur=Pe.memoizedState;if(Me=Ur.cache,jl(Pe,Ys,Me),Me!==Ar.cache&&Qc(Pe,[Ys],De,!0),Di(),Me=Ur.element,Ar.isDehydrated)if(Ar={element:Me,isDehydrated:!1,cache:Ur.cache},Pe.updateQueue.baseState=Ar,Pe.memoizedState=Ar,Pe.flags&256){Pe=Np(Te,Pe,Me,De);break e}else if(Me!==Ye){Ye=zi(Error(_e(424)),Pe),HA(Ye),Pe=Np(Te,Pe,Me,De);break e}else{switch(Te=Pe.stateNode.containerInfo,Te.nodeType){case 9:Te=Te.body;break;default:Te=Te.nodeName==="HTML"?Te.ownerDocument.body:Te}for(Is=vl(Te.firstChild),Ws=Pe,as=!0,Ml=null,Mo=!0,De=gp(Pe,null,Me,De),Pe.child=De;De;)De.flags=De.flags&-3|4096,De=De.sibling}else{if(ja(),Me===Ye){Pe=_A(Te,Pe,De);break e}ba(Te,Pe,Me,De)}Pe=Pe.child}return Pe;case 26:return Ih(Te,Pe),Te===null?(De=Qg(Pe.type,null,Pe.pendingProps,null))?Pe.memoizedState=De:as||(De=Pe.type,Te=Pe.pendingProps,Me=zh(Er.current).createElement(De),Me[Rn]=Pe,Me[Nn]=Te,xa(Me,De,Te),Li(Me),Pe.stateNode=Me):Pe.memoizedState=Qg(Pe.type,Te.memoizedProps,Pe.pendingProps,Te.memoizedState),null;case 27:return Zr(Pe),Te===null&&as&&(Me=Pe.stateNode=Mg(Pe.type,Pe.pendingProps,Er.current),Ws=Pe,Mo=!0,Ye=Is,oc(Pe.type)?(vf=Ye,Is=vl(Me.firstChild)):Is=Ye),ba(Te,Pe,Pe.pendingProps.children,De),Ih(Te,Pe),Te===null&&(Pe.flags|=4194304),Pe.child;case 5:return Te===null&&as&&((Ye=Me=Is)&&(Me=g0(Me,Pe.type,Pe.pendingProps,Mo),Me!==null?(Pe.stateNode=Me,Ws=Pe,Is=vl(Me.firstChild),Mo=!1,Ye=!0):Ye=!1),Ye||fA(Pe)),Zr(Pe),Ye=Pe.type,Ar=Pe.pendingProps,Ur=Te!==null?Te.memoizedProps:null,Me=Ar.children,ff(Ye,Ar)?Me=null:Ur!==null&&ff(Ye,Ur)&&(Pe.flags|=32),Pe.memoizedState!==null&&(Ye=mo(Te,Pe,Hl,null,null,De),Yu._currentValue=Ye),Ih(Te,Pe),ba(Te,Pe,Me,De),Pe.child;case 6:return Te===null&&as&&((Te=De=Is)&&(De=m0(De,Pe.pendingProps,Mo),De!==null?(Pe.stateNode=De,Ws=Pe,Is=null,Te=!0):Te=!1),Te||fA(Pe)),null;case 13:return Up(Te,Pe,De);case 4:return Tr(Pe,Pe.stateNode.containerInfo),Me=Pe.pendingProps,Te===null?Pe.child=Zc(Pe,null,Me,De):ba(Te,Pe,Me,De),Pe.child;case 11:return Tp(Te,Pe,Pe.type,Pe.pendingProps,De);case 7:return ba(Te,Pe,Pe.pendingProps,De),Pe.child;case 8:return ba(Te,Pe,Pe.pendingProps.children,De),Pe.child;case 12:return ba(Te,Pe,Pe.pendingProps.children,De),Pe.child;case 10:return Me=Pe.pendingProps,jl(Pe,Pe.type,Me.value),ba(Te,Pe,Me.children,De),Pe.child;case 9:return Ye=Pe.type._context,Me=Pe.pendingProps.children,Qo(Pe),Ye=Xs(Ye),Me=Me(Ye),Pe.flags|=1,ba(Te,Pe,Me,De),Pe.child;case 14:return Rp(Te,Pe,Pe.type,Pe.pendingProps,De);case 15:return Bp(Te,Pe,Pe.type,Pe.pendingProps,De);case 19:return Op(Te,Pe,De);case 31:return Me=Pe.pendingProps,De=Pe.mode,Me={mode:Me.mode,children:Me.children},Te===null?(De=Dh(Me,De),De.ref=Pe.ref,Pe.child=De,De.return=Pe,Pe=De):(De=ko(Te.child,Me),De.ref=Pe.ref,Pe.child=De,De.return=Pe,Pe=De),Pe;case 22:return Pp(Te,Pe,De);case 24:return Qo(Pe),Me=Xs(Ys),Te===null?(Ye=dr(),Ye===null&&(Ye=Ts,Ar=yu(),Ye.pooledCache=Ar,Ar.refCount++,Ar!==null&&(Ye.pooledCacheLanes|=De),Ye=Ar),Pe.memoizedState={parent:Me,cache:Ye},Fn(Pe),jl(Pe,Ys,Ye)):((Te.lanes&De)!==0&&(Ln(Te,Pe),Ti(Pe,null,null,De),Di()),Ye=Te.memoizedState,Ar=Pe.memoizedState,Ye.parent!==Me?(Ye={parent:Me,cache:Me},Pe.memoizedState=Ye,Pe.lanes===0&&(Pe.memoizedState=Pe.updateQueue.baseState=Ye),jl(Pe,Ys,Me)):(Me=Ar.cache,jl(Pe,Ys,Me),Me!==Ye.cache&&Qc(Pe,[Ys],De,!0))),ba(Te,Pe,Pe.pendingProps.children,De),Pe.child;case 29:throw Pe.pendingProps}throw Error(_e(156,Pe.tag))}function bA(Te){Te.flags|=4}function Mp(Te,Pe){if(Pe.type!=="stylesheet"||(Pe.state.loading&4)!==0)Te.flags&=-16777217;else if(Te.flags|=16777216,!zg(Pe)){if(Pe=Ko.current,Pe!==null&&((ss&4194048)===ss?Gl!==null:(ss&62914560)!==ss&&(ss&536870912)===0||Pe!==Gl))throw Wn=Jr,Hr;Te.flags|=8192}}function Nh(Te,Pe){Pe!==null&&(Te.flags|=4),Te.flags&16384&&(Pe=Te.tag!==22?fr():536870912,Te.lanes|=Pe,ru|=Pe)}function Uu(Te,Pe){if(!as)switch(Te.tailMode){case"hidden":Pe=Te.tail;for(var De=null;Pe!==null;)Pe.alternate!==null&&(De=Pe),Pe=Pe.sibling;De===null?Te.tail=null:De.sibling=null;break;case"collapsed":De=Te.tail;for(var Me=null;De!==null;)De.alternate!==null&&(Me=De),De=De.sibling;Me===null?Pe||Te.tail===null?Te.tail=null:Te.tail.sibling=null:Me.sibling=null}}function Ms(Te){var Pe=Te.alternate!==null&&Te.alternate.child===Te.child,De=0,Me=0;if(Pe)for(var Ye=Te.child;Ye!==null;)De|=Ye.lanes|Ye.childLanes,Me|=Ye.subtreeFlags&65011712,Me|=Ye.flags&65011712,Ye.return=Te,Ye=Ye.sibling;else for(Ye=Te.child;Ye!==null;)De|=Ye.lanes|Ye.childLanes,Me|=Ye.subtreeFlags,Me|=Ye.flags,Ye.return=Te,Ye=Ye.sibling;return Te.subtreeFlags|=Me,Te.childLanes=De,Pe}function Hm(Te,Pe,De){var Me=Pe.pendingProps;switch(yc(Pe),Pe.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ms(Pe),null;case 1:return Ms(Pe),null;case 3:return De=Pe.stateNode,Me=null,Te!==null&&(Me=Te.memoizedState.cache),Pe.memoizedState.cache!==Me&&(Pe.flags|=2048),Vo(Ys),Ir(),De.pendingContext&&(De.context=De.pendingContext,De.pendingContext=null),(Te===null||Te.child===null)&&(ya(Pe)?bA(Pe):Te===null||Te.memoizedState.isDehydrated&&(Pe.flags&256)===0||(Pe.flags|=1024,uh())),Ms(Pe),null;case 26:return De=Pe.memoizedState,Te===null?(bA(Pe),De!==null?(Ms(Pe),Mp(Pe,De)):(Ms(Pe),Pe.flags&=-16777217)):De?De!==Te.memoizedState?(bA(Pe),Ms(Pe),Mp(Pe,De)):(Ms(Pe),Pe.flags&=-16777217):(Te.memoizedProps!==Me&&bA(Pe),Ms(Pe),Pe.flags&=-16777217),null;case 27:zr(Pe),De=Er.current;var Ye=Pe.type;if(Te!==null&&Pe.stateNode!=null)Te.memoizedProps!==Me&&bA(Pe);else{if(!Me){if(Pe.stateNode===null)throw Error(_e(166));return Ms(Pe),null}Te=lr.current,ya(Pe)?ch(Pe):(Te=Mg(Ye,Me,De),Pe.stateNode=Te,bA(Pe))}return Ms(Pe),null;case 5:if(zr(Pe),De=Pe.type,Te!==null&&Pe.stateNode!=null)Te.memoizedProps!==Me&&bA(Pe);else{if(!Me){if(Pe.stateNode===null)throw Error(_e(166));return Ms(Pe),null}if(Te=lr.current,ya(Pe))ch(Pe);else{switch(Ye=zh(Er.current),Te){case 1:Te=Ye.createElementNS("http://www.w3.org/2000/svg",De);break;case 2:Te=Ye.createElementNS("http://www.w3.org/1998/Math/MathML",De);break;default:switch(De){case"svg":Te=Ye.createElementNS("http://www.w3.org/2000/svg",De);break;case"math":Te=Ye.createElementNS("http://www.w3.org/1998/Math/MathML",De);break;case"script":Te=Ye.createElement("div"),Te.innerHTML="<script><\/script>",Te=Te.removeChild(Te.firstChild);break;case"select":Te=typeof Me.is=="string"?Ye.createElement("select",{is:Me.is}):Ye.createElement("select"),Me.multiple?Te.multiple=!0:Me.size&&(Te.size=Me.size);break;default:Te=typeof Me.is=="string"?Ye.createElement(De,{is:Me.is}):Ye.createElement(De)}}Te[Rn]=Pe,Te[Nn]=Me;e:for(Ye=Pe.child;Ye!==null;){if(Ye.tag===5||Ye.tag===6)Te.appendChild(Ye.stateNode);else if(Ye.tag!==4&&Ye.tag!==27&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===Pe)break e;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===Pe)break e;Ye=Ye.return}Ye.sibling.return=Ye.return,Ye=Ye.sibling}Pe.stateNode=Te;e:switch(xa(Te,De,Me),De){case"button":case"input":case"select":case"textarea":Te=!!Me.autoFocus;break e;case"img":Te=!0;break e;default:Te=!1}Te&&bA(Pe)}}return Ms(Pe),Pe.flags&=-16777217,null;case 6:if(Te&&Pe.stateNode!=null)Te.memoizedProps!==Me&&bA(Pe);else{if(typeof Me!="string"&&Pe.stateNode===null)throw Error(_e(166));if(Te=Er.current,ya(Pe)){if(Te=Pe.stateNode,De=Pe.memoizedProps,Me=null,Ye=Ws,Ye!==null)switch(Ye.tag){case 27:case 5:Me=Ye.memoizedProps}Te[Rn]=Pe,Te=!!(Te.nodeValue===De||Me!==null&&Me.suppressHydrationWarning===!0||Ig(Te.nodeValue,De)),Te||fA(Pe)}else Te=zh(Te).createTextNode(Me),Te[Rn]=Pe,Pe.stateNode=Te}return Ms(Pe),null;case 13:if(Me=Pe.memoizedState,Te===null||Te.memoizedState!==null&&Te.memoizedState.dehydrated!==null){if(Ye=ya(Pe),Me!==null&&Me.dehydrated!==null){if(Te===null){if(!Ye)throw Error(_e(318));if(Ye=Pe.memoizedState,Ye=Ye!==null?Ye.dehydrated:null,!Ye)throw Error(_e(317));Ye[Rn]=Pe}else ja(),(Pe.flags&128)===0&&(Pe.memoizedState=null),Pe.flags|=4;Ms(Pe),Ye=!1}else Ye=uh(),Te!==null&&Te.memoizedState!==null&&(Te.memoizedState.hydrationErrors=Ye),Ye=!0;if(!Ye)return Pe.flags&256?(EA(Pe),Pe):(EA(Pe),null)}if(EA(Pe),(Pe.flags&128)!==0)return Pe.lanes=De,Pe;if(De=Me!==null,Te=Te!==null&&Te.memoizedState!==null,De){Me=Pe.child,Ye=null,Me.alternate!==null&&Me.alternate.memoizedState!==null&&Me.alternate.memoizedState.cachePool!==null&&(Ye=Me.alternate.memoizedState.cachePool.pool);var Ar=null;Me.memoizedState!==null&&Me.memoizedState.cachePool!==null&&(Ar=Me.memoizedState.cachePool.pool),Ar!==Ye&&(Me.flags|=2048)}return De!==Te&&De&&(Pe.child.flags|=8192),Nh(Pe,Pe.updateQueue),Ms(Pe),null;case 4:return Ir(),Te===null&&Af(Pe.stateNode.containerInfo),Ms(Pe),null;case 10:return Vo(Pe.type),Ms(Pe),null;case 19:if(ar(la),Ye=Pe.memoizedState,Ye===null)return Ms(Pe),null;if(Me=(Pe.flags&128)!==0,Ar=Ye.rendering,Ar===null)if(Me)Uu(Ye,!1);else{if(qs!==0||Te!==null&&(Te.flags&128)!==0)for(Te=Pe.child;Te!==null;){if(Ar=Bh(Te),Ar!==null){for(Pe.flags|=128,Uu(Ye,!1),Te=Ar.updateQueue,Pe.updateQueue=Te,Nh(Pe,Te),Pe.subtreeFlags=0,Te=De,De=Pe.child;De!==null;)gc(De,Te),De=De.sibling;return tr(la,la.current&1|2),Pe.child}Te=Te.sibling}Ye.tail!==null&&dn()>Oh&&(Pe.flags|=128,Me=!0,Uu(Ye,!1),Pe.lanes=4194304)}else{if(!Me)if(Te=Bh(Ar),Te!==null){if(Pe.flags|=128,Me=!0,Te=Te.updateQueue,Pe.updateQueue=Te,Nh(Pe,Te),Uu(Ye,!0),Ye.tail===null&&Ye.tailMode==="hidden"&&!Ar.alternate&&!as)return Ms(Pe),null}else 2*dn()-Ye.renderingStartTime>Oh&&De!==536870912&&(Pe.flags|=128,Me=!0,Uu(Ye,!1),Pe.lanes=4194304);Ye.isBackwards?(Ar.sibling=Pe.child,Pe.child=Ar):(Te=Ye.last,Te!==null?Te.sibling=Ar:Pe.child=Ar,Ye.last=Ar)}return Ye.tail!==null?(Pe=Ye.tail,Ye.rendering=Pe,Ye.tail=Pe.sibling,Ye.renderingStartTime=dn(),Pe.sibling=null,Te=la.current,tr(la,Me?Te&1|2:Te&1),Pe):(Ms(Pe),null);case 22:case 23:return EA(Pe),Ki(),Me=Pe.memoizedState!==null,Te!==null?Te.memoizedState!==null!==Me&&(Pe.flags|=8192):Me&&(Pe.flags|=8192),Me?(De&536870912)!==0&&(Pe.flags&128)===0&&(Ms(Pe),Pe.subtreeFlags&6&&(Pe.flags|=8192)):Ms(Pe),De=Pe.updateQueue,De!==null&&Nh(Pe,De.retryQueue),De=null,Te!==null&&Te.memoizedState!==null&&Te.memoizedState.cachePool!==null&&(De=Te.memoizedState.cachePool.pool),Me=null,Pe.memoizedState!==null&&Pe.memoizedState.cachePool!==null&&(Me=Pe.memoizedState.cachePool.pool),Me!==De&&(Pe.flags|=2048),Te!==null&&ar(er),null;case 24:return De=null,Te!==null&&(De=Te.memoizedState.cache),Pe.memoizedState.cache!==De&&(Pe.flags|=2048),Vo(Ys),Ms(Pe),null;case 25:return null;case 30:return null}throw Error(_e(156,Pe.tag))}function Km(Te,Pe){switch(yc(Pe),Pe.tag){case 1:return Te=Pe.flags,Te&65536?(Pe.flags=Te&-65537|128,Pe):null;case 3:return Vo(Ys),Ir(),Te=Pe.flags,(Te&65536)!==0&&(Te&128)===0?(Pe.flags=Te&-65537|128,Pe):null;case 26:case 27:case 5:return zr(Pe),null;case 13:if(EA(Pe),Te=Pe.memoizedState,Te!==null&&Te.dehydrated!==null){if(Pe.alternate===null)throw Error(_e(340));ja()}return Te=Pe.flags,Te&65536?(Pe.flags=Te&-65537|128,Pe):null;case 19:return ar(la),null;case 4:return Ir(),null;case 10:return Vo(Pe.type),null;case 22:case 23:return EA(Pe),Ki(),Te!==null&&ar(er),Te=Pe.flags,Te&65536?(Pe.flags=Te&-65537|128,Pe):null;case 24:return Vo(Ys),null;case 25:return null;default:return null}}function jp(Te,Pe){switch(yc(Pe),Pe.tag){case 3:Vo(Ys),Ir();break;case 26:case 27:case 5:zr(Pe);break;case 4:Ir();break;case 13:EA(Pe);break;case 19:ar(la);break;case 10:Vo(Pe.type);break;case 22:case 23:EA(Pe),Ki(),Te!==null&&ar(er);break;case 24:Vo(Ys)}}function Lu(Te,Pe){try{var De=Pe.updateQueue,Me=De!==null?De.lastEffect:null;if(Me!==null){var Ye=Me.next;De=Ye;do{if((De.tag&Te)===Te){Me=void 0;var Ar=De.create,Ur=De.inst;Me=Ar(),Ur.destroy=Me}De=De.next}while(De!==Ye)}}catch(Wr){Cs(Pe,Pe.return,Wr)}}function ZA(Te,Pe,De){try{var Me=Pe.updateQueue,Ye=Me!==null?Me.lastEffect:null;if(Ye!==null){var Ar=Ye.next;Me=Ar;do{if((Me.tag&Te)===Te){var Ur=Me.inst,Wr=Ur.destroy;if(Wr!==void 0){Ur.destroy=void 0,Ye=Pe;var Cn=De,$n=Wr;try{$n()}catch(li){Cs(Ye,Cn,li)}}}Me=Me.next}while(Me!==Ar)}}catch(li){Cs(Pe,Pe.return,li)}}function Vp(Te){var Pe=Te.updateQueue;if(Pe!==null){var De=Te.stateNode;try{As(Pe,De)}catch(Me){Cs(Te,Te.return,Me)}}}function Qp(Te,Pe,De){De.props=Ic(Te.type,Te.memoizedProps),De.state=Te.memoizedState;try{De.componentWillUnmount()}catch(Me){Cs(Te,Pe,Me)}}function Ou(Te,Pe){try{var De=Te.ref;if(De!==null){switch(Te.tag){case 26:case 27:case 5:var Me=Te.stateNode;break;case 30:Me=Te.stateNode;break;default:Me=Te.stateNode}typeof De=="function"?Te.refCleanup=De(Me):De.current=Me}}catch(Ye){Cs(Te,Pe,Ye)}}function zl(Te,Pe){var De=Te.ref,Me=Te.refCleanup;if(De!==null)if(typeof Me=="function")try{Me()}catch(Ye){Cs(Te,Pe,Ye)}finally{Te.refCleanup=null,Te=Te.alternate,Te!=null&&(Te.refCleanup=null)}else if(typeof De=="function")try{De(null)}catch(Ye){Cs(Te,Pe,Ye)}else De.current=null}function Hp(Te){var Pe=Te.type,De=Te.memoizedProps,Me=Te.stateNode;try{e:switch(Pe){case"button":case"input":case"select":case"textarea":De.autoFocus&&Me.focus();break e;case"img":De.src?Me.src=De.src:De.srcSet&&(Me.srcset=De.srcSet)}}catch(Ye){Cs(Te,Te.return,Ye)}}function kd(Te,Pe,De){try{var Me=Te.stateNode;u0(Me,Te.type,De,Pe),Me[Nn]=Pe}catch(Ye){Cs(Te,Te.return,Ye)}}function Kp(Te){return Te.tag===5||Te.tag===3||Te.tag===26||Te.tag===27&&oc(Te.type)||Te.tag===4}function Md(Te){e:for(;;){for(;Te.sibling===null;){if(Te.return===null||Kp(Te.return))return null;Te=Te.return}for(Te.sibling.return=Te.return,Te=Te.sibling;Te.tag!==5&&Te.tag!==6&&Te.tag!==18;){if(Te.tag===27&&oc(Te.type)||Te.flags&2||Te.child===null||Te.tag===4)continue e;Te.child.return=Te,Te=Te.child}if(!(Te.flags&2))return Te.stateNode}}function jd(Te,Pe,De){var Me=Te.tag;if(Me===5||Me===6)Te=Te.stateNode,Pe?(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).insertBefore(Te,Pe):(Pe=De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De,Pe.appendChild(Te),De=De._reactRootContainer,De!=null||Pe.onclick!==null||(Pe.onclick=Gh));else if(Me!==4&&(Me===27&&oc(Te.type)&&(De=Te.stateNode,Pe=null),Te=Te.child,Te!==null))for(jd(Te,Pe,De),Te=Te.sibling;Te!==null;)jd(Te,Pe,De),Te=Te.sibling}function Uh(Te,Pe,De){var Me=Te.tag;if(Me===5||Me===6)Te=Te.stateNode,Pe?De.insertBefore(Te,Pe):De.appendChild(Te);else if(Me!==4&&(Me===27&&oc(Te.type)&&(De=Te.stateNode),Te=Te.child,Te!==null))for(Uh(Te,Pe,De),Te=Te.sibling;Te!==null;)Uh(Te,Pe,De),Te=Te.sibling}function qp(Te){var Pe=Te.stateNode,De=Te.memoizedProps;try{for(var Me=Te.type,Ye=Pe.attributes;Ye.length;)Pe.removeAttributeNode(Ye[0]);xa(Pe,Me,De),Pe[Rn]=Te,Pe[Nn]=De}catch(Ar){Cs(Te,Te.return,Ar)}}var wA=!1,Zs=!1,Vd=!1,Gp=typeof WeakSet=="function"?WeakSet:Set,pa=null;function qm(Te,Pe){if(Te=Te.containerInfo,hf=$h,Te=va(Te),oa(Te)){if("selectionStart"in Te)var De={start:Te.selectionStart,end:Te.selectionEnd};else e:{De=(De=Te.ownerDocument)&&De.defaultView||window;var Me=De.getSelection&&De.getSelection();if(Me&&Me.rangeCount!==0){De=Me.anchorNode;var Ye=Me.anchorOffset,Ar=Me.focusNode;Me=Me.focusOffset;try{De.nodeType,Ar.nodeType}catch{De=null;break e}var Ur=0,Wr=-1,Cn=-1,$n=0,li=0,mi=Te,ei=null;t:for(;;){for(var ti;mi!==De||Ye!==0&&mi.nodeType!==3||(Wr=Ur+Ye),mi!==Ar||Me!==0&&mi.nodeType!==3||(Cn=Ur+Me),mi.nodeType===3&&(Ur+=mi.nodeValue.length),(ti=mi.firstChild)!==null;)ei=mi,mi=ti;for(;;){if(mi===Te)break t;if(ei===De&&++$n===Ye&&(Wr=Ur),ei===Ar&&++li===Me&&(Cn=Ur),(ti=mi.nextSibling)!==null)break;mi=ei,ei=mi.parentNode}mi=ti}De=Wr===-1||Cn===-1?null:{start:Wr,end:Cn}}else De=null}De=De||{start:0,end:0}}else De=null;for(df={focusedElem:Te,selectionRange:De},$h=!1,pa=Pe;pa!==null;)if(Pe=pa,Te=Pe.child,(Pe.subtreeFlags&1024)!==0&&Te!==null)Te.return=Pe,pa=Te;else for(;pa!==null;){switch(Pe=pa,Ar=Pe.alternate,Te=Pe.flags,Pe.tag){case 0:break;case 11:case 15:break;case 1:if((Te&1024)!==0&&Ar!==null){Te=void 0,De=Pe,Ye=Ar.memoizedProps,Ar=Ar.memoizedState,Me=De.stateNode;try{var Qi=Ic(De.type,Ye,De.elementType===De.type);Te=Me.getSnapshotBeforeUpdate(Qi,Ar),Me.__reactInternalSnapshotBeforeUpdate=Te}catch(Mi){Cs(De,De.return,Mi)}}break;case 3:if((Te&1024)!==0){if(Te=Pe.stateNode.containerInfo,De=Te.nodeType,De===9)gf(Te);else if(De===1)switch(Te.nodeName){case"HEAD":case"HTML":case"BODY":gf(Te);break;default:Te.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((Te&1024)!==0)throw Error(_e(163))}if(Te=Pe.sibling,Te!==null){Te.return=Pe.return,pa=Te;break}pa=Pe.return}}function zp(Te,Pe,De){var Me=De.flags;switch(De.tag){case 0:case 11:case 15:$A(Te,De),Me&4&&Lu(5,De);break;case 1:if($A(Te,De),Me&4)if(Te=De.stateNode,Pe===null)try{Te.componentDidMount()}catch(Ur){Cs(De,De.return,Ur)}else{var Ye=Ic(De.type,Pe.memoizedProps);Pe=Pe.memoizedState;try{Te.componentDidUpdate(Ye,Pe,Te.__reactInternalSnapshotBeforeUpdate)}catch(Ur){Cs(De,De.return,Ur)}}Me&64&&Vp(De),Me&512&&Ou(De,De.return);break;case 3:if($A(Te,De),Me&64&&(Te=De.updateQueue,Te!==null)){if(Pe=null,De.child!==null)switch(De.child.tag){case 27:case 5:Pe=De.child.stateNode;break;case 1:Pe=De.child.stateNode}try{As(Te,Pe)}catch(Ur){Cs(De,De.return,Ur)}}break;case 27:Pe===null&&Me&4&&qp(De);case 26:case 5:$A(Te,De),Pe===null&&Me&4&&Hp(De),Me&512&&Ou(De,De.return);break;case 12:$A(Te,De);break;case 13:$A(Te,De),Me&4&&Yp(Te,De),Me&64&&(Te=De.memoizedState,Te!==null&&(Te=Te.dehydrated,Te!==null&&(De=e0.bind(null,De),v0(Te,De))));break;case 22:if(Me=De.memoizedState!==null||wA,!Me){Pe=Pe!==null&&Pe.memoizedState!==null||Zs,Ye=wA;var Ar=Zs;wA=Me,(Zs=Pe)&&!Ar?tc(Te,De,(De.subtreeFlags&8772)!==0):$A(Te,De),wA=Ye,Zs=Ar}break;case 30:break;default:$A(Te,De)}}function Wp(Te){var Pe=Te.alternate;Pe!==null&&(Te.alternate=null,Wp(Pe)),Te.child=null,Te.deletions=null,Te.sibling=null,Te.tag===5&&(Pe=Te.stateNode,Pe!==null&&yi(Pe)),Te.stateNode=null,Te.return=null,Te.dependencies=null,Te.memoizedProps=null,Te.memoizedState=null,Te.pendingProps=null,Te.stateNode=null,Te.updateQueue=null}var Ds=null,ro=!1;function xA(Te,Pe,De){for(De=De.child;De!==null;)Xp(Te,Pe,De),De=De.sibling}function Xp(Te,Pe,De){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Gn,De)}catch{}switch(De.tag){case 26:Zs||zl(De,Pe),xA(Te,Pe,De),De.memoizedState?De.memoizedState.count--:De.stateNode&&(De=De.stateNode,De.parentNode.removeChild(De));break;case 27:Zs||zl(De,Pe);var Me=Ds,Ye=ro;oc(De.type)&&(Ds=De.stateNode,ro=!1),xA(Te,Pe,De),Gu(De.stateNode),Ds=Me,ro=Ye;break;case 5:Zs||zl(De,Pe);case 6:if(Me=Ds,Ye=ro,Ds=null,xA(Te,Pe,De),Ds=Me,ro=Ye,Ds!==null)if(ro)try{(Ds.nodeType===9?Ds.body:Ds.nodeName==="HTML"?Ds.ownerDocument.body:Ds).removeChild(De.stateNode)}catch(Ar){Cs(De,Pe,Ar)}else try{Ds.removeChild(De.stateNode)}catch(Ar){Cs(De,Pe,Ar)}break;case 18:Ds!==null&&(ro?(Te=Ds,Og(Te.nodeType===9?Te.body:Te.nodeName==="HTML"?Te.ownerDocument.body:Te,De.stateNode),eh(Te)):Og(Ds,De.stateNode));break;case 4:Me=Ds,Ye=ro,Ds=De.stateNode.containerInfo,ro=!0,xA(Te,Pe,De),Ds=Me,ro=Ye;break;case 0:case 11:case 14:case 15:Zs||ZA(2,De,Pe),Zs||ZA(4,De,Pe),xA(Te,Pe,De);break;case 1:Zs||(zl(De,Pe),Me=De.stateNode,typeof Me.componentWillUnmount=="function"&&Qp(De,Pe,Me)),xA(Te,Pe,De);break;case 21:xA(Te,Pe,De);break;case 22:Zs=(Me=Zs)||De.memoizedState!==null,xA(Te,Pe,De),Zs=Me;break;default:xA(Te,Pe,De)}}function Yp(Te,Pe){if(Pe.memoizedState===null&&(Te=Pe.alternate,Te!==null&&(Te=Te.memoizedState,Te!==null&&(Te=Te.dehydrated,Te!==null))))try{eh(Te)}catch(De){Cs(Pe,Pe.return,De)}}function Gm(Te){switch(Te.tag){case 13:case 19:var Pe=Te.stateNode;return Pe===null&&(Pe=Te.stateNode=new Gp),Pe;case 22:return Te=Te.stateNode,Pe=Te._retryCache,Pe===null&&(Pe=Te._retryCache=new Gp),Pe;default:throw Error(_e(435,Te.tag))}}function Qd(Te,Pe){var De=Gm(Te);Pe.forEach(function(Me){var Ye=t0.bind(null,Te,Me);De.has(Me)||(De.add(Me),Me.then(Ye,Ye))})}function yo(Te,Pe){var De=Pe.deletions;if(De!==null)for(var Me=0;Me<De.length;Me++){var Ye=De[Me],Ar=Te,Ur=Pe,Wr=Ur;e:for(;Wr!==null;){switch(Wr.tag){case 27:if(oc(Wr.type)){Ds=Wr.stateNode,ro=!1;break e}break;case 5:Ds=Wr.stateNode,ro=!1;break e;case 3:case 4:Ds=Wr.stateNode.containerInfo,ro=!0;break e}Wr=Wr.return}if(Ds===null)throw Error(_e(160));Xp(Ar,Ur,Ye),Ds=null,ro=!1,Ar=Ye.alternate,Ar!==null&&(Ar.return=null),Ye.return=null}if(Pe.subtreeFlags&13878)for(Pe=Pe.child;Pe!==null;)Jp(Pe,Te),Pe=Pe.sibling}var ml=null;function Jp(Te,Pe){var De=Te.alternate,Me=Te.flags;switch(Te.tag){case 0:case 11:case 14:case 15:yo(Pe,Te),Eo(Te),Me&4&&(ZA(3,Te,Te.return),Lu(3,Te),ZA(5,Te,Te.return));break;case 1:yo(Pe,Te),Eo(Te),Me&512&&(Zs||De===null||zl(De,De.return)),Me&64&&wA&&(Te=Te.updateQueue,Te!==null&&(Me=Te.callbacks,Me!==null&&(De=Te.shared.hiddenCallbacks,Te.shared.hiddenCallbacks=De===null?Me:De.concat(Me))));break;case 26:var Ye=ml;if(yo(Pe,Te),Eo(Te),Me&512&&(Zs||De===null||zl(De,De.return)),Me&4){var Ar=De!==null?De.memoizedState:null;if(Me=Te.memoizedState,De===null)if(Me===null)if(Te.stateNode===null){e:{Me=Te.type,De=Te.memoizedProps,Ye=Ye.ownerDocument||Ye;t:switch(Me){case"title":Ar=Ye.getElementsByTagName("title")[0],(!Ar||Ar[fi]||Ar[Rn]||Ar.namespaceURI==="http://www.w3.org/2000/svg"||Ar.hasAttribute("itemprop"))&&(Ar=Ye.createElement(Me),Ye.head.insertBefore(Ar,Ye.querySelector("head > title"))),xa(Ar,Me,De),Ar[Rn]=Te,Li(Ar),Me=Ar;break e;case"link":var Ur=qg("link","href",Ye).get(Me+(De.href||""));if(Ur){for(var Wr=0;Wr<Ur.length;Wr++)if(Ar=Ur[Wr],Ar.getAttribute("href")===(De.href==null||De.href===""?null:De.href)&&Ar.getAttribute("rel")===(De.rel==null?null:De.rel)&&Ar.getAttribute("title")===(De.title==null?null:De.title)&&Ar.getAttribute("crossorigin")===(De.crossOrigin==null?null:De.crossOrigin)){Ur.splice(Wr,1);break t}}Ar=Ye.createElement(Me),xa(Ar,Me,De),Ye.head.appendChild(Ar);break;case"meta":if(Ur=qg("meta","content",Ye).get(Me+(De.content||""))){for(Wr=0;Wr<Ur.length;Wr++)if(Ar=Ur[Wr],Ar.getAttribute("content")===(De.content==null?null:""+De.content)&&Ar.getAttribute("name")===(De.name==null?null:De.name)&&Ar.getAttribute("property")===(De.property==null?null:De.property)&&Ar.getAttribute("http-equiv")===(De.httpEquiv==null?null:De.httpEquiv)&&Ar.getAttribute("charset")===(De.charSet==null?null:De.charSet)){Ur.splice(Wr,1);break t}}Ar=Ye.createElement(Me),xa(Ar,Me,De),Ye.head.appendChild(Ar);break;default:throw Error(_e(468,Me))}Ar[Rn]=Te,Li(Ar),Me=Ar}Te.stateNode=Me}else Gg(Ye,Te.type,Te.stateNode);else Te.stateNode=Kg(Ye,Me,Te.memoizedProps);else Ar!==Me?(Ar===null?De.stateNode!==null&&(De=De.stateNode,De.parentNode.removeChild(De)):Ar.count--,Me===null?Gg(Ye,Te.type,Te.stateNode):Kg(Ye,Me,Te.memoizedProps)):Me===null&&Te.stateNode!==null&&kd(Te,Te.memoizedProps,De.memoizedProps)}break;case 27:yo(Pe,Te),Eo(Te),Me&512&&(Zs||De===null||zl(De,De.return)),De!==null&&Me&4&&kd(Te,Te.memoizedProps,De.memoizedProps);break;case 5:if(yo(Pe,Te),Eo(Te),Me&512&&(Zs||De===null||zl(De,De.return)),Te.flags&32){Ye=Te.stateNode;try{Ca(Ye,"")}catch(ti){Cs(Te,Te.return,ti)}}Me&4&&Te.stateNode!=null&&(Ye=Te.memoizedProps,kd(Te,Ye,De!==null?De.memoizedProps:Ye)),Me&1024&&(Vd=!0);break;case 6:if(yo(Pe,Te),Eo(Te),Me&4){if(Te.stateNode===null)throw Error(_e(162));Me=Te.memoizedProps,De=Te.stateNode;try{De.nodeValue=Me}catch(ti){Cs(Te,Te.return,ti)}}break;case 3:if(Yh=null,Ye=ml,ml=Wh(Pe.containerInfo),yo(Pe,Te),ml=Ye,Eo(Te),Me&4&&De!==null&&De.memoizedState.isDehydrated)try{eh(Pe.containerInfo)}catch(ti){Cs(Te,Te.return,ti)}Vd&&(Vd=!1,Zp(Te));break;case 4:Me=ml,ml=Wh(Te.stateNode.containerInfo),yo(Pe,Te),Eo(Te),ml=Me;break;case 12:yo(Pe,Te),Eo(Te);break;case 13:yo(Pe,Te),Eo(Te),Te.child.flags&8192&&Te.memoizedState!==null!=(De!==null&&De.memoizedState!==null)&&(Wd=dn()),Me&4&&(Me=Te.updateQueue,Me!==null&&(Te.updateQueue=null,Qd(Te,Me)));break;case 22:Ye=Te.memoizedState!==null;var Cn=De!==null&&De.memoizedState!==null,$n=wA,li=Zs;if(wA=$n||Ye,Zs=li||Cn,yo(Pe,Te),Zs=li,wA=$n,Eo(Te),Me&8192)e:for(Pe=Te.stateNode,Pe._visibility=Ye?Pe._visibility&-2:Pe._visibility|1,Ye&&(De===null||Cn||wA||Zs||Dc(Te)),De=null,Pe=Te;;){if(Pe.tag===5||Pe.tag===26){if(De===null){Cn=De=Pe;try{if(Ar=Cn.stateNode,Ye)Ur=Ar.style,typeof Ur.setProperty=="function"?Ur.setProperty("display","none","important"):Ur.display="none";else{Wr=Cn.stateNode;var mi=Cn.memoizedProps.style,ei=mi!=null&&mi.hasOwnProperty("display")?mi.display:null;Wr.style.display=ei==null||typeof ei=="boolean"?"":(""+ei).trim()}}catch(ti){Cs(Cn,Cn.return,ti)}}}else if(Pe.tag===6){if(De===null){Cn=Pe;try{Cn.stateNode.nodeValue=Ye?"":Cn.memoizedProps}catch(ti){Cs(Cn,Cn.return,ti)}}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===Te)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===Te)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===Te)break e;De===Pe&&(De=null),Pe=Pe.return}De===Pe&&(De=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}Me&4&&(Me=Te.updateQueue,Me!==null&&(De=Me.retryQueue,De!==null&&(Me.retryQueue=null,Qd(Te,De))));break;case 19:yo(Pe,Te),Eo(Te),Me&4&&(Me=Te.updateQueue,Me!==null&&(Te.updateQueue=null,Qd(Te,Me)));break;case 30:break;case 21:break;default:yo(Pe,Te),Eo(Te)}}function Eo(Te){var Pe=Te.flags;if(Pe&2){try{for(var De,Me=Te.return;Me!==null;){if(Kp(Me)){De=Me;break}Me=Me.return}if(De==null)throw Error(_e(160));switch(De.tag){case 27:var Ye=De.stateNode,Ar=Md(Te);Uh(Te,Ar,Ye);break;case 5:var Ur=De.stateNode;De.flags&32&&(Ca(Ur,""),De.flags&=-33);var Wr=Md(Te);Uh(Te,Wr,Ur);break;case 3:case 4:var Cn=De.stateNode.containerInfo,$n=Md(Te);jd(Te,$n,Cn);break;default:throw Error(_e(161))}}catch(li){Cs(Te,Te.return,li)}Te.flags&=-3}Pe&4096&&(Te.flags&=-4097)}function Zp(Te){if(Te.subtreeFlags&1024)for(Te=Te.child;Te!==null;){var Pe=Te;Zp(Pe),Pe.tag===5&&Pe.flags&1024&&Pe.stateNode.reset(),Te=Te.sibling}}function $A(Te,Pe){if(Pe.subtreeFlags&8772)for(Pe=Pe.child;Pe!==null;)zp(Te,Pe.alternate,Pe),Pe=Pe.sibling}function Dc(Te){for(Te=Te.child;Te!==null;){var Pe=Te;switch(Pe.tag){case 0:case 11:case 14:case 15:ZA(4,Pe,Pe.return),Dc(Pe);break;case 1:zl(Pe,Pe.return);var De=Pe.stateNode;typeof De.componentWillUnmount=="function"&&Qp(Pe,Pe.return,De),Dc(Pe);break;case 27:Gu(Pe.stateNode);case 26:case 5:zl(Pe,Pe.return),Dc(Pe);break;case 22:Pe.memoizedState===null&&Dc(Pe);break;case 30:Dc(Pe);break;default:Dc(Pe)}Te=Te.sibling}}function tc(Te,Pe,De){for(De=De&&(Pe.subtreeFlags&8772)!==0,Pe=Pe.child;Pe!==null;){var Me=Pe.alternate,Ye=Te,Ar=Pe,Ur=Ar.flags;switch(Ar.tag){case 0:case 11:case 15:tc(Ye,Ar,De),Lu(4,Ar);break;case 1:if(tc(Ye,Ar,De),Me=Ar,Ye=Me.stateNode,typeof Ye.componentDidMount=="function")try{Ye.componentDidMount()}catch($n){Cs(Me,Me.return,$n)}if(Me=Ar,Ye=Me.updateQueue,Ye!==null){var Wr=Me.stateNode;try{var Cn=Ye.shared.hiddenCallbacks;if(Cn!==null)for(Ye.shared.hiddenCallbacks=null,Ye=0;Ye<Cn.length;Ye++)ns(Cn[Ye],Wr)}catch($n){Cs(Me,Me.return,$n)}}De&&Ur&64&&Vp(Ar),Ou(Ar,Ar.return);break;case 27:qp(Ar);case 26:case 5:tc(Ye,Ar,De),De&&Me===null&&Ur&4&&Hp(Ar),Ou(Ar,Ar.return);break;case 12:tc(Ye,Ar,De);break;case 13:tc(Ye,Ar,De),De&&Ur&4&&Yp(Ye,Ar);break;case 22:Ar.memoizedState===null&&tc(Ye,Ar,De),Ou(Ar,Ar.return);break;case 30:break;default:tc(Ye,Ar,De)}Pe=Pe.sibling}}function Hd(Te,Pe){var De=null;Te!==null&&Te.memoizedState!==null&&Te.memoizedState.cachePool!==null&&(De=Te.memoizedState.cachePool.pool),Te=null,Pe.memoizedState!==null&&Pe.memoizedState.cachePool!==null&&(Te=Pe.memoizedState.cachePool.pool),Te!==De&&(Te!=null&&Te.refCount++,De!=null&&Ec(De))}function Kd(Te,Pe){Te=null,Pe.alternate!==null&&(Te=Pe.alternate.memoizedState.cache),Pe=Pe.memoizedState.cache,Pe!==Te&&(Pe.refCount++,Te!=null&&Ec(Te))}function Wl(Te,Pe,De,Me){if(Pe.subtreeFlags&10256)for(Pe=Pe.child;Pe!==null;)$p(Te,Pe,De,Me),Pe=Pe.sibling}function $p(Te,Pe,De,Me){var Ye=Pe.flags;switch(Pe.tag){case 0:case 11:case 15:Wl(Te,Pe,De,Me),Ye&2048&&Lu(9,Pe);break;case 1:Wl(Te,Pe,De,Me);break;case 3:Wl(Te,Pe,De,Me),Ye&2048&&(Te=null,Pe.alternate!==null&&(Te=Pe.alternate.memoizedState.cache),Pe=Pe.memoizedState.cache,Pe!==Te&&(Pe.refCount++,Te!=null&&Ec(Te)));break;case 12:if(Ye&2048){Wl(Te,Pe,De,Me),Te=Pe.stateNode;try{var Ar=Pe.memoizedProps,Ur=Ar.id,Wr=Ar.onPostCommit;typeof Wr=="function"&&Wr(Ur,Pe.alternate===null?"mount":"update",Te.passiveEffectDuration,-0)}catch(Cn){Cs(Pe,Pe.return,Cn)}}else Wl(Te,Pe,De,Me);break;case 13:Wl(Te,Pe,De,Me);break;case 23:break;case 22:Ar=Pe.stateNode,Ur=Pe.alternate,Pe.memoizedState!==null?Ar._visibility&2?Wl(Te,Pe,De,Me):ku(Te,Pe):Ar._visibility&2?Wl(Te,Pe,De,Me):(Ar._visibility|=2,$c(Te,Pe,De,Me,(Pe.subtreeFlags&10256)!==0)),Ye&2048&&Hd(Ur,Pe);break;case 24:Wl(Te,Pe,De,Me),Ye&2048&&Kd(Pe.alternate,Pe);break;default:Wl(Te,Pe,De,Me)}}function $c(Te,Pe,De,Me,Ye){for(Ye=Ye&&(Pe.subtreeFlags&10256)!==0,Pe=Pe.child;Pe!==null;){var Ar=Te,Ur=Pe,Wr=De,Cn=Me,$n=Ur.flags;switch(Ur.tag){case 0:case 11:case 15:$c(Ar,Ur,Wr,Cn,Ye),Lu(8,Ur);break;case 23:break;case 22:var li=Ur.stateNode;Ur.memoizedState!==null?li._visibility&2?$c(Ar,Ur,Wr,Cn,Ye):ku(Ar,Ur):(li._visibility|=2,$c(Ar,Ur,Wr,Cn,Ye)),Ye&&$n&2048&&Hd(Ur.alternate,Ur);break;case 24:$c(Ar,Ur,Wr,Cn,Ye),Ye&&$n&2048&&Kd(Ur.alternate,Ur);break;default:$c(Ar,Ur,Wr,Cn,Ye)}Pe=Pe.sibling}}function ku(Te,Pe){if(Pe.subtreeFlags&10256)for(Pe=Pe.child;Pe!==null;){var De=Te,Me=Pe,Ye=Me.flags;switch(Me.tag){case 22:ku(De,Me),Ye&2048&&Hd(Me.alternate,Me);break;case 24:ku(De,Me),Ye&2048&&Kd(Me.alternate,Me);break;default:ku(De,Me)}Pe=Pe.sibling}}var Mu=8192;function eu(Te){if(Te.subtreeFlags&Mu)for(Te=Te.child;Te!==null;)eg(Te),Te=Te.sibling}function eg(Te){switch(Te.tag){case 26:eu(Te),Te.flags&Mu&&Te.memoizedState!==null&&F0(ml,Te.memoizedState,Te.memoizedProps);break;case 5:eu(Te);break;case 3:case 4:var Pe=ml;ml=Wh(Te.stateNode.containerInfo),eu(Te),ml=Pe;break;case 22:Te.memoizedState===null&&(Pe=Te.alternate,Pe!==null&&Pe.memoizedState!==null?(Pe=Mu,Mu=16777216,eu(Te),Mu=Pe):eu(Te));break;default:eu(Te)}}function tg(Te){var Pe=Te.alternate;if(Pe!==null&&(Te=Pe.child,Te!==null)){Pe.child=null;do Pe=Te.sibling,Te.sibling=null,Te=Pe;while(Te!==null)}}function ju(Te){var Pe=Te.deletions;if((Te.flags&16)!==0){if(Pe!==null)for(var De=0;De<Pe.length;De++){var Me=Pe[De];pa=Me,ng(Me,Te)}tg(Te)}if(Te.subtreeFlags&10256)for(Te=Te.child;Te!==null;)rg(Te),Te=Te.sibling}function rg(Te){switch(Te.tag){case 0:case 11:case 15:ju(Te),Te.flags&2048&&ZA(9,Te,Te.return);break;case 3:ju(Te);break;case 12:ju(Te);break;case 22:var Pe=Te.stateNode;Te.memoizedState!==null&&Pe._visibility&2&&(Te.return===null||Te.return.tag!==13)?(Pe._visibility&=-3,Lh(Te)):ju(Te);break;default:ju(Te)}}function Lh(Te){var Pe=Te.deletions;if((Te.flags&16)!==0){if(Pe!==null)for(var De=0;De<Pe.length;De++){var Me=Pe[De];pa=Me,ng(Me,Te)}tg(Te)}for(Te=Te.child;Te!==null;){switch(Pe=Te,Pe.tag){case 0:case 11:case 15:ZA(8,Pe,Pe.return),Lh(Pe);break;case 22:De=Pe.stateNode,De._visibility&2&&(De._visibility&=-3,Lh(Pe));break;default:Lh(Pe)}Te=Te.sibling}}function ng(Te,Pe){for(;pa!==null;){var De=pa;switch(De.tag){case 0:case 11:case 15:ZA(8,De,Pe);break;case 23:case 22:if(De.memoizedState!==null&&De.memoizedState.cachePool!==null){var Me=De.memoizedState.cachePool.pool;Me!=null&&Me.refCount++}break;case 24:Ec(De.memoizedState.cache)}if(Me=De.child,Me!==null)Me.return=De,pa=Me;else e:for(De=Te;pa!==null;){Me=pa;var Ye=Me.sibling,Ar=Me.return;if(Wp(Me),Me===De){pa=null;break e}if(Ye!==null){Ye.return=Ar,pa=Ye;break e}pa=Ar}}}var zm={getCacheForType:function(Te){var Pe=Xs(Ys),De=Pe.data.get(Te);return De===void 0&&(De=Te(),Pe.data.set(Te,De)),De}},Wm=typeof WeakMap=="function"?WeakMap:Map,ms=0,Ts=null,$i=null,ss=0,vs=0,_o=null,rc=!1,tu=!1,qd=!1,CA=0,qs=0,nc=0,Nc=0,Gd=0,qo=0,ru=0,Vu=null,no=null,zd=!1,Wd=0,Oh=1/0,kh=null,ic=null,wa=0,sc=null,nu=null,iu=0,Xd=0,Yd=null,ig=null,Qu=0,Jd=null;function bo(){if((ms&2)!==0&&ss!==0)return ss&-ss;if(vr.T!==null){var Te=pA;return Te!==0?Te:sf()}return Mr()}function sg(){qo===0&&(qo=(ss&536870912)===0||as?vi():536870912);var Te=Ko.current;return Te!==null&&(Te.flags|=32),qo}function wo(Te,Pe,De){(Te===Ts&&(vs===2||vs===9)||Te.cancelPendingCommit!==null)&&(su(Te,0),ac(Te,ss,qo,!1)),un(Te,De),((ms&2)===0||Te!==Ts)&&(Te===Ts&&((ms&2)===0&&(Nc|=De),qs===4&&ac(Te,ss,qo,!1)),Xl(Te))}function ag(Te,Pe,De){if((ms&6)!==0)throw Error(_e(327));var Me=!De&&(Pe&124)===0&&(Pe&Te.expiredLanes)===0||br(Te,Pe),Ye=Me?Jm(Te,Pe):ef(Te,Pe,!0),Ar=Me;do{if(Ye===0){tu&&!Me&&ac(Te,Pe,0,!1);break}else{if(De=Te.current.alternate,Ar&&!Xm(De)){Ye=ef(Te,Pe,!1),Ar=!1;continue}if(Ye===2){if(Ar=Pe,Te.errorRecoveryDisabledLanes&Ar)var Ur=0;else Ur=Te.pendingLanes&-536870913,Ur=Ur!==0?Ur:Ur&536870912?536870912:0;if(Ur!==0){Pe=Ur;e:{var Wr=Te;Ye=Vu;var Cn=Wr.current.memoizedState.isDehydrated;if(Cn&&(su(Wr,Ur).flags|=256),Ur=ef(Wr,Ur,!1),Ur!==2){if(qd&&!Cn){Wr.errorRecoveryDisabledLanes|=Ar,Nc|=Ar,Ye=4;break e}Ar=no,no=Ye,Ar!==null&&(no===null?no=Ar:no.push.apply(no,Ar))}Ye=Ur}if(Ar=!1,Ye!==2)continue}}if(Ye===1){su(Te,0),ac(Te,Pe,0,!0);break}e:{switch(Me=Te,Ar=Ye,Ar){case 0:case 1:throw Error(_e(345));case 4:if((Pe&4194048)!==Pe)break;case 6:ac(Me,Pe,qo,!rc);break e;case 2:no=null;break;case 3:case 5:break;default:throw Error(_e(329))}if((Pe&62914560)===Pe&&(Ye=Wd+300-dn(),10<Ye)){if(ac(Me,Pe,qo,!rc),Xr(Me,0,!0)!==0)break e;Me.timeoutHandle=Ug(og.bind(null,Me,De,no,kh,zd,Pe,qo,Nc,ru,rc,Ar,2,-0,0),Ye);break e}og(Me,De,no,kh,zd,Pe,qo,Nc,ru,rc,Ar,0,-0,0)}}break}while(!0);Xl(Te)}function og(Te,Pe,De,Me,Ye,Ar,Ur,Wr,Cn,$n,li,mi,ei,ti){if(Te.timeoutHandle=-1,mi=Pe.subtreeFlags,(mi&8192||(mi&16785408)===16785408)&&(Xu={stylesheets:null,count:0,unsuspend:P0},eg(Pe),mi=I0(),mi!==null)){Te.cancelPendingCommit=mi(fg.bind(null,Te,Pe,Ar,De,Me,Ye,Ur,Wr,Cn,li,1,ei,ti)),ac(Te,Ar,Ur,!$n);return}fg(Te,Pe,Ar,De,Me,Ye,Ur,Wr,Cn)}function Xm(Te){for(var Pe=Te;;){var De=Pe.tag;if((De===0||De===11||De===15)&&Pe.flags&16384&&(De=Pe.updateQueue,De!==null&&(De=De.stores,De!==null)))for(var Me=0;Me<De.length;Me++){var Ye=De[Me],Ar=Ye.getSnapshot;Ye=Ye.value;try{if(!ea(Ar(),Ye))return!1}catch{return!1}}if(De=Pe.child,Pe.subtreeFlags&16384&&De!==null)De.return=Pe,Pe=De;else{if(Pe===Te)break;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===Te)return!0;Pe=Pe.return}Pe.sibling.return=Pe.return,Pe=Pe.sibling}}return!0}function ac(Te,Pe,De,Me){Pe&=~Gd,Pe&=~Nc,Te.suspendedLanes|=Pe,Te.pingedLanes&=~Pe,Me&&(Te.warmLanes|=Pe),Me=Te.expirationTimes;for(var Ye=Pe;0<Ye;){var Ar=31-ni(Ye),Ur=1<<Ar;Me[Ar]=-1,Ye&=~Ur}De!==0&&Yr(Te,De,Pe)}function Mh(){return(ms&6)===0?(Hu(0),!1):!0}function Zd(){if($i!==null){if(vs===0)var Te=$i.return;else Te=$i,cl=ra=null,qc(Te),Jc=null,Du=0,Te=$i;for(;Te!==null;)jp(Te.alternate,Te),Te=Te.return;$i=null}}function su(Te,Pe){var De=Te.timeoutHandle;De!==-1&&(Te.timeoutHandle=-1,d0(De)),De=Te.cancelPendingCommit,De!==null&&(Te.cancelPendingCommit=null,De()),Zd(),Ts=Te,$i=De=ko(Te.current,null),ss=Pe,vs=0,_o=null,rc=!1,tu=br(Te,Pe),qd=!1,ru=qo=Gd=Nc=nc=qs=0,no=Vu=null,zd=!1,(Pe&8)!==0&&(Pe|=Pe&32);var Me=Te.entangledLanes;if(Me!==0)for(Te=Te.entanglements,Me&=Pe;0<Me;){var Ye=31-ni(Me),Ar=1<<Ye;Pe|=Te[Ye],Me&=~Ar}return CA=Pe,Za(),De}function lg(Te,Pe){Ui=null,vr.H=Sh,Pe===Qr||Pe===qr?(Pe=jn(),vs=3):Pe===Hr?(Pe=jn(),vs=4):vs=Pe===Sp?8:Pe!==null&&typeof Pe=="object"&&typeof Pe.then=="function"?6:1,_o=Pe,$i===null&&(qs=1,Fh(Te,zi(Pe,Te.current)))}function Ag(){var Te=vr.H;return vr.H=Sh,Te===null?Sh:Te}function cg(){var Te=vr.A;return vr.A=zm,Te}function $d(){qs=4,rc||(ss&4194048)!==ss&&Ko.current!==null||(tu=!0),(nc&134217727)===0&&(Nc&134217727)===0||Ts===null||ac(Ts,ss,qo,!1)}function ef(Te,Pe,De){var Me=ms;ms|=2;var Ye=Ag(),Ar=cg();(Ts!==Te||ss!==Pe)&&(kh=null,su(Te,Pe)),Pe=!1;var Ur=qs;e:do try{if(vs!==0&&$i!==null){var Wr=$i,Cn=_o;switch(vs){case 8:Zd(),Ur=6;break e;case 3:case 2:case 9:case 6:Ko.current===null&&(Pe=!0);var $n=vs;if(vs=0,_o=null,au(Te,Wr,Cn,$n),De&&tu){Ur=0;break e}break;default:$n=vs,vs=0,_o=null,au(Te,Wr,Cn,$n)}}Ym(),Ur=qs;break}catch(li){lg(Te,li)}while(!0);return Pe&&Te.shellSuspendCounter++,cl=ra=null,ms=Me,vr.H=Ye,vr.A=Ar,$i===null&&(Ts=null,ss=0,Za()),Ur}function Ym(){for(;$i!==null;)ug($i)}function Jm(Te,Pe){var De=ms;ms|=2;var Me=Ag(),Ye=cg();Ts!==Te||ss!==Pe?(kh=null,Oh=dn()+500,su(Te,Pe)):tu=br(Te,Pe);e:do try{if(vs!==0&&$i!==null){Pe=$i;var Ar=_o;t:switch(vs){case 1:vs=0,_o=null,au(Te,Pe,Ar,1);break;case 2:case 9:if(fn(Ar)){vs=0,_o=null,hg(Pe);break}Pe=function(){vs!==2&&vs!==9||Ts!==Te||(vs=7),Xl(Te)},Ar.then(Pe,Pe);break e;case 3:vs=7;break e;case 4:vs=5;break e;case 7:fn(Ar)?(vs=0,_o=null,hg(Pe)):(vs=0,_o=null,au(Te,Pe,Ar,7));break;case 5:var Ur=null;switch($i.tag){case 26:Ur=$i.memoizedState;case 5:case 27:var Wr=$i;if(!Ur||zg(Ur)){vs=0,_o=null;var Cn=Wr.sibling;if(Cn!==null)$i=Cn;else{var $n=Wr.return;$n!==null?($i=$n,jh($n)):$i=null}break t}}vs=0,_o=null,au(Te,Pe,Ar,5);break;case 6:vs=0,_o=null,au(Te,Pe,Ar,6);break;case 8:Zd(),qs=6;break e;default:throw Error(_e(462))}}Zm();break}catch(li){lg(Te,li)}while(!0);return cl=ra=null,vr.H=Me,vr.A=Ye,ms=De,$i!==null?0:(Ts=null,ss=0,Za(),qs)}function Zm(){for(;$i!==null&&!An();)ug($i)}function ug(Te){var Pe=kp(Te.alternate,Te,CA);Te.memoizedProps=Te.pendingProps,Pe===null?jh(Te):$i=Pe}function hg(Te){var Pe=Te,De=Pe.alternate;switch(Pe.tag){case 15:case 0:Pe=Ip(De,Pe,Pe.pendingProps,Pe.type,void 0,ss);break;case 11:Pe=Ip(De,Pe,Pe.pendingProps,Pe.type.render,Pe.ref,ss);break;case 5:qc(Pe);default:jp(De,Pe),Pe=$i=gc(Pe,CA),Pe=kp(De,Pe,CA)}Te.memoizedProps=Te.pendingProps,Pe===null?jh(Te):$i=Pe}function au(Te,Pe,De,Me){cl=ra=null,qc(Pe),Jc=null,Du=0;var Ye=Pe.return;try{if(Vm(Te,Ye,Pe,De,ss)){qs=1,Fh(Te,zi(De,Te.current)),$i=null;return}}catch(Ar){if(Ye!==null)throw $i=Ye,Ar;qs=1,Fh(Te,zi(De,Te.current)),$i=null;return}Pe.flags&32768?(as||Me===1?Te=!0:tu||(ss&536870912)!==0?Te=!1:(rc=Te=!0,(Me===2||Me===9||Me===3||Me===6)&&(Me=Ko.current,Me!==null&&Me.tag===13&&(Me.flags|=16384))),dg(Pe,Te)):jh(Pe)}function jh(Te){var Pe=Te;do{if((Pe.flags&32768)!==0){dg(Pe,rc);return}Te=Pe.return;var De=Hm(Pe.alternate,Pe,CA);if(De!==null){$i=De;return}if(Pe=Pe.sibling,Pe!==null){$i=Pe;return}$i=Pe=Te}while(Pe!==null);qs===0&&(qs=5)}function dg(Te,Pe){do{var De=Km(Te.alternate,Te);if(De!==null){De.flags&=32767,$i=De;return}if(De=Te.return,De!==null&&(De.flags|=32768,De.subtreeFlags=0,De.deletions=null),!Pe&&(Te=Te.sibling,Te!==null)){$i=Te;return}$i=Te=De}while(Te!==null);qs=6,$i=null}function fg(Te,Pe,De,Me,Ye,Ar,Ur,Wr,Cn){Te.cancelPendingCommit=null;do Vh();while(wa!==0);if((ms&6)!==0)throw Error(_e(327));if(Pe!==null){if(Pe===Te.current)throw Error(_e(177));if(Ar=Pe.lanes|Pe.childLanes,Ar|=Ls,Pr(Te,De,Ar,Ur,Wr,Cn),Te===Ts&&($i=Ts=null,ss=0),nu=Pe,sc=Te,iu=De,Xd=Ar,Yd=Ye,ig=Me,(Pe.subtreeFlags&10256)!==0||(Pe.flags&10256)!==0?(Te.callbackNode=null,Te.callbackPriority=0,r0(pn,function(){return yg(),null})):(Te.callbackNode=null,Te.callbackPriority=0),Me=(Pe.flags&13878)!==0,(Pe.subtreeFlags&13878)!==0||Me){Me=vr.T,vr.T=null,Ye=ur.p,ur.p=2,Ur=ms,ms|=4;try{qm(Te,Pe,De)}finally{ms=Ur,ur.p=Ye,vr.T=Me}}wa=1,pg(),gg(),mg()}}function pg(){if(wa===1){wa=0;var Te=sc,Pe=nu,De=(Pe.flags&13878)!==0;if((Pe.subtreeFlags&13878)!==0||De){De=vr.T,vr.T=null;var Me=ur.p;ur.p=2;var Ye=ms;ms|=4;try{Jp(Pe,Te);var Ar=df,Ur=va(Te.containerInfo),Wr=Ar.focusedElem,Cn=Ar.selectionRange;if(Ur!==Wr&&Wr&&Wr.ownerDocument&&Pl(Wr.ownerDocument.documentElement,Wr)){if(Cn!==null&&oa(Wr)){var $n=Cn.start,li=Cn.end;if(li===void 0&&(li=$n),"selectionStart"in Wr)Wr.selectionStart=$n,Wr.selectionEnd=Math.min(li,Wr.value.length);else{var mi=Wr.ownerDocument||document,ei=mi&&mi.defaultView||window;if(ei.getSelection){var ti=ei.getSelection(),Qi=Wr.textContent.length,Mi=Math.min(Cn.start,Qi),ws=Cn.end===void 0?Mi:Math.min(Cn.end,Qi);!ti.extend&&Mi>ws&&(Ur=ws,ws=Mi,Mi=Ur);var qn=rl(Wr,Mi),Un=rl(Wr,ws);if(qn&&Un&&(ti.rangeCount!==1||ti.anchorNode!==qn.node||ti.anchorOffset!==qn.offset||ti.focusNode!==Un.node||ti.focusOffset!==Un.offset)){var Xn=mi.createRange();Xn.setStart(qn.node,qn.offset),ti.removeAllRanges(),Mi>ws?(ti.addRange(Xn),ti.extend(Un.node,Un.offset)):(Xn.setEnd(Un.node,Un.offset),ti.addRange(Xn))}}}}for(mi=[],ti=Wr;ti=ti.parentNode;)ti.nodeType===1&&mi.push({element:ti,left:ti.scrollLeft,top:ti.scrollTop});for(typeof Wr.focus=="function"&&Wr.focus(),Wr=0;Wr<mi.length;Wr++){var hi=mi[Wr];hi.element.scrollLeft=hi.left,hi.element.scrollTop=hi.top}}$h=!!hf,df=hf=null}finally{ms=Ye,ur.p=Me,vr.T=De}}Te.current=Pe,wa=2}}function gg(){if(wa===2){wa=0;var Te=sc,Pe=nu,De=(Pe.flags&8772)!==0;if((Pe.subtreeFlags&8772)!==0||De){De=vr.T,vr.T=null;var Me=ur.p;ur.p=2;var Ye=ms;ms|=4;try{zp(Te,Pe.alternate,Pe)}finally{ms=Ye,ur.p=Me,vr.T=De}}wa=3}}function mg(){if(wa===4||wa===3){wa=0,Fr();var Te=sc,Pe=nu,De=iu,Me=ig;(Pe.subtreeFlags&10256)!==0||(Pe.flags&10256)!==0?wa=5:(wa=0,nu=sc=null,vg(Te,Te.pendingLanes));var Ye=Te.pendingLanes;if(Ye===0&&(ic=null),Vr(De),Pe=Pe.stateNode,Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Gn,Pe,void 0,(Pe.current.flags&128)===128)}catch{}if(Me!==null){Pe=vr.T,Ye=ur.p,ur.p=2,vr.T=null;try{for(var Ar=Te.onRecoverableError,Ur=0;Ur<Me.length;Ur++){var Wr=Me[Ur];Ar(Wr.value,{componentStack:Wr.stack})}}finally{vr.T=Pe,ur.p=Ye}}(iu&3)!==0&&Vh(),Xl(Te),Ye=Te.pendingLanes,(De&4194090)!==0&&(Ye&42)!==0?Te===Jd?Qu++:(Qu=0,Jd=Te):Qu=0,Hu(0)}}function vg(Te,Pe){(Te.pooledCacheLanes&=Pe)===0&&(Pe=Te.pooledCache,Pe!=null&&(Te.pooledCache=null,Ec(Pe)))}function Vh(Te){return pg(),gg(),mg(),yg()}function yg(){if(wa!==5)return!1;var Te=sc,Pe=Xd;Xd=0;var De=Vr(iu),Me=vr.T,Ye=ur.p;try{ur.p=32>De?32:De,vr.T=null,De=Yd,Yd=null;var Ar=sc,Ur=iu;if(wa=0,nu=sc=null,iu=0,(ms&6)!==0)throw Error(_e(331));var Wr=ms;if(ms|=4,rg(Ar.current),$p(Ar,Ar.current,Ur,De),ms=Wr,Hu(0,!1),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Gn,Ar)}catch{}return!0}finally{ur.p=Ye,vr.T=Me,vg(Te,Pe)}}function Eg(Te,Pe,De){Pe=zi(De,Pe),Pe=Bd(Te.stateNode,Pe,2),Te=gi(Te,Pe,2),Te!==null&&(un(Te,2),Xl(Te))}function Cs(Te,Pe,De){if(Te.tag===3)Eg(Te,Te,De);else for(;Pe!==null;){if(Pe.tag===3){Eg(Pe,Te,De);break}else if(Pe.tag===1){var Me=Pe.stateNode;if(typeof Pe.type.getDerivedStateFromError=="function"||typeof Me.componentDidCatch=="function"&&(ic===null||!ic.has(Me))){Te=zi(De,Te),De=xp(2),Me=gi(Pe,De,2),Me!==null&&(Cp(De,Me,Pe,Te),un(Me,2),Xl(Me));break}}Pe=Pe.return}}function tf(Te,Pe,De){var Me=Te.pingCache;if(Me===null){Me=Te.pingCache=new Wm;var Ye=new Set;Me.set(Pe,Ye)}else Ye=Me.get(Pe),Ye===void 0&&(Ye=new Set,Me.set(Pe,Ye));Ye.has(De)||(qd=!0,Ye.add(De),Te=$m.bind(null,Te,Pe,De),Pe.then(Te,Te))}function $m(Te,Pe,De){var Me=Te.pingCache;Me!==null&&Me.delete(Pe),Te.pingedLanes|=Te.suspendedLanes&De,Te.warmLanes&=~De,Ts===Te&&(ss&De)===De&&(qs===4||qs===3&&(ss&62914560)===ss&&300>dn()-Wd?(ms&2)===0&&su(Te,0):Gd|=De,ru===ss&&(ru=0)),Xl(Te)}function _g(Te,Pe){Pe===0&&(Pe=fr()),Te=il(Te,Pe),Te!==null&&(un(Te,Pe),Xl(Te))}function e0(Te){var Pe=Te.memoizedState,De=0;Pe!==null&&(De=Pe.retryLane),_g(Te,De)}function t0(Te,Pe){var De=0;switch(Te.tag){case 13:var Me=Te.stateNode,Ye=Te.memoizedState;Ye!==null&&(De=Ye.retryLane);break;case 19:Me=Te.stateNode;break;case 22:Me=Te.stateNode._retryCache;break;default:throw Error(_e(314))}Me!==null&&Me.delete(Pe),_g(Te,De)}function r0(Te,Pe){return vn(Te,Pe)}var Qh=null,ou=null,rf=!1,Hh=!1,nf=!1,Uc=0;function Xl(Te){Te!==ou&&Te.next===null&&(ou===null?Qh=ou=Te:ou=ou.next=Te),Hh=!0,rf||(rf=!0,i0())}function Hu(Te,Pe){if(!nf&&Hh){nf=!0;do for(var De=!1,Me=Qh;Me!==null;){if(Te!==0){var Ye=Me.pendingLanes;if(Ye===0)var Ar=0;else{var Ur=Me.suspendedLanes,Wr=Me.pingedLanes;Ar=(1<<31-ni(42|Te)+1)-1,Ar&=Ye&~(Ur&~Wr),Ar=Ar&201326741?Ar&201326741|1:Ar?Ar|2:0}Ar!==0&&(De=!0,Cg(Me,Ar))}else Ar=ss,Ar=Xr(Me,Me===Ts?Ar:0,Me.cancelPendingCommit!==null||Me.timeoutHandle!==-1),(Ar&3)===0||br(Me,Ar)||(De=!0,Cg(Me,Ar));Me=Me.next}while(De);nf=!1}}function n0(){bg()}function bg(){Hh=rf=!1;var Te=0;Uc!==0&&(h0()&&(Te=Uc),Uc=0);for(var Pe=dn(),De=null,Me=Qh;Me!==null;){var Ye=Me.next,Ar=wg(Me,Pe);Ar===0?(Me.next=null,De===null?Qh=Ye:De.next=Ye,Ye===null&&(ou=De)):(De=Me,(Te!==0||(Ar&3)!==0)&&(Hh=!0)),Me=Ye}Hu(Te)}function wg(Te,Pe){for(var De=Te.suspendedLanes,Me=Te.pingedLanes,Ye=Te.expirationTimes,Ar=Te.pendingLanes&-62914561;0<Ar;){var Ur=31-ni(Ar),Wr=1<<Ur,Cn=Ye[Ur];Cn===-1?((Wr&De)===0||(Wr&Me)!==0)&&(Ye[Ur]=Sn(Wr,Pe)):Cn<=Pe&&(Te.expiredLanes|=Wr),Ar&=~Wr}if(Pe=Ts,De=ss,De=Xr(Te,Te===Pe?De:0,Te.cancelPendingCommit!==null||Te.timeoutHandle!==-1),Me=Te.callbackNode,De===0||Te===Pe&&(vs===2||vs===9)||Te.cancelPendingCommit!==null)return Me!==null&&Me!==null&&bn(Me),Te.callbackNode=null,Te.callbackPriority=0;if((De&3)===0||br(Te,De)){if(Pe=De&-De,Pe===Te.callbackPriority)return Pe;switch(Me!==null&&bn(Me),Vr(De)){case 2:case 8:De=hn;break;case 32:De=pn;break;case 268435456:De=Dn;break;default:De=pn}return Me=xg.bind(null,Te),De=vn(De,Me),Te.callbackPriority=Pe,Te.callbackNode=De,Pe}return Me!==null&&Me!==null&&bn(Me),Te.callbackPriority=2,Te.callbackNode=null,2}function xg(Te,Pe){if(wa!==0&&wa!==5)return Te.callbackNode=null,Te.callbackPriority=0,null;var De=Te.callbackNode;if(Vh()&&Te.callbackNode!==De)return null;var Me=ss;return Me=Xr(Te,Te===Ts?Me:0,Te.cancelPendingCommit!==null||Te.timeoutHandle!==-1),Me===0?null:(ag(Te,Me,Pe),wg(Te,dn()),Te.callbackNode!=null&&Te.callbackNode===De?xg.bind(null,Te):null)}function Cg(Te,Pe){if(Vh())return null;ag(Te,Pe,!0)}function i0(){f0(function(){(ms&6)!==0?vn(jr,n0):bg()})}function sf(){return Uc===0&&(Uc=vi()),Uc}function Sg(Te){return Te==null||typeof Te=="symbol"||typeof Te=="boolean"?null:typeof Te=="function"?Te:lo(""+Te)}function Tg(Te,Pe){var De=Pe.ownerDocument.createElement("input");return De.name=Pe.name,De.value=Pe.value,Te.id&&De.setAttribute("form",Te.id),Pe.parentNode.insertBefore(De,Pe),Te=new FormData(Te),De.parentNode.removeChild(De),Te}function s0(Te,Pe,De,Me,Ye){if(Pe==="submit"&&De&&De.stateNode===Ye){var Ar=Sg((Ye[Nn]||null).action),Ur=Me.submitter;Ur&&(Pe=(Pe=Ur[Nn]||null)?Sg(Pe.formAction):Ur.getAttribute("formAction"),Pe!==null&&(Ar=Pe,Ur=null));var Wr=new Bo("action","action",null,Me,Ye);Te.push({event:Wr,listeners:[{instance:null,listener:function(){if(Me.defaultPrevented){if(Uc!==0){var Cn=Ur?Tg(Ye,Ur):new FormData(Ye);Ho(De,{pending:!0,data:Cn,method:Ye.method,action:Ar},null,Cn)}}else typeof Ar=="function"&&(Wr.preventDefault(),Cn=Ur?Tg(Ye,Ur):new FormData(Ye),Ho(De,{pending:!0,data:Cn,method:Ye.method,action:Ar},Ar,Cn))},currentTarget:Ye}]})}}for(var af=0;af<AA.length;af++){var of=AA[af],a0=of.toLowerCase(),o0=of[0].toUpperCase()+of.slice(1);Fs(a0,"on"+o0)}Fs(MA,"onAnimationEnd"),Fs(Il,"onAnimationIteration"),Fs(Dl,"onAnimationStart"),Fs("dblclick","onDoubleClick"),Fs("focusin","onFocus"),Fs("focusout","onBlur"),Fs(Nl,"onTransitionRun"),Fs(lA,"onTransitionStart"),Fs(jA,"onTransitionCancel"),Fs(Ul,"onTransitionEnd"),Rs("onMouseEnter",["mouseout","mouseover"]),Rs("onMouseLeave",["mouseout","mouseover"]),Rs("onPointerEnter",["pointerout","pointerover"]),Rs("onPointerLeave",["pointerout","pointerover"]),xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function Rg(Te,Pe){Pe=(Pe&4)!==0;for(var De=0;De<Te.length;De++){var Me=Te[De],Ye=Me.event;Me=Me.listeners;e:{var Ar=void 0;if(Pe)for(var Ur=Me.length-1;0<=Ur;Ur--){var Wr=Me[Ur],Cn=Wr.instance,$n=Wr.currentTarget;if(Wr=Wr.listener,Cn!==Ar&&Ye.isPropagationStopped())break e;Ar=Wr,Ye.currentTarget=$n;try{Ar(Ye)}catch(li){Ph(li)}Ye.currentTarget=null,Ar=Cn}else for(Ur=0;Ur<Me.length;Ur++){if(Wr=Me[Ur],Cn=Wr.instance,$n=Wr.currentTarget,Wr=Wr.listener,Cn!==Ar&&Ye.isPropagationStopped())break e;Ar=Wr,Ye.currentTarget=$n;try{Ar(Ye)}catch(li){Ph(li)}Ye.currentTarget=null,Ar=Cn}}}}function es(Te,Pe){var De=Pe[ci];De===void 0&&(De=Pe[ci]=new Set);var Me=Te+"__bubble";De.has(Me)||(Bg(Pe,Te,2,!1),De.add(Me))}function lf(Te,Pe,De){var Me=0;Pe&&(Me|=4),Bg(De,Te,Me,Pe)}var Kh="_reactListening"+Math.random().toString(36).slice(2);function Af(Te){if(!Te[Kh]){Te[Kh]=!0,Zi.forEach(function(De){De!=="selectionchange"&&(l0.has(De)||lf(De,!1,Te),lf(De,!0,Te))});var Pe=Te.nodeType===9?Te:Te.ownerDocument;Pe===null||Pe[Kh]||(Pe[Kh]=!0,lf("selectionchange",!1,Pe))}}function Bg(Te,Pe,De,Me){switch($g(Pe)){case 2:var Ye=U0;break;case 8:Ye=L0;break;default:Ye=wf}De=Ye.bind(null,Pe,De,Te),Ye=void 0,!ma||Pe!=="touchstart"&&Pe!=="touchmove"&&Pe!=="wheel"||(Ye=!0),Me?Ye!==void 0?Te.addEventListener(Pe,De,{capture:!0,passive:Ye}):Te.addEventListener(Pe,De,!0):Ye!==void 0?Te.addEventListener(Pe,De,{passive:Ye}):Te.addEventListener(Pe,De,!1)}function cf(Te,Pe,De,Me,Ye){var Ar=Me;if((Pe&1)===0&&(Pe&2)===0&&Me!==null)e:for(;;){if(Me===null)return;var Ur=Me.tag;if(Ur===3||Ur===4){var Wr=Me.stateNode.containerInfo;if(Wr===Ye)break;if(Ur===4)for(Ur=Me.return;Ur!==null;){var Cn=Ur.tag;if((Cn===3||Cn===4)&&Ur.stateNode.containerInfo===Ye)return;Ur=Ur.return}for(;Wr!==null;){if(Ur=bi(Wr),Ur===null)return;if(Cn=Ur.tag,Cn===5||Cn===6||Cn===26||Cn===27){Me=Ar=Ur;continue e}Wr=Wr.parentNode}}Me=Me.return}NA(function(){var $n=Ar,li=ps(De),mi=[];e:{var ei=nl.get(Te);if(ei!==void 0){var ti=Bo,Qi=Te;switch(Te){case"keypress":if(Ra(De)===0)break e;case"keydown":case"keyup":ti=ho;break;case"focusin":Qi="focus",ti=Fo;break;case"focusout":Qi="blur",ti=Fo;break;case"beforeblur":case"afterblur":ti=Fo;break;case"click":if(De.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ti=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ti=Po;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ti=Sl;break;case MA:case Il:case Dl:ti=wl;break;case Ul:ti=kr;break;case"scroll":case"scrollend":ti=rA;break;case"wheel":ti=Tn;break;case"copy":case"cut":case"paste":ti=xl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ti=tl;break;case"toggle":case"beforetoggle":ti=ii}var Mi=(Pe&4)!==0,ws=!Mi&&(Te==="scroll"||Te==="scrollend"),qn=Mi?ei!==null?ei+"Capture":null:ei;Mi=[];for(var Un=$n,Xn;Un!==null;){var hi=Un;if(Xn=hi.stateNode,hi=hi.tag,hi!==5&&hi!==26&&hi!==27||Xn===null||qn===null||(hi=Aa(Un,qn),hi!=null&&Mi.push(qu(Un,hi,Xn))),ws)break;Un=Un.return}0<Mi.length&&(ei=new ti(ei,Qi,null,De,li),mi.push({event:ei,listeners:Mi}))}}if((Pe&7)===0){e:{if(ei=Te==="mouseover"||Te==="pointerover",ti=Te==="mouseout"||Te==="pointerout",ei&&De!==Ka&&(Qi=De.relatedTarget||De.fromElement)&&(bi(Qi)||Qi[zn]))break e;if((ti||ei)&&(ei=li.window===li?li:(ei=li.ownerDocument)?ei.defaultView||ei.parentWindow:window,ti?(Qi=De.relatedTarget||De.toElement,ti=$n,Qi=Qi?bi(Qi):null,Qi!==null&&(ws=Ce(Qi),Mi=Qi.tag,Qi!==ws||Mi!==5&&Mi!==27&&Mi!==6)&&(Qi=null)):(ti=null,Qi=$n),ti!==Qi)){if(Mi=Vs,hi="onMouseLeave",qn="onMouseEnter",Un="mouse",(Te==="pointerout"||Te==="pointerover")&&(Mi=tl,hi="onPointerLeave",qn="onPointerEnter",Un="pointer"),ws=ti==null?ei:Pi(ti),Xn=Qi==null?ei:Pi(Qi),ei=new Mi(hi,Un+"leave",ti,De,li),ei.target=ws,ei.relatedTarget=Xn,hi=null,bi(li)===$n&&(Mi=new Mi(qn,Un+"enter",Qi,De,li),Mi.target=Xn,Mi.relatedTarget=ws,hi=Mi),ws=hi,ti&&Qi)t:{for(Mi=ti,qn=Qi,Un=0,Xn=Mi;Xn;Xn=lu(Xn))Un++;for(Xn=0,hi=qn;hi;hi=lu(hi))Xn++;for(;0<Un-Xn;)Mi=lu(Mi),Un--;for(;0<Xn-Un;)qn=lu(qn),Xn--;for(;Un--;){if(Mi===qn||qn!==null&&Mi===qn.alternate)break t;Mi=lu(Mi),qn=lu(qn)}Mi=null}else Mi=null;ti!==null&&Pg(mi,ei,ti,Mi,!1),Qi!==null&&ws!==null&&Pg(mi,ws,Qi,Mi,!0)}}e:{if(ei=$n?Pi($n):window,ti=ei.nodeName&&ei.nodeName.toLowerCase(),ti==="select"||ti==="input"&&ei.type==="file")var Fi=OA;else if(ds(ei))if(iA)Fi=Oc;else{Fi=mu;var Ji=Pa}else ti=ei.nodeName,!ti||ti.toLowerCase()!=="input"||ei.type!=="checkbox"&&ei.type!=="radio"?$n&&eA($n.elementType)&&(Fi=OA):Fi=fc;if(Fi&&(Fi=Fi(Te,$n))){Ya(mi,Fi,De,li);break e}Ji&&Ji(Te,ei,$n),Te==="focusout"&&$n&&ei.type==="number"&&$n.memoizedProps.value!=null&&So(ei,"number",ei.value)}switch(Ji=$n?Pi($n):window,Te){case"focusin":(ds(Ji)||Ji.contentEditable==="true")&&(Fa=Ji,fo=$n,Lo=null);break;case"focusout":Lo=fo=Fa=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,Ps(mi,De,li);break;case"selectionchange":if(Fl)break;case"keydown":case"keyup":Ps(mi,De,li)}var Ni;if(Si)e:{switch(Te){case"compositionstart":var ji="onCompositionStart";break e;case"compositionend":ji="onCompositionEnd";break e;case"compositionupdate":ji="onCompositionUpdate";break e}ji=void 0}else ki?Jn(Te,De)&&(ji="onCompositionEnd"):Te==="keydown"&&De.keyCode===229&&(ji="onCompositionStart");ji&&(Br&&De.locale!=="ko"&&(ki||ji!=="onCompositionStart"?ji==="onCompositionEnd"&&ki&&(Ni=tA()):(Ta=li,Ro="value"in Ta?Ta.value:Ta.textContent,ki=!0)),Ji=qh($n,ji),0<Ji.length&&(ji=new Zo(ji,Te,null,De,li),mi.push({event:ji,listeners:Ji}),Ni?ji.data=Ni:(Ni=_i(De),Ni!==null&&(ji.data=Ni)))),(Ni=gr?Yi(Te,De):Hi(Te,De))&&(ji=qh($n,"onBeforeInput"),0<ji.length&&(Ji=new Zo("onBeforeInput","beforeinput",null,De,li),mi.push({event:Ji,listeners:ji}),Ji.data=Ni)),s0(mi,Te,$n,De,li)}Rg(mi,Pe)})}function qu(Te,Pe,De){return{instance:Te,listener:Pe,currentTarget:De}}function qh(Te,Pe){for(var De=Pe+"Capture",Me=[];Te!==null;){var Ye=Te,Ar=Ye.stateNode;if(Ye=Ye.tag,Ye!==5&&Ye!==26&&Ye!==27||Ar===null||(Ye=Aa(Te,De),Ye!=null&&Me.unshift(qu(Te,Ye,Ar)),Ye=Aa(Te,Pe),Ye!=null&&Me.push(qu(Te,Ye,Ar))),Te.tag===3)return Me;Te=Te.return}return[]}function lu(Te){if(Te===null)return null;do Te=Te.return;while(Te&&Te.tag!==5&&Te.tag!==27);return Te||null}function Pg(Te,Pe,De,Me,Ye){for(var Ar=Pe._reactName,Ur=[];De!==null&&De!==Me;){var Wr=De,Cn=Wr.alternate,$n=Wr.stateNode;if(Wr=Wr.tag,Cn!==null&&Cn===Me)break;Wr!==5&&Wr!==26&&Wr!==27||$n===null||(Cn=$n,Ye?($n=Aa(De,Ar),$n!=null&&Ur.unshift(qu(De,$n,Cn))):Ye||($n=Aa(De,Ar),$n!=null&&Ur.push(qu(De,$n,Cn)))),De=De.return}Ur.length!==0&&Te.push({event:Pe,listeners:Ur})}var A0=/\r\n?/g,c0=/\u0000|\uFFFD/g;function Fg(Te){return(typeof Te=="string"?Te:""+Te).replace(A0,`
`).replace(c0,"")}function Ig(Te,Pe){return Pe=Fg(Pe),Fg(Te)===Pe}function Gh(){}function bs(Te,Pe,De,Me,Ye,Ar){switch(De){case"children":typeof Me=="string"?Pe==="body"||Pe==="textarea"&&Me===""||Ca(Te,Me):(typeof Me=="number"||typeof Me=="bigint")&&Pe!=="body"&&Ca(Te,""+Me);break;case"className":La(Te,"class",Me);break;case"tabIndex":La(Te,"tabindex",Me);break;case"dir":case"role":case"viewBox":case"width":case"height":La(Te,De,Me);break;case"style":$l(Te,Me,Ar);break;case"data":if(Pe!=="object"){La(Te,"data",Me);break}case"src":case"href":if(Me===""&&(Pe!=="a"||De!=="href")){Te.removeAttribute(De);break}if(Me==null||typeof Me=="function"||typeof Me=="symbol"||typeof Me=="boolean"){Te.removeAttribute(De);break}Me=lo(""+Me),Te.setAttribute(De,Me);break;case"action":case"formAction":if(typeof Me=="function"){Te.setAttribute(De,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Ar=="function"&&(De==="formAction"?(Pe!=="input"&&bs(Te,Pe,"name",Ye.name,Ye,null),bs(Te,Pe,"formEncType",Ye.formEncType,Ye,null),bs(Te,Pe,"formMethod",Ye.formMethod,Ye,null),bs(Te,Pe,"formTarget",Ye.formTarget,Ye,null)):(bs(Te,Pe,"encType",Ye.encType,Ye,null),bs(Te,Pe,"method",Ye.method,Ye,null),bs(Te,Pe,"target",Ye.target,Ye,null)));if(Me==null||typeof Me=="symbol"||typeof Me=="boolean"){Te.removeAttribute(De);break}Me=lo(""+Me),Te.setAttribute(De,Me);break;case"onClick":Me!=null&&(Te.onclick=Gh);break;case"onScroll":Me!=null&&es("scroll",Te);break;case"onScrollEnd":Me!=null&&es("scrollend",Te);break;case"dangerouslySetInnerHTML":if(Me!=null){if(typeof Me!="object"||!("__html"in Me))throw Error(_e(61));if(De=Me.__html,De!=null){if(Ye.children!=null)throw Error(_e(60));Te.innerHTML=De}}break;case"multiple":Te.multiple=Me&&typeof Me!="function"&&typeof Me!="symbol";break;case"muted":Te.muted=Me&&typeof Me!="function"&&typeof Me!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(Me==null||typeof Me=="function"||typeof Me=="boolean"||typeof Me=="symbol"){Te.removeAttribute("xlink:href");break}De=lo(""+Me),Te.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",De);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":Me!=null&&typeof Me!="function"&&typeof Me!="symbol"?Te.setAttribute(De,""+Me):Te.removeAttribute(De);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Me&&typeof Me!="function"&&typeof Me!="symbol"?Te.setAttribute(De,""):Te.removeAttribute(De);break;case"capture":case"download":Me===!0?Te.setAttribute(De,""):Me!==!1&&Me!=null&&typeof Me!="function"&&typeof Me!="symbol"?Te.setAttribute(De,Me):Te.removeAttribute(De);break;case"cols":case"rows":case"size":case"span":Me!=null&&typeof Me!="function"&&typeof Me!="symbol"&&!isNaN(Me)&&1<=Me?Te.setAttribute(De,Me):Te.removeAttribute(De);break;case"rowSpan":case"start":Me==null||typeof Me=="function"||typeof Me=="symbol"||isNaN(Me)?Te.removeAttribute(De):Te.setAttribute(De,Me);break;case"popover":es("beforetoggle",Te),es("toggle",Te),Ua(Te,"popover",Me);break;case"xlinkActuate":Gs(Te,"http://www.w3.org/1999/xlink","xlink:actuate",Me);break;case"xlinkArcrole":Gs(Te,"http://www.w3.org/1999/xlink","xlink:arcrole",Me);break;case"xlinkRole":Gs(Te,"http://www.w3.org/1999/xlink","xlink:role",Me);break;case"xlinkShow":Gs(Te,"http://www.w3.org/1999/xlink","xlink:show",Me);break;case"xlinkTitle":Gs(Te,"http://www.w3.org/1999/xlink","xlink:title",Me);break;case"xlinkType":Gs(Te,"http://www.w3.org/1999/xlink","xlink:type",Me);break;case"xmlBase":Gs(Te,"http://www.w3.org/XML/1998/namespace","xml:base",Me);break;case"xmlLang":Gs(Te,"http://www.w3.org/XML/1998/namespace","xml:lang",Me);break;case"xmlSpace":Gs(Te,"http://www.w3.org/XML/1998/namespace","xml:space",Me);break;case"is":Ua(Te,"is",Me);break;case"innerText":case"textContent":break;default:(!(2<De.length)||De[0]!=="o"&&De[0]!=="O"||De[1]!=="n"&&De[1]!=="N")&&(De=oo.get(De)||De,Ua(Te,De,Me))}}function uf(Te,Pe,De,Me,Ye,Ar){switch(De){case"style":$l(Te,Me,Ar);break;case"dangerouslySetInnerHTML":if(Me!=null){if(typeof Me!="object"||!("__html"in Me))throw Error(_e(61));if(De=Me.__html,De!=null){if(Ye.children!=null)throw Error(_e(60));Te.innerHTML=De}}break;case"children":typeof Me=="string"?Ca(Te,Me):(typeof Me=="number"||typeof Me=="bigint")&&Ca(Te,""+Me);break;case"onScroll":Me!=null&&es("scroll",Te);break;case"onScrollEnd":Me!=null&&es("scrollend",Te);break;case"onClick":Me!=null&&(Te.onclick=Gh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ns.hasOwnProperty(De))e:{if(De[0]==="o"&&De[1]==="n"&&(Ye=De.endsWith("Capture"),Pe=De.slice(2,Ye?De.length-7:void 0),Ar=Te[Nn]||null,Ar=Ar!=null?Ar[De]:null,typeof Ar=="function"&&Te.removeEventListener(Pe,Ar,Ye),typeof Me=="function")){typeof Ar!="function"&&Ar!==null&&(De in Te?Te[De]=null:Te.hasAttribute(De)&&Te.removeAttribute(De)),Te.addEventListener(Pe,Me,Ye);break e}De in Te?Te[De]=Me:Me===!0?Te.setAttribute(De,""):Ua(Te,De,Me)}}}function xa(Te,Pe,De){switch(Pe){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":es("error",Te),es("load",Te);var Me=!1,Ye=!1,Ar;for(Ar in De)if(De.hasOwnProperty(Ar)){var Ur=De[Ar];if(Ur!=null)switch(Ar){case"src":Me=!0;break;case"srcSet":Ye=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(_e(137,Pe));default:bs(Te,Pe,Ar,Ur,De,null)}}Ye&&bs(Te,Pe,"srcSet",De.srcSet,De,null),Me&&bs(Te,Pe,"src",De.src,De,null);return;case"input":es("invalid",Te);var Wr=Ar=Ur=Ye=null,Cn=null,$n=null;for(Me in De)if(De.hasOwnProperty(Me)){var li=De[Me];if(li!=null)switch(Me){case"name":Ye=li;break;case"type":Ur=li;break;case"checked":Cn=li;break;case"defaultChecked":$n=li;break;case"value":Ar=li;break;case"defaultValue":Wr=li;break;case"children":case"dangerouslySetInnerHTML":if(li!=null)throw Error(_e(137,Pe));break;default:bs(Te,Pe,Me,li,De,null)}}Co(Te,Ar,Wr,Cn,$n,Ur,Ye,!1),xo(Te);return;case"select":es("invalid",Te),Me=Ur=Ar=null;for(Ye in De)if(De.hasOwnProperty(Ye)&&(Wr=De[Ye],Wr!=null))switch(Ye){case"value":Ar=Wr;break;case"defaultValue":Ur=Wr;break;case"multiple":Me=Wr;default:bs(Te,Pe,Ye,Wr,De,null)}Pe=Ar,De=Ur,Te.multiple=!!Me,Pe!=null?Ha(Te,!!Me,Pe,!1):De!=null&&Ha(Te,!!Me,De,!0);return;case"textarea":es("invalid",Te),Ar=Ye=Me=null;for(Ur in De)if(De.hasOwnProperty(Ur)&&(Wr=De[Ur],Wr!=null))switch(Ur){case"value":Me=Wr;break;case"defaultValue":Ye=Wr;break;case"children":Ar=Wr;break;case"dangerouslySetInnerHTML":if(Wr!=null)throw Error(_e(91));break;default:bs(Te,Pe,Ur,Wr,De,null)}To(Te,Me,Ye,Ar),xo(Te);return;case"option":for(Cn in De)if(De.hasOwnProperty(Cn)&&(Me=De[Cn],Me!=null))switch(Cn){case"selected":Te.selected=Me&&typeof Me!="function"&&typeof Me!="symbol";break;default:bs(Te,Pe,Cn,Me,De,null)}return;case"dialog":es("beforetoggle",Te),es("toggle",Te),es("cancel",Te),es("close",Te);break;case"iframe":case"object":es("load",Te);break;case"video":case"audio":for(Me=0;Me<Ku.length;Me++)es(Ku[Me],Te);break;case"image":es("error",Te),es("load",Te);break;case"details":es("toggle",Te);break;case"embed":case"source":case"link":es("error",Te),es("load",Te);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($n in De)if(De.hasOwnProperty($n)&&(Me=De[$n],Me!=null))switch($n){case"children":case"dangerouslySetInnerHTML":throw Error(_e(137,Pe));default:bs(Te,Pe,$n,Me,De,null)}return;default:if(eA(Pe)){for(li in De)De.hasOwnProperty(li)&&(Me=De[li],Me!==void 0&&uf(Te,Pe,li,Me,De,void 0));return}}for(Wr in De)De.hasOwnProperty(Wr)&&(Me=De[Wr],Me!=null&&bs(Te,Pe,Wr,Me,De,null))}function u0(Te,Pe,De,Me){switch(Pe){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Ye=null,Ar=null,Ur=null,Wr=null,Cn=null,$n=null,li=null;for(ti in De){var mi=De[ti];if(De.hasOwnProperty(ti)&&mi!=null)switch(ti){case"checked":break;case"value":break;case"defaultValue":Cn=mi;default:Me.hasOwnProperty(ti)||bs(Te,Pe,ti,null,Me,mi)}}for(var ei in Me){var ti=Me[ei];if(mi=De[ei],Me.hasOwnProperty(ei)&&(ti!=null||mi!=null))switch(ei){case"type":Ar=ti;break;case"name":Ye=ti;break;case"checked":$n=ti;break;case"defaultChecked":li=ti;break;case"value":Ur=ti;break;case"defaultValue":Wr=ti;break;case"children":case"dangerouslySetInnerHTML":if(ti!=null)throw Error(_e(137,Pe));break;default:ti!==mi&&bs(Te,Pe,ei,ti,Me,mi)}}sa(Te,Ur,Wr,Cn,$n,li,Ar,Ye);return;case"select":ti=Ur=Wr=ei=null;for(Ar in De)if(Cn=De[Ar],De.hasOwnProperty(Ar)&&Cn!=null)switch(Ar){case"value":break;case"multiple":ti=Cn;default:Me.hasOwnProperty(Ar)||bs(Te,Pe,Ar,null,Me,Cn)}for(Ye in Me)if(Ar=Me[Ye],Cn=De[Ye],Me.hasOwnProperty(Ye)&&(Ar!=null||Cn!=null))switch(Ye){case"value":ei=Ar;break;case"defaultValue":Wr=Ar;break;case"multiple":Ur=Ar;default:Ar!==Cn&&bs(Te,Pe,Ye,Ar,Me,Cn)}Pe=Wr,De=Ur,Me=ti,ei!=null?Ha(Te,!!De,ei,!1):!!Me!=!!De&&(Pe!=null?Ha(Te,!!De,Pe,!0):Ha(Te,!!De,De?[]:"",!1));return;case"textarea":ti=ei=null;for(Wr in De)if(Ye=De[Wr],De.hasOwnProperty(Wr)&&Ye!=null&&!Me.hasOwnProperty(Wr))switch(Wr){case"value":break;case"children":break;default:bs(Te,Pe,Wr,null,Me,Ye)}for(Ur in Me)if(Ye=Me[Ur],Ar=De[Ur],Me.hasOwnProperty(Ur)&&(Ye!=null||Ar!=null))switch(Ur){case"value":ei=Ye;break;case"defaultValue":ti=Ye;break;case"children":break;case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(_e(91));break;default:Ye!==Ar&&bs(Te,Pe,Ur,Ye,Me,Ar)}os(Te,ei,ti);return;case"option":for(var Qi in De)if(ei=De[Qi],De.hasOwnProperty(Qi)&&ei!=null&&!Me.hasOwnProperty(Qi))switch(Qi){case"selected":Te.selected=!1;break;default:bs(Te,Pe,Qi,null,Me,ei)}for(Cn in Me)if(ei=Me[Cn],ti=De[Cn],Me.hasOwnProperty(Cn)&&ei!==ti&&(ei!=null||ti!=null))switch(Cn){case"selected":Te.selected=ei&&typeof ei!="function"&&typeof ei!="symbol";break;default:bs(Te,Pe,Cn,ei,Me,ti)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mi in De)ei=De[Mi],De.hasOwnProperty(Mi)&&ei!=null&&!Me.hasOwnProperty(Mi)&&bs(Te,Pe,Mi,null,Me,ei);for($n in Me)if(ei=Me[$n],ti=De[$n],Me.hasOwnProperty($n)&&ei!==ti&&(ei!=null||ti!=null))switch($n){case"children":case"dangerouslySetInnerHTML":if(ei!=null)throw Error(_e(137,Pe));break;default:bs(Te,Pe,$n,ei,Me,ti)}return;default:if(eA(Pe)){for(var ws in De)ei=De[ws],De.hasOwnProperty(ws)&&ei!==void 0&&!Me.hasOwnProperty(ws)&&uf(Te,Pe,ws,void 0,Me,ei);for(li in Me)ei=Me[li],ti=De[li],!Me.hasOwnProperty(li)||ei===ti||ei===void 0&&ti===void 0||uf(Te,Pe,li,ei,Me,ti);return}}for(var qn in De)ei=De[qn],De.hasOwnProperty(qn)&&ei!=null&&!Me.hasOwnProperty(qn)&&bs(Te,Pe,qn,null,Me,ei);for(mi in Me)ei=Me[mi],ti=De[mi],!Me.hasOwnProperty(mi)||ei===ti||ei==null&&ti==null||bs(Te,Pe,mi,ei,Me,ti)}var hf=null,df=null;function zh(Te){return Te.nodeType===9?Te:Te.ownerDocument}function Dg(Te){switch(Te){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ng(Te,Pe){if(Te===0)switch(Pe){case"svg":return 1;case"math":return 2;default:return 0}return Te===1&&Pe==="foreignObject"?0:Te}function ff(Te,Pe){return Te==="textarea"||Te==="noscript"||typeof Pe.children=="string"||typeof Pe.children=="number"||typeof Pe.children=="bigint"||typeof Pe.dangerouslySetInnerHTML=="object"&&Pe.dangerouslySetInnerHTML!==null&&Pe.dangerouslySetInnerHTML.__html!=null}var pf=null;function h0(){var Te=window.event;return Te&&Te.type==="popstate"?Te===pf?!1:(pf=Te,!0):(pf=null,!1)}var Ug=typeof setTimeout=="function"?setTimeout:void 0,d0=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,f0=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(Te){return Lg.resolve(null).then(Te).catch(p0)}:Ug;function p0(Te){setTimeout(function(){throw Te})}function oc(Te){return Te==="head"}function Og(Te,Pe){var De=Pe,Me=0,Ye=0;do{var Ar=De.nextSibling;if(Te.removeChild(De),Ar&&Ar.nodeType===8)if(De=Ar.data,De==="/$"){if(0<Me&&8>Me){De=Me;var Ur=Te.ownerDocument;if(De&1&&Gu(Ur.documentElement),De&2&&Gu(Ur.body),De&4)for(De=Ur.head,Gu(De),Ur=De.firstChild;Ur;){var Wr=Ur.nextSibling,Cn=Ur.nodeName;Ur[fi]||Cn==="SCRIPT"||Cn==="STYLE"||Cn==="LINK"&&Ur.rel.toLowerCase()==="stylesheet"||De.removeChild(Ur),Ur=Wr}}if(Ye===0){Te.removeChild(Ar),eh(Pe);return}Ye--}else De==="$"||De==="$?"||De==="$!"?Ye++:Me=De.charCodeAt(0)-48;else Me=0;De=Ar}while(De);eh(Pe)}function gf(Te){var Pe=Te.firstChild;for(Pe&&Pe.nodeType===10&&(Pe=Pe.nextSibling);Pe;){var De=Pe;switch(Pe=Pe.nextSibling,De.nodeName){case"HTML":case"HEAD":case"BODY":gf(De),yi(De);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(De.rel.toLowerCase()==="stylesheet")continue}Te.removeChild(De)}}function g0(Te,Pe,De,Me){for(;Te.nodeType===1;){var Ye=De;if(Te.nodeName.toLowerCase()!==Pe.toLowerCase()){if(!Me&&(Te.nodeName!=="INPUT"||Te.type!=="hidden"))break}else if(Me){if(!Te[fi])switch(Pe){case"meta":if(!Te.hasAttribute("itemprop"))break;return Te;case"link":if(Ar=Te.getAttribute("rel"),Ar==="stylesheet"&&Te.hasAttribute("data-precedence"))break;if(Ar!==Ye.rel||Te.getAttribute("href")!==(Ye.href==null||Ye.href===""?null:Ye.href)||Te.getAttribute("crossorigin")!==(Ye.crossOrigin==null?null:Ye.crossOrigin)||Te.getAttribute("title")!==(Ye.title==null?null:Ye.title))break;return Te;case"style":if(Te.hasAttribute("data-precedence"))break;return Te;case"script":if(Ar=Te.getAttribute("src"),(Ar!==(Ye.src==null?null:Ye.src)||Te.getAttribute("type")!==(Ye.type==null?null:Ye.type)||Te.getAttribute("crossorigin")!==(Ye.crossOrigin==null?null:Ye.crossOrigin))&&Ar&&Te.hasAttribute("async")&&!Te.hasAttribute("itemprop"))break;return Te;default:return Te}}else if(Pe==="input"&&Te.type==="hidden"){var Ar=Ye.name==null?null:""+Ye.name;if(Ye.type==="hidden"&&Te.getAttribute("name")===Ar)return Te}else return Te;if(Te=vl(Te.nextSibling),Te===null)break}return null}function m0(Te,Pe,De){if(Pe==="")return null;for(;Te.nodeType!==3;)if((Te.nodeType!==1||Te.nodeName!=="INPUT"||Te.type!=="hidden")&&!De||(Te=vl(Te.nextSibling),Te===null))return null;return Te}function mf(Te){return Te.data==="$!"||Te.data==="$?"&&Te.ownerDocument.readyState==="complete"}function v0(Te,Pe){var De=Te.ownerDocument;if(Te.data!=="$?"||De.readyState==="complete")Pe();else{var Me=function(){Pe(),De.removeEventListener("DOMContentLoaded",Me)};De.addEventListener("DOMContentLoaded",Me),Te._reactRetry=Me}}function vl(Te){for(;Te!=null;Te=Te.nextSibling){var Pe=Te.nodeType;if(Pe===1||Pe===3)break;if(Pe===8){if(Pe=Te.data,Pe==="$"||Pe==="$!"||Pe==="$?"||Pe==="F!"||Pe==="F")break;if(Pe==="/$")return null}}return Te}var vf=null;function kg(Te){Te=Te.previousSibling;for(var Pe=0;Te;){if(Te.nodeType===8){var De=Te.data;if(De==="$"||De==="$!"||De==="$?"){if(Pe===0)return Te;Pe--}else De==="/$"&&Pe++}Te=Te.previousSibling}return null}function Mg(Te,Pe,De){switch(Pe=zh(De),Te){case"html":if(Te=Pe.documentElement,!Te)throw Error(_e(452));return Te;case"head":if(Te=Pe.head,!Te)throw Error(_e(453));return Te;case"body":if(Te=Pe.body,!Te)throw Error(_e(454));return Te;default:throw Error(_e(451))}}function Gu(Te){for(var Pe=Te.attributes;Pe.length;)Te.removeAttributeNode(Pe[0]);yi(Te)}var Go=new Map,jg=new Set;function Wh(Te){return typeof Te.getRootNode=="function"?Te.getRootNode():Te.nodeType===9?Te:Te.ownerDocument}var TA=ur.d;ur.d={f:y0,r:E0,D:_0,C:b0,L:w0,m:x0,X:S0,S:C0,M:T0};function y0(){var Te=TA.f(),Pe=Mh();return Te||Pe}function E0(Te){var Pe=Ci(Te);Pe!==null&&Pe.tag===5&&Pe.type==="form"?Pc(Pe):TA.r(Te)}var Au=typeof document>"u"?null:document;function Vg(Te,Pe,De){var Me=Au;if(Me&&typeof Pe=="string"&&Pe){var Ye=ts(Pe);Ye='link[rel="'+Te+'"][href="'+Ye+'"]',typeof De=="string"&&(Ye+='[crossorigin="'+De+'"]'),jg.has(Ye)||(jg.add(Ye),Te={rel:Te,crossOrigin:De,href:Pe},Me.querySelector(Ye)===null&&(Pe=Me.createElement("link"),xa(Pe,"link",Te),Li(Pe),Me.head.appendChild(Pe)))}}function _0(Te){TA.D(Te),Vg("dns-prefetch",Te,null)}function b0(Te,Pe){TA.C(Te,Pe),Vg("preconnect",Te,Pe)}function w0(Te,Pe,De){TA.L(Te,Pe,De);var Me=Au;if(Me&&Te&&Pe){var Ye='link[rel="preload"][as="'+ts(Pe)+'"]';Pe==="image"&&De&&De.imageSrcSet?(Ye+='[imagesrcset="'+ts(De.imageSrcSet)+'"]',typeof De.imageSizes=="string"&&(Ye+='[imagesizes="'+ts(De.imageSizes)+'"]')):Ye+='[href="'+ts(Te)+'"]';var Ar=Ye;switch(Pe){case"style":Ar=cu(Te);break;case"script":Ar=uu(Te)}Go.has(Ar)||(Te=Ie({rel:"preload",href:Pe==="image"&&De&&De.imageSrcSet?void 0:Te,as:Pe},De),Go.set(Ar,Te),Me.querySelector(Ye)!==null||Pe==="style"&&Me.querySelector(zu(Ar))||Pe==="script"&&Me.querySelector(Wu(Ar))||(Pe=Me.createElement("link"),xa(Pe,"link",Te),Li(Pe),Me.head.appendChild(Pe)))}}function x0(Te,Pe){TA.m(Te,Pe);var De=Au;if(De&&Te){var Me=Pe&&typeof Pe.as=="string"?Pe.as:"script",Ye='link[rel="modulepreload"][as="'+ts(Me)+'"][href="'+ts(Te)+'"]',Ar=Ye;switch(Me){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Ar=uu(Te)}if(!Go.has(Ar)&&(Te=Ie({rel:"modulepreload",href:Te},Pe),Go.set(Ar,Te),De.querySelector(Ye)===null)){switch(Me){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(De.querySelector(Wu(Ar)))return}Me=De.createElement("link"),xa(Me,"link",Te),Li(Me),De.head.appendChild(Me)}}}function C0(Te,Pe,De){TA.S(Te,Pe,De);var Me=Au;if(Me&&Te){var Ye=Ii(Me).hoistableStyles,Ar=cu(Te);Pe=Pe||"default";var Ur=Ye.get(Ar);if(!Ur){var Wr={loading:0,preload:null};if(Ur=Me.querySelector(zu(Ar)))Wr.loading=5;else{Te=Ie({rel:"stylesheet",href:Te,"data-precedence":Pe},De),(De=Go.get(Ar))&&yf(Te,De);var Cn=Ur=Me.createElement("link");Li(Cn),xa(Cn,"link",Te),Cn._p=new Promise(function($n,li){Cn.onload=$n,Cn.onerror=li}),Cn.addEventListener("load",function(){Wr.loading|=1}),Cn.addEventListener("error",function(){Wr.loading|=2}),Wr.loading|=4,Xh(Ur,Pe,Me)}Ur={type:"stylesheet",instance:Ur,count:1,state:Wr},Ye.set(Ar,Ur)}}}function S0(Te,Pe){TA.X(Te,Pe);var De=Au;if(De&&Te){var Me=Ii(De).hoistableScripts,Ye=uu(Te),Ar=Me.get(Ye);Ar||(Ar=De.querySelector(Wu(Ye)),Ar||(Te=Ie({src:Te,async:!0},Pe),(Pe=Go.get(Ye))&&Ef(Te,Pe),Ar=De.createElement("script"),Li(Ar),xa(Ar,"link",Te),De.head.appendChild(Ar)),Ar={type:"script",instance:Ar,count:1,state:null},Me.set(Ye,Ar))}}function T0(Te,Pe){TA.M(Te,Pe);var De=Au;if(De&&Te){var Me=Ii(De).hoistableScripts,Ye=uu(Te),Ar=Me.get(Ye);Ar||(Ar=De.querySelector(Wu(Ye)),Ar||(Te=Ie({src:Te,async:!0,type:"module"},Pe),(Pe=Go.get(Ye))&&Ef(Te,Pe),Ar=De.createElement("script"),Li(Ar),xa(Ar,"link",Te),De.head.appendChild(Ar)),Ar={type:"script",instance:Ar,count:1,state:null},Me.set(Ye,Ar))}}function Qg(Te,Pe,De,Me){var Ye=(Ye=Er.current)?Wh(Ye):null;if(!Ye)throw Error(_e(446));switch(Te){case"meta":case"title":return null;case"style":return typeof De.precedence=="string"&&typeof De.href=="string"?(Pe=cu(De.href),De=Ii(Ye).hoistableStyles,Me=De.get(Pe),Me||(Me={type:"style",instance:null,count:0,state:null},De.set(Pe,Me)),Me):{type:"void",instance:null,count:0,state:null};case"link":if(De.rel==="stylesheet"&&typeof De.href=="string"&&typeof De.precedence=="string"){Te=cu(De.href);var Ar=Ii(Ye).hoistableStyles,Ur=Ar.get(Te);if(Ur||(Ye=Ye.ownerDocument||Ye,Ur={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Ar.set(Te,Ur),(Ar=Ye.querySelector(zu(Te)))&&!Ar._p&&(Ur.instance=Ar,Ur.state.loading=5),Go.has(Te)||(De={rel:"preload",as:"style",href:De.href,crossOrigin:De.crossOrigin,integrity:De.integrity,media:De.media,hrefLang:De.hrefLang,referrerPolicy:De.referrerPolicy},Go.set(Te,De),Ar||R0(Ye,Te,De,Ur.state))),Pe&&Me===null)throw Error(_e(528,""));return Ur}if(Pe&&Me!==null)throw Error(_e(529,""));return null;case"script":return Pe=De.async,De=De.src,typeof De=="string"&&Pe&&typeof Pe!="function"&&typeof Pe!="symbol"?(Pe=uu(De),De=Ii(Ye).hoistableScripts,Me=De.get(Pe),Me||(Me={type:"script",instance:null,count:0,state:null},De.set(Pe,Me)),Me):{type:"void",instance:null,count:0,state:null};default:throw Error(_e(444,Te))}}function cu(Te){return'href="'+ts(Te)+'"'}function zu(Te){return'link[rel="stylesheet"]['+Te+"]"}function Hg(Te){return Ie({},Te,{"data-precedence":Te.precedence,precedence:null})}function R0(Te,Pe,De,Me){Te.querySelector('link[rel="preload"][as="style"]['+Pe+"]")?Me.loading=1:(Pe=Te.createElement("link"),Me.preload=Pe,Pe.addEventListener("load",function(){return Me.loading|=1}),Pe.addEventListener("error",function(){return Me.loading|=2}),xa(Pe,"link",De),Li(Pe),Te.head.appendChild(Pe))}function uu(Te){return'[src="'+ts(Te)+'"]'}function Wu(Te){return"script[async]"+Te}function Kg(Te,Pe,De){if(Pe.count++,Pe.instance===null)switch(Pe.type){case"style":var Me=Te.querySelector('style[data-href~="'+ts(De.href)+'"]');if(Me)return Pe.instance=Me,Li(Me),Me;var Ye=Ie({},De,{"data-href":De.href,"data-precedence":De.precedence,href:null,precedence:null});return Me=(Te.ownerDocument||Te).createElement("style"),Li(Me),xa(Me,"style",Ye),Xh(Me,De.precedence,Te),Pe.instance=Me;case"stylesheet":Ye=cu(De.href);var Ar=Te.querySelector(zu(Ye));if(Ar)return Pe.state.loading|=4,Pe.instance=Ar,Li(Ar),Ar;Me=Hg(De),(Ye=Go.get(Ye))&&yf(Me,Ye),Ar=(Te.ownerDocument||Te).createElement("link"),Li(Ar);var Ur=Ar;return Ur._p=new Promise(function(Wr,Cn){Ur.onload=Wr,Ur.onerror=Cn}),xa(Ar,"link",Me),Pe.state.loading|=4,Xh(Ar,De.precedence,Te),Pe.instance=Ar;case"script":return Ar=uu(De.src),(Ye=Te.querySelector(Wu(Ar)))?(Pe.instance=Ye,Li(Ye),Ye):(Me=De,(Ye=Go.get(Ar))&&(Me=Ie({},De),Ef(Me,Ye)),Te=Te.ownerDocument||Te,Ye=Te.createElement("script"),Li(Ye),xa(Ye,"link",Me),Te.head.appendChild(Ye),Pe.instance=Ye);case"void":return null;default:throw Error(_e(443,Pe.type))}else Pe.type==="stylesheet"&&(Pe.state.loading&4)===0&&(Me=Pe.instance,Pe.state.loading|=4,Xh(Me,De.precedence,Te));return Pe.instance}function Xh(Te,Pe,De){for(var Me=De.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Ye=Me.length?Me[Me.length-1]:null,Ar=Ye,Ur=0;Ur<Me.length;Ur++){var Wr=Me[Ur];if(Wr.dataset.precedence===Pe)Ar=Wr;else if(Ar!==Ye)break}Ar?Ar.parentNode.insertBefore(Te,Ar.nextSibling):(Pe=De.nodeType===9?De.head:De,Pe.insertBefore(Te,Pe.firstChild))}function yf(Te,Pe){Te.crossOrigin==null&&(Te.crossOrigin=Pe.crossOrigin),Te.referrerPolicy==null&&(Te.referrerPolicy=Pe.referrerPolicy),Te.title==null&&(Te.title=Pe.title)}function Ef(Te,Pe){Te.crossOrigin==null&&(Te.crossOrigin=Pe.crossOrigin),Te.referrerPolicy==null&&(Te.referrerPolicy=Pe.referrerPolicy),Te.integrity==null&&(Te.integrity=Pe.integrity)}var Yh=null;function qg(Te,Pe,De){if(Yh===null){var Me=new Map,Ye=Yh=new Map;Ye.set(De,Me)}else Ye=Yh,Me=Ye.get(De),Me||(Me=new Map,Ye.set(De,Me));if(Me.has(Te))return Me;for(Me.set(Te,null),De=De.getElementsByTagName(Te),Ye=0;Ye<De.length;Ye++){var Ar=De[Ye];if(!(Ar[fi]||Ar[Rn]||Te==="link"&&Ar.getAttribute("rel")==="stylesheet")&&Ar.namespaceURI!=="http://www.w3.org/2000/svg"){var Ur=Ar.getAttribute(Pe)||"";Ur=Te+Ur;var Wr=Me.get(Ur);Wr?Wr.push(Ar):Me.set(Ur,[Ar])}}return Me}function Gg(Te,Pe,De){Te=Te.ownerDocument||Te,Te.head.insertBefore(De,Pe==="title"?Te.querySelector("head > title"):null)}function B0(Te,Pe,De){if(De===1||Pe.itemProp!=null)return!1;switch(Te){case"meta":case"title":return!0;case"style":if(typeof Pe.precedence!="string"||typeof Pe.href!="string"||Pe.href==="")break;return!0;case"link":if(typeof Pe.rel!="string"||typeof Pe.href!="string"||Pe.href===""||Pe.onLoad||Pe.onError)break;switch(Pe.rel){case"stylesheet":return Te=Pe.disabled,typeof Pe.precedence=="string"&&Te==null;default:return!0}case"script":if(Pe.async&&typeof Pe.async!="function"&&typeof Pe.async!="symbol"&&!Pe.onLoad&&!Pe.onError&&Pe.src&&typeof Pe.src=="string")return!0}return!1}function zg(Te){return!(Te.type==="stylesheet"&&(Te.state.loading&3)===0)}var Xu=null;function P0(){}function F0(Te,Pe,De){if(Xu===null)throw Error(_e(475));var Me=Xu;if(Pe.type==="stylesheet"&&(typeof De.media!="string"||matchMedia(De.media).matches!==!1)&&(Pe.state.loading&4)===0){if(Pe.instance===null){var Ye=cu(De.href),Ar=Te.querySelector(zu(Ye));if(Ar){Te=Ar._p,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"&&(Me.count++,Me=Jh.bind(Me),Te.then(Me,Me)),Pe.state.loading|=4,Pe.instance=Ar,Li(Ar);return}Ar=Te.ownerDocument||Te,De=Hg(De),(Ye=Go.get(Ye))&&yf(De,Ye),Ar=Ar.createElement("link"),Li(Ar);var Ur=Ar;Ur._p=new Promise(function(Wr,Cn){Ur.onload=Wr,Ur.onerror=Cn}),xa(Ar,"link",De),Pe.instance=Ar}Me.stylesheets===null&&(Me.stylesheets=new Map),Me.stylesheets.set(Pe,Te),(Te=Pe.state.preload)&&(Pe.state.loading&3)===0&&(Me.count++,Pe=Jh.bind(Me),Te.addEventListener("load",Pe),Te.addEventListener("error",Pe))}}function I0(){if(Xu===null)throw Error(_e(475));var Te=Xu;return Te.stylesheets&&Te.count===0&&_f(Te,Te.stylesheets),0<Te.count?function(Pe){var De=setTimeout(function(){if(Te.stylesheets&&_f(Te,Te.stylesheets),Te.unsuspend){var Me=Te.unsuspend;Te.unsuspend=null,Me()}},6e4);return Te.unsuspend=Pe,function(){Te.unsuspend=null,clearTimeout(De)}}:null}function Jh(){if(this.count--,this.count===0){if(this.stylesheets)_f(this,this.stylesheets);else if(this.unsuspend){var Te=this.unsuspend;this.unsuspend=null,Te()}}}var Zh=null;function _f(Te,Pe){Te.stylesheets=null,Te.unsuspend!==null&&(Te.count++,Zh=new Map,Pe.forEach(D0,Te),Zh=null,Jh.call(Te))}function D0(Te,Pe){if(!(Pe.state.loading&4)){var De=Zh.get(Te);if(De)var Me=De.get(null);else{De=new Map,Zh.set(Te,De);for(var Ye=Te.querySelectorAll("link[data-precedence],style[data-precedence]"),Ar=0;Ar<Ye.length;Ar++){var Ur=Ye[Ar];(Ur.nodeName==="LINK"||Ur.getAttribute("media")!=="not all")&&(De.set(Ur.dataset.precedence,Ur),Me=Ur)}Me&&De.set(null,Me)}Ye=Pe.instance,Ur=Ye.getAttribute("data-precedence"),Ar=De.get(Ur)||Me,Ar===Me&&De.set(null,Ye),De.set(Ur,Ye),this.count++,Me=Jh.bind(this),Ye.addEventListener("load",Me),Ye.addEventListener("error",Me),Ar?Ar.parentNode.insertBefore(Ye,Ar.nextSibling):(Te=Te.nodeType===9?Te.head:Te,Te.insertBefore(Ye,Te.firstChild)),Pe.state.loading|=4}}var Yu={$$typeof:ir,Provider:null,Consumer:null,_currentValue:Cr,_currentValue2:Cr,_threadCount:0};function N0(Te,Pe,De,Me,Ye,Ar,Ur,Wr){this.tag=1,this.containerInfo=Te,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=Me,this.onUncaughtError=Ye,this.onCaughtError=Ar,this.onRecoverableError=Ur,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Wr,this.incompleteTransitions=new Map}function Wg(Te,Pe,De,Me,Ye,Ar,Ur,Wr,Cn,$n,li,mi){return Te=new N0(Te,Pe,De,Ur,Wr,Cn,$n,mi),Pe=1,Ar===!0&&(Pe|=24),Ar=da(3,null,null,Pe),Te.current=Ar,Ar.stateNode=Te,Pe=yu(),Pe.refCount++,Te.pooledCache=Pe,Pe.refCount++,Ar.memoizedState={element:Me,isDehydrated:De,cache:Pe},Fn(Ar),Te}function Xg(Te){return Te?(Te=ta,Te):ta}function Yg(Te,Pe,De,Me,Ye,Ar){Ye=Xg(Ye),Me.context===null?Me.context=Ye:Me.pendingContext=Ye,Me=ai(Pe),Me.payload={element:De},Ar=Ar===void 0?null:Ar,Ar!==null&&(Me.callback=Ar),De=gi(Te,Me,Pe),De!==null&&(wo(De,Te,Pe),Ai(De,Te,Pe))}function Jg(Te,Pe){if(Te=Te.memoizedState,Te!==null&&Te.dehydrated!==null){var De=Te.retryLane;Te.retryLane=De!==0&&De<Pe?De:Pe}}function bf(Te,Pe){Jg(Te,Pe),(Te=Te.alternate)&&Jg(Te,Pe)}function Zg(Te){if(Te.tag===13){var Pe=il(Te,67108864);Pe!==null&&wo(Pe,Te,67108864),bf(Te,67108864)}}var $h=!0;function U0(Te,Pe,De,Me){var Ye=vr.T;vr.T=null;var Ar=ur.p;try{ur.p=2,wf(Te,Pe,De,Me)}finally{ur.p=Ar,vr.T=Ye}}function L0(Te,Pe,De,Me){var Ye=vr.T;vr.T=null;var Ar=ur.p;try{ur.p=8,wf(Te,Pe,De,Me)}finally{ur.p=Ar,vr.T=Ye}}function wf(Te,Pe,De,Me){if($h){var Ye=xf(Me);if(Ye===null)cf(Te,Pe,Me,ed,De),em(Te,Me);else if(k0(Ye,Te,Pe,De,Me))Me.stopPropagation();else if(em(Te,Me),Pe&4&&-1<O0.indexOf(Te)){for(;Ye!==null;){var Ar=Ci(Ye);if(Ar!==null)switch(Ar.tag){case 3:if(Ar=Ar.stateNode,Ar.current.memoizedState.isDehydrated){var Ur=Kr(Ar.pendingLanes);if(Ur!==0){var Wr=Ar;for(Wr.pendingLanes|=2,Wr.entangledLanes|=2;Ur;){var Cn=1<<31-ni(Ur);Wr.entanglements[1]|=Cn,Ur&=~Cn}Xl(Ar),(ms&6)===0&&(Oh=dn()+500,Hu(0))}}break;case 13:Wr=il(Ar,2),Wr!==null&&wo(Wr,Ar,2),Mh(),bf(Ar,2)}if(Ar=xf(Me),Ar===null&&cf(Te,Pe,Me,ed,De),Ar===Ye)break;Ye=Ar}Ye!==null&&Me.stopPropagation()}else cf(Te,Pe,Me,null,De)}}function xf(Te){return Te=ps(Te),Cf(Te)}var ed=null;function Cf(Te){if(ed=null,Te=bi(Te),Te!==null){var Pe=Ce(Te);if(Pe===null)Te=null;else{var De=Pe.tag;if(De===13){if(Te=Se(Pe),Te!==null)return Te;Te=null}else if(De===3){if(Pe.stateNode.current.memoizedState.isDehydrated)return Pe.tag===3?Pe.stateNode.containerInfo:null;Te=null}else Pe!==Te&&(Te=null)}}return ed=Te,null}function $g(Te){switch(Te){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dr()){case jr:return 2;case hn:return 8;case pn:case xn:return 32;case Dn:return 268435456;default:return 32}default:return 32}}var Sf=!1,Ac=null,cc=null,uc=null,Ju=new Map,Zu=new Map,hc=[],O0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function em(Te,Pe){switch(Te){case"focusin":case"focusout":Ac=null;break;case"dragenter":case"dragleave":cc=null;break;case"mouseover":case"mouseout":uc=null;break;case"pointerover":case"pointerout":Ju.delete(Pe.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(Pe.pointerId)}}function $u(Te,Pe,De,Me,Ye,Ar){return Te===null||Te.nativeEvent!==Ar?(Te={blockedOn:Pe,domEventName:De,eventSystemFlags:Me,nativeEvent:Ar,targetContainers:[Ye]},Pe!==null&&(Pe=Ci(Pe),Pe!==null&&Zg(Pe)),Te):(Te.eventSystemFlags|=Me,Pe=Te.targetContainers,Ye!==null&&Pe.indexOf(Ye)===-1&&Pe.push(Ye),Te)}function k0(Te,Pe,De,Me,Ye){switch(Pe){case"focusin":return Ac=$u(Ac,Te,Pe,De,Me,Ye),!0;case"dragenter":return cc=$u(cc,Te,Pe,De,Me,Ye),!0;case"mouseover":return uc=$u(uc,Te,Pe,De,Me,Ye),!0;case"pointerover":var Ar=Ye.pointerId;return Ju.set(Ar,$u(Ju.get(Ar)||null,Te,Pe,De,Me,Ye)),!0;case"gotpointercapture":return Ar=Ye.pointerId,Zu.set(Ar,$u(Zu.get(Ar)||null,Te,Pe,De,Me,Ye)),!0}return!1}function tm(Te){var Pe=bi(Te.target);if(Pe!==null){var De=Ce(Pe);if(De!==null){if(Pe=De.tag,Pe===13){if(Pe=Se(De),Pe!==null){Te.blockedOn=Pe,gn(Te.priority,function(){if(De.tag===13){var Me=bo();Me=Zn(Me);var Ye=il(De,Me);Ye!==null&&wo(Ye,De,Me),bf(De,Me)}});return}}else if(Pe===3&&De.stateNode.current.memoizedState.isDehydrated){Te.blockedOn=De.tag===3?De.stateNode.containerInfo:null;return}}}Te.blockedOn=null}function rd(Te){if(Te.blockedOn!==null)return!1;for(var Pe=Te.targetContainers;0<Pe.length;){var De=xf(Te.nativeEvent);if(De===null){De=Te.nativeEvent;var Me=new De.constructor(De.type,De);Ka=Me,De.target.dispatchEvent(Me),Ka=null}else return Pe=Ci(De),Pe!==null&&Zg(Pe),Te.blockedOn=De,!1;Pe.shift()}return!0}function rm(Te,Pe,De){rd(Te)&&De.delete(Pe)}function M0(){Sf=!1,Ac!==null&&rd(Ac)&&(Ac=null),cc!==null&&rd(cc)&&(cc=null),uc!==null&&rd(uc)&&(uc=null),Ju.forEach(rm),Zu.forEach(rm)}function nd(Te,Pe){Te.blockedOn===Pe&&(Te.blockedOn=null,Sf||(Sf=!0,Ee.unstable_scheduleCallback(Ee.unstable_NormalPriority,M0)))}var id=null;function nm(Te){id!==Te&&(id=Te,Ee.unstable_scheduleCallback(Ee.unstable_NormalPriority,function(){id===Te&&(id=null);for(var Pe=0;Pe<Te.length;Pe+=3){var De=Te[Pe],Me=Te[Pe+1],Ye=Te[Pe+2];if(typeof Me!="function"){if(Cf(Me||De)===null)continue;break}var Ar=Ci(De);Ar!==null&&(Te.splice(Pe,3),Pe-=3,Ho(Ar,{pending:!0,data:Ye,method:De.method,action:Me},Me,Ye))}}))}function eh(Te){function Pe(Cn){return nd(Cn,Te)}Ac!==null&&nd(Ac,Te),cc!==null&&nd(cc,Te),uc!==null&&nd(uc,Te),Ju.forEach(Pe),Zu.forEach(Pe);for(var De=0;De<hc.length;De++){var Me=hc[De];Me.blockedOn===Te&&(Me.blockedOn=null)}for(;0<hc.length&&(De=hc[0],De.blockedOn===null);)tm(De),De.blockedOn===null&&hc.shift();if(De=(Te.ownerDocument||Te).$$reactFormReplay,De!=null)for(Me=0;Me<De.length;Me+=3){var Ye=De[Me],Ar=De[Me+1],Ur=Ye[Nn]||null;if(typeof Ar=="function")Ur||nm(De);else if(Ur){var Wr=null;if(Ar&&Ar.hasAttribute("formAction")){if(Ye=Ar,Ur=Ar[Nn]||null)Wr=Ur.formAction;else if(Cf(Ye)!==null)continue}else Wr=Ur.action;typeof Wr=="function"?De[Me+1]=Wr:(De.splice(Me,3),Me-=3),nm(De)}}}function Tf(Te){this._internalRoot=Te}sd.prototype.render=Tf.prototype.render=function(Te){var Pe=this._internalRoot;if(Pe===null)throw Error(_e(409));var De=Pe.current,Me=bo();Yg(De,Me,Te,Pe,null,null)},sd.prototype.unmount=Tf.prototype.unmount=function(){var Te=this._internalRoot;if(Te!==null){this._internalRoot=null;var Pe=Te.containerInfo;Yg(Te.current,2,null,Te,null,null),Mh(),Pe[zn]=null}};function sd(Te){this._internalRoot=Te}sd.prototype.unstable_scheduleHydration=function(Te){if(Te){var Pe=Mr();Te={blockedOn:null,target:Te,priority:Pe};for(var De=0;De<hc.length&&Pe!==0&&Pe<hc[De].priority;De++);hc.splice(De,0,Te),De===0&&tm(Te)}};var im=t.version;if(im!=="19.1.0")throw Error(_e(527,im,"19.1.0"));ur.findDOMNode=function(Te){var Pe=Te._reactInternals;if(Pe===void 0)throw typeof Te.render=="function"?Error(_e(188)):(Te=Object.keys(Te).join(","),Error(_e(268,Te)));return Te=Be(Pe),Te=Te!==null?Fe(Te):null,Te=Te===null?null:Te.stateNode,Te};var j0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:vr,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{Gn=ad.inject(j0),Qn=ad}catch{}}return reactDomClient_production.createRoot=function(Te,Pe){if(!xe(Te))throw Error(_e(299));var De=!1,Me="",Ye=Ep,Ar=_p,Ur=bp,Wr=null;return Pe!=null&&(Pe.unstable_strictMode===!0&&(De=!0),Pe.identifierPrefix!==void 0&&(Me=Pe.identifierPrefix),Pe.onUncaughtError!==void 0&&(Ye=Pe.onUncaughtError),Pe.onCaughtError!==void 0&&(Ar=Pe.onCaughtError),Pe.onRecoverableError!==void 0&&(Ur=Pe.onRecoverableError),Pe.unstable_transitionCallbacks!==void 0&&(Wr=Pe.unstable_transitionCallbacks)),Pe=Wg(Te,1,!1,null,null,De,Me,Ye,Ar,Ur,Wr,null),Te[zn]=Pe.current,Af(Te),new Tf(Pe)},reactDomClient_production.hydrateRoot=function(Te,Pe,De){if(!xe(Te))throw Error(_e(299));var Me=!1,Ye="",Ar=Ep,Ur=_p,Wr=bp,Cn=null,$n=null;return De!=null&&(De.unstable_strictMode===!0&&(Me=!0),De.identifierPrefix!==void 0&&(Ye=De.identifierPrefix),De.onUncaughtError!==void 0&&(Ar=De.onUncaughtError),De.onCaughtError!==void 0&&(Ur=De.onCaughtError),De.onRecoverableError!==void 0&&(Wr=De.onRecoverableError),De.unstable_transitionCallbacks!==void 0&&(Cn=De.unstable_transitionCallbacks),De.formState!==void 0&&($n=De.formState)),Pe=Wg(Te,1,!0,Pe,De??null,Me,Ye,Ar,Ur,Wr,Cn,$n),Pe.context=Xg(null),De=Pe.current,Me=bo(),Me=Zn(Me),Ye=ai(Me),Ye.callback=null,gi(De,Ye,Me),De=Me,Pe.current.lanes=De,un(Pe,De),Xl(Pe),Te[zn]=Pe.current,Af(Te),new sd(Pe)},reactDomClient_production.version="19.1.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function Ee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ee)}catch(t){console.error(t)}}return Ee(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient(),dist={},hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.parse=Se,dist.serialize=Fe;const Ee=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,Ae=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,_e=/^[\u0020-\u003A\u003D-\u007E]*$/,xe=Object.prototype.toString,Ce=(()=>{const ke=function(){};return ke.prototype=Object.create(null),ke})();function Se(ke,Oe){const je=new Ce,Ke=ke.length;if(Ke<2)return je;const ze=(Oe==null?void 0:Oe.decode)||Ie;let Ve=0;do{const Xe=ke.indexOf("=",Ve);if(Xe===-1)break;const ir=ke.indexOf(";",Ve),sr=ir===-1?Ke:ir;if(Xe>sr){Ve=ke.lastIndexOf(";",Xe-1)+1;continue}const rr=Re(ke,Ve,Xe),nr=Be(ke,Xe,rr),We=ke.slice(rr,nr);if(je[We]===void 0){let Ge=Re(ke,Xe+1,sr),Ze=Be(ke,sr,Ge);const or=ze(ke.slice(Ge,Ze));je[We]=or}Ve=sr+1}while(Ve<Ke);return je}function Re(ke,Oe,je){do{const Ke=ke.charCodeAt(Oe);if(Ke!==32&&Ke!==9)return Oe}while(++Oe<je);return je}function Be(ke,Oe,je){for(;Oe>je;){const Ke=ke.charCodeAt(--Oe);if(Ke!==32&&Ke!==9)return Oe+1}return je}function Fe(ke,Oe,je){const Ke=(je==null?void 0:je.encode)||encodeURIComponent;if(!Ee.test(ke))throw new TypeError(`argument name is invalid: ${ke}`);const ze=Ke(Oe);if(!t.test(ze))throw new TypeError(`argument val is invalid: ${Oe}`);let Ve=ke+"="+ze;if(!je)return Ve;if(je.maxAge!==void 0){if(!Number.isInteger(je.maxAge))throw new TypeError(`option maxAge is invalid: ${je.maxAge}`);Ve+="; Max-Age="+je.maxAge}if(je.domain){if(!Ae.test(je.domain))throw new TypeError(`option domain is invalid: ${je.domain}`);Ve+="; Domain="+je.domain}if(je.path){if(!_e.test(je.path))throw new TypeError(`option path is invalid: ${je.path}`);Ve+="; Path="+je.path}if(je.expires){if(!Ue(je.expires)||!Number.isFinite(je.expires.valueOf()))throw new TypeError(`option expires is invalid: ${je.expires}`);Ve+="; Expires="+je.expires.toUTCString()}if(je.httpOnly&&(Ve+="; HttpOnly"),je.secure&&(Ve+="; Secure"),je.partitioned&&(Ve+="; Partitioned"),je.priority)switch(typeof je.priority=="string"?je.priority.toLowerCase():void 0){case"low":Ve+="; Priority=Low";break;case"medium":Ve+="; Priority=Medium";break;case"high":Ve+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${je.priority}`)}if(je.sameSite)switch(typeof je.sameSite=="string"?je.sameSite.toLowerCase():je.sameSite){case!0:case"strict":Ve+="; SameSite=Strict";break;case"lax":Ve+="; SameSite=Lax";break;case"none":Ve+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${je.sameSite}`)}return Ve}function Ie(ke){if(ke.indexOf("%")===-1)return ke;try{return decodeURIComponent(ke)}catch{return ke}}function Ue(ke){return xe.call(ke)==="[object Date]"}return dist}requireDist();var PopStateEventType="popstate";function createBrowserHistory(Ee={}){function t(_e,xe){let{pathname:Ce,search:Se,hash:Re}=_e.location;return createLocation("",{pathname:Ce,search:Se,hash:Re},xe.state&&xe.state.usr||null,xe.state&&xe.state.key||"default")}function Ae(_e,xe){return typeof xe=="string"?xe:createPath(xe)}return getUrlBasedHistory(t,Ae,null,Ee)}function invariant$1(Ee,t){if(Ee===!1||Ee===null||typeof Ee>"u")throw new Error(t)}function warning$1(Ee,t){if(!Ee){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(Ee,t){return{usr:Ee.state,key:Ee.key,idx:t}}function createLocation(Ee,t,Ae=null,_e){return{pathname:typeof Ee=="string"?Ee:Ee.pathname,search:"",hash:"",...typeof t=="string"?parsePath(t):t,state:Ae,key:t&&t.key||_e||createKey()}}function createPath({pathname:Ee="/",search:t="",hash:Ae=""}){return t&&t!=="?"&&(Ee+=t.charAt(0)==="?"?t:"?"+t),Ae&&Ae!=="#"&&(Ee+=Ae.charAt(0)==="#"?Ae:"#"+Ae),Ee}function parsePath(Ee){let t={};if(Ee){let Ae=Ee.indexOf("#");Ae>=0&&(t.hash=Ee.substring(Ae),Ee=Ee.substring(0,Ae));let _e=Ee.indexOf("?");_e>=0&&(t.search=Ee.substring(_e),Ee=Ee.substring(0,_e)),Ee&&(t.pathname=Ee)}return t}function getUrlBasedHistory(Ee,t,Ae,_e={}){let{window:xe=document.defaultView,v5Compat:Ce=!1}=_e,Se=xe.history,Re="POP",Be=null,Fe=Ie();Fe==null&&(Fe=0,Se.replaceState({...Se.state,idx:Fe},""));function Ie(){return(Se.state||{idx:null}).idx}function Ue(){Re="POP";let ze=Ie(),Ve=ze==null?null:ze-Fe;Fe=ze,Be&&Be({action:Re,location:Ke.location,delta:Ve})}function ke(ze,Ve){Re="PUSH";let Xe=createLocation(Ke.location,ze,Ve);Fe=Ie()+1;let ir=getHistoryState(Xe,Fe),sr=Ke.createHref(Xe);try{Se.pushState(ir,"",sr)}catch(rr){if(rr instanceof DOMException&&rr.name==="DataCloneError")throw rr;xe.location.assign(sr)}Ce&&Be&&Be({action:Re,location:Ke.location,delta:1})}function Oe(ze,Ve){Re="REPLACE";let Xe=createLocation(Ke.location,ze,Ve);Fe=Ie();let ir=getHistoryState(Xe,Fe),sr=Ke.createHref(Xe);Se.replaceState(ir,"",sr),Ce&&Be&&Be({action:Re,location:Ke.location,delta:0})}function je(ze){return createBrowserURLImpl(ze)}let Ke={get action(){return Re},get location(){return Ee(xe,Se)},listen(ze){if(Be)throw new Error("A history only accepts one active listener");return xe.addEventListener(PopStateEventType,Ue),Be=ze,()=>{xe.removeEventListener(PopStateEventType,Ue),Be=null}},createHref(ze){return t(xe,ze)},createURL:je,encodeLocation(ze){let Ve=je(ze);return{pathname:Ve.pathname,search:Ve.search,hash:Ve.hash}},push:ke,replace:Oe,go(ze){return Se.go(ze)}};return Ke}function createBrowserURLImpl(Ee,t=!1){let Ae="http://localhost";typeof window<"u"&&(Ae=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$1(Ae,"No window.location.(origin|href) available to create URL");let _e=typeof Ee=="string"?Ee:createPath(Ee);return _e=_e.replace(/ $/,"%20"),!t&&_e.startsWith("//")&&(_e=Ae+_e),new URL(_e,Ae)}function matchRoutes(Ee,t,Ae="/"){return matchRoutesImpl(Ee,t,Ae,!1)}function matchRoutesImpl(Ee,t,Ae,_e){let xe=typeof t=="string"?parsePath(t):t,Ce=stripBasename(xe.pathname||"/",Ae);if(Ce==null)return null;let Se=flattenRoutes(Ee);rankRouteBranches(Se);let Re=null;for(let Be=0;Re==null&&Be<Se.length;++Be){let Fe=decodePath(Ce);Re=matchRouteBranch(Se[Be],Fe,_e)}return Re}function flattenRoutes(Ee,t=[],Ae=[],_e=""){let xe=(Ce,Se,Re)=>{let Be={relativePath:Re===void 0?Ce.path||"":Re,caseSensitive:Ce.caseSensitive===!0,childrenIndex:Se,route:Ce};Be.relativePath.startsWith("/")&&(invariant$1(Be.relativePath.startsWith(_e),`Absolute route path "${Be.relativePath}" nested under path "${_e}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Be.relativePath=Be.relativePath.slice(_e.length));let Fe=joinPaths([_e,Be.relativePath]),Ie=Ae.concat(Be);Ce.children&&Ce.children.length>0&&(invariant$1(Ce.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${Fe}".`),flattenRoutes(Ce.children,t,Ie,Fe)),!(Ce.path==null&&!Ce.index)&&t.push({path:Fe,score:computeScore(Fe,Ce.index),routesMeta:Ie})};return Ee.forEach((Ce,Se)=>{var Re;if(Ce.path===""||!((Re=Ce.path)!=null&&Re.includes("?")))xe(Ce,Se);else for(let Be of explodeOptionalSegments(Ce.path))xe(Ce,Se,Be)}),t}function explodeOptionalSegments(Ee){let t=Ee.split("/");if(t.length===0)return[];let[Ae,..._e]=t,xe=Ae.endsWith("?"),Ce=Ae.replace(/\?$/,"");if(_e.length===0)return xe?[Ce,""]:[Ce];let Se=explodeOptionalSegments(_e.join("/")),Re=[];return Re.push(...Se.map(Be=>Be===""?Ce:[Ce,Be].join("/"))),xe&&Re.push(...Se),Re.map(Be=>Ee.startsWith("/")&&Be===""?"/":Be)}function rankRouteBranches(Ee){Ee.sort((t,Ae)=>t.score!==Ae.score?Ae.score-t.score:compareIndexes(t.routesMeta.map(_e=>_e.childrenIndex),Ae.routesMeta.map(_e=>_e.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=Ee=>Ee==="*";function computeScore(Ee,t){let Ae=Ee.split("/"),_e=Ae.length;return Ae.some(isSplat)&&(_e+=splatPenalty),t&&(_e+=indexRouteValue),Ae.filter(xe=>!isSplat(xe)).reduce((xe,Ce)=>xe+(paramRe.test(Ce)?dynamicSegmentValue:Ce===""?emptySegmentValue:staticSegmentValue),_e)}function compareIndexes(Ee,t){return Ee.length===t.length&&Ee.slice(0,-1).every((_e,xe)=>_e===t[xe])?Ee[Ee.length-1]-t[t.length-1]:0}function matchRouteBranch(Ee,t,Ae=!1){let{routesMeta:_e}=Ee,xe={},Ce="/",Se=[];for(let Re=0;Re<_e.length;++Re){let Be=_e[Re],Fe=Re===_e.length-1,Ie=Ce==="/"?t:t.slice(Ce.length)||"/",Ue=matchPath({path:Be.relativePath,caseSensitive:Be.caseSensitive,end:Fe},Ie),ke=Be.route;if(!Ue&&Fe&&Ae&&!_e[_e.length-1].route.index&&(Ue=matchPath({path:Be.relativePath,caseSensitive:Be.caseSensitive,end:!1},Ie)),!Ue)return null;Object.assign(xe,Ue.params),Se.push({params:xe,pathname:joinPaths([Ce,Ue.pathname]),pathnameBase:normalizePathname(joinPaths([Ce,Ue.pathnameBase])),route:ke}),Ue.pathnameBase!=="/"&&(Ce=joinPaths([Ce,Ue.pathnameBase]))}return Se}function matchPath(Ee,t){typeof Ee=="string"&&(Ee={path:Ee,caseSensitive:!1,end:!0});let[Ae,_e]=compilePath(Ee.path,Ee.caseSensitive,Ee.end),xe=t.match(Ae);if(!xe)return null;let Ce=xe[0],Se=Ce.replace(/(.)\/+$/,"$1"),Re=xe.slice(1);return{params:_e.reduce((Fe,{paramName:Ie,isOptional:Ue},ke)=>{if(Ie==="*"){let je=Re[ke]||"";Se=Ce.slice(0,Ce.length-je.length).replace(/(.)\/+$/,"$1")}const Oe=Re[ke];return Ue&&!Oe?Fe[Ie]=void 0:Fe[Ie]=(Oe||"").replace(/%2F/g,"/"),Fe},{}),pathname:Ce,pathnameBase:Se,pattern:Ee}}function compilePath(Ee,t=!1,Ae=!0){warning$1(Ee==="*"||!Ee.endsWith("*")||Ee.endsWith("/*"),`Route path "${Ee}" will be treated as if it were "${Ee.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${Ee.replace(/\*$/,"/*")}".`);let _e=[],xe="^"+Ee.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Se,Re,Be)=>(_e.push({paramName:Re,isOptional:Be!=null}),Be?"/?([^\\/]+)?":"/([^\\/]+)"));return Ee.endsWith("*")?(_e.push({paramName:"*"}),xe+=Ee==="*"||Ee==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):Ae?xe+="\\/*$":Ee!==""&&Ee!=="/"&&(xe+="(?:(?=\\/|$))"),[new RegExp(xe,t?void 0:"i"),_e]}function decodePath(Ee){try{return Ee.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return warning$1(!1,`The URL path "${Ee}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),Ee}}function stripBasename(Ee,t){if(t==="/")return Ee;if(!Ee.toLowerCase().startsWith(t.toLowerCase()))return null;let Ae=t.endsWith("/")?t.length-1:t.length,_e=Ee.charAt(Ae);return _e&&_e!=="/"?null:Ee.slice(Ae)||"/"}function resolvePath(Ee,t="/"){let{pathname:Ae,search:_e="",hash:xe=""}=typeof Ee=="string"?parsePath(Ee):Ee;return{pathname:Ae?Ae.startsWith("/")?Ae:resolvePathname(Ae,t):t,search:normalizeSearch(_e),hash:normalizeHash(xe)}}function resolvePathname(Ee,t){let Ae=t.replace(/\/+$/,"").split("/");return Ee.split("/").forEach(xe=>{xe===".."?Ae.length>1&&Ae.pop():xe!=="."&&Ae.push(xe)}),Ae.length>1?Ae.join("/"):"/"}function getInvalidPathError(Ee,t,Ae,_e){return`Cannot include a '${Ee}' character in a manually specified \`to.${t}\` field [${JSON.stringify(_e)}].  Please separate it out to the \`to.${Ae}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(Ee){return Ee.filter((t,Ae)=>Ae===0||t.route.path&&t.route.path.length>0)}function getResolveToMatches(Ee){let t=getPathContributingMatches(Ee);return t.map((Ae,_e)=>_e===t.length-1?Ae.pathname:Ae.pathnameBase)}function resolveTo(Ee,t,Ae,_e=!1){let xe;typeof Ee=="string"?xe=parsePath(Ee):(xe={...Ee},invariant$1(!xe.pathname||!xe.pathname.includes("?"),getInvalidPathError("?","pathname","search",xe)),invariant$1(!xe.pathname||!xe.pathname.includes("#"),getInvalidPathError("#","pathname","hash",xe)),invariant$1(!xe.search||!xe.search.includes("#"),getInvalidPathError("#","search","hash",xe)));let Ce=Ee===""||xe.pathname==="",Se=Ce?"/":xe.pathname,Re;if(Se==null)Re=Ae;else{let Ue=t.length-1;if(!_e&&Se.startsWith("..")){let ke=Se.split("/");for(;ke[0]==="..";)ke.shift(),Ue-=1;xe.pathname=ke.join("/")}Re=Ue>=0?t[Ue]:"/"}let Be=resolvePath(xe,Re),Fe=Se&&Se!=="/"&&Se.endsWith("/"),Ie=(Ce||Se===".")&&Ae.endsWith("/");return!Be.pathname.endsWith("/")&&(Fe||Ie)&&(Be.pathname+="/"),Be}var joinPaths=Ee=>Ee.join("/").replace(/\/\/+/g,"/"),normalizePathname=Ee=>Ee.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=Ee=>!Ee||Ee==="?"?"":Ee.startsWith("?")?Ee:"?"+Ee,normalizeHash=Ee=>!Ee||Ee==="#"?"":Ee.startsWith("#")?Ee:"#"+Ee;function isRouteErrorResponse(Ee){return Ee!=null&&typeof Ee.status=="number"&&typeof Ee.statusText=="string"&&typeof Ee.internal=="boolean"&&"data"in Ee}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(Ee,{relative:t}={}){invariant$1(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:Ae,navigator:_e}=reactExports.useContext(NavigationContext),{hash:xe,pathname:Ce,search:Se}=useResolvedPath(Ee,{relative:t}),Re=Ce;return Ae!=="/"&&(Re=Ce==="/"?Ae:joinPaths([Ae,Ce])),_e.createHref({pathname:Re,search:Se,hash:xe})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$1(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(Ee){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(Ee)}function useNavigate(){let{isDataRoute:Ee}=reactExports.useContext(RouteContext);return Ee?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$1(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let Ee=reactExports.useContext(DataRouterContext),{basename:t,navigator:Ae}=reactExports.useContext(NavigationContext),{matches:_e}=reactExports.useContext(RouteContext),{pathname:xe}=useLocation(),Ce=JSON.stringify(getResolveToMatches(_e)),Se=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{Se.current=!0}),reactExports.useCallback((Be,Fe={})=>{if(warning$1(Se.current,navigateEffectWarning),!Se.current)return;if(typeof Be=="number"){Ae.go(Be);return}let Ie=resolveTo(Be,JSON.parse(Ce),xe,Fe.relative==="path");Ee==null&&t!=="/"&&(Ie.pathname=Ie.pathname==="/"?t:joinPaths([t,Ie.pathname])),(Fe.replace?Ae.replace:Ae.push)(Ie,Fe.state,Fe)},[t,Ae,Ce,xe,Ee])}reactExports.createContext(null);function useParams(){let{matches:Ee}=reactExports.useContext(RouteContext),t=Ee[Ee.length-1];return t?t.params:{}}function useResolvedPath(Ee,{relative:t}={}){let{matches:Ae}=reactExports.useContext(RouteContext),{pathname:_e}=useLocation(),xe=JSON.stringify(getResolveToMatches(Ae));return reactExports.useMemo(()=>resolveTo(Ee,JSON.parse(xe),_e,t==="path"),[Ee,xe,_e,t])}function useRoutes(Ee,t){return useRoutesImpl(Ee,t)}function useRoutesImpl(Ee,t,Ae,_e){var Ve;invariant$1(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:xe}=reactExports.useContext(NavigationContext),{matches:Ce}=reactExports.useContext(RouteContext),Se=Ce[Ce.length-1],Re=Se?Se.params:{},Be=Se?Se.pathname:"/",Fe=Se?Se.pathnameBase:"/",Ie=Se&&Se.route;{let Xe=Ie&&Ie.path||"";warningOnce(Be,!Ie||Xe.endsWith("*")||Xe.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${Be}" (under <Route path="${Xe}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Xe}"> to <Route path="${Xe==="/"?"*":`${Xe}/*`}">.`)}let Ue=useLocation(),ke;if(t){let Xe=typeof t=="string"?parsePath(t):t;invariant$1(Fe==="/"||((Ve=Xe.pathname)==null?void 0:Ve.startsWith(Fe)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${Fe}" but pathname "${Xe.pathname}" was given in the \`location\` prop.`),ke=Xe}else ke=Ue;let Oe=ke.pathname||"/",je=Oe;if(Fe!=="/"){let Xe=Fe.replace(/^\//,"").split("/");je="/"+Oe.replace(/^\//,"").split("/").slice(Xe.length).join("/")}let Ke=matchRoutes(Ee,{pathname:je});warning$1(Ie||Ke!=null,`No routes matched location "${ke.pathname}${ke.search}${ke.hash}" `),warning$1(Ke==null||Ke[Ke.length-1].route.element!==void 0||Ke[Ke.length-1].route.Component!==void 0||Ke[Ke.length-1].route.lazy!==void 0,`Matched leaf route at location "${ke.pathname}${ke.search}${ke.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ze=_renderMatches(Ke&&Ke.map(Xe=>Object.assign({},Xe,{params:Object.assign({},Re,Xe.params),pathname:joinPaths([Fe,xe.encodeLocation?xe.encodeLocation(Xe.pathname).pathname:Xe.pathname]),pathnameBase:Xe.pathnameBase==="/"?Fe:joinPaths([Fe,xe.encodeLocation?xe.encodeLocation(Xe.pathnameBase).pathname:Xe.pathnameBase])})),Ce,Ae,_e);return t&&ze?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ke},navigationType:"POP"}},ze):ze}function DefaultErrorComponent(){let Ee=useRouteError(),t=isRouteErrorResponse(Ee)?`${Ee.status} ${Ee.statusText}`:Ee instanceof Error?Ee.message:JSON.stringify(Ee),Ae=Ee instanceof Error?Ee.stack:null,_e="rgba(200,200,200, 0.5)",xe={padding:"0.5rem",backgroundColor:_e},Ce={padding:"2px 4px",backgroundColor:_e},Se=null;return console.error("Error handled by React Router default ErrorBoundary:",Ee),Se=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null,"💿 Hey developer 👋"),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:Ce},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:Ce},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},t),Ae?reactExports.createElement("pre",{style:xe},Ae):null,Se)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(Ee){super(Ee),this.state={location:Ee.location,revalidation:Ee.revalidation,error:Ee.error}}static getDerivedStateFromError(Ee){return{error:Ee}}static getDerivedStateFromProps(Ee,t){return t.location!==Ee.location||t.revalidation!=="idle"&&Ee.revalidation==="idle"?{error:Ee.error,location:Ee.location,revalidation:Ee.revalidation}:{error:Ee.error!==void 0?Ee.error:t.error,location:t.location,revalidation:Ee.revalidation||t.revalidation}}componentDidCatch(Ee,t){console.error("React Router caught the following error during render",Ee,t)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:Ee,match:t,children:Ae}){let _e=reactExports.useContext(DataRouterContext);return _e&&_e.static&&_e.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(_e.staticContext._deepestRenderedBoundaryId=t.route.id),reactExports.createElement(RouteContext.Provider,{value:Ee},Ae)}function _renderMatches(Ee,t=[],Ae=null,_e=null){if(Ee==null){if(!Ae)return null;if(Ae.errors)Ee=Ae.matches;else if(t.length===0&&!Ae.initialized&&Ae.matches.length>0)Ee=Ae.matches;else return null}let xe=Ee,Ce=Ae==null?void 0:Ae.errors;if(Ce!=null){let Be=xe.findIndex(Fe=>Fe.route.id&&(Ce==null?void 0:Ce[Fe.route.id])!==void 0);invariant$1(Be>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(Ce).join(",")}`),xe=xe.slice(0,Math.min(xe.length,Be+1))}let Se=!1,Re=-1;if(Ae)for(let Be=0;Be<xe.length;Be++){let Fe=xe[Be];if((Fe.route.HydrateFallback||Fe.route.hydrateFallbackElement)&&(Re=Be),Fe.route.id){let{loaderData:Ie,errors:Ue}=Ae,ke=Fe.route.loader&&!Ie.hasOwnProperty(Fe.route.id)&&(!Ue||Ue[Fe.route.id]===void 0);if(Fe.route.lazy||ke){Se=!0,Re>=0?xe=xe.slice(0,Re+1):xe=[xe[0]];break}}}return xe.reduceRight((Be,Fe,Ie)=>{let Ue,ke=!1,Oe=null,je=null;Ae&&(Ue=Ce&&Fe.route.id?Ce[Fe.route.id]:void 0,Oe=Fe.route.errorElement||defaultErrorElement,Se&&(Re<0&&Ie===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),ke=!0,je=null):Re===Ie&&(ke=!0,je=Fe.route.hydrateFallbackElement||null)));let Ke=t.concat(xe.slice(0,Ie+1)),ze=()=>{let Ve;return Ue?Ve=Oe:ke?Ve=je:Fe.route.Component?Ve=reactExports.createElement(Fe.route.Component,null):Fe.route.element?Ve=Fe.route.element:Ve=Be,reactExports.createElement(RenderedRoute,{match:Fe,routeContext:{outlet:Be,matches:Ke,isDataRoute:Ae!=null},children:Ve})};return Ae&&(Fe.route.ErrorBoundary||Fe.route.errorElement||Ie===0)?reactExports.createElement(RenderErrorBoundary,{location:Ae.location,revalidation:Ae.revalidation,component:Oe,error:Ue,children:ze(),routeContext:{outlet:null,matches:Ke,isDataRoute:!0}}):ze()},null)}function getDataRouterConsoleError(Ee){return`${Ee} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(Ee){let t=reactExports.useContext(DataRouterContext);return invariant$1(t,getDataRouterConsoleError(Ee)),t}function useDataRouterState(Ee){let t=reactExports.useContext(DataRouterStateContext);return invariant$1(t,getDataRouterConsoleError(Ee)),t}function useRouteContext(Ee){let t=reactExports.useContext(RouteContext);return invariant$1(t,getDataRouterConsoleError(Ee)),t}function useCurrentRouteId(Ee){let t=useRouteContext(Ee),Ae=t.matches[t.matches.length-1];return invariant$1(Ae.route.id,`${Ee} can only be used on routes that contain a unique "id"`),Ae.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var _e;let Ee=reactExports.useContext(RouteErrorContext),t=useDataRouterState("useRouteError"),Ae=useCurrentRouteId("useRouteError");return Ee!==void 0?Ee:(_e=t.errors)==null?void 0:_e[Ae]}function useNavigateStable(){let{router:Ee}=useDataRouterContext("useNavigate"),t=useCurrentRouteId("useNavigate"),Ae=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{Ae.current=!0}),reactExports.useCallback(async(xe,Ce={})=>{warning$1(Ae.current,navigateEffectWarning),Ae.current&&(typeof xe=="number"?Ee.navigate(xe):await Ee.navigate(xe,{fromRouteId:t,...Ce}))},[Ee,t])}var alreadyWarned={};function warningOnce(Ee,t,Ae){!t&&!alreadyWarned[Ee]&&(alreadyWarned[Ee]=!0,warning$1(!1,Ae))}reactExports.memo(DataRoutes);function DataRoutes({routes:Ee,future:t,state:Ae}){return useRoutesImpl(Ee,void 0,Ae,t)}function Navigate({to:Ee,replace:t,state:Ae,relative:_e}){invariant$1(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:xe}=reactExports.useContext(NavigationContext);warning$1(!xe,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:Ce}=reactExports.useContext(RouteContext),{pathname:Se}=useLocation(),Re=useNavigate(),Be=resolveTo(Ee,getResolveToMatches(Ce),Se,_e==="path"),Fe=JSON.stringify(Be);return reactExports.useEffect(()=>{Re(JSON.parse(Fe),{replace:t,state:Ae,relative:_e})},[Re,Fe,_e,t,Ae]),null}function Route(Ee){invariant$1(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:Ee="/",children:t=null,location:Ae,navigationType:_e="POP",navigator:xe,static:Ce=!1}){invariant$1(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let Se=Ee.replace(/^\/*/,"/"),Re=reactExports.useMemo(()=>({basename:Se,navigator:xe,static:Ce,future:{}}),[Se,xe,Ce]);typeof Ae=="string"&&(Ae=parsePath(Ae));let{pathname:Be="/",search:Fe="",hash:Ie="",state:Ue=null,key:ke="default"}=Ae,Oe=reactExports.useMemo(()=>{let je=stripBasename(Be,Se);return je==null?null:{location:{pathname:je,search:Fe,hash:Ie,state:Ue,key:ke},navigationType:_e}},[Se,Be,Fe,Ie,Ue,ke,_e]);return warning$1(Oe!=null,`<Router basename="${Se}"> is not able to match the URL "${Be}${Fe}${Ie}" because it does not start with the basename, so the <Router> won't render anything.`),Oe==null?null:reactExports.createElement(NavigationContext.Provider,{value:Re},reactExports.createElement(LocationContext.Provider,{children:t,value:Oe}))}function Routes({children:Ee,location:t}){return useRoutes(createRoutesFromChildren(Ee),t)}function createRoutesFromChildren(Ee,t=[]){let Ae=[];return reactExports.Children.forEach(Ee,(_e,xe)=>{if(!reactExports.isValidElement(_e))return;let Ce=[...t,xe];if(_e.type===reactExports.Fragment){Ae.push.apply(Ae,createRoutesFromChildren(_e.props.children,Ce));return}invariant$1(_e.type===Route,`[${typeof _e.type=="string"?_e.type:_e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$1(!_e.props.index||!_e.props.children,"An index route cannot have child routes.");let Se={id:_e.props.id||Ce.join("-"),caseSensitive:_e.props.caseSensitive,element:_e.props.element,Component:_e.props.Component,index:_e.props.index,path:_e.props.path,loader:_e.props.loader,action:_e.props.action,hydrateFallbackElement:_e.props.hydrateFallbackElement,HydrateFallback:_e.props.HydrateFallback,errorElement:_e.props.errorElement,ErrorBoundary:_e.props.ErrorBoundary,hasErrorBoundary:_e.props.hasErrorBoundary===!0||_e.props.ErrorBoundary!=null||_e.props.errorElement!=null,shouldRevalidate:_e.props.shouldRevalidate,handle:_e.props.handle,lazy:_e.props.lazy};_e.props.children&&(Se.children=createRoutesFromChildren(_e.props.children,Ce)),Ae.push(Se)}),Ae}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(Ee){return Ee!=null&&typeof Ee.tagName=="string"}function isButtonElement(Ee){return isHtmlElement(Ee)&&Ee.tagName.toLowerCase()==="button"}function isFormElement(Ee){return isHtmlElement(Ee)&&Ee.tagName.toLowerCase()==="form"}function isInputElement$1(Ee){return isHtmlElement(Ee)&&Ee.tagName.toLowerCase()==="input"}function isModifiedEvent(Ee){return!!(Ee.metaKey||Ee.altKey||Ee.ctrlKey||Ee.shiftKey)}function shouldProcessLinkClick(Ee,t){return Ee.button===0&&(!t||t==="_self")&&!isModifiedEvent(Ee)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(Ee){return Ee!=null&&!supportedFormEncTypes.has(Ee)?(warning$1(!1,`"${Ee}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):Ee}function getFormSubmissionInfo(Ee,t){let Ae,_e,xe,Ce,Se;if(isFormElement(Ee)){let Re=Ee.getAttribute("action");_e=Re?stripBasename(Re,t):null,Ae=Ee.getAttribute("method")||defaultMethod,xe=getFormEncType(Ee.getAttribute("enctype"))||defaultEncType,Ce=new FormData(Ee)}else if(isButtonElement(Ee)||isInputElement$1(Ee)&&(Ee.type==="submit"||Ee.type==="image")){let Re=Ee.form;if(Re==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let Be=Ee.getAttribute("formaction")||Re.getAttribute("action");if(_e=Be?stripBasename(Be,t):null,Ae=Ee.getAttribute("formmethod")||Re.getAttribute("method")||defaultMethod,xe=getFormEncType(Ee.getAttribute("formenctype"))||getFormEncType(Re.getAttribute("enctype"))||defaultEncType,Ce=new FormData(Re,Ee),!isFormDataSubmitterSupported()){let{name:Fe,type:Ie,value:Ue}=Ee;if(Ie==="image"){let ke=Fe?`${Fe}.`:"";Ce.append(`${ke}x`,"0"),Ce.append(`${ke}y`,"0")}else Fe&&Ce.append(Fe,Ue)}}else{if(isHtmlElement(Ee))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');Ae=defaultMethod,_e=null,xe=defaultEncType,Se=Ee}return Ce&&xe==="text/plain"&&(Se=Ce,Ce=void 0),{action:_e,method:Ae.toLowerCase(),encType:xe,formData:Ce,body:Se}}function invariant2(Ee,t){if(Ee===!1||Ee===null||typeof Ee>"u")throw new Error(t)}async function loadRouteModule(Ee,t){if(Ee.id in t)return t[Ee.id];try{let Ae=await import(Ee.module);return t[Ee.id]=Ae,Ae}catch(Ae){return console.error(`Error loading route module \`${Ee.module}\`, reloading page...`),console.error(Ae),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(Ee){return Ee==null?!1:Ee.href==null?Ee.rel==="preload"&&typeof Ee.imageSrcSet=="string"&&typeof Ee.imageSizes=="string":typeof Ee.rel=="string"&&typeof Ee.href=="string"}async function getKeyedPrefetchLinks(Ee,t,Ae){let _e=await Promise.all(Ee.map(async xe=>{let Ce=t.routes[xe.route.id];if(Ce){let Se=await loadRouteModule(Ce,Ae);return Se.links?Se.links():[]}return[]}));return dedupeLinkDescriptors(_e.flat(1).filter(isHtmlLinkDescriptor).filter(xe=>xe.rel==="stylesheet"||xe.rel==="preload").map(xe=>xe.rel==="stylesheet"?{...xe,rel:"prefetch",as:"style"}:{...xe,rel:"prefetch"}))}function getNewMatchesForLinks(Ee,t,Ae,_e,xe,Ce){let Se=(Be,Fe)=>Ae[Fe]?Be.route.id!==Ae[Fe].route.id:!0,Re=(Be,Fe)=>{var Ie;return Ae[Fe].pathname!==Be.pathname||((Ie=Ae[Fe].route.path)==null?void 0:Ie.endsWith("*"))&&Ae[Fe].params["*"]!==Be.params["*"]};return Ce==="assets"?t.filter((Be,Fe)=>Se(Be,Fe)||Re(Be,Fe)):Ce==="data"?t.filter((Be,Fe)=>{var Ue;let Ie=_e.routes[Be.route.id];if(!Ie||!Ie.hasLoader)return!1;if(Se(Be,Fe)||Re(Be,Fe))return!0;if(Be.route.shouldRevalidate){let ke=Be.route.shouldRevalidate({currentUrl:new URL(xe.pathname+xe.search+xe.hash,window.origin),currentParams:((Ue=Ae[0])==null?void 0:Ue.params)||{},nextUrl:new URL(Ee,window.origin),nextParams:Be.params,defaultShouldRevalidate:!0});if(typeof ke=="boolean")return ke}return!0}):[]}function getModuleLinkHrefs(Ee,t,{includeHydrateFallback:Ae}={}){return dedupeHrefs(Ee.map(_e=>{let xe=t.routes[_e.route.id];if(!xe)return[];let Ce=[xe.module];return xe.clientActionModule&&(Ce=Ce.concat(xe.clientActionModule)),xe.clientLoaderModule&&(Ce=Ce.concat(xe.clientLoaderModule)),Ae&&xe.hydrateFallbackModule&&(Ce=Ce.concat(xe.hydrateFallbackModule)),xe.imports&&(Ce=Ce.concat(xe.imports)),Ce}).flat(1))}function dedupeHrefs(Ee){return[...new Set(Ee)]}function sortKeys(Ee){let t={},Ae=Object.keys(Ee).sort();for(let _e of Ae)t[_e]=Ee[_e];return t}function dedupeLinkDescriptors(Ee,t){let Ae=new Set;return new Set(t),Ee.reduce((_e,xe)=>{let Ce=JSON.stringify(sortKeys(xe));return Ae.has(Ce)||(Ae.add(Ce),_e.push({key:Ce,link:xe})),_e},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NO_BODY_STATUS_CODES=new Set([100,101,204,205]);function singleFetchUrl(Ee,t){let Ae=typeof Ee=="string"?new URL(Ee,typeof window>"u"?"server://singlefetch/":window.location.origin):Ee;return Ae.pathname==="/"?Ae.pathname="_root.data":t&&stripBasename(Ae.pathname,t)==="/"?Ae.pathname=`${t.replace(/\/$/,"")}/_root.data`:Ae.pathname=`${Ae.pathname.replace(/\/$/,"")}.data`,Ae}function useDataRouterContext2(){let Ee=reactExports.useContext(DataRouterContext);return invariant2(Ee,"You must render this element inside a <DataRouterContext.Provider> element"),Ee}function useDataRouterStateContext(){let Ee=reactExports.useContext(DataRouterStateContext);return invariant2(Ee,"You must render this element inside a <DataRouterStateContext.Provider> element"),Ee}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let Ee=reactExports.useContext(FrameworkContext);return invariant2(Ee,"You must render this element inside a <HydratedRouter> element"),Ee}function usePrefetchBehavior(Ee,t){let Ae=reactExports.useContext(FrameworkContext),[_e,xe]=reactExports.useState(!1),[Ce,Se]=reactExports.useState(!1),{onFocus:Re,onBlur:Be,onMouseEnter:Fe,onMouseLeave:Ie,onTouchStart:Ue}=t,ke=reactExports.useRef(null);reactExports.useEffect(()=>{if(Ee==="render"&&Se(!0),Ee==="viewport"){let Ke=Ve=>{Ve.forEach(Xe=>{Se(Xe.isIntersecting)})},ze=new IntersectionObserver(Ke,{threshold:.5});return ke.current&&ze.observe(ke.current),()=>{ze.disconnect()}}},[Ee]),reactExports.useEffect(()=>{if(_e){let Ke=setTimeout(()=>{Se(!0)},100);return()=>{clearTimeout(Ke)}}},[_e]);let Oe=()=>{xe(!0)},je=()=>{xe(!1),Se(!1)};return Ae?Ee!=="intent"?[Ce,ke,{}]:[Ce,ke,{onFocus:composeEventHandlers(Re,Oe),onBlur:composeEventHandlers(Be,je),onMouseEnter:composeEventHandlers(Fe,Oe),onMouseLeave:composeEventHandlers(Ie,je),onTouchStart:composeEventHandlers(Ue,Oe)}]:[!1,ke,{}]}function composeEventHandlers(Ee,t){return Ae=>{Ee&&Ee(Ae),Ae.defaultPrevented||t(Ae)}}function PrefetchPageLinks({page:Ee,...t}){let{router:Ae}=useDataRouterContext2(),_e=reactExports.useMemo(()=>matchRoutes(Ae.routes,Ee,Ae.basename),[Ae.routes,Ee,Ae.basename]);return _e?reactExports.createElement(PrefetchPageLinksImpl,{page:Ee,matches:_e,...t}):null}function useKeyedPrefetchLinks(Ee){let{manifest:t,routeModules:Ae}=useFrameworkContext(),[_e,xe]=reactExports.useState([]);return reactExports.useEffect(()=>{let Ce=!1;return getKeyedPrefetchLinks(Ee,t,Ae).then(Se=>{Ce||xe(Se)}),()=>{Ce=!0}},[Ee,t,Ae]),_e}function PrefetchPageLinksImpl({page:Ee,matches:t,...Ae}){let _e=useLocation(),{manifest:xe,routeModules:Ce}=useFrameworkContext(),{basename:Se}=useDataRouterContext2(),{loaderData:Re,matches:Be}=useDataRouterStateContext(),Fe=reactExports.useMemo(()=>getNewMatchesForLinks(Ee,t,Be,xe,_e,"data"),[Ee,t,Be,xe,_e]),Ie=reactExports.useMemo(()=>getNewMatchesForLinks(Ee,t,Be,xe,_e,"assets"),[Ee,t,Be,xe,_e]),Ue=reactExports.useMemo(()=>{if(Ee===_e.pathname+_e.search+_e.hash)return[];let je=new Set,Ke=!1;if(t.forEach(Ve=>{var ir;let Xe=xe.routes[Ve.route.id];!Xe||!Xe.hasLoader||(!Fe.some(sr=>sr.route.id===Ve.route.id)&&Ve.route.id in Re&&((ir=Ce[Ve.route.id])!=null&&ir.shouldRevalidate)||Xe.hasClientLoader?Ke=!0:je.add(Ve.route.id))}),je.size===0)return[];let ze=singleFetchUrl(Ee,Se);return Ke&&je.size>0&&ze.searchParams.set("_routes",t.filter(Ve=>je.has(Ve.route.id)).map(Ve=>Ve.route.id).join(",")),[ze.pathname+ze.search]},[Se,Re,_e,xe,Fe,t,Ee,Ce]),ke=reactExports.useMemo(()=>getModuleLinkHrefs(Ie,xe),[Ie,xe]),Oe=useKeyedPrefetchLinks(Ie);return reactExports.createElement(reactExports.Fragment,null,Ue.map(je=>reactExports.createElement("link",{key:je,rel:"prefetch",as:"fetch",href:je,...Ae})),ke.map(je=>reactExports.createElement("link",{key:je,rel:"modulepreload",href:je,...Ae})),Oe.map(({key:je,link:Ke})=>reactExports.createElement("link",{key:je,...Ke})))}function mergeRefs$1(...Ee){return t=>{Ee.forEach(Ae=>{typeof Ae=="function"?Ae(t):Ae!=null&&(Ae.current=t)})}}var isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$1&&(window.__reactRouterVersion="7.6.2")}catch{}function BrowserRouter({basename:Ee,children:t,window:Ae}){let _e=reactExports.useRef();_e.current==null&&(_e.current=createBrowserHistory({window:Ae,v5Compat:!0}));let xe=_e.current,[Ce,Se]=reactExports.useState({action:xe.action,location:xe.location}),Re=reactExports.useCallback(Be=>{reactExports.startTransition(()=>Se(Be))},[Se]);return reactExports.useLayoutEffect(()=>xe.listen(Re),[xe,Re]),reactExports.createElement(Router,{basename:Ee,children:t,location:Ce.location,navigationType:Ce.action,navigator:xe})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:t,discover:Ae="render",prefetch:_e="none",relative:xe,reloadDocument:Ce,replace:Se,state:Re,target:Be,to:Fe,preventScrollReset:Ie,viewTransition:Ue,...ke},Oe){let{basename:je}=reactExports.useContext(NavigationContext),Ke=typeof Fe=="string"&&ABSOLUTE_URL_REGEX2.test(Fe),ze,Ve=!1;if(typeof Fe=="string"&&Ke&&(ze=Fe,isBrowser$1))try{let Ze=new URL(window.location.href),or=Fe.startsWith("//")?new URL(Ze.protocol+Fe):new URL(Fe),He=stripBasename(or.pathname,je);or.origin===Ze.origin&&He!=null?Fe=He+or.search+or.hash:Ve=!0}catch{warning$1(!1,`<Link to="${Fe}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Xe=useHref(Fe,{relative:xe}),[ir,sr,rr]=usePrefetchBehavior(_e,ke),nr=useLinkClickHandler(Fe,{replace:Se,state:Re,target:Be,preventScrollReset:Ie,relative:xe,viewTransition:Ue});function We(Ze){t&&t(Ze),Ze.defaultPrevented||nr(Ze)}let Ge=reactExports.createElement("a",{...ke,...rr,href:ze||Xe,onClick:Ve||Ce?t:We,ref:mergeRefs$1(Oe,sr),target:Be,"data-discover":!Ke&&Ae==="render"?"true":void 0});return ir&&!Ke?reactExports.createElement(reactExports.Fragment,null,Ge,reactExports.createElement(PrefetchPageLinks,{page:Xe})):Ge});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":t="page",caseSensitive:Ae=!1,className:_e="",end:xe=!1,style:Ce,to:Se,viewTransition:Re,children:Be,...Fe},Ie){let Ue=useResolvedPath(Se,{relative:Fe.relative}),ke=useLocation(),Oe=reactExports.useContext(DataRouterStateContext),{navigator:je,basename:Ke}=reactExports.useContext(NavigationContext),ze=Oe!=null&&useViewTransitionState(Ue)&&Re===!0,Ve=je.encodeLocation?je.encodeLocation(Ue).pathname:Ue.pathname,Xe=ke.pathname,ir=Oe&&Oe.navigation&&Oe.navigation.location?Oe.navigation.location.pathname:null;Ae||(Xe=Xe.toLowerCase(),ir=ir?ir.toLowerCase():null,Ve=Ve.toLowerCase()),ir&&Ke&&(ir=stripBasename(ir,Ke)||ir);const sr=Ve!=="/"&&Ve.endsWith("/")?Ve.length-1:Ve.length;let rr=Xe===Ve||!xe&&Xe.startsWith(Ve)&&Xe.charAt(sr)==="/",nr=ir!=null&&(ir===Ve||!xe&&ir.startsWith(Ve)&&ir.charAt(Ve.length)==="/"),We={isActive:rr,isPending:nr,isTransitioning:ze},Ge=rr?t:void 0,Ze;typeof _e=="function"?Ze=_e(We):Ze=[_e,rr?"active":null,nr?"pending":null,ze?"transitioning":null].filter(Boolean).join(" ");let or=typeof Ce=="function"?Ce(We):Ce;return reactExports.createElement(Link,{...Fe,"aria-current":Ge,className:Ze,ref:Ie,style:or,to:Se,viewTransition:Re},typeof Be=="function"?Be(We):Be)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:Ee="render",fetcherKey:t,navigate:Ae,reloadDocument:_e,replace:xe,state:Ce,method:Se=defaultMethod,action:Re,onSubmit:Be,relative:Fe,preventScrollReset:Ie,viewTransition:Ue,...ke},Oe)=>{let je=useSubmit(),Ke=useFormAction(Re,{relative:Fe}),ze=Se.toLowerCase()==="get"?"get":"post",Ve=typeof Re=="string"&&ABSOLUTE_URL_REGEX2.test(Re),Xe=ir=>{if(Be&&Be(ir),ir.defaultPrevented)return;ir.preventDefault();let sr=ir.nativeEvent.submitter,rr=(sr==null?void 0:sr.getAttribute("formmethod"))||Se;je(sr||ir.currentTarget,{fetcherKey:t,method:rr,navigate:Ae,replace:xe,state:Ce,relative:Fe,preventScrollReset:Ie,viewTransition:Ue})};return reactExports.createElement("form",{ref:Oe,method:ze,action:Ke,onSubmit:_e?Be:Xe,...ke,"data-discover":!Ve&&Ee==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(Ee){return`${Ee} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(Ee){let t=reactExports.useContext(DataRouterContext);return invariant$1(t,getDataRouterConsoleError2(Ee)),t}function useLinkClickHandler(Ee,{target:t,replace:Ae,state:_e,preventScrollReset:xe,relative:Ce,viewTransition:Se}={}){let Re=useNavigate(),Be=useLocation(),Fe=useResolvedPath(Ee,{relative:Ce});return reactExports.useCallback(Ie=>{if(shouldProcessLinkClick(Ie,t)){Ie.preventDefault();let Ue=Ae!==void 0?Ae:createPath(Be)===createPath(Fe);Re(Ee,{replace:Ue,state:_e,preventScrollReset:xe,relative:Ce,viewTransition:Se})}},[Be,Re,Fe,Ae,_e,t,Ee,xe,Ce,Se])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:Ee}=useDataRouterContext3("useSubmit"),{basename:t}=reactExports.useContext(NavigationContext),Ae=useRouteId();return reactExports.useCallback(async(_e,xe={})=>{let{action:Ce,method:Se,encType:Re,formData:Be,body:Fe}=getFormSubmissionInfo(_e,t);if(xe.navigate===!1){let Ie=xe.fetcherKey||getUniqueFetcherId();await Ee.fetch(Ie,Ae,xe.action||Ce,{preventScrollReset:xe.preventScrollReset,formData:Be,body:Fe,formMethod:xe.method||Se,formEncType:xe.encType||Re,flushSync:xe.flushSync})}else await Ee.navigate(xe.action||Ce,{preventScrollReset:xe.preventScrollReset,formData:Be,body:Fe,formMethod:xe.method||Se,formEncType:xe.encType||Re,replace:xe.replace,state:xe.state,fromRouteId:Ae,flushSync:xe.flushSync,viewTransition:xe.viewTransition})},[Ee,t,Ae])}function useFormAction(Ee,{relative:t}={}){let{basename:Ae}=reactExports.useContext(NavigationContext),_e=reactExports.useContext(RouteContext);invariant$1(_e,"useFormAction must be used inside a RouteContext");let[xe]=_e.matches.slice(-1),Ce={...useResolvedPath(Ee||".",{relative:t})},Se=useLocation();if(Ee==null){Ce.search=Se.search;let Re=new URLSearchParams(Ce.search),Be=Re.getAll("index");if(Be.some(Ie=>Ie==="")){Re.delete("index"),Be.filter(Ue=>Ue).forEach(Ue=>Re.append("index",Ue));let Ie=Re.toString();Ce.search=Ie?`?${Ie}`:""}}return(!Ee||Ee===".")&&xe.route.index&&(Ce.search=Ce.search?Ce.search.replace(/^\?/,"?index&"):"?index"),Ae!=="/"&&(Ce.pathname=Ce.pathname==="/"?Ae:joinPaths([Ae,Ce.pathname])),createPath(Ce)}function useViewTransitionState(Ee,t={}){let Ae=reactExports.useContext(ViewTransitionContext);invariant$1(Ae!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:_e}=useDataRouterContext3("useViewTransitionState"),xe=useResolvedPath(Ee,{relative:t.relative});if(!Ae.isTransitioning)return!1;let Ce=stripBasename(Ae.currentLocation.pathname,_e)||Ae.currentLocation.pathname,Se=stripBasename(Ae.nextLocation.pathname,_e)||Ae.nextLocation.pathname;return matchPath(xe.pathname,Se)!=null||matchPath(xe.pathname,Ce)!=null}[...NO_BODY_STATUS_CODES];const getDefaultsFromPostinstall=()=>{};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(Ee){const t=[];let Ae=0;for(let _e=0;_e<Ee.length;_e++){let xe=Ee.charCodeAt(_e);xe<128?t[Ae++]=xe:xe<2048?(t[Ae++]=xe>>6|192,t[Ae++]=xe&63|128):(xe&64512)===55296&&_e+1<Ee.length&&(Ee.charCodeAt(_e+1)&64512)===56320?(xe=65536+((xe&1023)<<10)+(Ee.charCodeAt(++_e)&1023),t[Ae++]=xe>>18|240,t[Ae++]=xe>>12&63|128,t[Ae++]=xe>>6&63|128,t[Ae++]=xe&63|128):(t[Ae++]=xe>>12|224,t[Ae++]=xe>>6&63|128,t[Ae++]=xe&63|128)}return t},byteArrayToString=function(Ee){const t=[];let Ae=0,_e=0;for(;Ae<Ee.length;){const xe=Ee[Ae++];if(xe<128)t[_e++]=String.fromCharCode(xe);else if(xe>191&&xe<224){const Ce=Ee[Ae++];t[_e++]=String.fromCharCode((xe&31)<<6|Ce&63)}else if(xe>239&&xe<365){const Ce=Ee[Ae++],Se=Ee[Ae++],Re=Ee[Ae++],Be=((xe&7)<<18|(Ce&63)<<12|(Se&63)<<6|Re&63)-65536;t[_e++]=String.fromCharCode(55296+(Be>>10)),t[_e++]=String.fromCharCode(56320+(Be&1023))}else{const Ce=Ee[Ae++],Se=Ee[Ae++];t[_e++]=String.fromCharCode((xe&15)<<12|(Ce&63)<<6|Se&63)}}return t.join("")},base64$2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(Ee,t){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ae=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let xe=0;xe<Ee.length;xe+=3){const Ce=Ee[xe],Se=xe+1<Ee.length,Re=Se?Ee[xe+1]:0,Be=xe+2<Ee.length,Fe=Be?Ee[xe+2]:0,Ie=Ce>>2,Ue=(Ce&3)<<4|Re>>4;let ke=(Re&15)<<2|Fe>>6,Oe=Fe&63;Be||(Oe=64,Se||(ke=64)),_e.push(Ae[Ie],Ae[Ue],Ae[ke],Ae[Oe])}return _e.join("")},encodeString(Ee,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(Ee):this.encodeByteArray(stringToByteArray$1(Ee),t)},decodeString(Ee,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(Ee):byteArrayToString(this.decodeStringToByteArray(Ee,t))},decodeStringToByteArray(Ee,t){this.init_();const Ae=t?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let xe=0;xe<Ee.length;){const Ce=Ae[Ee.charAt(xe++)],Re=xe<Ee.length?Ae[Ee.charAt(xe)]:0;++xe;const Fe=xe<Ee.length?Ae[Ee.charAt(xe)]:64;++xe;const Ue=xe<Ee.length?Ae[Ee.charAt(xe)]:64;if(++xe,Ce==null||Re==null||Fe==null||Ue==null)throw new DecodeBase64StringError;const ke=Ce<<2|Re>>4;if(_e.push(ke),Fe!==64){const Oe=Re<<4&240|Fe>>2;if(_e.push(Oe),Ue!==64){const je=Fe<<6&192|Ue;_e.push(je)}}}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(Ee){const t=stringToByteArray$1(Ee);return base64$2.encodeByteArray(t,!0)},base64urlEncodeWithoutPadding=function(Ee){return base64Encode(Ee).replace(/\./g,"")},base64Decode=function(Ee){try{return base64$2.decodeString(Ee,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const Ee=define_process_env_default.__FIREBASE_DEFAULTS__;if(Ee)return JSON.parse(Ee)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let Ee;try{Ee=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=Ee&&base64Decode(Ee[1]);return t&&JSON.parse(t)},getDefaults=()=>{try{return getDefaultsFromPostinstall()||getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(Ee){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ee}`);return}},getDefaultEmulatorHost=Ee=>{var t,Ae;return(Ae=(t=getDefaults())===null||t===void 0?void 0:t.emulatorHosts)===null||Ae===void 0?void 0:Ae[Ee]},getDefaultEmulatorHostnameAndPort=Ee=>{const t=getDefaultEmulatorHost(Ee);if(!t)return;const Ae=t.lastIndexOf(":");if(Ae<=0||Ae+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const _e=parseInt(t.substring(Ae+1),10);return t[0]==="["?[t.substring(1,Ae-1),_e]:[t.substring(0,Ae),_e]},getDefaultAppConfig=()=>{var Ee;return(Ee=getDefaults())===null||Ee===void 0?void 0:Ee.config},getExperimentalSetting=Ee=>{var t;return(t=getDefaults())===null||t===void 0?void 0:t[`_${Ee}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,Ae)=>{this.resolve=t,this.reject=Ae})}wrapCallback(t){return(Ae,_e)=>{Ae?this.reject(Ae):this.resolve(_e),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(Ae):t(Ae,_e))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isCloudWorkstation(Ee){return Ee.endsWith(".cloudworkstations.dev")}async function pingServer(Ee){return(await fetch(Ee,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(Ee,t){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae={alg:"none",type:"JWT"},_e=t||"demo-project",xe=Ee.iat||0,Ce=Ee.sub||Ee.user_id;if(!Ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Se=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:xe,exp:xe+3600,auth_time:xe,sub:Ce,user_id:Ce,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[base64urlEncodeWithoutPadding(JSON.stringify(Ae)),base64urlEncodeWithoutPadding(JSON.stringify(Se)),""].join(".")}const emulatorStatus={};function getEmulatorSummary(){const Ee={prod:[],emulator:[]};for(const t of Object.keys(emulatorStatus))emulatorStatus[t]?Ee.emulator.push(t):Ee.prod.push(t);return Ee}function getOrCreateEl(Ee){let t=document.getElementById(Ee),Ae=!1;return t||(t=document.createElement("div"),t.setAttribute("id",Ee),Ae=!0),{created:Ae,element:t}}let previouslyDismissed=!1;function updateEmulatorBanner(Ee,t){if(typeof window>"u"||typeof document>"u"||!isCloudWorkstation(window.location.host)||emulatorStatus[Ee]===t||emulatorStatus[Ee]||previouslyDismissed)return;emulatorStatus[Ee]=t;function Ae(ke){return`__firebase__banner__${ke}`}const _e="__firebase__banner",Ce=getEmulatorSummary().prod.length>0;function Se(){const ke=document.getElementById(_e);ke&&ke.remove()}function Re(ke){ke.style.display="flex",ke.style.background="#7faaf0",ke.style.position="fixed",ke.style.bottom="5px",ke.style.left="5px",ke.style.padding=".5em",ke.style.borderRadius="5px",ke.style.alignItems="center"}function Be(ke,Oe){ke.setAttribute("width","24"),ke.setAttribute("id",Oe),ke.setAttribute("height","24"),ke.setAttribute("viewBox","0 0 24 24"),ke.setAttribute("fill","none"),ke.style.marginLeft="-6px"}function Fe(){const ke=document.createElement("span");return ke.style.cursor="pointer",ke.style.marginLeft="16px",ke.style.fontSize="24px",ke.innerHTML=" &times;",ke.onclick=()=>{previouslyDismissed=!0,Se()},ke}function Ie(ke,Oe){ke.setAttribute("id",Oe),ke.innerText="Learn more",ke.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",ke.setAttribute("target","__blank"),ke.style.paddingLeft="5px",ke.style.textDecoration="underline"}function Ue(){const ke=getOrCreateEl(_e),Oe=Ae("text"),je=document.getElementById(Oe)||document.createElement("span"),Ke=Ae("learnmore"),ze=document.getElementById(Ke)||document.createElement("a"),Ve=Ae("preprendIcon"),Xe=document.getElementById(Ve)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(ke.created){const ir=ke.element;Re(ir),Ie(ze,Ke);const sr=Fe();Be(Xe,Ve),ir.append(Xe,je,ze,sr),document.body.appendChild(ir)}Ce?(je.innerText="Preview backend disconnected.",Xe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Xe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,je.innerText="Preview backend running in this workspace."),je.setAttribute("id",Oe)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",Ue):Ue()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){var Ee;const t=(Ee=getDefaults())===null||Ee===void 0?void 0:Ee.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const Ee=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof Ee=="object"&&Ee.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const Ee=getUA();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((Ee,t)=>{try{let Ae=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",xe=self.indexedDB.open(_e);xe.onsuccess=()=>{xe.result.close(),Ae||self.indexedDB.deleteDatabase(_e),Ee(!0)},xe.onupgradeneeded=()=>{Ae=!1},xe.onerror=()=>{var Ce;t(((Ce=xe.error)===null||Ce===void 0?void 0:Ce.message)||"")}}catch(Ae){t(Ae)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(t,Ae,_e){super(Ae),this.code=t,this.customData=_e,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(t,Ae,_e){this.service=t,this.serviceName=Ae,this.errors=_e}create(t,...Ae){const _e=Ae[0]||{},xe=`${this.service}/${t}`,Ce=this.errors[t],Se=Ce?replaceTemplate(Ce,_e):"Error",Re=`${this.serviceName}: ${Se} (${xe}).`;return new FirebaseError(xe,Re,_e)}}function replaceTemplate(Ee,t){return Ee.replace(PATTERN,(Ae,_e)=>{const xe=t[_e];return xe!=null?String(xe):`<${_e}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(Ee){for(const t in Ee)if(Object.prototype.hasOwnProperty.call(Ee,t))return!1;return!0}function deepEqual(Ee,t){if(Ee===t)return!0;const Ae=Object.keys(Ee),_e=Object.keys(t);for(const xe of Ae){if(!_e.includes(xe))return!1;const Ce=Ee[xe],Se=t[xe];if(isObject(Ce)&&isObject(Se)){if(!deepEqual(Ce,Se))return!1}else if(Ce!==Se)return!1}for(const xe of _e)if(!Ae.includes(xe))return!1;return!0}function isObject(Ee){return Ee!==null&&typeof Ee=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(Ee){const t=[];for(const[Ae,_e]of Object.entries(Ee))Array.isArray(_e)?_e.forEach(xe=>{t.push(encodeURIComponent(Ae)+"="+encodeURIComponent(xe))}):t.push(encodeURIComponent(Ae)+"="+encodeURIComponent(_e));return t.length?"&"+t.join("&"):""}function querystringDecode(Ee){const t={};return Ee.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[xe,Ce]=_e.split("=");t[decodeURIComponent(xe)]=decodeURIComponent(Ce)}}),t}function extractQuerystring(Ee){const t=Ee.indexOf("?");if(!t)return"";const Ae=Ee.indexOf("#",t);return Ee.substring(t,Ae>0?Ae:void 0)}function createSubscribe(Ee,t){const Ae=new ObserverProxy(Ee,t);return Ae.subscribe.bind(Ae)}class ObserverProxy{constructor(t,Ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ae,this.task.then(()=>{t(this)}).catch(_e=>{this.error(_e)})}next(t){this.forEachObserver(Ae=>{Ae.next(t)})}error(t){this.forEachObserver(Ae=>{Ae.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,Ae,_e){let xe;if(t===void 0&&Ae===void 0&&_e===void 0)throw new Error("Missing Observer.");implementsAnyMethods(t,["next","error","complete"])?xe=t:xe={next:t,error:Ae,complete:_e},xe.next===void 0&&(xe.next=noop),xe.error===void 0&&(xe.error=noop),xe.complete===void 0&&(xe.complete=noop);const Ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?xe.error(this.finalError):xe.complete()}catch{}}),this.observers.push(xe),Ce}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let Ae=0;Ae<this.observers.length;Ae++)this.sendOne(Ae,t)}sendOne(t,Ae){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{Ae(this.observers[t])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(Ee,t){if(typeof Ee!="object"||Ee===null)return!1;for(const Ae of t)if(Ae in Ee&&typeof Ee[Ae]=="function")return!0;return!1}function noop(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}class Component{constructor(t,Ae,_e){this.name=t,this.instanceFactory=Ae,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(t,Ae){this.name=t,this.container=Ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const Ae=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(Ae)){const _e=new Deferred;if(this.instancesDeferred.set(Ae,_e),this.isInitialized(Ae)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:Ae});xe&&_e.resolve(xe)}catch{}}return this.instancesDeferred.get(Ae).promise}getImmediate(t){var Ae;const _e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),xe=(Ae=t==null?void 0:t.optional)!==null&&Ae!==void 0?Ae:!1;if(this.isInitialized(_e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(Ce){if(xe)return null;throw Ce}else{if(xe)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(isComponentEager(t))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[Ae,_e]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(Ae);try{const Ce=this.getOrInitializeService({instanceIdentifier:xe});_e.resolve(Ce)}catch{}}}}clearInstance(t=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...t.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=DEFAULT_ENTRY_NAME$1){return this.instances.has(t)}getOptions(t=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:Ae={}}=t,_e=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(_e))throw Error(`${this.name}(${_e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:_e,options:Ae});for(const[Ce,Se]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(Ce);_e===Re&&Se.resolve(xe)}return xe}onInit(t,Ae){var _e;const xe=this.normalizeInstanceIdentifier(Ae),Ce=(_e=this.onInitCallbacks.get(xe))!==null&&_e!==void 0?_e:new Set;Ce.add(t),this.onInitCallbacks.set(xe,Ce);const Se=this.instances.get(xe);return Se&&t(Se,xe),()=>{Ce.delete(t)}}invokeOnInitCallbacks(t,Ae){const _e=this.onInitCallbacks.get(Ae);if(_e)for(const xe of _e)try{xe(t,Ae)}catch{}}getOrInitializeService({instanceIdentifier:t,options:Ae={}}){let _e=this.instances.get(t);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(t),options:Ae}),this.instances.set(t,_e),this.instancesOptions.set(t,Ae),this.invokeOnInitCallbacks(_e,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,_e)}catch{}return _e||null}normalizeInstanceIdentifier(t=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?t:DEFAULT_ENTRY_NAME$1:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(Ee){return Ee===DEFAULT_ENTRY_NAME$1?void 0:Ee}function isComponentEager(Ee){return Ee.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const Ae=this.getProvider(t.name);if(Ae.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);Ae.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const Ae=new Provider(t,this);return this.providers.set(t,Ae),Ae}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(Ee){Ee[Ee.DEBUG=0]="DEBUG",Ee[Ee.VERBOSE=1]="VERBOSE",Ee[Ee.INFO=2]="INFO",Ee[Ee.WARN=3]="WARN",Ee[Ee.ERROR=4]="ERROR",Ee[Ee.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(Ee,t,...Ae)=>{if(t<Ee.logLevel)return;const _e=new Date().toISOString(),xe=ConsoleMethod[t];if(xe)console[xe](`[${_e}]  ${Ee.name}:`,...Ae);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let Logger$1=class{constructor(t){this.name=t,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in LogLevel))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?levelStringToEnum[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...t),this._logHandler(this,LogLevel.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...t),this._logHandler(this,LogLevel.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...t),this._logHandler(this,LogLevel.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...t),this._logHandler(this,LogLevel.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...t),this._logHandler(this,LogLevel.ERROR,...t)}};const instanceOfAny=(Ee,t)=>t.some(Ae=>Ee instanceof Ae);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(Ee){const t=new Promise((Ae,_e)=>{const xe=()=>{Ee.removeEventListener("success",Ce),Ee.removeEventListener("error",Se)},Ce=()=>{Ae(wrap(Ee.result)),xe()},Se=()=>{_e(Ee.error),xe()};Ee.addEventListener("success",Ce),Ee.addEventListener("error",Se)});return t.then(Ae=>{Ae instanceof IDBCursor&&cursorRequestMap.set(Ae,Ee)}).catch(()=>{}),reverseTransformCache.set(t,Ee),t}function cacheDonePromiseForTransaction(Ee){if(transactionDoneMap.has(Ee))return;const t=new Promise((Ae,_e)=>{const xe=()=>{Ee.removeEventListener("complete",Ce),Ee.removeEventListener("error",Se),Ee.removeEventListener("abort",Se)},Ce=()=>{Ae(),xe()},Se=()=>{_e(Ee.error||new DOMException("AbortError","AbortError")),xe()};Ee.addEventListener("complete",Ce),Ee.addEventListener("error",Se),Ee.addEventListener("abort",Se)});transactionDoneMap.set(Ee,t)}let idbProxyTraps={get(Ee,t,Ae){if(Ee instanceof IDBTransaction){if(t==="done")return transactionDoneMap.get(Ee);if(t==="objectStoreNames")return Ee.objectStoreNames||transactionStoreNamesMap.get(Ee);if(t==="store")return Ae.objectStoreNames[1]?void 0:Ae.objectStore(Ae.objectStoreNames[0])}return wrap(Ee[t])},set(Ee,t,Ae){return Ee[t]=Ae,!0},has(Ee,t){return Ee instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in Ee}};function replaceTraps(Ee){idbProxyTraps=Ee(idbProxyTraps)}function wrapFunction(Ee){return Ee===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...Ae){const _e=Ee.call(unwrap(this),t,...Ae);return transactionStoreNamesMap.set(_e,t.sort?t.sort():[t]),wrap(_e)}:getCursorAdvanceMethods().includes(Ee)?function(...t){return Ee.apply(unwrap(this),t),wrap(cursorRequestMap.get(this))}:function(...t){return wrap(Ee.apply(unwrap(this),t))}}function transformCachableValue(Ee){return typeof Ee=="function"?wrapFunction(Ee):(Ee instanceof IDBTransaction&&cacheDonePromiseForTransaction(Ee),instanceOfAny(Ee,getIdbProxyableTypes())?new Proxy(Ee,idbProxyTraps):Ee)}function wrap(Ee){if(Ee instanceof IDBRequest)return promisifyRequest(Ee);if(transformCache.has(Ee))return transformCache.get(Ee);const t=transformCachableValue(Ee);return t!==Ee&&(transformCache.set(Ee,t),reverseTransformCache.set(t,Ee)),t}const unwrap=Ee=>reverseTransformCache.get(Ee);function openDB(Ee,t,{blocked:Ae,upgrade:_e,blocking:xe,terminated:Ce}={}){const Se=indexedDB.open(Ee,t),Re=wrap(Se);return _e&&Se.addEventListener("upgradeneeded",Be=>{_e(wrap(Se.result),Be.oldVersion,Be.newVersion,wrap(Se.transaction),Be)}),Ae&&Se.addEventListener("blocked",Be=>Ae(Be.oldVersion,Be.newVersion,Be)),Re.then(Be=>{Ce&&Be.addEventListener("close",()=>Ce()),xe&&Be.addEventListener("versionchange",Fe=>xe(Fe.oldVersion,Fe.newVersion,Fe))}).catch(()=>{}),Re}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(Ee,t){if(!(Ee instanceof IDBDatabase&&!(t in Ee)&&typeof t=="string"))return;if(cachedMethods.get(t))return cachedMethods.get(t);const Ae=t.replace(/FromIndex$/,""),_e=t!==Ae,xe=writeMethods.includes(Ae);if(!(Ae in(_e?IDBIndex:IDBObjectStore).prototype)||!(xe||readMethods.includes(Ae)))return;const Ce=async function(Se,...Re){const Be=this.transaction(Se,xe?"readwrite":"readonly");let Fe=Be.store;return _e&&(Fe=Fe.index(Re.shift())),(await Promise.all([Fe[Ae](...Re),xe&&Be.done]))[0]};return cachedMethods.set(t,Ce),Ce}replaceTraps(Ee=>({...Ee,get:(t,Ae,_e)=>getMethod(t,Ae)||Ee.get(t,Ae,_e),has:(t,Ae)=>!!getMethod(t,Ae)||Ee.has(t,Ae)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(Ae=>{if(isVersionServiceProvider(Ae)){const _e=Ae.getImmediate();return`${_e.library}/${_e.version}`}else return null}).filter(Ae=>Ae).join(" ")}}function isVersionServiceProvider(Ee){const t=Ee.getComponent();return(t==null?void 0:t.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger$1("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2$1="@firebase/ai",name$1$1="@firebase/firestore-compat",name$r="firebase",version$3="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(Ee,t){try{Ee.container.addComponent(t)}catch(Ae){logger.debug(`Component ${t.name} failed to register with FirebaseApp ${Ee.name}`,Ae)}}function _registerComponent(Ee){const t=Ee.name;if(_components.has(t))return logger.debug(`There were multiple attempts to register component ${t}.`),!1;_components.set(t,Ee);for(const Ae of _apps.values())_addComponent(Ae,Ee);for(const Ae of _serverApps.values())_addComponent(Ae,Ee);return!0}function _getProvider(Ee,t){const Ae=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return Ae&&Ae.triggerHeartbeat(),Ee.container.getProvider(t)}function _isFirebaseServerApp(Ee){return Ee==null?!1:Ee.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(t,Ae,_e){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},Ae),this._name=Ae.name,this._automaticDataCollectionEnabled=Ae.automaticDataCollectionEnabled,this._container=_e,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$3;function initializeApp(Ee,t={}){let Ae=Ee;typeof t!="object"&&(t={name:t});const _e=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!0},t),xe=_e.name;if(typeof xe!="string"||!xe)throw ERROR_FACTORY.create("bad-app-name",{appName:String(xe)});if(Ae||(Ae=getDefaultAppConfig()),!Ae)throw ERROR_FACTORY.create("no-options");const Ce=_apps.get(xe);if(Ce){if(deepEqual(Ae,Ce.options)&&deepEqual(_e,Ce.config))return Ce;throw ERROR_FACTORY.create("duplicate-app",{appName:xe})}const Se=new ComponentContainer(xe);for(const Be of _components.values())Se.addComponent(Be);const Re=new FirebaseAppImpl(Ae,_e,Se);return _apps.set(xe,Re),Re}function getApp(Ee=DEFAULT_ENTRY_NAME){const t=_apps.get(Ee);if(!t&&Ee===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!t)throw ERROR_FACTORY.create("no-app",{appName:Ee});return t}function registerVersion(Ee,t,Ae){var _e;let xe=(_e=PLATFORM_LOG_STRING[Ee])!==null&&_e!==void 0?_e:Ee;Ae&&(xe+=`-${Ae}`);const Ce=xe.match(/\s|\//),Se=t.match(/\s|\//);if(Ce||Se){const Re=[`Unable to register library "${xe}" with version "${t}":`];Ce&&Re.push(`library name "${xe}" contains illegal characters (whitespace or "/")`),Ce&&Se&&Re.push("and"),Se&&Re.push(`version name "${t}" contains illegal characters (whitespace or "/")`),logger.warn(Re.join(" "));return}_registerComponent(new Component(`${xe}-version`,()=>({library:xe,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(Ee,t)=>{switch(t){case 0:try{Ee.createObjectStore(STORE_NAME)}catch(Ae){console.warn(Ae)}}}}).catch(Ee=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:Ee.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(Ee){try{const Ae=(await getDbPromise()).transaction(STORE_NAME),_e=await Ae.objectStore(STORE_NAME).get(computeKey(Ee));return await Ae.done,_e}catch(t){if(t instanceof FirebaseError)logger.warn(t.message);else{const Ae=ERROR_FACTORY.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});logger.warn(Ae.message)}}}async function writeHeartbeatsToIndexedDB(Ee,t){try{const _e=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await _e.objectStore(STORE_NAME).put(t,computeKey(Ee)),await _e.done}catch(Ae){if(Ae instanceof FirebaseError)logger.warn(Ae.message);else{const _e=ERROR_FACTORY.create("idb-set",{originalErrorMessage:Ae==null?void 0:Ae.message});logger.warn(_e.message)}}}function computeKey(Ee){return`${Ee.name}!${Ee.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor(t){this.container=t,this._heartbeatsCache=null;const Ae=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(Ae),this._heartbeatsCachePromise=this._storage.read().then(_e=>(this._heartbeatsCache=_e,_e))}async triggerHeartbeat(){var t,Ae;try{const xe=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ce=getUTCDateString();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((Ae=this._heartbeatsCache)===null||Ae===void 0?void 0:Ae.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===Ce||this._heartbeatsCache.heartbeats.some(Se=>Se.date===Ce))return;if(this._heartbeatsCache.heartbeats.push({date:Ce,agent:xe}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const Se=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(Se,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(_e){logger.warn(_e)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const Ae=getUTCDateString(),{heartbeatsToSend:_e,unsentEntries:xe}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),Ce=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:_e}));return this._heartbeatsCache.lastSentHeartbeatDate=Ae,xe.length>0?(this._heartbeatsCache.heartbeats=xe,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),Ce}catch(Ae){return logger.warn(Ae),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(Ee,t=MAX_HEADER_BYTES){const Ae=[];let _e=Ee.slice();for(const xe of Ee){const Ce=Ae.find(Se=>Se.agent===xe.agent);if(Ce){if(Ce.dates.push(xe.date),countBytes(Ae)>t){Ce.dates.pop();break}}else if(Ae.push({agent:xe.agent,dates:[xe.date]}),countBytes(Ae)>t){Ae.pop();break}_e=_e.slice(1)}return{heartbeatsToSend:Ae,unsentEntries:_e}}class HeartbeatStorageImpl{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const Ae=await readHeartbeatsFromIndexedDB(this.app);return Ae!=null&&Ae.heartbeats?Ae:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var Ae;if(await this._canUseIndexedDBPromise){const xe=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(Ae=t.lastSentHeartbeatDate)!==null&&Ae!==void 0?Ae:xe.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var Ae;if(await this._canUseIndexedDBPromise){const xe=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(Ae=t.lastSentHeartbeatDate)!==null&&Ae!==void 0?Ae:xe.lastSentHeartbeatDate,heartbeats:[...xe.heartbeats,...t.heartbeats]})}else return}}function countBytes(Ee){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:Ee})).length}function getEarliestHeartbeatIdx(Ee){if(Ee.length===0)return-1;let t=0,Ae=Ee[0].date;for(let _e=1;_e<Ee.length;_e++)Ee[_e].date<Ae&&(Ae=Ee[_e].date,t=_e);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(Ee){_registerComponent(new Component("platform-logger",t=>new PlatformLoggerServiceImpl(t),"PRIVATE")),_registerComponent(new Component("heartbeat",t=>new HeartbeatServiceImpl(t),"PRIVATE")),registerVersion(name$q,version$1$1,Ee),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");function __rest$3(Ee,t){var Ae={};for(var _e in Ee)Object.prototype.hasOwnProperty.call(Ee,_e)&&t.indexOf(_e)<0&&(Ae[_e]=Ee[_e]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xe=0,_e=Object.getOwnPropertySymbols(Ee);xe<_e.length;xe++)t.indexOf(_e[xe])<0&&Object.prototype.propertyIsEnumerable.call(Ee,_e[xe])&&(Ae[_e[xe]]=Ee[_e[xe]]);return Ae}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger$1("@firebase/auth");function _logWarn(Ee,...t){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${Ee}`,...t)}function _logError(Ee,...t){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${Ee}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(Ee,...t){throw createErrorInternal(Ee,...t)}function _createError(Ee,...t){return createErrorInternal(Ee,...t)}function _errorWithCustomMessage(Ee,t,Ae){const _e=Object.assign(Object.assign({},prodErrorMap()),{[t]:Ae});return new ErrorFactory("auth","Firebase",_e).create(t,{appName:Ee.name})}function _serverAppCurrentUserOperationNotSupportedError(Ee){return _errorWithCustomMessage(Ee,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal(Ee,...t){if(typeof Ee!="string"){const Ae=t[0],_e=[...t.slice(1)];return _e[0]&&(_e[0].appName=Ee.name),Ee._errorFactory.create(Ae,..._e)}return _DEFAULT_AUTH_ERROR_FACTORY.create(Ee,...t)}function _assert(Ee,t,...Ae){if(!Ee)throw createErrorInternal(t,...Ae)}function debugFail(Ee){const t="INTERNAL ASSERTION FAILED: "+Ee;throw _logError(t),new Error(t)}function debugAssert(Ee,t){Ee||debugFail(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var Ee;return typeof self<"u"&&((Ee=self.location)===null||Ee===void 0?void 0:Ee.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var Ee;return typeof self<"u"&&((Ee=self.location)===null||Ee===void 0?void 0:Ee.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const Ee=navigator;return Ee.languages&&Ee.languages[0]||Ee.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(t,Ae){this.shortDelay=t,this.longDelay=Ae,debugAssert(Ae>t,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(Ee,t){debugAssert(Ee.emulator,"Emulator should always be set here");const{url:Ae}=Ee.emulator;return t?`${Ae}${t.startsWith("/")?t.slice(1):t}`:Ae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(t,Ae,_e){this.fetchImpl=t,Ae&&(this.headersImpl=Ae),_e&&(this.responseImpl=_e)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CookieAuthProxiedEndpoints=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(Ee,t){return Ee.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:Ee.tenantId}):t}async function _performApiRequest(Ee,t,Ae,_e,xe={}){return _performFetchWithErrorHandling(Ee,xe,async()=>{let Ce={},Se={};_e&&(t==="GET"?Se=_e:Ce={body:JSON.stringify(_e)});const Re=querystring(Object.assign({key:Ee.config.apiKey},Se)).slice(1),Be=await Ee._getAdditionalHeaders();Be["Content-Type"]="application/json",Ee.languageCode&&(Be["X-Firebase-Locale"]=Ee.languageCode);const Fe=Object.assign({method:t,headers:Be},Ce);return isCloudflareWorker()||(Fe.referrerPolicy="no-referrer"),Ee.emulatorConfig&&isCloudWorkstation(Ee.emulatorConfig.host)&&(Fe.credentials="include"),FetchProvider.fetch()(await _getFinalTarget(Ee,Ee.config.apiHost,Ae,Re),Fe)})}async function _performFetchWithErrorHandling(Ee,t,Ae){Ee._canInitEmulator=!1;const _e=Object.assign(Object.assign({},SERVER_ERROR_MAP),t);try{const xe=new NetworkTimeout(Ee),Ce=await Promise.race([Ae(),xe.promise]);xe.clearNetworkTimeout();const Se=await Ce.json();if("needConfirmation"in Se)throw _makeTaggedError(Ee,"account-exists-with-different-credential",Se);if(Ce.ok&&!("errorMessage"in Se))return Se;{const Re=Ce.ok?Se.errorMessage:Se.error.message,[Be,Fe]=Re.split(" : ");if(Be==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(Ee,"credential-already-in-use",Se);if(Be==="EMAIL_EXISTS")throw _makeTaggedError(Ee,"email-already-in-use",Se);if(Be==="USER_DISABLED")throw _makeTaggedError(Ee,"user-disabled",Se);const Ie=_e[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Fe)throw _errorWithCustomMessage(Ee,Ie,Fe);_fail(Ee,Ie)}}catch(xe){if(xe instanceof FirebaseError)throw xe;_fail(Ee,"network-request-failed",{message:String(xe)})}}async function _performSignInRequest(Ee,t,Ae,_e,xe={}){const Ce=await _performApiRequest(Ee,t,Ae,_e,xe);return"mfaPendingCredential"in Ce&&_fail(Ee,"multi-factor-auth-required",{_serverResponse:Ce}),Ce}async function _getFinalTarget(Ee,t,Ae,_e){const xe=`${t}${Ae}?${_e}`,Ce=Ee,Se=Ce.config.emulator?_emulatorUrl(Ee.config,xe):`${Ee.config.apiScheme}://${xe}`;return CookieAuthProxiedEndpoints.includes(Ae)&&(await Ce._persistenceManagerAvailable,Ce._getPersistenceType()==="COOKIE")?Ce._getPersistence()._getFinalTarget(Se).toString():Se}function _parseEnforcementState(Ee){switch(Ee){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((Ae,_e)=>{this.timer=setTimeout(()=>_e(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}}function _makeTaggedError(Ee,t,Ae){const _e={appName:Ee.name};Ae.email&&(_e.email=Ae.email),Ae.phoneNumber&&(_e.phoneNumber=Ae.phoneNumber);const xe=_createError(Ee,t,_e);return xe.customData._tokenResponse=Ae,xe}function isEnterprise(Ee){return Ee!==void 0&&Ee.enterprise!==void 0}class RecaptchaConfig{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const Ae of this.recaptchaEnforcementState)if(Ae.provider&&Ae.provider===t)return _parseEnforcementState(Ae.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function getRecaptchaConfig(Ee,t){return _performApiRequest(Ee,"GET","/v2/recaptchaConfig",_addTidIfNecessary(Ee,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(Ee,t){return _performApiRequest(Ee,"POST","/v1/accounts:delete",t)}async function getAccountInfo(Ee,t){return _performApiRequest(Ee,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(Ee){if(Ee)try{const t=new Date(Number(Ee));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function getIdTokenResult(Ee,t=!1){const Ae=getModularInstance(Ee),_e=await Ae.getIdToken(t),xe=_parseToken(_e);_assert(xe&&xe.exp&&xe.auth_time&&xe.iat,Ae.auth,"internal-error");const Ce=typeof xe.firebase=="object"?xe.firebase:void 0,Se=Ce==null?void 0:Ce.sign_in_provider;return{claims:xe,token:_e,authTime:utcTimestampToDateString(secondsStringToMilliseconds(xe.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(xe.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(xe.exp)),signInProvider:Se||null,signInSecondFactor:(Ce==null?void 0:Ce.sign_in_second_factor)||null}}function secondsStringToMilliseconds(Ee){return Number(Ee)*1e3}function _parseToken(Ee){const[t,Ae,_e]=Ee.split(".");if(t===void 0||Ae===void 0||_e===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const xe=base64Decode(Ae);return xe?JSON.parse(xe):(_logError("Failed to decode base64 JWT payload"),null)}catch(xe){return _logError("Caught error parsing JWT payload as JSON",xe==null?void 0:xe.toString()),null}}function _tokenExpiresIn(Ee){const t=_parseToken(Ee);return _assert(t,"internal-error"),_assert(typeof t.exp<"u","internal-error"),_assert(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(Ee,t,Ae=!1){if(Ae)return t;try{return await t}catch(_e){throw _e instanceof FirebaseError&&isUserInvalidated(_e)&&Ee.auth.currentUser===Ee&&await Ee.auth.signOut(),_e}}function isUserInvalidated({code:Ee}){return Ee==="auth/user-disabled"||Ee==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var Ae;if(t){const _e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),_e}else{this.errorBackoff=3e4;const xe=((Ae=this.user.stsTokenManager.expirationTime)!==null&&Ae!==void 0?Ae:0)-Date.now()-3e5;return Math.max(0,xe)}}schedule(t=!1){if(!this.isRunning)return;const Ae=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},Ae)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(t,Ae){this.createdAt=t,this.lastLoginAt=Ae,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(Ee){var t;const Ae=Ee.auth,_e=await Ee.getIdToken(),xe=await _logoutIfInvalidated(Ee,getAccountInfo(Ae,{idToken:_e}));_assert(xe==null?void 0:xe.users.length,Ae,"internal-error");const Ce=xe.users[0];Ee._notifyReloadListener(Ce);const Se=!((t=Ce.providerUserInfo)===null||t===void 0)&&t.length?extractProviderData(Ce.providerUserInfo):[],Re=mergeProviderData(Ee.providerData,Se),Be=Ee.isAnonymous,Fe=!(Ee.email&&Ce.passwordHash)&&!(Re!=null&&Re.length),Ie=Be?Fe:!1,Ue={uid:Ce.localId,displayName:Ce.displayName||null,photoURL:Ce.photoUrl||null,email:Ce.email||null,emailVerified:Ce.emailVerified||!1,phoneNumber:Ce.phoneNumber||null,tenantId:Ce.tenantId||null,providerData:Re,metadata:new UserMetadata(Ce.createdAt,Ce.lastLoginAt),isAnonymous:Ie};Object.assign(Ee,Ue)}async function reload(Ee){const t=getModularInstance(Ee);await _reloadWithoutSaving(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mergeProviderData(Ee,t){return[...Ee.filter(_e=>!t.some(xe=>xe.providerId===_e.providerId)),...t]}function extractProviderData(Ee){return Ee.map(t=>{var{providerId:Ae}=t,_e=__rest$3(t,["providerId"]);return{providerId:Ae,uid:_e.rawId||"",displayName:_e.displayName||null,email:_e.email||null,phoneNumber:_e.phoneNumber||null,photoURL:_e.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(Ee,t){const Ae=await _performFetchWithErrorHandling(Ee,{},async()=>{const _e=querystring({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:xe,apiKey:Ce}=Ee.config,Se=await _getFinalTarget(Ee,xe,"/v1/token",`key=${Ce}`),Re=await Ee._getAdditionalHeaders();Re["Content-Type"]="application/x-www-form-urlencoded";const Be={method:"POST",headers:Re,body:_e};return Ee.emulatorConfig&&isCloudWorkstation(Ee.emulatorConfig.host)&&(Be.credentials="include"),FetchProvider.fetch()(Se,Be)});return{accessToken:Ae.access_token,expiresIn:Ae.expires_in,refreshToken:Ae.refresh_token}}async function revokeToken(Ee,t){return _performApiRequest(Ee,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(Ee,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_assert(t.idToken,"internal-error"),_assert(typeof t.idToken<"u","internal-error"),_assert(typeof t.refreshToken<"u","internal-error");const Ae="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_tokenExpiresIn(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,Ae)}updateFromIdToken(t){_assert(t.length!==0,"internal-error");const Ae=_tokenExpiresIn(t);this.updateTokensAndExpiration(t,null,Ae)}async getToken(t,Ae=!1){return!Ae&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,Ae){const{accessToken:_e,refreshToken:xe,expiresIn:Ce}=await requestStsToken(t,Ae);this.updateTokensAndExpiration(_e,xe,Number(Ce))}updateTokensAndExpiration(t,Ae,_e){this.refreshToken=Ae||null,this.accessToken=t||null,this.expirationTime=Date.now()+_e*1e3}static fromJSON(t,Ae){const{refreshToken:_e,accessToken:xe,expirationTime:Ce}=Ae,Se=new StsTokenManager;return _e&&(_assert(typeof _e=="string","internal-error",{appName:t}),Se.refreshToken=_e),xe&&(_assert(typeof xe=="string","internal-error",{appName:t}),Se.accessToken=xe),Ce&&(_assert(typeof Ce=="number","internal-error",{appName:t}),Se.expirationTime=Ce),Se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(Ee,t){_assert(typeof Ee=="string"||typeof Ee>"u","internal-error",{appName:t})}class UserImpl{constructor(t){var{uid:Ae,auth:_e,stsTokenManager:xe}=t,Ce=__rest$3(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=Ae,this.auth=_e,this.stsTokenManager=xe,this.accessToken=xe.accessToken,this.displayName=Ce.displayName||null,this.email=Ce.email||null,this.emailVerified=Ce.emailVerified||!1,this.phoneNumber=Ce.phoneNumber||null,this.photoURL=Ce.photoURL||null,this.isAnonymous=Ce.isAnonymous||!1,this.tenantId=Ce.tenantId||null,this.providerData=Ce.providerData?[...Ce.providerData]:[],this.metadata=new UserMetadata(Ce.createdAt||void 0,Ce.lastLoginAt||void 0)}async getIdToken(t){const Ae=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,t));return _assert(Ae,this.auth,"internal-error"),this.accessToken!==Ae&&(this.accessToken=Ae,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),Ae}getIdTokenResult(t){return getIdTokenResult(this,t)}reload(){return reload(this)}_assign(t){this!==t&&(_assert(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(Ae=>Object.assign({},Ae)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const Ae=new UserImpl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return Ae.metadata._copy(this.metadata),Ae}_onReload(t){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,Ae=!1){let _e=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),_e=!0),Ae&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),_e&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const t=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,Ae){var _e,xe,Ce,Se,Re,Be,Fe,Ie;const Ue=(_e=Ae.displayName)!==null&&_e!==void 0?_e:void 0,ke=(xe=Ae.email)!==null&&xe!==void 0?xe:void 0,Oe=(Ce=Ae.phoneNumber)!==null&&Ce!==void 0?Ce:void 0,je=(Se=Ae.photoURL)!==null&&Se!==void 0?Se:void 0,Ke=(Re=Ae.tenantId)!==null&&Re!==void 0?Re:void 0,ze=(Be=Ae._redirectEventId)!==null&&Be!==void 0?Be:void 0,Ve=(Fe=Ae.createdAt)!==null&&Fe!==void 0?Fe:void 0,Xe=(Ie=Ae.lastLoginAt)!==null&&Ie!==void 0?Ie:void 0,{uid:ir,emailVerified:sr,isAnonymous:rr,providerData:nr,stsTokenManager:We}=Ae;_assert(ir&&We,t,"internal-error");const Ge=StsTokenManager.fromJSON(this.name,We);_assert(typeof ir=="string",t,"internal-error"),assertStringOrUndefined(Ue,t.name),assertStringOrUndefined(ke,t.name),_assert(typeof sr=="boolean",t,"internal-error"),_assert(typeof rr=="boolean",t,"internal-error"),assertStringOrUndefined(Oe,t.name),assertStringOrUndefined(je,t.name),assertStringOrUndefined(Ke,t.name),assertStringOrUndefined(ze,t.name),assertStringOrUndefined(Ve,t.name),assertStringOrUndefined(Xe,t.name);const Ze=new UserImpl({uid:ir,auth:t,email:ke,emailVerified:sr,displayName:Ue,isAnonymous:rr,photoURL:je,phoneNumber:Oe,tenantId:Ke,stsTokenManager:Ge,createdAt:Ve,lastLoginAt:Xe});return nr&&Array.isArray(nr)&&(Ze.providerData=nr.map(or=>Object.assign({},or))),ze&&(Ze._redirectEventId=ze),Ze}static async _fromIdTokenResponse(t,Ae,_e=!1){const xe=new StsTokenManager;xe.updateFromServerResponse(Ae);const Ce=new UserImpl({uid:Ae.localId,auth:t,stsTokenManager:xe,isAnonymous:_e});return await _reloadWithoutSaving(Ce),Ce}static async _fromGetAccountInfoResponse(t,Ae,_e){const xe=Ae.users[0];_assert(xe.localId!==void 0,"internal-error");const Ce=xe.providerUserInfo!==void 0?extractProviderData(xe.providerUserInfo):[],Se=!(xe.email&&xe.passwordHash)&&!(Ce!=null&&Ce.length),Re=new StsTokenManager;Re.updateFromIdToken(_e);const Be=new UserImpl({uid:xe.localId,auth:t,stsTokenManager:Re,isAnonymous:Se}),Fe={uid:xe.localId,displayName:xe.displayName||null,photoURL:xe.photoUrl||null,email:xe.email||null,emailVerified:xe.emailVerified||!1,phoneNumber:xe.phoneNumber||null,tenantId:xe.tenantId||null,providerData:Ce,metadata:new UserMetadata(xe.createdAt,xe.lastLoginAt),isAnonymous:!(xe.email&&xe.passwordHash)&&!(Ce!=null&&Ce.length)};return Object.assign(Be,Fe),Be}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(Ee){debugAssert(Ee instanceof Function,"Expected a class definition");let t=instanceCache.get(Ee);return t?(debugAssert(t instanceof Ee,"Instance stored in cache mismatched with class"),t):(t=new Ee,instanceCache.set(Ee,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,Ae){this.storage[t]=Ae}async _get(t){const Ae=this.storage[t];return Ae===void 0?null:Ae}async _remove(t){delete this.storage[t]}_addListener(t,Ae){}_removeListener(t,Ae){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(Ee,t,Ae){return`firebase:${Ee}:${t}:${Ae}`}class PersistenceUserManager{constructor(t,Ae,_e){this.persistence=t,this.auth=Ae,this.userKey=_e;const{config:xe,name:Ce}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,xe.apiKey,Ce),this.fullPersistenceKey=_persistenceKeyName("persistence",xe.apiKey,Ce),this.boundEventHandler=Ae._onStorageEvent.bind(Ae),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const Ae=await getAccountInfo(this.auth,{idToken:t}).catch(()=>{});return Ae?UserImpl._fromGetAccountInfoResponse(this.auth,Ae,t):null}return UserImpl._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const Ae=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,Ae)return this.setCurrentUser(Ae)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,Ae,_e="authUser"){if(!Ae.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),t,_e);const xe=(await Promise.all(Ae.map(async Fe=>{if(await Fe._isAvailable())return Fe}))).filter(Fe=>Fe);let Ce=xe[0]||_getInstance(inMemoryPersistence);const Se=_persistenceKeyName(_e,t.config.apiKey,t.name);let Re=null;for(const Fe of Ae)try{const Ie=await Fe._get(Se);if(Ie){let Ue;if(typeof Ie=="string"){const ke=await getAccountInfo(t,{idToken:Ie}).catch(()=>{});if(!ke)break;Ue=await UserImpl._fromGetAccountInfoResponse(t,ke,Ie)}else Ue=UserImpl._fromJSON(t,Ie);Fe!==Ce&&(Re=Ue),Ce=Fe;break}}catch{}const Be=xe.filter(Fe=>Fe._shouldAllowMigration);return!Ce._shouldAllowMigration||!Be.length?new PersistenceUserManager(Ce,t,_e):(Ce=Be[0],Re&&await Ce._set(Se,Re.toJSON()),await Promise.all(Ae.map(async Fe=>{if(Fe!==Ce)try{await Fe._remove(Se)}catch{}})),new PersistenceUserManager(Ce,t,_e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(Ee){const t=Ee.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_isIEMobile(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_isFirefox(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_isBlackBerry(t))return"Blackberry";if(_isWebOS(t))return"Webos";if(_isSafari(t))return"Safari";if((t.includes("chrome/")||_isChromeIOS(t))&&!t.includes("edge/"))return"Chrome";if(_isAndroid(t))return"Android";{const Ae=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,_e=Ee.match(Ae);if((_e==null?void 0:_e.length)===2)return _e[1]}return"Other"}function _isFirefox(Ee=getUA()){return/firefox\//i.test(Ee)}function _isSafari(Ee=getUA()){const t=Ee.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _isChromeIOS(Ee=getUA()){return/crios\//i.test(Ee)}function _isIEMobile(Ee=getUA()){return/iemobile/i.test(Ee)}function _isAndroid(Ee=getUA()){return/android/i.test(Ee)}function _isBlackBerry(Ee=getUA()){return/blackberry/i.test(Ee)}function _isWebOS(Ee=getUA()){return/webos/i.test(Ee)}function _isIOS(Ee=getUA()){return/iphone|ipad|ipod/i.test(Ee)||/macintosh/i.test(Ee)&&/mobile/i.test(Ee)}function _isIOSStandalone(Ee=getUA()){var t;return _isIOS(Ee)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(Ee=getUA()){return _isIOS(Ee)||_isAndroid(Ee)||_isWebOS(Ee)||_isBlackBerry(Ee)||/windows phone/i.test(Ee)||_isIEMobile(Ee)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(Ee,t=[]){let Ae;switch(Ee){case"Browser":Ae=_getBrowserName(getUA());break;case"Worker":Ae=`${_getBrowserName(getUA())}-${Ee}`;break;default:Ae=Ee}const _e=t.length?t.join(","):"FirebaseCore-web";return`${Ae}/JsCore/${SDK_VERSION}/${_e}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,Ae){const _e=Ce=>new Promise((Se,Re)=>{try{const Be=t(Ce);Se(Be)}catch(Be){Re(Be)}});_e.onAbort=Ae,this.queue.push(_e);const xe=this.queue.length-1;return()=>{this.queue[xe]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const Ae=[];try{for(const _e of this.queue)await _e(t),_e.onAbort&&Ae.push(_e.onAbort)}catch(_e){Ae.reverse();for(const xe of Ae)try{xe()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:_e==null?void 0:_e.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(Ee,t={}){return _performApiRequest(Ee,"GET","/v2/passwordPolicy",_addTidIfNecessary(Ee,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(t){var Ae,_e,xe,Ce;const Se=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(Ae=Se.minPasswordLength)!==null&&Ae!==void 0?Ae:MINIMUM_MIN_PASSWORD_LENGTH,Se.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Se.maxPasswordLength),Se.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=Se.containsLowercaseCharacter),Se.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=Se.containsUppercaseCharacter),Se.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=Se.containsNumericCharacter),Se.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Se.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(xe=(_e=t.allowedNonAlphanumericCharacters)===null||_e===void 0?void 0:_e.join(""))!==null&&xe!==void 0?xe:"",this.forceUpgradeOnSignin=(Ce=t.forceUpgradeOnSignin)!==null&&Ce!==void 0?Ce:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var Ae,_e,xe,Ce,Se,Re;const Be={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,Be),this.validatePasswordCharacterOptions(t,Be),Be.isValid&&(Be.isValid=(Ae=Be.meetsMinPasswordLength)!==null&&Ae!==void 0?Ae:!0),Be.isValid&&(Be.isValid=(_e=Be.meetsMaxPasswordLength)!==null&&_e!==void 0?_e:!0),Be.isValid&&(Be.isValid=(xe=Be.containsLowercaseLetter)!==null&&xe!==void 0?xe:!0),Be.isValid&&(Be.isValid=(Ce=Be.containsUppercaseLetter)!==null&&Ce!==void 0?Ce:!0),Be.isValid&&(Be.isValid=(Se=Be.containsNumericCharacter)!==null&&Se!==void 0?Se:!0),Be.isValid&&(Be.isValid=(Re=Be.containsNonAlphanumericCharacter)!==null&&Re!==void 0?Re:!0),Be}validatePasswordLengthOptions(t,Ae){const _e=this.customStrengthOptions.minPasswordLength,xe=this.customStrengthOptions.maxPasswordLength;_e&&(Ae.meetsMinPasswordLength=t.length>=_e),xe&&(Ae.meetsMaxPasswordLength=t.length<=xe)}validatePasswordCharacterOptions(t,Ae){this.updatePasswordCharacterOptionsStatuses(Ae,!1,!1,!1,!1);let _e;for(let xe=0;xe<t.length;xe++)_e=t.charAt(xe),this.updatePasswordCharacterOptionsStatuses(Ae,_e>="a"&&_e<="z",_e>="A"&&_e<="Z",_e>="0"&&_e<="9",this.allowedNonAlphanumericCharacters.includes(_e))}updatePasswordCharacterOptionsStatuses(t,Ae,_e,xe,Ce){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=Ae)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=_e)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=xe)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=Ce))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(t,Ae,_e,xe){this.app=t,this.heartbeatServiceProvider=Ae,this.appCheckServiceProvider=_e,this.config=xe,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=xe.sdkClientVersion,this._persistenceManagerAvailable=new Promise(Ce=>this._resolvePersistenceManagerAvailable=Ce)}_initializeWithPersistence(t,Ae){return Ae&&(this._popupRedirectResolver=_getInstance(Ae)),this._initializationPromise=this.queue(async()=>{var _e,xe,Ce;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,t),(_e=this._resolvePersistenceManagerAvailable)===null||_e===void 0||_e.call(this),!this._deleted)){if(!((xe=this._popupRedirectResolver)===null||xe===void 0)&&xe._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(Ae),this.lastNotifiedUid=((Ce=this.currentUser)===null||Ce===void 0?void 0:Ce.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const Ae=await getAccountInfo(this,{idToken:t}),_e=await UserImpl._fromGetAccountInfoResponse(this,Ae,t);await this.directlySetCurrentUser(_e)}catch(Ae){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",Ae),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var Ae;if(_isFirebaseServerApp(this.app)){const Se=this.app.settings.authIdToken;return Se?new Promise(Re=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(Se).then(Re,Re))}):this.directlySetCurrentUser(null)}const _e=await this.assertedPersistence.getCurrentUser();let xe=_e,Ce=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const Se=(Ae=this.redirectUser)===null||Ae===void 0?void 0:Ae._redirectEventId,Re=xe==null?void 0:xe._redirectEventId,Be=await this.tryRedirectSignIn(t);(!Se||Se===Re)&&(Be!=null&&Be.user)&&(xe=Be.user,Ce=!0)}if(!xe)return this.directlySetCurrentUser(null);if(!xe._redirectEventId){if(Ce)try{await this.beforeStateQueue.runMiddleware(xe)}catch(Se){xe=_e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Se))}return xe?this.reloadAndSetCurrentUserOrClear(xe):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===xe._redirectEventId?this.directlySetCurrentUser(xe):this.reloadAndSetCurrentUserOrClear(xe)}async tryRedirectSignIn(t){let Ae=null;try{Ae=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return Ae}async reloadAndSetCurrentUserOrClear(t){try{await _reloadWithoutSaving(t)}catch(Ae){if((Ae==null?void 0:Ae.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const Ae=t?getModularInstance(t):null;return Ae&&_assert(Ae.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(Ae&&Ae._clone(this))}async _updateCurrentUser(t,Ae=!1){if(!this._deleted)return t&&_assert(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),Ae||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const Ae=this._getPasswordPolicyInternal();return Ae.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):Ae.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _getPasswordPolicy(this),Ae=new PasswordPolicyImpl(t);this.tenantId===null?this._projectPasswordPolicy=Ae:this._tenantPasswordPolicies[this.tenantId]=Ae}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ErrorFactory("auth","Firebase",t())}onAuthStateChanged(t,Ae,_e){return this.registerStateListener(this.authStateSubscription,t,Ae,_e)}beforeAuthStateChanged(t,Ae){return this.beforeStateQueue.pushCallback(t,Ae)}onIdTokenChanged(t,Ae,_e){return this.registerStateListener(this.idTokenSubscription,t,Ae,_e)}authStateReady(){return new Promise((t,Ae)=>{if(this.currentUser)t();else{const _e=this.onAuthStateChanged(()=>{_e(),t()},Ae)}})}async revokeAccessToken(t){if(this.currentUser){const Ae=await this.currentUser.getIdToken(),_e={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:Ae};this.tenantId!=null&&(_e.tenantId=this.tenantId),await revokeToken(this,_e)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,Ae){const _e=await this.getOrInitRedirectPersistenceManager(Ae);return t===null?_e.removeCurrentUser():_e.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const Ae=t&&_getInstance(t)||this._popupRedirectResolver;_assert(Ae,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(Ae._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var Ae,_e;return this._isInitialized&&await this.queue(async()=>{}),((Ae=this._currentUser)===null||Ae===void 0?void 0:Ae._redirectEventId)===t?this._currentUser:((_e=this.redirectUser)===null||_e===void 0?void 0:_e._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,Ae;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _e=(Ae=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&Ae!==void 0?Ae:null;this.lastNotifiedUid!==_e&&(this.lastNotifiedUid=_e,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,Ae,_e,xe){if(this._deleted)return()=>{};const Ce=typeof Ae=="function"?Ae:Ae.next.bind(Ae);let Se=!1;const Re=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(Re,this,"internal-error"),Re.then(()=>{Se||Ce(this.currentUser)}),typeof Ae=="function"){const Be=t.addObserver(Ae,_e,xe);return()=>{Se=!0,Be()}}else{const Be=t.addObserver(Ae);return()=>{Se=!0,Be()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const Ae={"X-Client-Version":this.clientVersion};this.app.options.appId&&(Ae["X-Firebase-gmpid"]=this.app.options.appId);const _e=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());_e&&(Ae["X-Firebase-Client"]=_e);const xe=await this._getAppCheckToken();return xe&&(Ae["X-Firebase-AppCheck"]=xe),Ae}async _getAppCheckToken(){var t;if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const Ae=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return Ae!=null&&Ae.error&&_logWarn(`Error while retrieving App Check token: ${Ae.error}`),Ae==null?void 0:Ae.token}}function _castAuth(Ee){return getModularInstance(Ee)}class Subscription{constructor(t){this.auth=t,this.observer=null,this.addObserver=createSubscribe(Ae=>this.observer=Ae)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(Ee){externalJSProvider=Ee}function _loadJS(Ee){return externalJSProvider.loadJS(Ee)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(Ee){return`__${Ee}${Math.floor(Math.random()*1e6)}`}class MockGreCAPTCHATopLevel{constructor(){this.enterprise=new MockGreCAPTCHA}ready(t){t()}execute(t,Ae){return Promise.resolve("token")}render(t,Ae){return""}}class MockGreCAPTCHA{ready(t){t()}execute(t,Ae){return Promise.resolve("token")}render(t,Ae){return""}}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(t){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(t)}async verify(t="verify",Ae=!1){async function _e(Ce){if(!Ae){if(Ce.tenantId==null&&Ce._agentRecaptchaConfig!=null)return Ce._agentRecaptchaConfig.siteKey;if(Ce.tenantId!=null&&Ce._tenantRecaptchaConfigs[Ce.tenantId]!==void 0)return Ce._tenantRecaptchaConfigs[Ce.tenantId].siteKey}return new Promise(async(Se,Re)=>{getRecaptchaConfig(Ce,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Be=>{if(Be.recaptchaKey===void 0)Re(new Error("recaptcha Enterprise site key undefined"));else{const Fe=new RecaptchaConfig(Be);return Ce.tenantId==null?Ce._agentRecaptchaConfig=Fe:Ce._tenantRecaptchaConfigs[Ce.tenantId]=Fe,Se(Fe.siteKey)}}).catch(Be=>{Re(Be)})})}function xe(Ce,Se,Re){const Be=window.grecaptcha;isEnterprise(Be)?Be.enterprise.ready(()=>{Be.enterprise.execute(Ce,{action:t}).then(Fe=>{Se(Fe)}).catch(()=>{Se(FAKE_TOKEN)})}):Re(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MockGreCAPTCHATopLevel().execute("siteKey",{action:"verify"}):new Promise((Ce,Se)=>{_e(this.auth).then(Re=>{if(!Ae&&isEnterprise(window.grecaptcha))xe(Re,Ce,Se);else{if(typeof window>"u"){Se(new Error("RecaptchaVerifier is only supported in browser"));return}let Be=_recaptchaEnterpriseScriptUrl();Be.length!==0&&(Be+=Re),_loadJS(Be).then(()=>{xe(Re,Ce,Se)}).catch(Fe=>{Se(Fe)})}}).catch(Re=>{Se(Re)})})}}async function injectRecaptchaFields(Ee,t,Ae,_e=!1,xe=!1){const Ce=new RecaptchaEnterpriseVerifier(Ee);let Se;if(xe)Se=FAKE_TOKEN;else try{Se=await Ce.verify(Ae)}catch{Se=await Ce.verify(Ae,!0)}const Re=Object.assign({},t);if(Ae==="mfaSmsEnrollment"||Ae==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in Re){const Be=Re.phoneEnrollmentInfo.phoneNumber,Fe=Re.phoneEnrollmentInfo.recaptchaToken;Object.assign(Re,{phoneEnrollmentInfo:{phoneNumber:Be,recaptchaToken:Fe,captchaResponse:Se,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in Re){const Be=Re.phoneSignInInfo.recaptchaToken;Object.assign(Re,{phoneSignInInfo:{recaptchaToken:Be,captchaResponse:Se,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return Re}return _e?Object.assign(Re,{captchaResp:Se}):Object.assign(Re,{captchaResponse:Se}),Object.assign(Re,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Re,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Re}async function handleRecaptchaFlow(Ee,t,Ae,_e,xe){var Ce;if(!((Ce=Ee._getRecaptchaConfig())===null||Ce===void 0)&&Ce.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Se=await injectRecaptchaFields(Ee,t,Ae,Ae==="getOobCode");return _e(Ee,Se)}else return _e(Ee,t).catch(async Se=>{if(Se.code==="auth/missing-recaptcha-token"){console.log(`${Ae} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Re=await injectRecaptchaFields(Ee,t,Ae,Ae==="getOobCode");return _e(Ee,Re)}else return Promise.reject(Se)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(Ee,t){const Ae=_getProvider(Ee,"auth");if(Ae.isInitialized()){const xe=Ae.getImmediate(),Ce=Ae.getOptions();if(deepEqual(Ce,t??{}))return xe;_fail(xe,"already-initialized")}return Ae.initialize({options:t})}function _initializeAuthInstance(Ee,t){const Ae=(t==null?void 0:t.persistence)||[],_e=(Array.isArray(Ae)?Ae:[Ae]).map(_getInstance);t!=null&&t.errorMap&&Ee._updateErrorMap(t.errorMap),Ee._initializeWithPersistence(_e,t==null?void 0:t.popupRedirectResolver)}function connectAuthEmulator(Ee,t,Ae){const _e=_castAuth(Ee);_assert(/^https?:\/\//.test(t),_e,"invalid-emulator-scheme");const xe=!1,Ce=extractProtocol(t),{host:Se,port:Re}=extractHostAndPort(t),Be=Re===null?"":`:${Re}`,Fe={url:`${Ce}//${Se}${Be}/`},Ie=Object.freeze({host:Se,port:Re,protocol:Ce.replace(":",""),options:Object.freeze({disableWarnings:xe})});if(!_e._canInitEmulator){_assert(_e.config.emulator&&_e.emulatorConfig,_e,"emulator-config-failed"),_assert(deepEqual(Fe,_e.config.emulator)&&deepEqual(Ie,_e.emulatorConfig),_e,"emulator-config-failed");return}_e.config.emulator=Fe,_e.emulatorConfig=Ie,_e.settings.appVerificationDisabledForTesting=!0,isCloudWorkstation(Se)?(pingServer(`${Ce}//${Se}${Be}`),updateEmulatorBanner("Auth",!0)):emitEmulatorWarning()}function extractProtocol(Ee){const t=Ee.indexOf(":");return t<0?"":Ee.substr(0,t+1)}function extractHostAndPort(Ee){const t=extractProtocol(Ee),Ae=/(\/\/)?([^?#/]+)/.exec(Ee.substr(t.length));if(!Ae)return{host:"",port:null};const _e=Ae[2].split("@").pop()||"",xe=/^(\[[^\]]+\])(:|$)/.exec(_e);if(xe){const Ce=xe[1];return{host:Ce,port:parsePort(_e.substr(Ce.length+1))}}else{const[Ce,Se]=_e.split(":");return{host:Ce,port:parsePort(Se)}}}function parsePort(Ee){if(!Ee)return null;const t=Number(Ee);return isNaN(t)?null:t}function emitEmulatorWarning(){function Ee(){const t=document.createElement("p"),Ae=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",Ae.position="fixed",Ae.width="100%",Ae.backgroundColor="#ffffff",Ae.border=".1em solid #000000",Ae.color="#b50000",Ae.bottom="0px",Ae.left="0px",Ae.margin="0px",Ae.zIndex="10000",Ae.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",Ee):Ee())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(t,Ae){this.providerId=t,this.signInMethod=Ae}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(t){return debugFail("not implemented")}_linkToIdToken(t,Ae){return debugFail("not implemented")}_getReauthenticationResolver(t){return debugFail("not implemented")}}async function linkEmailPassword(Ee,t){return _performApiRequest(Ee,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(Ee,t){return _performSignInRequest(Ee,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(Ee,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(Ee,t){return _performSignInRequest(Ee,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(Ee,t))}async function signInWithEmailLinkForLinking(Ee,t){return _performSignInRequest(Ee,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(Ee,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(t,Ae,_e,xe=null){super("password",_e),this._email=t,this._password=Ae,this._tenantId=xe}static _fromEmailAndPassword(t,Ae){return new EmailAuthCredential(t,Ae,"password")}static _fromEmailAndCode(t,Ae,_e=null){return new EmailAuthCredential(t,Ae,"emailLink",_e)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const Ae=typeof t=="string"?JSON.parse(t):t;if(Ae!=null&&Ae.email&&(Ae!=null&&Ae.password)){if(Ae.signInMethod==="password")return this._fromEmailAndPassword(Ae.email,Ae.password);if(Ae.signInMethod==="emailLink")return this._fromEmailAndCode(Ae.email,Ae.password,Ae.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const Ae={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(t,Ae,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(t,{email:this._email,oobCode:this._password});default:_fail(t,"internal-error")}}async _linkToIdToken(t,Ae){switch(this.signInMethod){case"password":const _e={idToken:Ae,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(t,_e,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(t,{idToken:Ae,email:this._email,oobCode:this._password});default:_fail(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(Ee,t){return _performSignInRequest(Ee,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(Ee,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const Ae=new OAuthCredential(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(Ae.idToken=t.idToken),t.accessToken&&(Ae.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(Ae.nonce=t.nonce),t.pendingToken&&(Ae.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(Ae.accessToken=t.oauthToken,Ae.secret=t.oauthTokenSecret):_fail("argument-error"),Ae}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const Ae=typeof t=="string"?JSON.parse(t):t,{providerId:_e,signInMethod:xe}=Ae,Ce=__rest$3(Ae,["providerId","signInMethod"]);if(!_e||!xe)return null;const Se=new OAuthCredential(_e,xe);return Se.idToken=Ce.idToken||void 0,Se.accessToken=Ce.accessToken||void 0,Se.secret=Ce.secret,Se.nonce=Ce.nonce,Se.pendingToken=Ce.pendingToken||null,Se}_getIdTokenResponse(t){const Ae=this.buildRequest();return signInWithIdp(t,Ae)}_linkToIdToken(t,Ae){const _e=this.buildRequest();return _e.idToken=Ae,signInWithIdp(t,_e)}_getReauthenticationResolver(t){const Ae=this.buildRequest();return Ae.autoCreate=!1,signInWithIdp(t,Ae)}buildRequest(){const t={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const Ae={};this.idToken&&(Ae.id_token=this.idToken),this.accessToken&&(Ae.access_token=this.accessToken),this.secret&&(Ae.oauth_token_secret=this.secret),Ae.providerId=this.providerId,this.nonce&&!this.pendingToken&&(Ae.nonce=this.nonce),t.postBody=querystring(Ae)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(Ee){switch(Ee){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(Ee){const t=querystringDecode(extractQuerystring(Ee)).link,Ae=t?querystringDecode(extractQuerystring(t)).deep_link_id:null,_e=querystringDecode(extractQuerystring(Ee)).deep_link_id;return(_e?querystringDecode(extractQuerystring(_e)).link:null)||_e||Ae||t||Ee}class ActionCodeURL{constructor(t){var Ae,_e,xe,Ce,Se,Re;const Be=querystringDecode(extractQuerystring(t)),Fe=(Ae=Be.apiKey)!==null&&Ae!==void 0?Ae:null,Ie=(_e=Be.oobCode)!==null&&_e!==void 0?_e:null,Ue=parseMode((xe=Be.mode)!==null&&xe!==void 0?xe:null);_assert(Fe&&Ie&&Ue,"argument-error"),this.apiKey=Fe,this.operation=Ue,this.code=Ie,this.continueUrl=(Ce=Be.continueUrl)!==null&&Ce!==void 0?Ce:null,this.languageCode=(Se=Be.lang)!==null&&Se!==void 0?Se:null,this.tenantId=(Re=Be.tenantId)!==null&&Re!==void 0?Re:null}static parseLink(t){const Ae=parseDeepLink(t);try{return new ActionCodeURL(Ae)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(t,Ae){return EmailAuthCredential._fromEmailAndPassword(t,Ae)}static credentialWithLink(t,Ae){const _e=ActionCodeURL.parseLink(Ae);return _assert(_e,"argument-error"),EmailAuthCredential._fromEmailAndCode(t,_e.code,_e.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(t){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return FacebookAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return FacebookAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(t.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(t,Ae){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:Ae})}static credentialFromResult(t){return GoogleAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return GoogleAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:Ae,oauthAccessToken:_e}=t;if(!Ae&&!_e)return null;try{return GoogleAuthProvider.credential(Ae,_e)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(t){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return GithubAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return GithubAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return GithubAuthProvider.credential(t.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(t,Ae){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:Ae})}static credentialFromResult(t){return TwitterAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return TwitterAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:Ae,oauthTokenSecret:_e}=t;if(!Ae||!_e)return null;try{return TwitterAuthProvider.credential(Ae,_e)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(Ee,t){return _performSignInRequest(Ee,"POST","/v1/accounts:signUp",_addTidIfNecessary(Ee,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,Ae,_e,xe=!1){const Ce=await UserImpl._fromIdTokenResponse(t,_e,xe),Se=providerIdForResponse(_e);return new UserCredentialImpl({user:Ce,providerId:Se,_tokenResponse:_e,operationType:Ae})}static async _forOperation(t,Ae,_e){await t._updateTokensIfNecessary(_e,!0);const xe=providerIdForResponse(_e);return new UserCredentialImpl({user:t,providerId:xe,_tokenResponse:_e,operationType:Ae})}}function providerIdForResponse(Ee){return Ee.providerId?Ee.providerId:"phoneNumber"in Ee?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(t,Ae,_e,xe){var Ce;super(Ae.code,Ae.message),this.operationType=_e,this.user=xe,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:t.name,tenantId:(Ce=t.tenantId)!==null&&Ce!==void 0?Ce:void 0,_serverResponse:Ae.customData._serverResponse,operationType:_e}}static _fromErrorAndOperation(t,Ae,_e,xe){return new MultiFactorError(t,Ae,_e,xe)}}function _processCredentialSavingMfaContextIfNecessary(Ee,t,Ae,_e){return(t==="reauthenticate"?Ae._getReauthenticationResolver(Ee):Ae._getIdTokenResponse(Ee)).catch(Ce=>{throw Ce.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(Ee,Ce,t,_e):Ce})}async function _link$1(Ee,t,Ae=!1){const _e=await _logoutIfInvalidated(Ee,t._linkToIdToken(Ee.auth,await Ee.getIdToken()),Ae);return UserCredentialImpl._forOperation(Ee,"link",_e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(Ee,t,Ae=!1){const{auth:_e}=Ee;if(_isFirebaseServerApp(_e.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(_e));const xe="reauthenticate";try{const Ce=await _logoutIfInvalidated(Ee,_processCredentialSavingMfaContextIfNecessary(_e,xe,t,Ee),Ae);_assert(Ce.idToken,_e,"internal-error");const Se=_parseToken(Ce.idToken);_assert(Se,_e,"internal-error");const{sub:Re}=Se;return _assert(Ee.uid===Re,_e,"user-mismatch"),UserCredentialImpl._forOperation(Ee,xe,Ce)}catch(Ce){throw(Ce==null?void 0:Ce.code)==="auth/user-not-found"&&_fail(_e,"user-mismatch"),Ce}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(Ee,t,Ae=!1){if(_isFirebaseServerApp(Ee.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ee));const _e="signIn",xe=await _processCredentialSavingMfaContextIfNecessary(Ee,_e,t),Ce=await UserCredentialImpl._fromIdTokenResponse(Ee,_e,xe);return Ae||await Ee._updateCurrentUser(Ce.user),Ce}async function signInWithCredential(Ee,t){return _signInWithCredential(_castAuth(Ee),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(Ee){const t=_castAuth(Ee);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function createUserWithEmailAndPassword(Ee,t,Ae){if(_isFirebaseServerApp(Ee.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ee));const _e=_castAuth(Ee),Se=await handleRecaptchaFlow(_e,{returnSecureToken:!0,email:t,password:Ae,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(Be=>{throw Be.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(Ee),Be}),Re=await UserCredentialImpl._fromIdTokenResponse(_e,"signIn",Se);return await _e._updateCurrentUser(Re.user),Re}function signInWithEmailAndPassword(Ee,t,Ae){return _isFirebaseServerApp(Ee.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ee)):signInWithCredential(getModularInstance(Ee),EmailAuthProvider.credential(t,Ae)).catch(async _e=>{throw _e.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(Ee),_e})}function onIdTokenChanged(Ee,t,Ae,_e){return getModularInstance(Ee).onIdTokenChanged(t,Ae,_e)}function beforeAuthStateChanged(Ee,t,Ae){return getModularInstance(Ee).beforeAuthStateChanged(t,Ae)}function onAuthStateChanged(Ee,t,Ae,_e){return getModularInstance(Ee).onAuthStateChanged(t,Ae,_e)}function signOut(Ee){return getModularInstance(Ee).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(t,Ae){this.storageRetriever=t,this.type=Ae}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,Ae){return this.storage.setItem(t,JSON.stringify(Ae)),Promise.resolve()}_get(t){const Ae=this.storage.getItem(t);return Promise.resolve(Ae?JSON.parse(Ae):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,Ae)=>this.onStorageEvent(t,Ae),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const Ae of Object.keys(this.listeners)){const _e=this.storage.getItem(Ae),xe=this.localCache[Ae];_e!==xe&&t(Ae,xe,_e)}}onStorageEvent(t,Ae=!1){if(!t.key){this.forAllChangedKeys((Se,Re,Be)=>{this.notifyListeners(Se,Be)});return}const _e=t.key;Ae?this.detachListener():this.stopPolling();const xe=()=>{const Se=this.storage.getItem(_e);!Ae&&this.localCache[_e]===Se||this.notifyListeners(_e,Se)},Ce=this.storage.getItem(_e);_isIE10()&&Ce!==t.newValue&&t.newValue!==t.oldValue?setTimeout(xe,IE10_LOCAL_STORAGE_SYNC_DELAY):xe()}notifyListeners(t,Ae){this.localCache[t]=Ae;const _e=this.listeners[t];if(_e)for(const xe of Array.from(_e))xe(Ae&&JSON.parse(Ae))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,Ae,_e)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:Ae,newValue:_e}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,Ae){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(Ae)}_removeListener(t,Ae){this.listeners[t]&&(this.listeners[t].delete(Ae),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,Ae){await super._set(t,Ae),this.localCache[t]=JSON.stringify(Ae)}async _get(t){const Ae=await super._get(t);return this.localCache[t]=JSON.stringify(Ae),Ae}async _remove(t){await super._remove(t),delete this.localCache[t]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,Ae){}_removeListener(t,Ae){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(Ee){return Promise.all(Ee.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(Ae){return{fulfilled:!1,reason:Ae}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const Ae=this.receivers.find(xe=>xe.isListeningto(t));if(Ae)return Ae;const _e=new Receiver(t);return this.receivers.push(_e),_e}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const Ae=t,{eventId:_e,eventType:xe,data:Ce}=Ae.data,Se=this.handlersMap[xe];if(!(Se!=null&&Se.size))return;Ae.ports[0].postMessage({status:"ack",eventId:_e,eventType:xe});const Re=Array.from(Se).map(async Fe=>Fe(Ae.origin,Ce)),Be=await _allSettled(Re);Ae.ports[0].postMessage({status:"done",eventId:_e,eventType:xe,response:Be})}_subscribe(t,Ae){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(Ae)}_unsubscribe(t,Ae){this.handlersMap[t]&&Ae&&this.handlersMap[t].delete(Ae),(!Ae||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(Ee="",t=10){let Ae="";for(let _e=0;_e<t;_e++)Ae+=Math.floor(Math.random()*10);return Ee+Ae}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,Ae,_e=50){const xe=typeof MessageChannel<"u"?new MessageChannel:null;if(!xe)throw new Error("connection_unavailable");let Ce,Se;return new Promise((Re,Be)=>{const Fe=_generateEventId("",20);xe.port1.start();const Ie=setTimeout(()=>{Be(new Error("unsupported_event"))},_e);Se={messageChannel:xe,onMessage(Ue){const ke=Ue;if(ke.data.eventId===Fe)switch(ke.data.status){case"ack":clearTimeout(Ie),Ce=setTimeout(()=>{Be(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ce),Re(ke.data.response);break;default:clearTimeout(Ie),clearTimeout(Ce),Be(new Error("invalid_response"));break}}},this.handlers.add(Se),xe.port1.addEventListener("message",Se.onMessage),this.target.postMessage({eventType:t,eventId:Fe,data:Ae},[xe.port2])}).finally(()=>{Se&&this.removeMessageHandler(Se)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(Ee){_window().location.href=Ee}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var Ee;return((Ee=navigator==null?void 0:navigator.serviceWorker)===null||Ee===void 0?void 0:Ee.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(t){this.request=t}toPromise(){return new Promise((t,Ae)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{Ae(this.request.error)})})}}function getObjectStore(Ee,t){return Ee.transaction([DB_OBJECTSTORE_NAME],t?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const Ee=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(Ee).toPromise()}function _openDatabase(){const Ee=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((t,Ae)=>{Ee.addEventListener("error",()=>{Ae(Ee.error)}),Ee.addEventListener("upgradeneeded",()=>{const _e=Ee.result;try{_e.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(xe){Ae(xe)}}),Ee.addEventListener("success",async()=>{const _e=Ee.result;_e.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?t(_e):(_e.close(),await _deleteDatabase(),t(await _openDatabase()))})})}async function _putObject(Ee,t,Ae){const _e=getObjectStore(Ee,!0).put({[DB_DATA_KEYPATH]:t,value:Ae});return new DBPromise(_e).toPromise()}async function getObject(Ee,t){const Ae=getObjectStore(Ee,!1).get(t),_e=await new DBPromise(Ae).toPromise();return _e===void 0?null:_e.value}function _deleteObject(Ee,t){const Ae=getObjectStore(Ee,!0).delete(t);return new DBPromise(Ae).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(t){let Ae=0;for(;;)try{const _e=await this._openDb();return await t(_e)}catch(_e){if(Ae++>_TRANSACTION_RETRY_COUNT)throw _e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(t,Ae)=>({keyProcessed:(await this._poll()).includes(Ae.key)})),this.receiver._subscribe("ping",async(t,Ae)=>["keyChanged"])}async initializeSender(){var t,Ae;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const _e=await this.sender._send("ping",{},800);_e&&!((t=_e[0])===null||t===void 0)&&t.fulfilled&&!((Ae=_e[0])===null||Ae===void 0)&&Ae.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _openDatabase();return await _putObject(t,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(t,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,Ae){return this._withPendingWrite(async()=>(await this._withRetries(_e=>_putObject(_e,t,Ae)),this.localCache[t]=Ae,this.notifyServiceWorker(t)))}async _get(t){const Ae=await this._withRetries(_e=>getObject(_e,t));return this.localCache[t]=Ae,Ae}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(Ae=>_deleteObject(Ae,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(xe=>{const Ce=getObjectStore(xe,!1).getAll();return new DBPromise(Ce).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const Ae=[],_e=new Set;if(t.length!==0)for(const{fbase_key:xe,value:Ce}of t)_e.add(xe),JSON.stringify(this.localCache[xe])!==JSON.stringify(Ce)&&(this.notifyListeners(xe,Ce),Ae.push(xe));for(const xe of Object.keys(this.localCache))this.localCache[xe]&&!_e.has(xe)&&(this.notifyListeners(xe,null),Ae.push(xe));return Ae}notifyListeners(t,Ae){this.localCache[t]=Ae;const _e=this.listeners[t];if(_e)for(const xe of Array.from(_e))xe(Ae)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,Ae){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(Ae)}_removeListener(t,Ae){this.listeners[t]&&(this.listeners[t].delete(Ae),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(Ee,t){return t?_getInstance(t):(_assert(Ee._popupRedirectResolver,Ee,"argument-error"),Ee._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return signInWithIdp(t,this._buildIdpRequest())}_linkToIdToken(t,Ae){return signInWithIdp(t,this._buildIdpRequest(Ae))}_getReauthenticationResolver(t){return signInWithIdp(t,this._buildIdpRequest())}_buildIdpRequest(t){const Ae={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(Ae.idToken=t),Ae}}function _signIn(Ee){return _signInWithCredential(Ee.auth,new IdpCredential(Ee),Ee.bypassAuthState)}function _reauth(Ee){const{auth:t,user:Ae}=Ee;return _assert(Ae,t,"internal-error"),_reauthenticate(Ae,new IdpCredential(Ee),Ee.bypassAuthState)}async function _link(Ee){const{auth:t,user:Ae}=Ee;return _assert(Ae,t,"internal-error"),_link$1(Ae,new IdpCredential(Ee),Ee.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(t,Ae,_e,xe,Ce=!1){this.auth=t,this.resolver=_e,this.user=xe,this.bypassAuthState=Ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(Ae)?Ae:[Ae]}execute(){return new Promise(async(t,Ae)=>{this.pendingPromise={resolve:t,reject:Ae};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(_e){this.reject(_e)}})}async onAuthEvent(t){const{urlResponse:Ae,sessionId:_e,postBody:xe,tenantId:Ce,error:Se,type:Re}=t;if(Se){this.reject(Se);return}const Be={auth:this.auth,requestUri:Ae,sessionId:_e,tenantId:Ce||void 0,postBody:xe||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(Re)(Be))}catch(Fe){this.reject(Fe)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(t){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(t,Ae,_e,xe,Ce){super(t,Ae,xe,Ce),this.provider=_e,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _assert(t,this.auth,"internal-error"),t}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const t=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(Ae=>{this.reject(Ae)}),this.resolver._isIframeWebStorageSupported(this.auth,Ae=>{Ae||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const t=()=>{var Ae,_e;if(!((_e=(Ae=this.authWindow)===null||Ae===void 0?void 0:Ae.window)===null||_e===void 0)&&_e.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_POLL_WINDOW_CLOSE_TIMEOUT.get())};t()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(t,Ae,_e=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],Ae,void 0,_e),this.eventId=null}async execute(){let t=redirectOutcomeMap.get(this.auth._key());if(!t){try{const _e=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(_e)}catch(Ae){t=()=>Promise.reject(Ae)}redirectOutcomeMap.set(this.auth._key(),t)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const Ae=await this.auth._redirectUserForId(t.eventId);if(Ae)return this.user=Ae,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(Ee,t){const Ae=pendingRedirectKey(t),_e=resolverPersistence(Ee);if(!await _e._isAvailable())return!1;const xe=await _e._get(Ae)==="true";return await _e._remove(Ae),xe}function _overrideRedirectResult(Ee,t){redirectOutcomeMap.set(Ee._key(),t)}function resolverPersistence(Ee){return _getInstance(Ee._redirectPersistence)}function pendingRedirectKey(Ee){return _persistenceKeyName(PENDING_REDIRECT_KEY,Ee.config.apiKey,Ee.name)}async function _getRedirectResult(Ee,t,Ae=!1){if(_isFirebaseServerApp(Ee.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ee));const _e=_castAuth(Ee),xe=_withDefaultResolver(_e,t),Se=await new RedirectAction(_e,xe,Ae).execute();return Se&&!Ae&&(delete Se.user._redirectEventId,await _e._persistUserIfCurrent(Se.user),await _e._setRedirectUser(null,t)),Se}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let Ae=!1;return this.consumers.forEach(_e=>{this.isEventForConsumer(t,_e)&&(Ae=!0,this.sendToConsumer(t,_e),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!isRedirectEvent(t)||(this.hasHandledPotentialRedirect=!0,Ae||(this.queuedRedirectEvent=t,Ae=!0)),Ae}sendToConsumer(t,Ae){var _e;if(t.error&&!isNullRedirectEvent(t)){const xe=((_e=t.error.code)===null||_e===void 0?void 0:_e.split("auth/")[1])||"internal-error";Ae.onError(_createError(this.auth,xe))}else Ae.onAuthEvent(t)}isEventForConsumer(t,Ae){const _e=Ae.eventId===null||!!t.eventId&&t.eventId===Ae.eventId;return Ae.filter.includes(t.type)&&_e}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(t))}saveEventToCache(t){this.cachedEventUids.add(eventUid(t)),this.lastProcessedEventTime=Date.now()}}function eventUid(Ee){return[Ee.type,Ee.eventId,Ee.sessionId,Ee.tenantId].filter(t=>t).join("-")}function isNullRedirectEvent({type:Ee,error:t}){return Ee==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function isRedirectEvent(Ee){switch(Ee.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(Ee);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(Ee,t={}){return _performApiRequest(Ee,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(Ee){if(Ee.config.emulator)return;const{authorizedDomains:t}=await _getProjectConfig(Ee);for(const Ae of t)try{if(matchDomain(Ae))return}catch{}_fail(Ee,"unauthorized-domain")}function matchDomain(Ee){const t=_getCurrentUrl(),{protocol:Ae,hostname:_e}=new URL(t);if(Ee.startsWith("chrome-extension://")){const Se=new URL(Ee);return Se.hostname===""&&_e===""?Ae==="chrome-extension:"&&Ee.replace("chrome-extension://","")===t.replace("chrome-extension://",""):Ae==="chrome-extension:"&&Se.hostname===_e}if(!HTTP_REGEX.test(Ae))return!1;if(IP_ADDRESS_REGEX.test(Ee))return _e===Ee;const xe=Ee.replace(/\./g,"\\.");return new RegExp("^(.+\\."+xe+"|"+xe+")$","i").test(_e)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const Ee=_window().___jsl;if(Ee!=null&&Ee.H){for(const t of Object.keys(Ee.H))if(Ee.H[t].r=Ee.H[t].r||[],Ee.H[t].L=Ee.H[t].L||[],Ee.H[t].r=[...Ee.H[t].L],Ee.CP)for(let Ae=0;Ae<Ee.CP.length;Ae++)Ee.CP[Ae]=null}}function loadGapi(Ee){return new Promise((t,Ae)=>{var _e,xe,Ce;function Se(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),Ae(_createError(Ee,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((xe=(_e=_window().gapi)===null||_e===void 0?void 0:_e.iframes)===null||xe===void 0)&&xe.Iframe)t(gapi.iframes.getContext());else if(!((Ce=_window().gapi)===null||Ce===void 0)&&Ce.load)Se();else{const Re=_generateCallbackName("iframefcb");return _window()[Re]=()=>{gapi.load?Se():Ae(_createError(Ee,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${Re}`).catch(Be=>Ae(Be))}}).catch(t=>{throw cachedGApiLoader=null,t})}let cachedGApiLoader=null;function _loadGapi(Ee){return cachedGApiLoader=cachedGApiLoader||loadGapi(Ee),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(Ee){const t=Ee.config;_assert(t.authDomain,Ee,"auth-domain-config-required");const Ae=t.emulator?_emulatorUrl(t,EMULATED_IFRAME_PATH):`https://${Ee.config.authDomain}/${IFRAME_PATH}`,_e={apiKey:t.apiKey,appName:Ee.name,v:SDK_VERSION},xe=EID_FROM_APIHOST.get(Ee.config.apiHost);xe&&(_e.eid=xe);const Ce=Ee._getFrameworks();return Ce.length&&(_e.fw=Ce.join(",")),`${Ae}?${querystring(_e).slice(1)}`}async function _openIframe(Ee){const t=await _loadGapi(Ee),Ae=_window().gapi;return _assert(Ae,Ee,"internal-error"),t.open({where:document.body,url:getIframeUrl(Ee),messageHandlersFilter:Ae.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},_e=>new Promise(async(xe,Ce)=>{await _e.restyle({setHideOnLeave:!1});const Se=_createError(Ee,"network-request-failed"),Re=_window().setTimeout(()=>{Ce(Se)},PING_TIMEOUT.get());function Be(){_window().clearTimeout(Re),xe(_e)}_e.ping(Be).then(Be,()=>{Ce(Se)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(Ee,t,Ae,_e=DEFAULT_WIDTH,xe=DEFAULT_HEIGHT){const Ce=Math.max((window.screen.availHeight-xe)/2,0).toString(),Se=Math.max((window.screen.availWidth-_e)/2,0).toString();let Re="";const Be=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:_e.toString(),height:xe.toString(),top:Ce,left:Se}),Fe=getUA().toLowerCase();Ae&&(Re=_isChromeIOS(Fe)?TARGET_BLANK:Ae),_isFirefox(Fe)&&(t=t||FIREFOX_EMPTY_URL,Be.scrollbars="yes");const Ie=Object.entries(Be).reduce((ke,[Oe,je])=>`${ke}${Oe}=${je},`,"");if(_isIOSStandalone(Fe)&&Re!=="_self")return openAsNewWindowIOS(t||"",Re),new AuthPopup(null);const Ue=window.open(t||"",Re,Ie);_assert(Ue,Ee,"popup-blocked");try{Ue.focus()}catch{}return new AuthPopup(Ue)}function openAsNewWindowIOS(Ee,t){const Ae=document.createElement("a");Ae.href=Ee,Ae.target=t;const _e=document.createEvent("MouseEvent");_e.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),Ae.dispatchEvent(_e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(Ee,t,Ae,_e,xe,Ce){_assert(Ee.config.authDomain,Ee,"auth-domain-config-required"),_assert(Ee.config.apiKey,Ee,"invalid-api-key");const Se={apiKey:Ee.config.apiKey,appName:Ee.name,authType:Ae,redirectUrl:_e,v:SDK_VERSION,eventId:xe};if(t instanceof FederatedAuthProvider){t.setDefaultLanguage(Ee.languageCode),Se.providerId=t.providerId||"",isEmpty$1(t.getCustomParameters())||(Se.customParameters=JSON.stringify(t.getCustomParameters()));for(const[Ie,Ue]of Object.entries({}))Se[Ie]=Ue}if(t instanceof BaseOAuthProvider){const Ie=t.getScopes().filter(Ue=>Ue!=="");Ie.length>0&&(Se.scopes=Ie.join(","))}Ee.tenantId&&(Se.tid=Ee.tenantId);const Re=Se;for(const Ie of Object.keys(Re))Re[Ie]===void 0&&delete Re[Ie];const Be=await Ee._getAppCheckToken(),Fe=Be?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(Be)}`:"";return`${getHandlerBase(Ee)}?${querystring(Re).slice(1)}${Fe}`}function getHandlerBase({config:Ee}){return Ee.emulator?_emulatorUrl(Ee,EMULATOR_WIDGET_PATH):`https://${Ee.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(t,Ae,_e,xe){var Ce;debugAssert((Ce=this.eventManagers[t._key()])===null||Ce===void 0?void 0:Ce.manager,"_initialize() not called before _openPopup()");const Se=await _getRedirectUrl(t,Ae,_e,_getCurrentUrl(),xe);return _open(t,Se,_generateEventId())}async _openRedirect(t,Ae,_e,xe){await this._originValidation(t);const Ce=await _getRedirectUrl(t,Ae,_e,_getCurrentUrl(),xe);return _setWindowLocation(Ce),new Promise(()=>{})}_initialize(t){const Ae=t._key();if(this.eventManagers[Ae]){const{manager:xe,promise:Ce}=this.eventManagers[Ae];return xe?Promise.resolve(xe):(debugAssert(Ce,"If manager is not set, promise should be"),Ce)}const _e=this.initAndGetManager(t);return this.eventManagers[Ae]={promise:_e},_e.catch(()=>{delete this.eventManagers[Ae]}),_e}async initAndGetManager(t){const Ae=await _openIframe(t),_e=new AuthEventManager(t);return Ae.register("authEvent",xe=>(_assert(xe==null?void 0:xe.authEvent,t,"invalid-auth-event"),{status:_e.onEvent(xe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:_e},this.iframes[t._key()]=Ae,_e}_isIframeWebStorageSupported(t,Ae){this.iframes[t._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},xe=>{var Ce;const Se=(Ce=xe==null?void 0:xe[0])===null||Ce===void 0?void 0:Ce[WEB_STORAGE_SUPPORT_KEY];Se!==void 0&&Ae(!!Se),_fail(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const Ae=t._key();return this.originValidationPromises[Ae]||(this.originValidationPromises[Ae]=_validateOrigin(t)),this.originValidationPromises[Ae]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$2="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const Ae=this.auth.onIdTokenChanged(_e=>{t((_e==null?void 0:_e.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,Ae),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const Ae=this.internalListeners.get(t);Ae&&(this.internalListeners.delete(t),Ae(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(Ee){switch(Ee){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(Ee){_registerComponent(new Component("auth",(t,{options:Ae})=>{const _e=t.getProvider("app").getImmediate(),xe=t.getProvider("heartbeat"),Ce=t.getProvider("app-check-internal"),{apiKey:Se,authDomain:Re}=_e.options;_assert(Se&&!Se.includes(":"),"invalid-api-key",{appName:_e.name});const Be={apiKey:Se,authDomain:Re,clientPlatform:Ee,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(Ee)},Fe=new AuthImpl(_e,xe,Ce,Be);return _initializeAuthInstance(Fe,Ae),Fe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,Ae,_e)=>{t.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",t=>{const Ae=_castAuth(t.getProvider("auth").getImmediate());return(_e=>new AuthInterop(_e))(Ae)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$2,getVersionForPlatform(Ee)),registerVersion(name$2,version$2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=Ee=>async t=>{const Ae=t&&await t.getIdTokenResult(),_e=Ae&&(new Date().getTime()-Date.parse(Ae.issuedAtTime))/1e3;if(_e&&_e>authIdTokenMaxAge)return;const xe=Ae==null?void 0:Ae.token;lastPostedIdToken!==xe&&(lastPostedIdToken=xe,await fetch(Ee,{method:xe?"POST":"DELETE",headers:xe?{Authorization:`Bearer ${xe}`}:{}}))};function getAuth(Ee=getApp()){const t=_getProvider(Ee,"auth");if(t.isInitialized())return t.getImmediate();const Ae=initializeAuth(Ee,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),_e=getExperimentalSetting("authTokenSyncURL");if(_e&&typeof isSecureContext=="boolean"&&isSecureContext){const Ce=new URL(_e,location.origin);if(location.origin===Ce.origin){const Se=mintCookieFactory(Ce.toString());beforeAuthStateChanged(Ae,Se,()=>Se(Ae.currentUser)),onIdTokenChanged(Ae,Re=>Se(Re))}}const xe=getDefaultEmulatorHost("auth");return xe&&connectAuthEmulator(Ae,`http://${xe}`),Ae}function getScriptParentElement(){var Ee,t;return(t=(Ee=document.getElementsByTagName("head"))===null||Ee===void 0?void 0:Ee[0])!==null&&t!==void 0?t:document}_setExternalJSProvider({loadJS(Ee){return new Promise((t,Ae)=>{const _e=document.createElement("script");_e.setAttribute("src",Ee),_e.onload=t,_e.onerror=xe=>{const Ce=_createError("internal-error");Ce.customData=xe,Ae(Ce)},_e.type="text/javascript",_e.charset="UTF-8",getScriptParentElement().appendChild(_e)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __awaiter$3(Ee,t,Ae,_e){function xe(Ce){return Ce instanceof Ae?Ce:new Ae(function(Se){Se(Ce)})}return new(Ae||(Ae=Promise))(function(Ce,Se){function Re(Ie){try{Fe(_e.next(Ie))}catch(Ue){Se(Ue)}}function Be(Ie){try{Fe(_e.throw(Ie))}catch(Ue){Se(Ue)}}function Fe(Ie){Ie.done?Ce(Ie.value):xe(Ie.value).then(Re,Be)}Fe((_e=_e.apply(Ee,[])).next())})}function __generator$2(Ee,t){var Ae={label:0,sent:function(){if(Ce[0]&1)throw Ce[1];return Ce[1]},trys:[],ops:[]},_e,xe,Ce,Se;return Se={next:Re(0),throw:Re(1),return:Re(2)},typeof Symbol=="function"&&(Se[Symbol.iterator]=function(){return this}),Se;function Re(Fe){return function(Ie){return Be([Fe,Ie])}}function Be(Fe){if(_e)throw new TypeError("Generator is already executing.");for(;Ae;)try{if(_e=1,xe&&(Ce=Fe[0]&2?xe.return:Fe[0]?xe.throw||((Ce=xe.return)&&Ce.call(xe),0):xe.next)&&!(Ce=Ce.call(xe,Fe[1])).done)return Ce;switch(xe=0,Ce&&(Fe=[Fe[0]&2,Ce.value]),Fe[0]){case 0:case 1:Ce=Fe;break;case 4:return Ae.label++,{value:Fe[1],done:!1};case 5:Ae.label++,xe=Fe[1],Fe=[0];continue;case 7:Fe=Ae.ops.pop(),Ae.trys.pop();continue;default:if(Ce=Ae.trys,!(Ce=Ce.length>0&&Ce[Ce.length-1])&&(Fe[0]===6||Fe[0]===2)){Ae=0;continue}if(Fe[0]===3&&(!Ce||Fe[1]>Ce[0]&&Fe[1]<Ce[3])){Ae.label=Fe[1];break}if(Fe[0]===6&&Ae.label<Ce[1]){Ae.label=Ce[1],Ce=Fe;break}if(Ce&&Ae.label<Ce[2]){Ae.label=Ce[2],Ae.ops.push(Fe);break}Ce[2]&&Ae.ops.pop(),Ae.trys.pop();continue}Fe=t.call(Ee,Ae)}catch(Ie){Fe=[6,Ie],xe=0}finally{_e=Ce=0}if(Fe[0]&5)throw Fe[1];return{value:Fe[0]?Fe[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign$2=function(){return __assign$2=Object.assign||function(t){for(var Ae,_e=1,xe=arguments.length;_e<xe;_e++){Ae=arguments[_e];for(var Ce in Ae)Object.prototype.hasOwnProperty.call(Ae,Ce)&&(t[Ce]=Ae[Ce])}return t},__assign$2.apply(this,arguments)},defaultState=function(Ee){return{loading:Ee==null,value:Ee}},reducer$1=function(){return function(Ee,t){switch(t.type){case"error":return __assign$2(__assign$2({},Ee),{error:t.error,loading:!1,value:void 0});case"reset":return defaultState(t.defaultValue);case"value":return __assign$2(__assign$2({},Ee),{error:void 0,loading:!1,value:t.value});default:return Ee}}},useLoadingValue=function(Ee){var t=Ee?Ee():void 0,Ae=reactExports.useReducer(reducer$1(),defaultState(t)),_e=Ae[0],xe=Ae[1],Ce=reactExports.useCallback(function(){var Be=Ee?Ee():void 0;xe({type:"reset",defaultValue:Be})},[Ee]),Se=reactExports.useCallback(function(Be){xe({type:"error",error:Be})},[]),Re=reactExports.useCallback(function(Be){xe({type:"value",value:Be})},[]);return reactExports.useMemo(function(){return{error:_e.error,loading:_e.loading,reset:Ce,setError:Se,setValue:Re,value:_e.value}},[_e.error,_e.loading,Ce,Se,Re,_e.value])},useAuthState=function(Ee,t){var Ae=useLoadingValue(function(){return Ee.currentUser}),_e=Ae.error,xe=Ae.loading,Ce=Ae.setError,Se=Ae.setValue,Re=Ae.value;return reactExports.useEffect(function(){var Be=onAuthStateChanged(Ee,function(Fe){return __awaiter$3(void 0,void 0,void 0,function(){var Ie;return __generator$2(this,function(Ue){switch(Ue.label){case 0:return[3,4];case 1:return Ue.trys.push([1,3,,4]),[4,t.onUserChanged(Fe)];case 2:return Ue.sent(),[3,4];case 3:return Ie=Ue.sent(),Ce(Ie),[3,4];case 4:return Se(Fe),[2]}})})},Ce);return function(){Be()}},[Ee]),[Re,xe,_e]},name$1="firebase",version$1="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$1,"app");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var Ee;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(We,Ge){function Ze(){}Ze.prototype=Ge.prototype,We.D=Ge.prototype,We.prototype=new Ze,We.prototype.constructor=We,We.C=function(or,He,Je){for(var $e=Array(arguments.length-2),mr=2;mr<arguments.length;mr++)$e[mr-2]=arguments[mr];return Ge.prototype[He].apply(or,$e)}}function Ae(){this.blockSize=-1}function _e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(_e,Ae),_e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function xe(We,Ge,Ze){Ze||(Ze=0);var or=Array(16);if(typeof Ge=="string")for(var He=0;16>He;++He)or[He]=Ge.charCodeAt(Ze++)|Ge.charCodeAt(Ze++)<<8|Ge.charCodeAt(Ze++)<<16|Ge.charCodeAt(Ze++)<<24;else for(He=0;16>He;++He)or[He]=Ge[Ze++]|Ge[Ze++]<<8|Ge[Ze++]<<16|Ge[Ze++]<<24;Ge=We.g[0],Ze=We.g[1],He=We.g[2];var Je=We.g[3],$e=Ge+(Je^Ze&(He^Je))+or[0]+3614090360&4294967295;Ge=Ze+($e<<7&4294967295|$e>>>25),$e=Je+(He^Ge&(Ze^He))+or[1]+3905402710&4294967295,Je=Ge+($e<<12&4294967295|$e>>>20),$e=He+(Ze^Je&(Ge^Ze))+or[2]+606105819&4294967295,He=Je+($e<<17&4294967295|$e>>>15),$e=Ze+(Ge^He&(Je^Ge))+or[3]+3250441966&4294967295,Ze=He+($e<<22&4294967295|$e>>>10),$e=Ge+(Je^Ze&(He^Je))+or[4]+4118548399&4294967295,Ge=Ze+($e<<7&4294967295|$e>>>25),$e=Je+(He^Ge&(Ze^He))+or[5]+1200080426&4294967295,Je=Ge+($e<<12&4294967295|$e>>>20),$e=He+(Ze^Je&(Ge^Ze))+or[6]+2821735955&4294967295,He=Je+($e<<17&4294967295|$e>>>15),$e=Ze+(Ge^He&(Je^Ge))+or[7]+4249261313&4294967295,Ze=He+($e<<22&4294967295|$e>>>10),$e=Ge+(Je^Ze&(He^Je))+or[8]+1770035416&4294967295,Ge=Ze+($e<<7&4294967295|$e>>>25),$e=Je+(He^Ge&(Ze^He))+or[9]+2336552879&4294967295,Je=Ge+($e<<12&4294967295|$e>>>20),$e=He+(Ze^Je&(Ge^Ze))+or[10]+4294925233&4294967295,He=Je+($e<<17&4294967295|$e>>>15),$e=Ze+(Ge^He&(Je^Ge))+or[11]+2304563134&4294967295,Ze=He+($e<<22&4294967295|$e>>>10),$e=Ge+(Je^Ze&(He^Je))+or[12]+1804603682&4294967295,Ge=Ze+($e<<7&4294967295|$e>>>25),$e=Je+(He^Ge&(Ze^He))+or[13]+4254626195&4294967295,Je=Ge+($e<<12&4294967295|$e>>>20),$e=He+(Ze^Je&(Ge^Ze))+or[14]+2792965006&4294967295,He=Je+($e<<17&4294967295|$e>>>15),$e=Ze+(Ge^He&(Je^Ge))+or[15]+1236535329&4294967295,Ze=He+($e<<22&4294967295|$e>>>10),$e=Ge+(He^Je&(Ze^He))+or[1]+4129170786&4294967295,Ge=Ze+($e<<5&4294967295|$e>>>27),$e=Je+(Ze^He&(Ge^Ze))+or[6]+3225465664&4294967295,Je=Ge+($e<<9&4294967295|$e>>>23),$e=He+(Ge^Ze&(Je^Ge))+or[11]+643717713&4294967295,He=Je+($e<<14&4294967295|$e>>>18),$e=Ze+(Je^Ge&(He^Je))+or[0]+3921069994&4294967295,Ze=He+($e<<20&4294967295|$e>>>12),$e=Ge+(He^Je&(Ze^He))+or[5]+3593408605&4294967295,Ge=Ze+($e<<5&4294967295|$e>>>27),$e=Je+(Ze^He&(Ge^Ze))+or[10]+38016083&4294967295,Je=Ge+($e<<9&4294967295|$e>>>23),$e=He+(Ge^Ze&(Je^Ge))+or[15]+3634488961&4294967295,He=Je+($e<<14&4294967295|$e>>>18),$e=Ze+(Je^Ge&(He^Je))+or[4]+3889429448&4294967295,Ze=He+($e<<20&4294967295|$e>>>12),$e=Ge+(He^Je&(Ze^He))+or[9]+568446438&4294967295,Ge=Ze+($e<<5&4294967295|$e>>>27),$e=Je+(Ze^He&(Ge^Ze))+or[14]+3275163606&4294967295,Je=Ge+($e<<9&4294967295|$e>>>23),$e=He+(Ge^Ze&(Je^Ge))+or[3]+4107603335&4294967295,He=Je+($e<<14&4294967295|$e>>>18),$e=Ze+(Je^Ge&(He^Je))+or[8]+1163531501&4294967295,Ze=He+($e<<20&4294967295|$e>>>12),$e=Ge+(He^Je&(Ze^He))+or[13]+2850285829&4294967295,Ge=Ze+($e<<5&4294967295|$e>>>27),$e=Je+(Ze^He&(Ge^Ze))+or[2]+4243563512&4294967295,Je=Ge+($e<<9&4294967295|$e>>>23),$e=He+(Ge^Ze&(Je^Ge))+or[7]+1735328473&4294967295,He=Je+($e<<14&4294967295|$e>>>18),$e=Ze+(Je^Ge&(He^Je))+or[12]+2368359562&4294967295,Ze=He+($e<<20&4294967295|$e>>>12),$e=Ge+(Ze^He^Je)+or[5]+4294588738&4294967295,Ge=Ze+($e<<4&4294967295|$e>>>28),$e=Je+(Ge^Ze^He)+or[8]+2272392833&4294967295,Je=Ge+($e<<11&4294967295|$e>>>21),$e=He+(Je^Ge^Ze)+or[11]+1839030562&4294967295,He=Je+($e<<16&4294967295|$e>>>16),$e=Ze+(He^Je^Ge)+or[14]+4259657740&4294967295,Ze=He+($e<<23&4294967295|$e>>>9),$e=Ge+(Ze^He^Je)+or[1]+2763975236&4294967295,Ge=Ze+($e<<4&4294967295|$e>>>28),$e=Je+(Ge^Ze^He)+or[4]+1272893353&4294967295,Je=Ge+($e<<11&4294967295|$e>>>21),$e=He+(Je^Ge^Ze)+or[7]+4139469664&4294967295,He=Je+($e<<16&4294967295|$e>>>16),$e=Ze+(He^Je^Ge)+or[10]+3200236656&4294967295,Ze=He+($e<<23&4294967295|$e>>>9),$e=Ge+(Ze^He^Je)+or[13]+681279174&4294967295,Ge=Ze+($e<<4&4294967295|$e>>>28),$e=Je+(Ge^Ze^He)+or[0]+3936430074&4294967295,Je=Ge+($e<<11&4294967295|$e>>>21),$e=He+(Je^Ge^Ze)+or[3]+3572445317&4294967295,He=Je+($e<<16&4294967295|$e>>>16),$e=Ze+(He^Je^Ge)+or[6]+76029189&4294967295,Ze=He+($e<<23&4294967295|$e>>>9),$e=Ge+(Ze^He^Je)+or[9]+3654602809&4294967295,Ge=Ze+($e<<4&4294967295|$e>>>28),$e=Je+(Ge^Ze^He)+or[12]+3873151461&4294967295,Je=Ge+($e<<11&4294967295|$e>>>21),$e=He+(Je^Ge^Ze)+or[15]+530742520&4294967295,He=Je+($e<<16&4294967295|$e>>>16),$e=Ze+(He^Je^Ge)+or[2]+3299628645&4294967295,Ze=He+($e<<23&4294967295|$e>>>9),$e=Ge+(He^(Ze|~Je))+or[0]+4096336452&4294967295,Ge=Ze+($e<<6&4294967295|$e>>>26),$e=Je+(Ze^(Ge|~He))+or[7]+1126891415&4294967295,Je=Ge+($e<<10&4294967295|$e>>>22),$e=He+(Ge^(Je|~Ze))+or[14]+2878612391&4294967295,He=Je+($e<<15&4294967295|$e>>>17),$e=Ze+(Je^(He|~Ge))+or[5]+4237533241&4294967295,Ze=He+($e<<21&4294967295|$e>>>11),$e=Ge+(He^(Ze|~Je))+or[12]+1700485571&4294967295,Ge=Ze+($e<<6&4294967295|$e>>>26),$e=Je+(Ze^(Ge|~He))+or[3]+2399980690&4294967295,Je=Ge+($e<<10&4294967295|$e>>>22),$e=He+(Ge^(Je|~Ze))+or[10]+4293915773&4294967295,He=Je+($e<<15&4294967295|$e>>>17),$e=Ze+(Je^(He|~Ge))+or[1]+2240044497&4294967295,Ze=He+($e<<21&4294967295|$e>>>11),$e=Ge+(He^(Ze|~Je))+or[8]+1873313359&4294967295,Ge=Ze+($e<<6&4294967295|$e>>>26),$e=Je+(Ze^(Ge|~He))+or[15]+4264355552&4294967295,Je=Ge+($e<<10&4294967295|$e>>>22),$e=He+(Ge^(Je|~Ze))+or[6]+2734768916&4294967295,He=Je+($e<<15&4294967295|$e>>>17),$e=Ze+(Je^(He|~Ge))+or[13]+1309151649&4294967295,Ze=He+($e<<21&4294967295|$e>>>11),$e=Ge+(He^(Ze|~Je))+or[4]+4149444226&4294967295,Ge=Ze+($e<<6&4294967295|$e>>>26),$e=Je+(Ze^(Ge|~He))+or[11]+3174756917&4294967295,Je=Ge+($e<<10&4294967295|$e>>>22),$e=He+(Ge^(Je|~Ze))+or[2]+718787259&4294967295,He=Je+($e<<15&4294967295|$e>>>17),$e=Ze+(Je^(He|~Ge))+or[9]+3951481745&4294967295,We.g[0]=We.g[0]+Ge&4294967295,We.g[1]=We.g[1]+(He+($e<<21&4294967295|$e>>>11))&4294967295,We.g[2]=We.g[2]+He&4294967295,We.g[3]=We.g[3]+Je&4294967295}_e.prototype.u=function(We,Ge){Ge===void 0&&(Ge=We.length);for(var Ze=Ge-this.blockSize,or=this.B,He=this.h,Je=0;Je<Ge;){if(He==0)for(;Je<=Ze;)xe(this,We,Je),Je+=this.blockSize;if(typeof We=="string"){for(;Je<Ge;)if(or[He++]=We.charCodeAt(Je++),He==this.blockSize){xe(this,or),He=0;break}}else for(;Je<Ge;)if(or[He++]=We[Je++],He==this.blockSize){xe(this,or),He=0;break}}this.h=He,this.o+=Ge},_e.prototype.v=function(){var We=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);We[0]=128;for(var Ge=1;Ge<We.length-8;++Ge)We[Ge]=0;var Ze=8*this.o;for(Ge=We.length-8;Ge<We.length;++Ge)We[Ge]=Ze&255,Ze/=256;for(this.u(We),We=Array(16),Ge=Ze=0;4>Ge;++Ge)for(var or=0;32>or;or+=8)We[Ze++]=this.g[Ge]>>>or&255;return We};function Ce(We,Ge){var Ze=Re;return Object.prototype.hasOwnProperty.call(Ze,We)?Ze[We]:Ze[We]=Ge(We)}function Se(We,Ge){this.h=Ge;for(var Ze=[],or=!0,He=We.length-1;0<=He;He--){var Je=We[He]|0;or&&Je==Ge||(Ze[He]=Je,or=!1)}this.g=Ze}var Re={};function Be(We){return-128<=We&&128>We?Ce(We,function(Ge){return new Se([Ge|0],0>Ge?-1:0)}):new Se([We|0],0>We?-1:0)}function Fe(We){if(isNaN(We)||!isFinite(We))return Ue;if(0>We)return ze(Fe(-We));for(var Ge=[],Ze=1,or=0;We>=Ze;or++)Ge[or]=We/Ze|0,Ze*=4294967296;return new Se(Ge,0)}function Ie(We,Ge){if(We.length==0)throw Error("number format error: empty string");if(Ge=Ge||10,2>Ge||36<Ge)throw Error("radix out of range: "+Ge);if(We.charAt(0)=="-")return ze(Ie(We.substring(1),Ge));if(0<=We.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ze=Fe(Math.pow(Ge,8)),or=Ue,He=0;He<We.length;He+=8){var Je=Math.min(8,We.length-He),$e=parseInt(We.substring(He,He+Je),Ge);8>Je?(Je=Fe(Math.pow(Ge,Je)),or=or.j(Je).add(Fe($e))):(or=or.j(Ze),or=or.add(Fe($e)))}return or}var Ue=Be(0),ke=Be(1),Oe=Be(16777216);Ee=Se.prototype,Ee.m=function(){if(Ke(this))return-ze(this).m();for(var We=0,Ge=1,Ze=0;Ze<this.g.length;Ze++){var or=this.i(Ze);We+=(0<=or?or:4294967296+or)*Ge,Ge*=4294967296}return We},Ee.toString=function(We){if(We=We||10,2>We||36<We)throw Error("radix out of range: "+We);if(je(this))return"0";if(Ke(this))return"-"+ze(this).toString(We);for(var Ge=Fe(Math.pow(We,6)),Ze=this,or="";;){var He=sr(Ze,Ge).g;Ze=Ve(Ze,He.j(Ge));var Je=((0<Ze.g.length?Ze.g[0]:Ze.h)>>>0).toString(We);if(Ze=He,je(Ze))return Je+or;for(;6>Je.length;)Je="0"+Je;or=Je+or}},Ee.i=function(We){return 0>We?0:We<this.g.length?this.g[We]:this.h};function je(We){if(We.h!=0)return!1;for(var Ge=0;Ge<We.g.length;Ge++)if(We.g[Ge]!=0)return!1;return!0}function Ke(We){return We.h==-1}Ee.l=function(We){return We=Ve(this,We),Ke(We)?-1:je(We)?0:1};function ze(We){for(var Ge=We.g.length,Ze=[],or=0;or<Ge;or++)Ze[or]=~We.g[or];return new Se(Ze,~We.h).add(ke)}Ee.abs=function(){return Ke(this)?ze(this):this},Ee.add=function(We){for(var Ge=Math.max(this.g.length,We.g.length),Ze=[],or=0,He=0;He<=Ge;He++){var Je=or+(this.i(He)&65535)+(We.i(He)&65535),$e=(Je>>>16)+(this.i(He)>>>16)+(We.i(He)>>>16);or=$e>>>16,Je&=65535,$e&=65535,Ze[He]=$e<<16|Je}return new Se(Ze,Ze[Ze.length-1]&-2147483648?-1:0)};function Ve(We,Ge){return We.add(ze(Ge))}Ee.j=function(We){if(je(this)||je(We))return Ue;if(Ke(this))return Ke(We)?ze(this).j(ze(We)):ze(ze(this).j(We));if(Ke(We))return ze(this.j(ze(We)));if(0>this.l(Oe)&&0>We.l(Oe))return Fe(this.m()*We.m());for(var Ge=this.g.length+We.g.length,Ze=[],or=0;or<2*Ge;or++)Ze[or]=0;for(or=0;or<this.g.length;or++)for(var He=0;He<We.g.length;He++){var Je=this.i(or)>>>16,$e=this.i(or)&65535,mr=We.i(He)>>>16,wr=We.i(He)&65535;Ze[2*or+2*He]+=$e*wr,Xe(Ze,2*or+2*He),Ze[2*or+2*He+1]+=Je*wr,Xe(Ze,2*or+2*He+1),Ze[2*or+2*He+1]+=$e*mr,Xe(Ze,2*or+2*He+1),Ze[2*or+2*He+2]+=Je*mr,Xe(Ze,2*or+2*He+2)}for(or=0;or<Ge;or++)Ze[or]=Ze[2*or+1]<<16|Ze[2*or];for(or=Ge;or<2*Ge;or++)Ze[or]=0;return new Se(Ze,0)};function Xe(We,Ge){for(;(We[Ge]&65535)!=We[Ge];)We[Ge+1]+=We[Ge]>>>16,We[Ge]&=65535,Ge++}function ir(We,Ge){this.g=We,this.h=Ge}function sr(We,Ge){if(je(Ge))throw Error("division by zero");if(je(We))return new ir(Ue,Ue);if(Ke(We))return Ge=sr(ze(We),Ge),new ir(ze(Ge.g),ze(Ge.h));if(Ke(Ge))return Ge=sr(We,ze(Ge)),new ir(ze(Ge.g),Ge.h);if(30<We.g.length){if(Ke(We)||Ke(Ge))throw Error("slowDivide_ only works with positive integers.");for(var Ze=ke,or=Ge;0>=or.l(We);)Ze=rr(Ze),or=rr(or);var He=nr(Ze,1),Je=nr(or,1);for(or=nr(or,2),Ze=nr(Ze,2);!je(or);){var $e=Je.add(or);0>=$e.l(We)&&(He=He.add(Ze),Je=$e),or=nr(or,1),Ze=nr(Ze,1)}return Ge=Ve(We,He.j(Ge)),new ir(He,Ge)}for(He=Ue;0<=We.l(Ge);){for(Ze=Math.max(1,Math.floor(We.m()/Ge.m())),or=Math.ceil(Math.log(Ze)/Math.LN2),or=48>=or?1:Math.pow(2,or-48),Je=Fe(Ze),$e=Je.j(Ge);Ke($e)||0<$e.l(We);)Ze-=or,Je=Fe(Ze),$e=Je.j(Ge);je(Je)&&(Je=ke),He=He.add(Je),We=Ve(We,$e)}return new ir(He,We)}Ee.A=function(We){return sr(this,We).h},Ee.and=function(We){for(var Ge=Math.max(this.g.length,We.g.length),Ze=[],or=0;or<Ge;or++)Ze[or]=this.i(or)&We.i(or);return new Se(Ze,this.h&We.h)},Ee.or=function(We){for(var Ge=Math.max(this.g.length,We.g.length),Ze=[],or=0;or<Ge;or++)Ze[or]=this.i(or)|We.i(or);return new Se(Ze,this.h|We.h)},Ee.xor=function(We){for(var Ge=Math.max(this.g.length,We.g.length),Ze=[],or=0;or<Ge;or++)Ze[or]=this.i(or)^We.i(or);return new Se(Ze,this.h^We.h)};function rr(We){for(var Ge=We.g.length+1,Ze=[],or=0;or<Ge;or++)Ze[or]=We.i(or)<<1|We.i(or-1)>>>31;return new Se(Ze,We.h)}function nr(We,Ge){var Ze=Ge>>5;Ge%=32;for(var or=We.g.length-Ze,He=[],Je=0;Je<or;Je++)He[Je]=0<Ge?We.i(Je+Ze)>>>Ge|We.i(Je+Ze+1)<<32-Ge:We.i(Je+Ze);return new Se(He,We.h)}_e.prototype.digest=_e.prototype.v,_e.prototype.reset=_e.prototype.s,_e.prototype.update=_e.prototype.u,Md5=_e,Se.prototype.add=Se.prototype.add,Se.prototype.multiply=Se.prototype.j,Se.prototype.modulo=Se.prototype.A,Se.prototype.compare=Se.prototype.l,Se.prototype.toNumber=Se.prototype.m,Se.prototype.toString=Se.prototype.toString,Se.prototype.getBits=Se.prototype.i,Se.fromNumber=Fe,Se.fromString=Ie,Integer=Se}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode$1,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var Ee,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(qe,gr,Br){return qe==Array.prototype||qe==Object.prototype||(qe[gr]=Br.value),qe};function Ae(qe){qe=[typeof globalThis=="object"&&globalThis,qe,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var gr=0;gr<qe.length;++gr){var Br=qe[gr];if(Br&&Br.Math==Math)return Br}throw Error("Cannot find global object")}var _e=Ae(this);function xe(qe,gr){if(gr)e:{var Br=_e;qe=qe.split(".");for(var Gr=0;Gr<qe.length-1;Gr++){var kn=qe[Gr];if(!(kn in Br))break e;Br=Br[kn]}qe=qe[qe.length-1],Gr=Br[qe],gr=gr(Gr),gr!=Gr&&gr!=null&&t(Br,qe,{configurable:!0,writable:!0,value:gr})}}function Ce(qe,gr){qe instanceof String&&(qe+="");var Br=0,Gr=!1,kn={next:function(){if(!Gr&&Br<qe.length){var Jn=Br++;return{value:gr(Jn,qe[Jn]),done:!1}}return Gr=!0,{done:!0,value:void 0}}};return kn[Symbol.iterator]=function(){return kn},kn}xe("Array.prototype.values",function(qe){return qe||function(){return Ce(this,function(gr,Br){return Br})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var Se=Se||{},Re=this||self;function Be(qe){var gr=typeof qe;return gr=gr!="object"?gr:qe?Array.isArray(qe)?"array":gr:"null",gr=="array"||gr=="object"&&typeof qe.length=="number"}function Fe(qe){var gr=typeof qe;return gr=="object"&&qe!=null||gr=="function"}function Ie(qe,gr,Br){return qe.call.apply(qe.bind,arguments)}function Ue(qe,gr,Br){if(!qe)throw Error();if(2<arguments.length){var Gr=Array.prototype.slice.call(arguments,2);return function(){var kn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(kn,Gr),qe.apply(gr,kn)}}return function(){return qe.apply(gr,arguments)}}function ke(qe,gr,Br){return ke=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ie:Ue,ke.apply(null,arguments)}function Oe(qe,gr){var Br=Array.prototype.slice.call(arguments,1);return function(){var Gr=Br.slice();return Gr.push.apply(Gr,arguments),qe.apply(this,Gr)}}function je(qe,gr){function Br(){}Br.prototype=gr.prototype,qe.aa=gr.prototype,qe.prototype=new Br,qe.prototype.constructor=qe,qe.Qb=function(Gr,kn,Jn){for(var _i=Array(arguments.length-2),ki=2;ki<arguments.length;ki++)_i[ki-2]=arguments[ki];return gr.prototype[kn].apply(Gr,_i)}}function Ke(qe){const gr=qe.length;if(0<gr){const Br=Array(gr);for(let Gr=0;Gr<gr;Gr++)Br[Gr]=qe[Gr];return Br}return[]}function ze(qe,gr){for(let Br=1;Br<arguments.length;Br++){const Gr=arguments[Br];if(Be(Gr)){const kn=qe.length||0,Jn=Gr.length||0;qe.length=kn+Jn;for(let _i=0;_i<Jn;_i++)qe[kn+_i]=Gr[_i]}else qe.push(Gr)}}class Ve{constructor(gr,Br){this.i=gr,this.j=Br,this.h=0,this.g=null}get(){let gr;return 0<this.h?(this.h--,gr=this.g,this.g=gr.next,gr.next=null):gr=this.i(),gr}}function Xe(qe){return/^[\s\xa0]*$/.test(qe)}function ir(){var qe=Re.navigator;return qe&&(qe=qe.userAgent)?qe:""}function sr(qe){return sr[" "](qe),qe}sr[" "]=function(){};var rr=ir().indexOf("Gecko")!=-1&&!(ir().toLowerCase().indexOf("webkit")!=-1&&ir().indexOf("Edge")==-1)&&!(ir().indexOf("Trident")!=-1||ir().indexOf("MSIE")!=-1)&&ir().indexOf("Edge")==-1;function nr(qe,gr,Br){for(const Gr in qe)gr.call(Br,qe[Gr],Gr,qe)}function We(qe,gr){for(const Br in qe)gr.call(void 0,qe[Br],Br,qe)}function Ge(qe){const gr={};for(const Br in qe)gr[Br]=qe[Br];return gr}const Ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function or(qe,gr){let Br,Gr;for(let kn=1;kn<arguments.length;kn++){Gr=arguments[kn];for(Br in Gr)qe[Br]=Gr[Br];for(let Jn=0;Jn<Ze.length;Jn++)Br=Ze[Jn],Object.prototype.hasOwnProperty.call(Gr,Br)&&(qe[Br]=Gr[Br])}}function He(qe){var gr=1;qe=qe.split(":");const Br=[];for(;0<gr&&qe.length;)Br.push(qe.shift()),gr--;return qe.length&&Br.push(qe.join(":")),Br}function Je(qe){Re.setTimeout(()=>{throw qe},0)}function $e(){var qe=_r;let gr=null;return qe.g&&(gr=qe.g,qe.g=qe.g.next,qe.g||(qe.h=null),gr.next=null),gr}class mr{constructor(){this.h=this.g=null}add(gr,Br){const Gr=wr.get();Gr.set(gr,Br),this.h?this.h.next=Gr:this.g=Gr,this.h=Gr}}var wr=new Ve(()=>new vr,qe=>qe.reset());class vr{constructor(){this.next=this.g=this.h=null}set(gr,Br){this.h=gr,this.g=Br,this.next=null}reset(){this.next=this.g=this.h=null}}let ur,Cr=!1,_r=new mr,hr=()=>{const qe=Re.Promise.resolve(void 0);ur=()=>{qe.then(Sr)}};var Sr=()=>{for(var qe;qe=$e();){try{qe.h.call(qe.g)}catch(Br){Je(Br)}var gr=wr;gr.j(qe),100>gr.h&&(gr.h++,qe.next=gr.g,gr.g=qe)}Cr=!1};function ar(){this.s=this.s,this.C=this.C}ar.prototype.s=!1,ar.prototype.ma=function(){this.s||(this.s=!0,this.N())},ar.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tr(qe,gr){this.type=qe,this.g=this.target=gr,this.defaultPrevented=!1}tr.prototype.h=function(){this.defaultPrevented=!0};var lr=function(){if(!Re.addEventListener||!Object.defineProperty)return!1;var qe=!1,gr=Object.defineProperty({},"passive",{get:function(){qe=!0}});try{const Br=()=>{};Re.addEventListener("test",Br,gr),Re.removeEventListener("test",Br,gr)}catch{}return qe}();function pr(qe,gr){if(tr.call(this,qe?qe.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,qe){var Br=this.type=qe.type,Gr=qe.changedTouches&&qe.changedTouches.length?qe.changedTouches[0]:null;if(this.target=qe.target||qe.srcElement,this.g=gr,gr=qe.relatedTarget){if(rr){e:{try{sr(gr.nodeName);var kn=!0;break e}catch{}kn=!1}kn||(gr=null)}}else Br=="mouseover"?gr=qe.fromElement:Br=="mouseout"&&(gr=qe.toElement);this.relatedTarget=gr,Gr?(this.clientX=Gr.clientX!==void 0?Gr.clientX:Gr.pageX,this.clientY=Gr.clientY!==void 0?Gr.clientY:Gr.pageY,this.screenX=Gr.screenX||0,this.screenY=Gr.screenY||0):(this.clientX=qe.clientX!==void 0?qe.clientX:qe.pageX,this.clientY=qe.clientY!==void 0?qe.clientY:qe.pageY,this.screenX=qe.screenX||0,this.screenY=qe.screenY||0),this.button=qe.button,this.key=qe.key||"",this.ctrlKey=qe.ctrlKey,this.altKey=qe.altKey,this.shiftKey=qe.shiftKey,this.metaKey=qe.metaKey,this.pointerId=qe.pointerId||0,this.pointerType=typeof qe.pointerType=="string"?qe.pointerType:Er[qe.pointerType]||"",this.state=qe.state,this.i=qe,qe.defaultPrevented&&pr.aa.h.call(this)}}je(pr,tr);var Er={2:"touch",3:"pen",4:"mouse"};pr.prototype.h=function(){pr.aa.h.call(this);var qe=this.i;qe.preventDefault?qe.preventDefault():qe.returnValue=!1};var Rr="closure_listenable_"+(1e6*Math.random()|0),Tr=0;function Ir(qe,gr,Br,Gr,kn){this.listener=qe,this.proxy=null,this.src=gr,this.type=Br,this.capture=!!Gr,this.ha=kn,this.key=++Tr,this.da=this.fa=!1}function Zr(qe){qe.da=!0,qe.listener=null,qe.proxy=null,qe.src=null,qe.ha=null}function zr(qe){this.src=qe,this.g={},this.h=0}zr.prototype.add=function(qe,gr,Br,Gr,kn){var Jn=qe.toString();qe=this.g[Jn],qe||(qe=this.g[Jn]=[],this.h++);var _i=vn(qe,gr,Gr,kn);return-1<_i?(gr=qe[_i],Br||(gr.fa=!1)):(gr=new Ir(gr,this.src,Jn,!!Gr,kn),gr.fa=Br,qe.push(gr)),gr};function $r(qe,gr){var Br=gr.type;if(Br in qe.g){var Gr=qe.g[Br],kn=Array.prototype.indexOf.call(Gr,gr,void 0),Jn;(Jn=0<=kn)&&Array.prototype.splice.call(Gr,kn,1),Jn&&(Zr(gr),qe.g[Br].length==0&&(delete qe.g[Br],qe.h--))}}function vn(qe,gr,Br,Gr){for(var kn=0;kn<qe.length;++kn){var Jn=qe[kn];if(!Jn.da&&Jn.listener==gr&&Jn.capture==!!Br&&Jn.ha==Gr)return kn}return-1}var bn="closure_lm_"+(1e6*Math.random()|0),An={};function Fr(qe,gr,Br,Gr,kn){if(Array.isArray(gr)){for(var Jn=0;Jn<gr.length;Jn++)Fr(qe,gr[Jn],Br,Gr,kn);return null}return Br=yn(Br),qe&&qe[Rr]?qe.K(gr,Br,Fe(Gr)?!!Gr.capture:!1,kn):dn(qe,gr,Br,!1,Gr,kn)}function dn(qe,gr,Br,Gr,kn,Jn){if(!gr)throw Error("Invalid event type");var _i=Fe(kn)?!!kn.capture:!!kn,ki=Dn(qe);if(ki||(qe[bn]=ki=new zr(qe)),Br=ki.add(gr,Br,Gr,_i,Jn),Br.proxy)return Br;if(Gr=Dr(),Br.proxy=Gr,Gr.src=qe,Gr.listener=Br,qe.addEventListener)lr||(kn=_i),kn===void 0&&(kn=!1),qe.addEventListener(gr.toString(),Gr,kn);else if(qe.attachEvent)qe.attachEvent(pn(gr.toString()),Gr);else if(qe.addListener&&qe.removeListener)qe.addListener(Gr);else throw Error("addEventListener and attachEvent are unavailable.");return Br}function Dr(){function qe(Br){return gr.call(qe.src,qe.listener,Br)}const gr=xn;return qe}function jr(qe,gr,Br,Gr,kn){if(Array.isArray(gr))for(var Jn=0;Jn<gr.length;Jn++)jr(qe,gr[Jn],Br,Gr,kn);else Gr=Fe(Gr)?!!Gr.capture:!!Gr,Br=yn(Br),qe&&qe[Rr]?(qe=qe.i,gr=String(gr).toString(),gr in qe.g&&(Jn=qe.g[gr],Br=vn(Jn,Br,Gr,kn),-1<Br&&(Zr(Jn[Br]),Array.prototype.splice.call(Jn,Br,1),Jn.length==0&&(delete qe.g[gr],qe.h--)))):qe&&(qe=Dn(qe))&&(gr=qe.g[gr.toString()],qe=-1,gr&&(qe=vn(gr,Br,Gr,kn)),(Br=-1<qe?gr[qe]:null)&&hn(Br))}function hn(qe){if(typeof qe!="number"&&qe&&!qe.da){var gr=qe.src;if(gr&&gr[Rr])$r(gr.i,qe);else{var Br=qe.type,Gr=qe.proxy;gr.removeEventListener?gr.removeEventListener(Br,Gr,qe.capture):gr.detachEvent?gr.detachEvent(pn(Br),Gr):gr.addListener&&gr.removeListener&&gr.removeListener(Gr),(Br=Dn(gr))?($r(Br,qe),Br.h==0&&(Br.src=null,gr[bn]=null)):Zr(qe)}}}function pn(qe){return qe in An?An[qe]:An[qe]="on"+qe}function xn(qe,gr){if(qe.da)qe=!0;else{gr=new pr(gr,this);var Br=qe.listener,Gr=qe.ha||qe.src;qe.fa&&hn(qe),qe=Br.call(Gr,gr)}return qe}function Dn(qe){return qe=qe[bn],qe instanceof zr?qe:null}var On="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(qe){return typeof qe=="function"?qe:(qe[On]||(qe[On]=function(gr){return qe.handleEvent(gr)}),qe[On])}function Gn(){ar.call(this),this.i=new zr(this),this.M=this,this.F=null}je(Gn,ar),Gn.prototype[Rr]=!0,Gn.prototype.removeEventListener=function(qe,gr,Br,Gr){jr(this,qe,gr,Br,Gr)};function Qn(qe,gr){var Br,Gr=qe.F;if(Gr)for(Br=[];Gr;Gr=Gr.F)Br.push(Gr);if(qe=qe.M,Gr=gr.type||gr,typeof gr=="string")gr=new tr(gr,qe);else if(gr instanceof tr)gr.target=gr.target||qe;else{var kn=gr;gr=new tr(Gr,qe),or(gr,kn)}if(kn=!0,Br)for(var Jn=Br.length-1;0<=Jn;Jn--){var _i=gr.g=Br[Jn];kn=di(_i,Gr,!0,gr)&&kn}if(_i=gr.g=qe,kn=di(_i,Gr,!0,gr)&&kn,kn=di(_i,Gr,!1,gr)&&kn,Br)for(Jn=0;Jn<Br.length;Jn++)_i=gr.g=Br[Jn],kn=di(_i,Gr,!1,gr)&&kn}Gn.prototype.N=function(){if(Gn.aa.N.call(this),this.i){var qe=this.i,gr;for(gr in qe.g){for(var Br=qe.g[gr],Gr=0;Gr<Br.length;Gr++)Zr(Br[Gr]);delete qe.g[gr],qe.h--}}this.F=null},Gn.prototype.K=function(qe,gr,Br,Gr){return this.i.add(String(qe),gr,!1,Br,Gr)},Gn.prototype.L=function(qe,gr,Br,Gr){return this.i.add(String(qe),gr,!0,Br,Gr)};function di(qe,gr,Br,Gr){if(gr=qe.i.g[String(gr)],!gr)return!0;gr=gr.concat();for(var kn=!0,Jn=0;Jn<gr.length;++Jn){var _i=gr[Jn];if(_i&&!_i.da&&_i.capture==Br){var ki=_i.listener,Yi=_i.ha||_i.src;_i.fa&&$r(qe.i,_i),kn=ki.call(Yi,Gr)!==!1&&kn}}return kn&&!Gr.defaultPrevented}function ni(qe,gr,Br){if(typeof qe=="function")Br&&(qe=ke(qe,Br));else if(qe&&typeof qe.handleEvent=="function")qe=ke(qe.handleEvent,qe);else throw Error("Invalid listener argument");return 2147483647<Number(gr)?-1:Re.setTimeout(qe,gr||0)}function wi(qe){qe.g=ni(()=>{qe.g=null,qe.i&&(qe.i=!1,wi(qe))},qe.l);const gr=qe.h;qe.h=null,qe.m.apply(null,gr)}class Nr extends ar{constructor(gr,Br){super(),this.m=gr,this.l=Br,this.h=null,this.i=!1,this.g=null}j(gr){this.h=arguments,this.g?this.i=!0:wi(this)}N(){super.N(),this.g&&(Re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function In(qe){ar.call(this),this.h=qe,this.g={}}je(In,ar);var Kn=[];function si(qe){nr(qe.g,function(gr,Br){this.g.hasOwnProperty(Br)&&hn(gr)},qe),qe.g={}}In.prototype.N=function(){In.aa.N.call(this),si(this)},In.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kr=Re.JSON.stringify,Xr=Re.JSON.parse,br=class{stringify(qe){return Re.JSON.stringify(qe,void 0)}parse(qe){return Re.JSON.parse(qe,void 0)}};function Sn(){}Sn.prototype.h=null;function vi(qe){return qe.h||(qe.h=qe.i())}function fr(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function un(){tr.call(this,"d")}je(un,tr);function Pr(){tr.call(this,"c")}je(Pr,tr);var Yr={},En=null;function Zn(){return En=En||new Gn}Yr.La="serverreachability";function Vr(qe){tr.call(this,Yr.La,qe)}je(Vr,tr);function Mr(qe){const gr=Zn();Qn(gr,new Vr(gr))}Yr.STAT_EVENT="statevent";function gn(qe,gr){tr.call(this,Yr.STAT_EVENT,qe),this.stat=gr}je(gn,tr);function wn(qe){const gr=Zn();Qn(gr,new gn(gr,qe))}Yr.Ma="timingevent";function Rn(qe,gr){tr.call(this,Yr.Ma,qe),this.size=gr}je(Rn,tr);function Nn(qe,gr){if(typeof qe!="function")throw Error("Fn must not be null and must be a function");return Re.setTimeout(function(){qe()},gr)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function ci(qe,gr,Br,Gr,kn,Jn){qe.info(function(){if(qe.g)if(Jn)for(var _i="",ki=Jn.split("&"),Yi=0;Yi<ki.length;Yi++){var Hi=ki[Yi].split("=");if(1<Hi.length){var ls=Hi[0];Hi=Hi[1];var ds=ls.split("_");_i=2<=ds.length&&ds[1]=="type"?_i+(ls+"="+Hi+"&"):_i+(ls+"=redacted&")}}else _i=null;else _i=Jn;return"XMLHTTP REQ ("+Gr+") [attempt "+kn+"]: "+gr+`
`+Br+`
`+_i})}function ui(qe,gr,Br,Gr,kn,Jn,_i){qe.info(function(){return"XMLHTTP RESP ("+Gr+") [ attempt "+kn+"]: "+gr+`
`+Br+`
`+Jn+" "+_i})}function oi(qe,gr,Br,Gr){qe.info(function(){return"XMLHTTP TEXT ("+gr+"): "+fi(qe,Br)+(Gr?" "+Gr:"")})}function Bi(qe,gr){qe.info(function(){return"TIMEOUT: "+gr})}zn.prototype.info=function(){};function fi(qe,gr){if(!qe.g)return gr;if(!gr)return null;try{var Br=JSON.parse(gr);if(Br){for(qe=0;qe<Br.length;qe++)if(Array.isArray(Br[qe])){var Gr=Br[qe];if(!(2>Gr.length)){var kn=Gr[1];if(Array.isArray(kn)&&!(1>kn.length)){var Jn=kn[0];if(Jn!="noop"&&Jn!="stop"&&Jn!="close")for(var _i=1;_i<kn.length;_i++)kn[_i]=""}}}}return Kr(Br)}catch{return gr}}var yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ci;function Pi(){}je(Pi,Sn),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},Ci=new Pi;function Ii(qe,gr,Br,Gr){this.j=qe,this.i=gr,this.l=Br,this.R=Gr||1,this.U=new In(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Li}function Li(){this.i=null,this.g="",this.h=!1}var Zi={},Ns={};function xs(qe,gr,Br){qe.L=1,qe.v=To(sa(gr)),qe.m=Br,qe.P=!0,Rs(qe,null)}function Rs(qe,gr){qe.F=Date.now(),Wo(qe),qe.A=sa(qe.v);var Br=qe.A,Gr=qe.R;Array.isArray(Gr)||(Gr=[String(Gr)]),Oi(Br.i,"t",Gr),qe.C=0,Br=qe.j.J,qe.h=new Li,qe.g=kr(qe.j,Br?gr:null,!qe.m),0<qe.O&&(qe.M=new Nr(ke(qe.Y,qe,qe.g),qe.O)),gr=qe.U,Br=qe.g,Gr=qe.ca;var kn="readystatechange";Array.isArray(kn)||(kn&&(Kn[0]=kn.toString()),kn=Kn);for(var Jn=0;Jn<kn.length;Jn++){var _i=Fr(Br,kn[Jn],Gr||gr.handleEvent,!1,gr.h||gr);if(!_i)break;gr.g[_i.key]=_i}gr=qe.H?Ge(qe.H):{},qe.m?(qe.u||(qe.u="POST"),gr["Content-Type"]="application/x-www-form-urlencoded",qe.g.ea(qe.A,qe.u,qe.m,gr)):(qe.u="GET",qe.g.ea(qe.A,qe.u,null,gr)),Mr(),ci(qe.i,qe.u,qe.A,qe.l,qe.R,qe.m)}Ii.prototype.ca=function(qe){qe=qe.target;const gr=this.M;gr&&Vs(qe)==3?gr.j():this.Y(qe)},Ii.prototype.Y=function(qe){try{if(qe==this.g)e:{const ds=Vs(this.g);var gr=this.g.Ba();const Ya=this.g.Z();if(!(3>ds)&&(ds!=3||this.g&&(this.h.h||this.g.oa()||UA(this.g)))){this.J||ds!=4||gr==7||(gr==8||0>=Ya?Mr(3):Mr(2)),Ua(this);var Br=this.g.Z();this.X=Br;t:if(Va(this)){var Gr=UA(this.g);qe="";var kn=Gr.length,Jn=Vs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gs(this),La(this);var _i="";break t}this.h.i=new Re.TextDecoder}for(gr=0;gr<kn;gr++)this.h.h=!0,qe+=this.h.i.decode(Gr[gr],{stream:!(Jn&&gr==kn-1)});Gr.length=0,this.h.g+=qe,this.C=0,_i=this.h.g}else _i=this.g.oa();if(this.o=Br==200,ui(this.i,this.u,this.A,this.l,this.R,ds,Br),this.o){if(this.T&&!this.K){t:{if(this.g){var ki,Yi=this.g;if((ki=Yi.g?Yi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xe(ki)){var Hi=ki;break t}}Hi=null}if(Br=Hi)oi(this.i,this.l,Br,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,io(this,Br);else{this.o=!1,this.s=3,wn(12),Gs(this),La(this);break e}}if(this.P){Br=!0;let Us;for(;!this.J&&this.C<_i.length;)if(Us=Yl(this,_i),Us==Ns){ds==4&&(this.s=4,wn(14),Br=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Us==Zi){this.s=4,wn(15),oi(this.i,this.l,_i,"[Invalid Chunk]"),Br=!1;break}else oi(this.i,this.l,Us,null),io(this,Us);if(Va(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ds!=4||_i.length!=0||this.h.h||(this.s=1,wn(16),Br=!1),this.o=this.o&&Br,!Br)oi(this.i,this.l,_i,"[Invalid Chunked Response]"),Gs(this),La(this);else if(0<_i.length&&!this.W){this.W=!0;var ls=this.j;ls.g==this&&ls.ba&&!ls.M&&(ls.j.info("Great, no buffering proxy detected. Bytes received: "+_i.length),Do(ls),ls.M=!0,wn(11))}}else oi(this.i,this.l,_i,null),io(this,_i);ds==4&&Gs(this),this.o&&!this.J&&(ds==4?No(this.j,this):(this.o=!1,Wo(this)))}else Po(this.g),Br==400&&0<_i.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),Gs(this),La(this)}}}catch{}finally{}};function Va(qe){return qe.g?qe.u=="GET"&&qe.L!=2&&qe.j.Ca:!1}function Yl(qe,gr){var Br=qe.C,Gr=gr.indexOf(`
`,Br);return Gr==-1?Ns:(Br=Number(gr.substring(Br,Gr)),isNaN(Br)?Zi:(Gr+=1,Gr+Br>gr.length?Ns:(gr=gr.slice(Gr,Gr+Br),qe.C=Gr+Br,gr)))}Ii.prototype.cancel=function(){this.J=!0,Gs(this)};function Wo(qe){qe.S=Date.now()+qe.I,PA(qe,qe.I)}function PA(qe,gr){if(qe.B!=null)throw Error("WatchDog timer not null");qe.B=Nn(ke(qe.ba,qe),gr)}function Ua(qe){qe.B&&(Re.clearTimeout(qe.B),qe.B=null)}Ii.prototype.ba=function(){this.B=null;const qe=Date.now();0<=qe-this.S?(Bi(this.i,this.A),this.L!=2&&(Mr(),wn(17)),Gs(this),this.s=2,La(this)):PA(this,this.S-qe)};function La(qe){qe.j.G==0||qe.J||No(qe.j,qe)}function Gs(qe){Ua(qe);var gr=qe.M;gr&&typeof gr.ma=="function"&&gr.ma(),qe.M=null,si(qe.U),qe.g&&(gr=qe.g,qe.g=null,gr.abort(),gr.ma())}function io(qe,gr){try{var Br=qe.j;if(Br.G!=0&&(Br.g==qe||Jl(Br.h,qe))){if(!qe.K&&Jl(Br.h,qe)&&Br.G==3){try{var Gr=Br.Da.g.parse(gr)}catch{Gr=null}if(Array.isArray(Gr)&&Gr.length==3){var kn=Gr;if(kn[0]==0){e:if(!Br.u){if(Br.g)if(Br.g.F+3e3<qe.F)ho(Br),wl(Br);else break e;el(Br),wn(18)}}else Br.za=kn[1],0<Br.za-Br.T&&37500>kn[2]&&Br.F&&Br.v==0&&!Br.C&&(Br.C=Nn(ke(Br.Za,Br),6e3));if(1>=so(Br.h)&&Br.ca){try{Br.ca()}catch{}Br.ca=void 0}}else ha(Br,11)}else if((qe.K||Br.g==qe)&&ho(Br),!Xe(gr))for(kn=Br.Da.g.parse(gr),gr=0;gr<kn.length;gr++){let Hi=kn[gr];if(Br.T=Hi[0],Hi=Hi[1],Br.G==2)if(Hi[0]=="c"){Br.K=Hi[1],Br.ia=Hi[2];const ls=Hi[3];ls!=null&&(Br.la=ls,Br.j.info("VER="+Br.la));const ds=Hi[4];ds!=null&&(Br.Aa=ds,Br.j.info("SVER="+Br.Aa));const Ya=Hi[5];Ya!=null&&typeof Ya=="number"&&0<Ya&&(Gr=1.5*Ya,Br.L=Gr,Br.j.info("backChannelRequestTimeoutMs_="+Gr)),Gr=Br;const Us=qe.g;if(Us){const Ba=Us.g?Us.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ba){var Jn=Gr.h;Jn.g||Ba.indexOf("spdy")==-1&&Ba.indexOf("quic")==-1&&Ba.indexOf("h2")==-1||(Jn.j=Jn.l,Jn.g=new Set,Jn.h&&(Es(Jn,Jn.h),Jn.h=null))}if(Gr.D){const Uo=Us.g?Us.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(Gr.ya=Uo,os(Gr.I,Gr.D,Uo))}}Br.G=3,Br.l&&Br.l.ua(),Br.ba&&(Br.R=Date.now()-qe.F,Br.j.info("Handshake RTT: "+Br.R+"ms")),Gr=Br;var _i=qe;if(Gr.qa=cr(Gr,Gr.J?Gr.ia:null,Gr.W),_i.K){$s(Gr.h,_i);var ki=_i,Yi=Gr.L;Yi&&(ki.I=Yi),ki.B&&(Ua(ki),Wo(ki)),Gr.g=_i}else Cl(Gr);0<Br.i.length&&xl(Br)}else Hi[0]!="stop"&&Hi[0]!="close"||ha(Br,7);else Br.G==3&&(Hi[0]=="stop"||Hi[0]=="close"?Hi[0]=="stop"?ha(Br,7):uo(Br):Hi[0]!="noop"&&Br.l&&Br.l.ta(Hi),Br.v=0)}}Mr(4)}catch{}}var FA=class{constructor(qe,gr){this.g=qe,this.map=gr}};function Qa(qe){this.l=qe||10,Re.PerformanceNavigationTiming?(qe=Re.performance.getEntriesByType("navigation"),qe=0<qe.length&&(qe[0].nextHopProtocol=="hq"||qe[0].nextHopProtocol=="h2")):qe=!!(Re.chrome&&Re.chrome.loadTimes&&Re.chrome.loadTimes()&&Re.chrome.loadTimes().wasFetchedViaSpdy),this.j=qe?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yl(qe){return qe.h?!0:qe.g?qe.g.size>=qe.j:!1}function so(qe){return qe.h?1:qe.g?qe.g.size:0}function Jl(qe,gr){return qe.h?qe.h==gr:qe.g?qe.g.has(gr):!1}function Es(qe,gr){qe.g?qe.g.add(gr):qe.h=gr}function $s(qe,gr){qe.h&&qe.h==gr?qe.h=null:qe.g&&qe.g.has(gr)&&qe.g.delete(gr)}Qa.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const qe of this.g.values())qe.cancel();this.g.clear()}};function El(qe){if(qe.h!=null)return qe.i.concat(qe.h.D);if(qe.g!=null&&qe.g.size!==0){let gr=qe.i;for(const Br of qe.g.values())gr=gr.concat(Br.D);return gr}return Ke(qe.i)}function IA(qe){if(qe.V&&typeof qe.V=="function")return qe.V();if(typeof Map<"u"&&qe instanceof Map||typeof Set<"u"&&qe instanceof Set)return Array.from(qe.values());if(typeof qe=="string")return qe.split("");if(Be(qe)){for(var gr=[],Br=qe.length,Gr=0;Gr<Br;Gr++)gr.push(qe[Gr]);return gr}gr=[],Br=0;for(Gr in qe)gr[Br++]=qe[Gr];return gr}function xo(qe){if(qe.na&&typeof qe.na=="function")return qe.na();if(!qe.V||typeof qe.V!="function"){if(typeof Map<"u"&&qe instanceof Map)return Array.from(qe.keys());if(!(typeof Set<"u"&&qe instanceof Set)){if(Be(qe)||typeof qe=="string"){var gr=[];qe=qe.length;for(var Br=0;Br<qe;Br++)gr.push(Br);return gr}gr=[],Br=0;for(const Gr in qe)gr[Br++]=Gr;return gr}}}function Zl(qe,gr){if(qe.forEach&&typeof qe.forEach=="function")qe.forEach(gr,void 0);else if(Be(qe)||typeof qe=="string")Array.prototype.forEach.call(qe,gr,void 0);else for(var Br=xo(qe),Gr=IA(qe),kn=Gr.length,Jn=0;Jn<kn;Jn++)gr.call(void 0,Gr[Jn],Br&&Br[Jn],qe)}var ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _l(qe,gr){if(qe){qe=qe.split("&");for(var Br=0;Br<qe.length;Br++){var Gr=qe[Br].indexOf("="),kn=null;if(0<=Gr){var Jn=qe[Br].substring(0,Gr);kn=qe[Br].substring(Gr+1)}else Jn=qe[Br];gr(Jn,kn?decodeURIComponent(kn.replace(/\+/g," ")):"")}}}function ts(qe){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,qe instanceof ts){this.h=qe.h,Co(this,qe.j),this.o=qe.o,this.g=qe.g,So(this,qe.s),this.l=qe.l;var gr=qe.i,Br=new Ka;Br.i=gr.i,gr.g&&(Br.g=new Map(gr.g),Br.h=gr.h),Ha(this,Br),this.m=qe.m}else qe&&(gr=String(qe).match(ia))?(this.h=!1,Co(this,gr[1]||"",!0),this.o=Ca(gr[2]||""),this.g=Ca(gr[3]||"",!0),So(this,gr[4]),this.l=Ca(gr[5]||"",!0),Ha(this,gr[6]||"",!0),this.m=Ca(gr[7]||"")):(this.h=!1,this.i=new Ka(null,this.h))}ts.prototype.toString=function(){var qe=[],gr=this.j;gr&&qe.push(ao(gr,$l,!0),":");var Br=this.g;return(Br||gr=="file")&&(qe.push("//"),(gr=this.o)&&qe.push(ao(gr,$l,!0),"@"),qe.push(encodeURIComponent(String(Br)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Br=this.s,Br!=null&&qe.push(":",String(Br))),(Br=this.l)&&(this.g&&Br.charAt(0)!="/"&&qe.push("/"),qe.push(ao(Br,Br.charAt(0)=="/"?oo:eA,!0))),(Br=this.i.toString())&&qe.push("?",Br),(Br=this.m)&&qe.push("#",ao(Br,lo)),qe.join("")};function sa(qe){return new ts(qe)}function Co(qe,gr,Br){qe.j=Br?Ca(gr,!0):gr,qe.j&&(qe.j=qe.j.replace(/:$/,""))}function So(qe,gr){if(gr){if(gr=Number(gr),isNaN(gr)||0>gr)throw Error("Bad port number "+gr);qe.s=gr}else qe.s=null}function Ha(qe,gr,Br){gr instanceof Ka?(qe.i=gr,NA(qe.i,qe.h)):(Br||(gr=ao(gr,bl)),qe.i=new Ka(gr,qe.h))}function os(qe,gr,Br){qe.i.set(gr,Br)}function To(qe){return os(qe,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),qe}function Ca(qe,gr){return qe?gr?decodeURI(qe.replace(/%25/g,"%2525")):decodeURIComponent(qe):""}function ao(qe,gr,Br){return typeof qe=="string"?(qe=encodeURI(qe).replace(gr,DA),Br&&(qe=qe.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),qe):null}function DA(qe){return qe=qe.charCodeAt(0),"%"+(qe>>4&15).toString(16)+(qe&15).toString(16)}var $l=/[#\/\?@]/g,eA=/[#\?:]/g,oo=/[#\?]/g,bl=/[#\?@]/g,lo=/#/g;function Ka(qe,gr){this.h=this.g=null,this.i=qe||null,this.j=!!gr}function ps(qe){qe.g||(qe.g=new Map,qe.h=0,qe.i&&_l(qe.i,function(gr,Br){qe.add(decodeURIComponent(gr.replace(/\+/g," ")),Br)}))}Ee=Ka.prototype,Ee.add=function(qe,gr){ps(this),this.i=null,qe=Ga(this,qe);var Br=this.g.get(qe);return Br||this.g.set(qe,Br=[]),Br.push(gr),this.h+=1,this};function Ao(qe,gr){ps(qe),gr=Ga(qe,gr),qe.g.has(gr)&&(qe.i=null,qe.h-=qe.g.get(gr).length,qe.g.delete(gr))}function qa(qe,gr){return ps(qe),gr=Ga(qe,gr),qe.g.has(gr)}Ee.forEach=function(qe,gr){ps(this),this.g.forEach(function(Br,Gr){Br.forEach(function(kn){qe.call(gr,kn,Gr,this)},this)},this)},Ee.na=function(){ps(this);const qe=Array.from(this.g.values()),gr=Array.from(this.g.keys()),Br=[];for(let Gr=0;Gr<gr.length;Gr++){const kn=qe[Gr];for(let Jn=0;Jn<kn.length;Jn++)Br.push(gr[Gr])}return Br},Ee.V=function(qe){ps(this);let gr=[];if(typeof qe=="string")qa(this,qe)&&(gr=gr.concat(this.g.get(Ga(this,qe))));else{qe=Array.from(this.g.values());for(let Br=0;Br<qe.length;Br++)gr=gr.concat(qe[Br])}return gr},Ee.set=function(qe,gr){return ps(this),this.i=null,qe=Ga(this,qe),qa(this,qe)&&(this.h-=this.g.get(qe).length),this.g.set(qe,[gr]),this.h+=1,this},Ee.get=function(qe,gr){return qe?(qe=this.V(qe),0<qe.length?String(qe[0]):gr):gr};function Oi(qe,gr,Br){Ao(qe,gr),0<Br.length&&(qe.i=null,qe.g.set(Ga(qe,gr),Ke(Br)),qe.h+=Br.length)}Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const qe=[],gr=Array.from(this.g.keys());for(var Br=0;Br<gr.length;Br++){var Gr=gr[Br];const Jn=encodeURIComponent(String(Gr)),_i=this.V(Gr);for(Gr=0;Gr<_i.length;Gr++){var kn=Jn;_i[Gr]!==""&&(kn+="="+encodeURIComponent(String(_i[Gr]))),qe.push(kn)}}return this.i=qe.join("&")};function Ga(qe,gr){return gr=String(gr),qe.j&&(gr=gr.toLowerCase()),gr}function NA(qe,gr){gr&&!qe.j&&(ps(qe),qe.i=null,qe.g.forEach(function(Br,Gr){var kn=Gr.toLowerCase();Gr!=kn&&(Ao(this,Gr),Oi(this,kn,Br))},qe)),qe.j=gr}function Aa(qe,gr){const Br=new zn;if(Re.Image){const Gr=new Image;Gr.onload=Oe(ma,Br,"TestLoadImage: loaded",!0,gr,Gr),Gr.onerror=Oe(ma,Br,"TestLoadImage: error",!1,gr,Gr),Gr.onabort=Oe(ma,Br,"TestLoadImage: abort",!1,gr,Gr),Gr.ontimeout=Oe(ma,Br,"TestLoadImage: timeout",!1,gr,Gr),Re.setTimeout(function(){Gr.ontimeout&&Gr.ontimeout()},1e4),Gr.src=qe}else gr(!1)}function Sa(qe,gr){const Br=new zn,Gr=new AbortController,kn=setTimeout(()=>{Gr.abort(),ma(Br,"TestPingServer: timeout",!1,gr)},1e4);fetch(qe,{signal:Gr.signal}).then(Jn=>{clearTimeout(kn),Jn.ok?ma(Br,"TestPingServer: ok",!0,gr):ma(Br,"TestPingServer: server error",!1,gr)}).catch(()=>{clearTimeout(kn),ma(Br,"TestPingServer: error",!1,gr)})}function ma(qe,gr,Br,Gr,kn){try{kn&&(kn.onload=null,kn.onerror=null,kn.onabort=null,kn.ontimeout=null),Gr(Br)}catch{}}function za(){this.g=new br}function Ta(qe,gr,Br){const Gr=Br||"";try{Zl(qe,function(kn,Jn){let _i=kn;Fe(kn)&&(_i=Kr(kn)),gr.push(Gr+Jn+"="+encodeURIComponent(_i))})}catch(kn){throw gr.push(Gr+"type="+encodeURIComponent("_badmap")),kn}}function Ro(qe){this.l=qe.Ub||null,this.j=qe.eb||!1}je(Ro,Sn),Ro.prototype.g=function(){return new co(this.l,this.j)},Ro.prototype.i=function(qe){return function(){return qe}}({});function co(qe,gr){Gn.call(this),this.D=qe,this.o=gr,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}je(co,Gn),Ee=co.prototype,Ee.open=function(qe,gr){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=qe,this.A=gr,this.readyState=1,ca(this)},Ee.send=function(qe){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const gr={headers:this.u,method:this.B,credentials:this.m,cache:void 0};qe&&(gr.body=qe),(this.D||Re).fetch(new Request(this.A,gr)).then(this.Sa.bind(this),this.ga.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ra(this)),this.readyState=0},Ee.Sa=function(qe){if(this.g&&(this.l=qe,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=qe.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")qe.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof Re.ReadableStream<"u"&&"body"in qe){if(this.j=qe.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tA(this)}else qe.text().then(this.Ra.bind(this),this.ga.bind(this))};function tA(qe){qe.j.read().then(qe.Pa.bind(qe)).catch(qe.ga.bind(qe))}Ee.Pa=function(qe){if(this.g){if(this.o&&qe.value)this.response.push(qe.value);else if(!this.o){var gr=qe.value?qe.value:new Uint8Array(0);(gr=this.v.decode(gr,{stream:!qe.done}))&&(this.response=this.responseText+=gr)}qe.done?Ra(this):ca(this),this.readyState==3&&tA(this)}},Ee.Ra=function(qe){this.g&&(this.response=this.responseText=qe,Ra(this))},Ee.Qa=function(qe){this.g&&(this.response=qe,Ra(this))},Ee.ga=function(){this.g&&Ra(this)};function Ra(qe){qe.readyState=4,qe.l=null,qe.j=null,qe.v=null,ca(qe)}Ee.setRequestHeader=function(qe,gr){this.u.append(qe,gr)},Ee.getResponseHeader=function(qe){return this.h&&this.h.get(qe.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const qe=[],gr=this.h.entries();for(var Br=gr.next();!Br.done;)Br=Br.value,qe.push(Br[0]+": "+Br[1]),Br=gr.next();return qe.join(`\r
`)};function ca(qe){qe.onreadystatechange&&qe.onreadystatechange.call(qe)}Object.defineProperty(co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(qe){this.m=qe?"include":"same-origin"}});function Wa(qe){let gr="";return nr(qe,function(Br,Gr){gr+=Gr,gr+=":",gr+=Br,gr+=`\r
`}),gr}function js(qe,gr,Br){e:{for(Gr in Br){var Gr=!1;break e}Gr=!0}Gr||(Br=Wa(Br),typeof qe=="string"?Br!=null&&encodeURIComponent(String(Br)):os(qe,gr,Br))}function Xi(qe){Gn.call(this),this.headers=new Map,this.o=qe||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}je(Xi,Gn);var Bo=/^https?$/i,Xa=["POST","PUT"];Ee=Xi.prototype,Ee.Ha=function(qe){this.J=qe},Ee.ea=function(qe,gr,Br,Gr){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+qe);gr=gr?gr.toUpperCase():"GET",this.D=qe,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ci.g(),this.v=this.o?vi(this.o):vi(Ci),this.g.onreadystatechange=ke(this.Ea,this);try{this.B=!0,this.g.open(gr,String(qe),!0),this.B=!1}catch(Jn){rA(this,Jn);return}if(qe=Br||"",Br=new Map(this.headers),Gr)if(Object.getPrototypeOf(Gr)===Object.prototype)for(var kn in Gr)Br.set(kn,Gr[kn]);else if(typeof Gr.keys=="function"&&typeof Gr.get=="function")for(const Jn of Gr.keys())Br.set(Jn,Gr.get(Jn));else throw Error("Unknown input type for opt_headers: "+String(Gr));Gr=Array.from(Br.keys()).find(Jn=>Jn.toLowerCase()=="content-type"),kn=Re.FormData&&qe instanceof Re.FormData,!(0<=Array.prototype.indexOf.call(Xa,gr,void 0))||Gr||kn||Br.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Jn,_i]of Br)this.g.setRequestHeader(Jn,_i);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ua(this),this.u=!0,this.g.send(qe),this.u=!1}catch(Jn){rA(this,Jn)}};function rA(qe,gr){qe.h=!1,qe.g&&(qe.j=!0,qe.g.abort(),qe.j=!1),qe.l=gr,qe.m=5,Xo(qe),Oa(qe)}function Xo(qe){qe.A||(qe.A=!0,Qn(qe,"complete"),Qn(qe,"error"))}Ee.abort=function(qe){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=qe||7,Qn(this,"complete"),Qn(this,"abort"),Oa(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oa(this,!0)),Xi.aa.N.call(this)},Ee.Ea=function(){this.s||(this.B||this.u||this.j?Yo(this):this.bb())},Ee.bb=function(){Yo(this)};function Yo(qe){if(qe.h&&typeof Se<"u"&&(!qe.v[1]||Vs(qe)!=4||qe.Z()!=2)){if(qe.u&&Vs(qe)==4)ni(qe.Ea,0,qe);else if(Qn(qe,"readystatechange"),Vs(qe)==4){qe.h=!1;try{const _i=qe.Z();e:switch(_i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var gr=!0;break e;default:gr=!1}var Br;if(!(Br=gr)){var Gr;if(Gr=_i===0){var kn=String(qe.D).match(ia)[1]||null;!kn&&Re.self&&Re.self.location&&(kn=Re.self.location.protocol.slice(0,-1)),Gr=!Bo.test(kn?kn.toLowerCase():"")}Br=Gr}if(Br)Qn(qe,"complete"),Qn(qe,"success");else{qe.m=6;try{var Jn=2<Vs(qe)?qe.g.statusText:""}catch{Jn=""}qe.l=Jn+" ["+qe.Z()+"]",Xo(qe)}}finally{Oa(qe)}}}}function Oa(qe,gr){if(qe.g){ua(qe);const Br=qe.g,Gr=qe.v[0]?()=>{}:null;qe.g=null,qe.v=null,gr||Qn(qe,"ready");try{Br.onreadystatechange=Gr}catch{}}}function ua(qe){qe.I&&(Re.clearTimeout(qe.I),qe.I=null)}Ee.isActive=function(){return!!this.g};function Vs(qe){return qe.g?qe.g.readyState:0}Ee.Z=function(){try{return 2<Vs(this)?this.g.status:-1}catch{return-1}},Ee.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Oa=function(qe){if(this.g){var gr=this.g.responseText;return qe&&gr.indexOf(qe)==0&&(gr=gr.substring(qe.length)),Xr(gr)}};function UA(qe){try{if(!qe.g)return null;if("response"in qe.g)return qe.g.response;switch(qe.H){case"":case"text":return qe.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in qe.g)return qe.g.mozResponseArrayBuffer}return null}catch{return null}}function Po(qe){const gr={};qe=(qe.g&&2<=Vs(qe)&&qe.g.getAllResponseHeaders()||"").split(`\r
`);for(let Gr=0;Gr<qe.length;Gr++){if(Xe(qe[Gr]))continue;var Br=He(qe[Gr]);const kn=Br[0];if(Br=Br[1],typeof Br!="string")continue;Br=Br.trim();const Jn=gr[kn]||[];gr[kn]=Jn,Jn.push(Br)}We(gr,function(Gr){return Gr.join(", ")})}Ee.Ba=function(){return this.m},Ee.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(qe,gr,Br){return Br&&Br.internalChannelParams&&Br.internalChannelParams[qe]||gr}function Fo(qe){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,qe),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,qe),this.cb=aa("retryDelaySeedMs",1e4,qe),this.Wa=aa("forwardChannelMaxRetries",2,qe),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,qe),this.pa=qe&&qe.xmlHttpFactory||void 0,this.Xa=qe&&qe.Tb||void 0,this.Ca=qe&&qe.useFetchStreams||!1,this.L=void 0,this.J=qe&&qe.supportsCrossDomainXhr||!1,this.K="",this.h=new Qa(qe&&qe.concurrentRequestLimit),this.Da=new za,this.P=qe&&qe.fastHandshake||!1,this.O=qe&&qe.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=qe&&qe.Rb||!1,qe&&qe.xa&&this.j.xa(),qe&&qe.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&qe&&qe.detectBufferingProxy||!1,this.ja=void 0,qe&&qe.longPollingTimeout&&0<qe.longPollingTimeout&&(this.ja=qe.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}Ee=Fo.prototype,Ee.la=8,Ee.G=1,Ee.connect=function(qe,gr,Br,Gr){wn(0),this.W=qe,this.H=gr||{},Br&&Gr!==void 0&&(this.H.OSID=Br,this.H.OAID=Gr),this.F=this.X,this.I=cr(this,null,this.W),xl(this)};function uo(qe){if(Jo(qe),qe.G==3){var gr=qe.U++,Br=sa(qe.I);if(os(Br,"SID",qe.K),os(Br,"RID",gr),os(Br,"TYPE","terminate"),Io(qe,Br),gr=new Ii(qe,qe.j,gr),gr.L=2,gr.v=To(sa(Br)),Br=!1,Re.navigator&&Re.navigator.sendBeacon)try{Br=Re.navigator.sendBeacon(gr.v.toString(),"")}catch{}!Br&&Re.Image&&(new Image().src=gr.v,Br=!0),Br||(gr.g=kr(gr.j,null),gr.g.ea(gr.v)),gr.F=Date.now(),Wo(gr)}Sl(qe)}function wl(qe){qe.g&&(Do(qe),qe.g.cancel(),qe.g=null)}function Jo(qe){wl(qe),qe.u&&(Re.clearTimeout(qe.u),qe.u=null),ho(qe),qe.h.cancel(),qe.s&&(typeof qe.s=="number"&&Re.clearTimeout(qe.s),qe.s=null)}function xl(qe){if(!yl(qe.h)&&!qe.s){qe.s=!0;var gr=qe.Ga;ur||hr(),Cr||(ur(),Cr=!0),_r.add(gr,qe),qe.B=0}}function nA(qe,gr){return so(qe.h)>=qe.h.j-(qe.s?1:0)?!1:qe.s?(qe.i=gr.D.concat(qe.i),!0):qe.G==1||qe.G==2||qe.B>=(qe.Va?0:qe.Wa)?!1:(qe.s=Nn(ke(qe.Ga,qe,gr),tl(qe,qe.B)),qe.B++,!0)}Ee.Ga=function(qe){if(this.s)if(this.s=null,this.G==1){if(!qe){this.U=Math.floor(1e5*Math.random()),qe=this.U++;const kn=new Ii(this,this.j,qe);let Jn=this.o;if(this.S&&(Jn?(Jn=Ge(Jn),or(Jn,this.S)):Jn=this.S),this.m!==null||this.O||(kn.H=Jn,Jn=null),this.P)e:{for(var gr=0,Br=0;Br<this.i.length;Br++){t:{var Gr=this.i[Br];if("__data__"in Gr.map&&(Gr=Gr.map.__data__,typeof Gr=="string")){Gr=Gr.length;break t}Gr=void 0}if(Gr===void 0)break;if(gr+=Gr,4096<gr){gr=Br;break e}if(gr===4096||Br===this.i.length-1){gr=Br+1;break e}}gr=1e3}else gr=1e3;gr=$o(this,kn,gr),Br=sa(this.I),os(Br,"RID",qe),os(Br,"CVER",22),this.D&&os(Br,"X-HTTP-Session-Id",this.D),Io(this,Br),Jn&&(this.O?gr="headers="+encodeURIComponent(String(Wa(Jn)))+"&"+gr:this.m&&js(Br,this.m,Jn)),Es(this.h,kn),this.Ua&&os(Br,"TYPE","init"),this.P?(os(Br,"$req",gr),os(Br,"SID","null"),kn.T=!0,xs(kn,Br,null)):xs(kn,Br,gr),this.G=2}}else this.G==3&&(qe?Zo(this,qe):this.i.length==0||yl(this.h)||Zo(this))};function Zo(qe,gr){var Br;gr?Br=gr.l:Br=qe.U++;const Gr=sa(qe.I);os(Gr,"SID",qe.K),os(Gr,"RID",Br),os(Gr,"AID",qe.T),Io(qe,Gr),qe.m&&qe.o&&js(Gr,qe.m,qe.o),Br=new Ii(qe,qe.j,Br,qe.B+1),qe.m===null&&(Br.H=qe.o),gr&&(qe.i=gr.D.concat(qe.i)),gr=$o(qe,Br,1e3),Br.I=Math.round(.5*qe.wa)+Math.round(.5*qe.wa*Math.random()),Es(qe.h,Br),xs(Br,Gr,gr)}function Io(qe,gr){qe.H&&nr(qe.H,function(Br,Gr){os(gr,Gr,Br)}),qe.l&&Zl({},function(Br,Gr){os(gr,Gr,Br)})}function $o(qe,gr,Br){Br=Math.min(qe.i.length,Br);var Gr=qe.l?ke(qe.l.Na,qe.l,qe):null;e:{var kn=qe.i;let Jn=-1;for(;;){const _i=["count="+Br];Jn==-1?0<Br?(Jn=kn[0].g,_i.push("ofs="+Jn)):Jn=0:_i.push("ofs="+Jn);let ki=!0;for(let Yi=0;Yi<Br;Yi++){let Hi=kn[Yi].g;const ls=kn[Yi].map;if(Hi-=Jn,0>Hi)Jn=Math.max(0,kn[Yi].g-100),ki=!1;else try{Ta(ls,_i,"req"+Hi+"_")}catch{Gr&&Gr(ls)}}if(ki){Gr=_i.join("&");break e}}}return qe=qe.i.splice(0,Br),gr.D=qe,Gr}function Cl(qe){if(!qe.g&&!qe.u){qe.Y=1;var gr=qe.Fa;ur||hr(),Cr||(ur(),Cr=!0),_r.add(gr,qe),qe.v=0}}function el(qe){return qe.g||qe.u||3<=qe.v?!1:(qe.Y++,qe.u=Nn(ke(qe.Fa,qe),tl(qe,qe.v)),qe.v++,!0)}Ee.Fa=function(){if(this.u=null,LA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var qe=2*this.R;this.j.info("BP detection timer enabled: "+qe),this.A=Nn(ke(this.ab,this),qe)}},Ee.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),wl(this),LA(this))};function Do(qe){qe.A!=null&&(Re.clearTimeout(qe.A),qe.A=null)}function LA(qe){qe.g=new Ii(qe,qe.j,"rpc",qe.Y),qe.m===null&&(qe.g.H=qe.o),qe.g.O=0;var gr=sa(qe.qa);os(gr,"RID","rpc"),os(gr,"SID",qe.K),os(gr,"AID",qe.T),os(gr,"CI",qe.F?"0":"1"),!qe.F&&qe.ja&&os(gr,"TO",qe.ja),os(gr,"TYPE","xmlhttp"),Io(qe,gr),qe.m&&qe.o&&js(gr,qe.m,qe.o),qe.L&&(qe.g.I=qe.L);var Br=qe.g;qe=qe.ia,Br.L=1,Br.v=To(sa(gr)),Br.m=null,Br.P=!0,Rs(Br,qe)}Ee.Za=function(){this.C!=null&&(this.C=null,wl(this),el(this),wn(19))};function ho(qe){qe.C!=null&&(Re.clearTimeout(qe.C),qe.C=null)}function No(qe,gr){var Br=null;if(qe.g==gr){ho(qe),Do(qe),qe.g=null;var Gr=2}else if(Jl(qe.h,gr))Br=gr.D,$s(qe.h,gr),Gr=1;else return;if(qe.G!=0){if(gr.o)if(Gr==1){Br=gr.m?gr.m.length:0,gr=Date.now()-gr.F;var kn=qe.B;Gr=Zn(),Qn(Gr,new Rn(Gr,Br)),xl(qe)}else Cl(qe);else if(kn=gr.s,kn==3||kn==0&&0<gr.X||!(Gr==1&&nA(qe,gr)||Gr==2&&el(qe)))switch(Br&&0<Br.length&&(gr=qe.h,gr.i=gr.i.concat(Br)),kn){case 1:ha(qe,5);break;case 4:ha(qe,10);break;case 3:ha(qe,6);break;default:ha(qe,2)}}}function tl(qe,gr){let Br=qe.Ta+Math.floor(Math.random()*qe.cb);return qe.isActive()||(Br*=2),Br*gr}function ha(qe,gr){if(qe.j.info("Error code "+gr),gr==2){var Br=ke(qe.fb,qe),Gr=qe.Xa;const kn=!Gr;Gr=new ts(Gr||"//www.google.com/images/cleardot.gif"),Re.location&&Re.location.protocol=="http"||Co(Gr,"https"),To(Gr),kn?Aa(Gr.toString(),Br):Sa(Gr.toString(),Br)}else wn(2);qe.G=0,qe.l&&qe.l.sa(gr),Sl(qe),Jo(qe)}Ee.fb=function(qe){qe?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function Sl(qe){if(qe.G=0,qe.ka=[],qe.l){const gr=El(qe.h);(gr.length!=0||qe.i.length!=0)&&(ze(qe.ka,gr),ze(qe.ka,qe.i),qe.h.i.length=0,Ke(qe.i),qe.i.length=0),qe.l.ra()}}function cr(qe,gr,Br){var Gr=Br instanceof ts?sa(Br):new ts(Br);if(Gr.g!="")gr&&(Gr.g=gr+"."+Gr.g),So(Gr,Gr.s);else{var kn=Re.location;Gr=kn.protocol,gr=gr?gr+"."+kn.hostname:kn.hostname,kn=+kn.port;var Jn=new ts(null);Gr&&Co(Jn,Gr),gr&&(Jn.g=gr),kn&&So(Jn,kn),Br&&(Jn.l=Br),Gr=Jn}return Br=qe.D,gr=qe.ya,Br&&gr&&os(Gr,Br,gr),os(Gr,"VER",qe.la),Io(qe,Gr),Gr}function kr(qe,gr,Br){if(gr&&!qe.J)throw Error("Can't create secondary domain capable XhrIo object.");return gr=qe.Ca&&!qe.pa?new Xi(new Ro({eb:Br})):new Xi(qe.pa),gr.Ha(qe.J),gr}Ee.isActive=function(){return!!this.l&&this.l.isActive(this)};function mn(){}Ee=mn.prototype,Ee.ua=function(){},Ee.ta=function(){},Ee.sa=function(){},Ee.ra=function(){},Ee.isActive=function(){return!0},Ee.Na=function(){};function Tn(){}Tn.prototype.g=function(qe,gr){return new Mn(qe,gr)};function Mn(qe,gr){Gn.call(this),this.g=new Fo(gr),this.l=qe,this.h=gr&&gr.messageUrlParams||null,qe=gr&&gr.messageHeaders||null,gr&&gr.clientProtocolHeaderRequired&&(qe?qe["X-Client-Protocol"]="webchannel":qe={"X-Client-Protocol":"webchannel"}),this.g.o=qe,qe=gr&&gr.initMessageHeaders||null,gr&&gr.messageContentType&&(qe?qe["X-WebChannel-Content-Type"]=gr.messageContentType:qe={"X-WebChannel-Content-Type":gr.messageContentType}),gr&&gr.va&&(qe?qe["X-WebChannel-Client-Profile"]=gr.va:qe={"X-WebChannel-Client-Profile":gr.va}),this.g.S=qe,(qe=gr&&gr.Sb)&&!Xe(qe)&&(this.g.m=qe),this.v=gr&&gr.supportsCrossDomainXhr||!1,this.u=gr&&gr.sendRawJson||!1,(gr=gr&&gr.httpSessionIdParam)&&!Xe(gr)&&(this.g.D=gr,qe=this.h,qe!==null&&gr in qe&&(qe=this.h,gr in qe&&delete qe[gr])),this.j=new Si(this)}je(Mn,Gn),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){uo(this.g)},Mn.prototype.o=function(qe){var gr=this.g;if(typeof qe=="string"){var Br={};Br.__data__=qe,qe=Br}else this.u&&(Br={},Br.__data__=Kr(qe),qe=Br);gr.i.push(new FA(gr.Ya++,qe)),gr.G==3&&xl(gr)},Mn.prototype.N=function(){this.g.l=null,delete this.j,uo(this.g),delete this.g,Mn.aa.N.call(this)};function ii(qe){un.call(this),qe.__headers__&&(this.headers=qe.__headers__,this.statusCode=qe.__status__,delete qe.__headers__,delete qe.__status__);var gr=qe.__sm__;if(gr){e:{for(const Br in gr){qe=Br;break e}qe=void 0}(this.i=qe)&&(qe=this.i,gr=gr!==null&&qe in gr?gr[qe]:void 0),this.data=gr}else this.data=qe}je(ii,un);function Ei(){Pr.call(this),this.status=1}je(Ei,Pr);function Si(qe){this.g=qe}je(Si,mn),Si.prototype.ua=function(){Qn(this.g,"a")},Si.prototype.ta=function(qe){Qn(this.g,new ii(qe))},Si.prototype.sa=function(qe){Qn(this.g,new Ei)},Si.prototype.ra=function(){Qn(this.g,"b")},Tn.prototype.createWebChannel=Tn.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,createWebChannelTransport=function(){return new Tn},getStatEventTarget=function(){return Zn()},Event$1=Yr,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,ErrorCode$1=yi,bi.COMPLETE="complete",EventType=bi,fr.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",Gn.prototype.listen=Gn.prototype.K,WebChannel=fr,Xi.prototype.listenOnce=Xi.prototype.L,Xi.prototype.getLastError=Xi.prototype.Ka,Xi.prototype.getLastErrorCode=Xi.prototype.Ba,Xi.prototype.getStatus=Xi.prototype.Z,Xi.prototype.getResponseJson=Xi.prototype.Oa,Xi.prototype.getResponseText=Xi.prototype.oa,Xi.prototype.send=Xi.prototype.ea,Xi.prototype.setWithCredentials=Xi.prototype.Ha,XhrIo=Xi}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const F$2="@firebase/firestore",M$1="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x$2="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$1=new Logger$1("@firebase/firestore");function __PRIVATE_getLogLevel(){return O$1.logLevel}function __PRIVATE_logDebug(Ee,...t){if(O$1.logLevel<=LogLevel.DEBUG){const Ae=t.map(__PRIVATE_argToString);O$1.debug(`Firestore (${x$2}): ${Ee}`,...Ae)}}function __PRIVATE_logError(Ee,...t){if(O$1.logLevel<=LogLevel.ERROR){const Ae=t.map(__PRIVATE_argToString);O$1.error(`Firestore (${x$2}): ${Ee}`,...Ae)}}function __PRIVATE_logWarn(Ee,...t){if(O$1.logLevel<=LogLevel.WARN){const Ae=t.map(__PRIVATE_argToString);O$1.warn(`Firestore (${x$2}): ${Ee}`,...Ae)}}function __PRIVATE_argToString(Ee){if(typeof Ee=="string")return Ee;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(Ae){return JSON.stringify(Ae)}(Ee)}catch{return Ee}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(Ee,t,Ae){let _e="Unexpected state";typeof t=="string"?_e=t:Ae=t,__PRIVATE__fail(Ee,_e,Ae)}function __PRIVATE__fail(Ee,t,Ae){let _e=`FIRESTORE (${x$2}) INTERNAL ASSERTION FAILED: ${t} (ID: ${Ee.toString(16)})`;if(Ae!==void 0)try{_e+=" CONTEXT: "+JSON.stringify(Ae)}catch{_e+=" CONTEXT: "+Ae}throw __PRIVATE_logError(_e),new Error(_e)}function __PRIVATE_hardAssert(Ee,t,Ae,_e){let xe="Unexpected state";typeof Ae=="string"?xe=Ae:_e=Ae,Ee||__PRIVATE__fail(t,xe,_e)}function __PRIVATE_debugCast(Ee,t){return Ee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(t,Ae){super(t,Ae),this.code=t,this.message=Ae,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((t,Ae)=>{this.resolve=t,this.reject=Ae})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(t,Ae){this.user=Ae,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,Ae){t.enqueueRetryable(()=>Ae(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,Ae){this.changeListener=Ae,t.enqueueRetryable(()=>Ae(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(t){this.t=t,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,Ae){__PRIVATE_hardAssert(this.o===void 0,42304);let _e=this.i;const xe=Be=>this.i!==_e?(_e=this.i,Ae(Be)):Promise.resolve();let Ce=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),Ce.resolve(),Ce=new __PRIVATE_Deferred,t.enqueueRetryable(()=>xe(this.currentUser))};const Se=()=>{const Be=Ce;t.enqueueRetryable(async()=>{await Be.promise,await xe(this.currentUser)})},Re=Be=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Be,this.o&&(this.auth.addAuthTokenListener(this.o),Se())};this.t.onInit(Be=>Re(Be)),setTimeout(()=>{if(!this.auth){const Be=this.t.getImmediate({optional:!0});Be?Re(Be):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),Ce.resolve(),Ce=new __PRIVATE_Deferred)}},0),Se()}getToken(){const t=this.i,Ae=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(Ae).then(_e=>this.i!==t?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):_e?(__PRIVATE_hardAssert(typeof _e.accessToken=="string",31837,{l:_e}),new __PRIVATE_OAuthToken(_e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(t===null||typeof t=="string",2055,{h:t}),new User(t)}}class __PRIVATE_FirstPartyToken{constructor(t,Ae,_e){this.P=t,this.T=Ae,this.I=_e,this.type="FirstParty",this.user=User.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(t,Ae,_e){this.P=t,this.T=Ae,this.I=_e}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.P,this.T,this.I))}start(t,Ae){t.enqueueRetryable(()=>Ae(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(t,Ae){this.V=Ae,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_isFirebaseServerApp(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,Ae){__PRIVATE_hardAssert(this.o===void 0,3512);const _e=Ce=>{Ce.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${Ce.error.message}`);const Se=Ce.token!==this.m;return this.m=Ce.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${Se?"new":"existing"} token.`),Se?Ae(Ce.token):Promise.resolve()};this.o=Ce=>{t.enqueueRetryable(()=>_e(Ce))};const xe=Ce=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=Ce,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(Ce=>xe(Ce)),setTimeout(()=>{if(!this.appCheck){const Ce=this.V.getImmediate({optional:!0});Ce?xe(Ce):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new AppCheckToken(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(Ae=>Ae?(__PRIVATE_hardAssert(typeof Ae.token=="string",44558,{tokenResult:Ae}),this.m=Ae.token,new AppCheckToken(Ae.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(Ee){const t=typeof self<"u"&&(self.crypto||self.msCrypto),Ae=new Uint8Array(Ee);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(Ae);else for(let _e=0;_e<Ee;_e++)Ae[_e]=Math.floor(256*Math.random());return Ae}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Ae=62*Math.floor(4.129032258064516);let _e="";for(;_e.length<20;){const xe=__PRIVATE_randomBytes(40);for(let Ce=0;Ce<xe.length;++Ce)_e.length<20&&xe[Ce]<Ae&&(_e+=t.charAt(xe[Ce]%62))}return _e}}function __PRIVATE_primitiveComparator(Ee,t){return Ee<t?-1:Ee>t?1:0}function __PRIVATE_compareUtf8Strings(Ee,t){let Ae=0;for(;Ae<Ee.length&&Ae<t.length;){const _e=Ee.codePointAt(Ae),xe=t.codePointAt(Ae);if(_e!==xe){if(_e<128&&xe<128)return __PRIVATE_primitiveComparator(_e,xe);{const Ce=__PRIVATE_newTextEncoder(),Se=__PRIVATE_compareByteArrays$1(Ce.encode(__PRIVATE_getUtf8SafeSubstring(Ee,Ae)),Ce.encode(__PRIVATE_getUtf8SafeSubstring(t,Ae)));return Se!==0?Se:__PRIVATE_primitiveComparator(_e,xe)}}Ae+=_e>65535?2:1}return __PRIVATE_primitiveComparator(Ee.length,t.length)}function __PRIVATE_getUtf8SafeSubstring(Ee,t){return Ee.codePointAt(t)>65535?Ee.substring(t,t+2):Ee.substring(t,t+1)}function __PRIVATE_compareByteArrays$1(Ee,t){for(let Ae=0;Ae<Ee.length&&Ae<t.length;++Ae)if(Ee[Ae]!==t[Ae])return __PRIVATE_primitiveComparator(Ee[Ae],t[Ae]);return __PRIVATE_primitiveComparator(Ee.length,t.length)}function __PRIVATE_arrayEquals(Ee,t,Ae){return Ee.length===t.length&&Ee.every((_e,xe)=>Ae(_e,t[xe]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$1=-62135596800,L$2=1e6;class Timestamp{static now(){return Timestamp.fromMillis(Date.now())}static fromDate(t){return Timestamp.fromMillis(t.getTime())}static fromMillis(t){const Ae=Math.floor(t/1e3),_e=Math.floor((t-1e3*Ae)*L$2);return new Timestamp(Ae,_e)}constructor(t,Ae){if(this.seconds=t,this.nanoseconds=Ae,Ae<0)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Ae);if(Ae>=1e9)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+Ae);if(t<B$1)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L$2}_compareTo(t){return this.seconds===t.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,t.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-B$1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{static fromTimestamp(t){return new SnapshotVersion(t)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$1="__name__";class BasePath{constructor(t,Ae,_e){Ae===void 0?Ae=0:Ae>t.length&&fail(637,{offset:Ae,range:t.length}),_e===void 0?_e=t.length-Ae:_e>t.length-Ae&&fail(1746,{length:_e,range:t.length-Ae}),this.segments=t,this.offset=Ae,this.len=_e}get length(){return this.len}isEqual(t){return BasePath.comparator(this,t)===0}child(t){const Ae=this.segments.slice(this.offset,this.limit());return t instanceof BasePath?t.forEach(_e=>{Ae.push(_e)}):Ae.push(t),this.construct(Ae)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let Ae=0;Ae<this.length;Ae++)if(this.get(Ae)!==t.get(Ae))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let Ae=0;Ae<this.length;Ae++)if(this.get(Ae)!==t.get(Ae))return!1;return!0}forEach(t){for(let Ae=this.offset,_e=this.limit();Ae<_e;Ae++)t(this.segments[Ae])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,Ae){const _e=Math.min(t.length,Ae.length);for(let xe=0;xe<_e;xe++){const Ce=BasePath.compareSegments(t.get(xe),Ae.get(xe));if(Ce!==0)return Ce}return __PRIVATE_primitiveComparator(t.length,Ae.length)}static compareSegments(t,Ae){const _e=BasePath.isNumericId(t),xe=BasePath.isNumericId(Ae);return _e&&!xe?-1:!_e&&xe?1:_e&&xe?BasePath.extractNumericId(t).compare(BasePath.extractNumericId(Ae)):__PRIVATE_compareUtf8Strings(t,Ae)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Integer.fromString(t.substring(4,t.length-2))}}class ResourcePath extends BasePath{construct(t,Ae,_e){return new ResourcePath(t,Ae,_e)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const Ae=[];for(const _e of t){if(_e.indexOf("//")>=0)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid segment (${_e}). Paths must not contain // in them.`);Ae.push(..._e.split("/").filter(xe=>xe.length>0))}return new ResourcePath(Ae)}static emptyPath(){return new ResourcePath([])}}const q$1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(t,Ae,_e){return new FieldPath$1(t,Ae,_e)}static isValidIdentifier(t){return q$1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k$1}static keyField(){return new FieldPath$1([k$1])}static fromServerFormat(t){const Ae=[];let _e="",xe=0;const Ce=()=>{if(_e.length===0)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);Ae.push(_e),_e=""};let Se=!1;for(;xe<t.length;){const Re=t[xe];if(Re==="\\"){if(xe+1===t.length)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const Be=t[xe+1];if(Be!=="\\"&&Be!=="."&&Be!=="`")throw new FirestoreError(N$1.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);_e+=Be,xe+=2}else Re==="`"?(Se=!Se,xe++):Re!=="."||Se?(_e+=Re,xe++):(Ce(),xe++)}if(Ce(),Se)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new FieldPath$1(Ae)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(t){this.path=t}static fromPath(t){return new DocumentKey(ResourcePath.fromString(t))}static fromName(t){return new DocumentKey(ResourcePath.fromString(t).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ResourcePath.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,Ae){return ResourcePath.comparator(t.path,Ae.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new DocumentKey(new ResourcePath(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$1=-1;function __PRIVATE_newIndexOffsetSuccessorFromReadTime(Ee,t){const Ae=Ee.toTimestamp().seconds,_e=Ee.toTimestamp().nanoseconds+1,xe=SnapshotVersion.fromTimestamp(_e===1e9?new Timestamp(Ae+1,0):new Timestamp(Ae,_e));return new IndexOffset(xe,DocumentKey.empty(),t)}function __PRIVATE_newIndexOffsetFromDocument(Ee){return new IndexOffset(Ee.readTime,Ee.key,Q$1)}class IndexOffset{constructor(t,Ae,_e){this.readTime=t,this.documentKey=Ae,this.largestBatchId=_e}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),Q$1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),Q$1)}}function __PRIVATE_indexOffsetComparator(Ee,t){let Ae=Ee.readTime.compareTo(t.readTime);return Ae!==0?Ae:(Ae=DocumentKey.comparator(Ee.documentKey,t.documentKey),Ae!==0?Ae:__PRIVATE_primitiveComparator(Ee.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(Ee){if(Ee.code!==N$1.FAILED_PRECONDITION||Ee.message!==$$1)throw Ee;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(Ae=>{this.isDone=!0,this.result=Ae,this.nextCallback&&this.nextCallback(Ae)},Ae=>{this.isDone=!0,this.error=Ae,this.catchCallback&&this.catchCallback(Ae)})}catch(t){return this.next(void 0,t)}next(t,Ae){return this.callbackAttached&&fail(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(Ae,this.error):this.wrapSuccess(t,this.result):new PersistencePromise((_e,xe)=>{this.nextCallback=Ce=>{this.wrapSuccess(t,Ce).next(_e,xe)},this.catchCallback=Ce=>{this.wrapFailure(Ae,Ce).next(_e,xe)}})}toPromise(){return new Promise((t,Ae)=>{this.next(t,Ae)})}wrapUserFunction(t){try{const Ae=t();return Ae instanceof PersistencePromise?Ae:PersistencePromise.resolve(Ae)}catch(Ae){return PersistencePromise.reject(Ae)}}wrapSuccess(t,Ae){return t?this.wrapUserFunction(()=>t(Ae)):PersistencePromise.resolve(Ae)}wrapFailure(t,Ae){return t?this.wrapUserFunction(()=>t(Ae)):PersistencePromise.reject(Ae)}static resolve(t){return new PersistencePromise((Ae,_e)=>{Ae(t)})}static reject(t){return new PersistencePromise((Ae,_e)=>{_e(t)})}static waitFor(t){return new PersistencePromise((Ae,_e)=>{let xe=0,Ce=0,Se=!1;t.forEach(Re=>{++xe,Re.next(()=>{++Ce,Se&&Ce===xe&&Ae()},Be=>_e(Be))}),Se=!0,Ce===xe&&Ae()})}static or(t){let Ae=PersistencePromise.resolve(!1);for(const _e of t)Ae=Ae.next(xe=>xe?PersistencePromise.resolve(xe):_e());return Ae}static forEach(t,Ae){const _e=[];return t.forEach((xe,Ce)=>{_e.push(Ae.call(this,xe,Ce))}),this.waitFor(_e)}static mapArray(t,Ae){return new PersistencePromise((_e,xe)=>{const Ce=t.length,Se=new Array(Ce);let Re=0;for(let Be=0;Be<Ce;Be++){const Fe=Be;Ae(t[Fe]).next(Ie=>{Se[Fe]=Ie,++Re,Re===Ce&&_e(Se)},Ie=>xe(Ie))}})}static doWhile(t,Ae){return new PersistencePromise((_e,xe)=>{const Ce=()=>{t()===!0?Ae().next(()=>{Ce()},xe):_e()};Ce()})}}function __PRIVATE_getAndroidVersion(Ee){const t=Ee.match(/Android ([\d.]+)/i),Ae=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(Ae)}function __PRIVATE_isIndexedDbTransactionError(Ee){return Ee.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(t,Ae){this.previousValue=t,Ae&&(Ae.sequenceNumberHandler=_e=>this.ue(_e),this.ce=_e=>Ae.writeSequenceNumber(_e))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}__PRIVATE_ListenSequence.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$1=-1;function __PRIVATE_isNullOrUndefined(Ee){return Ee==null}function __PRIVATE_isNegativeZero(Ee){return Ee===0&&1/Ee==-1/0}function isSafeInteger(Ee){return typeof Ee=="number"&&Number.isInteger(Ee)&&!__PRIVATE_isNegativeZero(Ee)&&Ee<=Number.MAX_SAFE_INTEGER&&Ee>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$2="";function __PRIVATE_encodeResourcePath(Ee){let t="";for(let Ae=0;Ae<Ee.length;Ae++)t.length>0&&(t=__PRIVATE_encodeSeparator(t)),t=__PRIVATE_encodeSegment(Ee.get(Ae),t);return __PRIVATE_encodeSeparator(t)}function __PRIVATE_encodeSegment(Ee,t){let Ae=t;const _e=Ee.length;for(let xe=0;xe<_e;xe++){const Ce=Ee.charAt(xe);switch(Ce){case"\0":Ae+="";break;case z$2:Ae+="";break;default:Ae+=Ce}}return Ae}function __PRIVATE_encodeSeparator(Ee){return Ee+z$2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(Ee){let t=0;for(const Ae in Ee)Object.prototype.hasOwnProperty.call(Ee,Ae)&&t++;return t}function forEach(Ee,t){for(const Ae in Ee)Object.prototype.hasOwnProperty.call(Ee,Ae)&&t(Ae,Ee[Ae])}function isEmpty(Ee){for(const t in Ee)if(Object.prototype.hasOwnProperty.call(Ee,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(t,Ae){this.comparator=t,this.root=Ae||LLRBNode.EMPTY}insert(t,Ae){return new SortedMap(this.comparator,this.root.insert(t,Ae,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(t){return new SortedMap(this.comparator,this.root.remove(t,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(t){let Ae=this.root;for(;!Ae.isEmpty();){const _e=this.comparator(t,Ae.key);if(_e===0)return Ae.value;_e<0?Ae=Ae.left:_e>0&&(Ae=Ae.right)}return null}indexOf(t){let Ae=0,_e=this.root;for(;!_e.isEmpty();){const xe=this.comparator(t,_e.key);if(xe===0)return Ae+_e.left.size;xe<0?_e=_e.left:(Ae+=_e.left.size+1,_e=_e.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((Ae,_e)=>(t(Ae,_e),!1))}toString(){const t=[];return this.inorderTraversal((Ae,_e)=>(t.push(`${Ae}:${_e}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new SortedMapIterator(this.root,t,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new SortedMapIterator(this.root,t,this.comparator,!0)}}class SortedMapIterator{constructor(t,Ae,_e,xe){this.isReverse=xe,this.nodeStack=[];let Ce=1;for(;!t.isEmpty();)if(Ce=Ae?_e(t.key,Ae):1,Ae&&xe&&(Ce*=-1),Ce<0)t=this.isReverse?t.left:t.right;else{if(Ce===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const Ae={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return Ae}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class LLRBNode{constructor(t,Ae,_e,xe,Ce){this.key=t,this.value=Ae,this.color=_e??LLRBNode.RED,this.left=xe??LLRBNode.EMPTY,this.right=Ce??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,Ae,_e,xe,Ce){return new LLRBNode(t??this.key,Ae??this.value,_e??this.color,xe??this.left,Ce??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,Ae,_e){let xe=this;const Ce=_e(t,xe.key);return xe=Ce<0?xe.copy(null,null,null,xe.left.insert(t,Ae,_e),null):Ce===0?xe.copy(null,Ae,null,null,null):xe.copy(null,null,null,null,xe.right.insert(t,Ae,_e)),xe.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,Ae){let _e,xe=this;if(Ae(t,xe.key)<0)xe.left.isEmpty()||xe.left.isRed()||xe.left.left.isRed()||(xe=xe.moveRedLeft()),xe=xe.copy(null,null,null,xe.left.remove(t,Ae),null);else{if(xe.left.isRed()&&(xe=xe.rotateRight()),xe.right.isEmpty()||xe.right.isRed()||xe.right.left.isRed()||(xe=xe.moveRedRight()),Ae(t,xe.key)===0){if(xe.right.isEmpty())return LLRBNode.EMPTY;_e=xe.right.min(),xe=xe.copy(_e.key,_e.value,null,null,xe.right.removeMin())}xe=xe.copy(null,null,null,null,xe.right.remove(t,Ae))}return xe.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),Ae=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,Ae)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fail(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fail(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw fail(27949);return t+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail(57766)}get value(){throw fail(16141)}get color(){throw fail(16727)}get left(){throw fail(29726)}get right(){throw fail(36894)}copy(t,Ae,_e,xe,Ce){return this}insert(t,Ae,_e){return new LLRBNode(t,Ae)}remove(t,Ae){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(t){this.comparator=t,this.data=new SortedMap(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((Ae,_e)=>(t(Ae),!1))}forEachInRange(t,Ae){const _e=this.data.getIteratorFrom(t[0]);for(;_e.hasNext();){const xe=_e.getNext();if(this.comparator(xe.key,t[1])>=0)return;Ae(xe.key)}}forEachWhile(t,Ae){let _e;for(_e=Ae!==void 0?this.data.getIteratorFrom(Ae):this.data.getIterator();_e.hasNext();)if(!t(_e.getNext().key))return}firstAfterOrEqual(t){const Ae=this.data.getIteratorFrom(t);return Ae.hasNext()?Ae.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(t){return new SortedSetIterator(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let Ae=this;return Ae.size<t.size&&(Ae=t,t=this),t.forEach(_e=>{Ae=Ae.add(_e)}),Ae}isEqual(t){if(!(t instanceof SortedSet)||this.size!==t.size)return!1;const Ae=this.data.getIterator(),_e=t.data.getIterator();for(;Ae.hasNext();){const xe=Ae.getNext().key,Ce=_e.getNext().key;if(this.comparator(xe,Ce)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(Ae=>{t.push(Ae)}),t}toString(){const t=[];return this.forEach(Ae=>t.push(Ae)),"SortedSet("+t.toString()+")"}copy(t){const Ae=new SortedSet(this.comparator);return Ae.data=t,Ae}}class SortedSetIterator{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(t){this.fields=t,t.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(t){let Ae=new SortedSet(FieldPath$1.comparator);for(const _e of this.fields)Ae=Ae.add(_e);for(const _e of t)Ae=Ae.add(_e);return new FieldMask(Ae.toArray())}covers(t){for(const Ae of this.fields)if(Ae.isPrefixOf(t))return!0;return!1}isEqual(t){return __PRIVATE_arrayEquals(this.fields,t.fields,(Ae,_e)=>Ae.isEqual(_e))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(t){this.binaryString=t}static fromBase64String(t){const Ae=function(xe){try{return atob(xe)}catch(Ce){throw typeof DOMException<"u"&&Ce instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+Ce):Ce}}(t);return new ByteString(Ae)}static fromUint8Array(t){const Ae=function(xe){let Ce="";for(let Se=0;Se<xe.length;++Se)Ce+=String.fromCharCode(xe[Se]);return Ce}(t);return new ByteString(Ae)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(Ae){return btoa(Ae)}(this.binaryString)}toUint8Array(){return function(Ae){const _e=new Uint8Array(Ae.length);for(let xe=0;xe<Ae.length;xe++)_e[xe]=Ae.charCodeAt(xe);return _e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return __PRIVATE_primitiveComparator(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const it$1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(Ee){if(__PRIVATE_hardAssert(!!Ee,39018),typeof Ee=="string"){let t=0;const Ae=it$1.exec(Ee);if(__PRIVATE_hardAssert(!!Ae,46558,{timestamp:Ee}),Ae[1]){let xe=Ae[1];xe=(xe+"000000000").substr(0,9),t=Number(xe)}const _e=new Date(Ee);return{seconds:Math.floor(_e.getTime()/1e3),nanos:t}}return{seconds:__PRIVATE_normalizeNumber(Ee.seconds),nanos:__PRIVATE_normalizeNumber(Ee.nanos)}}function __PRIVATE_normalizeNumber(Ee){return typeof Ee=="number"?Ee:typeof Ee=="string"?Number(Ee):0}function __PRIVATE_normalizeByteString(Ee){return typeof Ee=="string"?ByteString.fromBase64String(Ee):ByteString.fromUint8Array(Ee)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st$1="server_timestamp",ot$1="__type__",_t$1="__previous_value__",at$1="__local_write_time__";function __PRIVATE_isServerTimestamp(Ee){var t,Ae;return((Ae=(((t=Ee==null?void 0:Ee.mapValue)===null||t===void 0?void 0:t.fields)||{})[ot$1])===null||Ae===void 0?void 0:Ae.stringValue)===st$1}function __PRIVATE_getPreviousValue(Ee){const t=Ee.mapValue.fields[_t$1];return __PRIVATE_isServerTimestamp(t)?__PRIVATE_getPreviousValue(t):t}function __PRIVATE_getLocalWriteTime(Ee){const t=__PRIVATE_normalizeTimestamp(Ee.mapValue.fields[at$1].timestampValue);return new Timestamp(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(t,Ae,_e,xe,Ce,Se,Re,Be,Fe,Ie){this.databaseId=t,this.appId=Ae,this.persistenceKey=_e,this.host=xe,this.ssl=Ce,this.forceLongPolling=Se,this.autoDetectLongPolling=Re,this.longPollingOptions=Be,this.useFetchStreams=Fe,this.isUsingEmulator=Ie}}const ut$1="(default)";class DatabaseId{constructor(t,Ae){this.projectId=t,this.database=Ae||ut$1}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database===ut$1}isEqual(t){return t instanceof DatabaseId&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct$1="__type__",lt$1="__max__",ht$1={mapValue:{}},Pt$1="__vector__",Tt$1="value";function __PRIVATE_typeOrder(Ee){return"nullValue"in Ee?0:"booleanValue"in Ee?1:"integerValue"in Ee||"doubleValue"in Ee?2:"timestampValue"in Ee?3:"stringValue"in Ee?5:"bytesValue"in Ee?6:"referenceValue"in Ee?7:"geoPointValue"in Ee?8:"arrayValue"in Ee?9:"mapValue"in Ee?__PRIVATE_isServerTimestamp(Ee)?4:__PRIVATE_isMaxValue(Ee)?9007199254740991:__PRIVATE_isVectorValue(Ee)?10:11:fail(28295,{value:Ee})}function __PRIVATE_valueEquals(Ee,t){if(Ee===t)return!0;const Ae=__PRIVATE_typeOrder(Ee);if(Ae!==__PRIVATE_typeOrder(t))return!1;switch(Ae){case 0:case 9007199254740991:return!0;case 1:return Ee.booleanValue===t.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(Ee).isEqual(__PRIVATE_getLocalWriteTime(t));case 3:return function(xe,Ce){if(typeof xe.timestampValue=="string"&&typeof Ce.timestampValue=="string"&&xe.timestampValue.length===Ce.timestampValue.length)return xe.timestampValue===Ce.timestampValue;const Se=__PRIVATE_normalizeTimestamp(xe.timestampValue),Re=__PRIVATE_normalizeTimestamp(Ce.timestampValue);return Se.seconds===Re.seconds&&Se.nanos===Re.nanos}(Ee,t);case 5:return Ee.stringValue===t.stringValue;case 6:return function(xe,Ce){return __PRIVATE_normalizeByteString(xe.bytesValue).isEqual(__PRIVATE_normalizeByteString(Ce.bytesValue))}(Ee,t);case 7:return Ee.referenceValue===t.referenceValue;case 8:return function(xe,Ce){return __PRIVATE_normalizeNumber(xe.geoPointValue.latitude)===__PRIVATE_normalizeNumber(Ce.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(xe.geoPointValue.longitude)===__PRIVATE_normalizeNumber(Ce.geoPointValue.longitude)}(Ee,t);case 2:return function(xe,Ce){if("integerValue"in xe&&"integerValue"in Ce)return __PRIVATE_normalizeNumber(xe.integerValue)===__PRIVATE_normalizeNumber(Ce.integerValue);if("doubleValue"in xe&&"doubleValue"in Ce){const Se=__PRIVATE_normalizeNumber(xe.doubleValue),Re=__PRIVATE_normalizeNumber(Ce.doubleValue);return Se===Re?__PRIVATE_isNegativeZero(Se)===__PRIVATE_isNegativeZero(Re):isNaN(Se)&&isNaN(Re)}return!1}(Ee,t);case 9:return __PRIVATE_arrayEquals(Ee.arrayValue.values||[],t.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(xe,Ce){const Se=xe.mapValue.fields||{},Re=Ce.mapValue.fields||{};if(__PRIVATE_objectSize(Se)!==__PRIVATE_objectSize(Re))return!1;for(const Be in Se)if(Se.hasOwnProperty(Be)&&(Re[Be]===void 0||!__PRIVATE_valueEquals(Se[Be],Re[Be])))return!1;return!0}(Ee,t);default:return fail(52216,{left:Ee})}}function __PRIVATE_arrayValueContains(Ee,t){return(Ee.values||[]).find(Ae=>__PRIVATE_valueEquals(Ae,t))!==void 0}function __PRIVATE_valueCompare(Ee,t){if(Ee===t)return 0;const Ae=__PRIVATE_typeOrder(Ee),_e=__PRIVATE_typeOrder(t);if(Ae!==_e)return __PRIVATE_primitiveComparator(Ae,_e);switch(Ae){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(Ee.booleanValue,t.booleanValue);case 2:return function(Ce,Se){const Re=__PRIVATE_normalizeNumber(Ce.integerValue||Ce.doubleValue),Be=__PRIVATE_normalizeNumber(Se.integerValue||Se.doubleValue);return Re<Be?-1:Re>Be?1:Re===Be?0:isNaN(Re)?isNaN(Be)?0:-1:1}(Ee,t);case 3:return __PRIVATE_compareTimestamps(Ee.timestampValue,t.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(Ee),__PRIVATE_getLocalWriteTime(t));case 5:return __PRIVATE_compareUtf8Strings(Ee.stringValue,t.stringValue);case 6:return function(Ce,Se){const Re=__PRIVATE_normalizeByteString(Ce),Be=__PRIVATE_normalizeByteString(Se);return Re.compareTo(Be)}(Ee.bytesValue,t.bytesValue);case 7:return function(Ce,Se){const Re=Ce.split("/"),Be=Se.split("/");for(let Fe=0;Fe<Re.length&&Fe<Be.length;Fe++){const Ie=__PRIVATE_primitiveComparator(Re[Fe],Be[Fe]);if(Ie!==0)return Ie}return __PRIVATE_primitiveComparator(Re.length,Be.length)}(Ee.referenceValue,t.referenceValue);case 8:return function(Ce,Se){const Re=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(Ce.latitude),__PRIVATE_normalizeNumber(Se.latitude));return Re!==0?Re:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(Ce.longitude),__PRIVATE_normalizeNumber(Se.longitude))}(Ee.geoPointValue,t.geoPointValue);case 9:return __PRIVATE_compareArrays(Ee.arrayValue,t.arrayValue);case 10:return function(Ce,Se){var Re,Be,Fe,Ie;const Ue=Ce.fields||{},ke=Se.fields||{},Oe=(Re=Ue[Tt$1])===null||Re===void 0?void 0:Re.arrayValue,je=(Be=ke[Tt$1])===null||Be===void 0?void 0:Be.arrayValue,Ke=__PRIVATE_primitiveComparator(((Fe=Oe==null?void 0:Oe.values)===null||Fe===void 0?void 0:Fe.length)||0,((Ie=je==null?void 0:je.values)===null||Ie===void 0?void 0:Ie.length)||0);return Ke!==0?Ke:__PRIVATE_compareArrays(Oe,je)}(Ee.mapValue,t.mapValue);case 11:return function(Ce,Se){if(Ce===ht$1.mapValue&&Se===ht$1.mapValue)return 0;if(Ce===ht$1.mapValue)return 1;if(Se===ht$1.mapValue)return-1;const Re=Ce.fields||{},Be=Object.keys(Re),Fe=Se.fields||{},Ie=Object.keys(Fe);Be.sort(),Ie.sort();for(let Ue=0;Ue<Be.length&&Ue<Ie.length;++Ue){const ke=__PRIVATE_compareUtf8Strings(Be[Ue],Ie[Ue]);if(ke!==0)return ke;const Oe=__PRIVATE_valueCompare(Re[Be[Ue]],Fe[Ie[Ue]]);if(Oe!==0)return Oe}return __PRIVATE_primitiveComparator(Be.length,Ie.length)}(Ee.mapValue,t.mapValue);default:throw fail(23264,{Pe:Ae})}}function __PRIVATE_compareTimestamps(Ee,t){if(typeof Ee=="string"&&typeof t=="string"&&Ee.length===t.length)return __PRIVATE_primitiveComparator(Ee,t);const Ae=__PRIVATE_normalizeTimestamp(Ee),_e=__PRIVATE_normalizeTimestamp(t),xe=__PRIVATE_primitiveComparator(Ae.seconds,_e.seconds);return xe!==0?xe:__PRIVATE_primitiveComparator(Ae.nanos,_e.nanos)}function __PRIVATE_compareArrays(Ee,t){const Ae=Ee.values||[],_e=t.values||[];for(let xe=0;xe<Ae.length&&xe<_e.length;++xe){const Ce=__PRIVATE_valueCompare(Ae[xe],_e[xe]);if(Ce)return Ce}return __PRIVATE_primitiveComparator(Ae.length,_e.length)}function canonicalId(Ee){return __PRIVATE_canonifyValue(Ee)}function __PRIVATE_canonifyValue(Ee){return"nullValue"in Ee?"null":"booleanValue"in Ee?""+Ee.booleanValue:"integerValue"in Ee?""+Ee.integerValue:"doubleValue"in Ee?""+Ee.doubleValue:"timestampValue"in Ee?function(Ae){const _e=__PRIVATE_normalizeTimestamp(Ae);return`time(${_e.seconds},${_e.nanos})`}(Ee.timestampValue):"stringValue"in Ee?Ee.stringValue:"bytesValue"in Ee?function(Ae){return __PRIVATE_normalizeByteString(Ae).toBase64()}(Ee.bytesValue):"referenceValue"in Ee?function(Ae){return DocumentKey.fromName(Ae).toString()}(Ee.referenceValue):"geoPointValue"in Ee?function(Ae){return`geo(${Ae.latitude},${Ae.longitude})`}(Ee.geoPointValue):"arrayValue"in Ee?function(Ae){let _e="[",xe=!0;for(const Ce of Ae.values||[])xe?xe=!1:_e+=",",_e+=__PRIVATE_canonifyValue(Ce);return _e+"]"}(Ee.arrayValue):"mapValue"in Ee?function(Ae){const _e=Object.keys(Ae.fields||{}).sort();let xe="{",Ce=!0;for(const Se of _e)Ce?Ce=!1:xe+=",",xe+=`${Se}:${__PRIVATE_canonifyValue(Ae.fields[Se])}`;return xe+"}"}(Ee.mapValue):fail(61005,{value:Ee})}function __PRIVATE_estimateByteSize(Ee){switch(__PRIVATE_typeOrder(Ee)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=__PRIVATE_getPreviousValue(Ee);return t?16+__PRIVATE_estimateByteSize(t):16;case 5:return 2*Ee.stringValue.length;case 6:return __PRIVATE_normalizeByteString(Ee.bytesValue).approximateByteSize();case 7:return Ee.referenceValue.length;case 9:return function(_e){return(_e.values||[]).reduce((xe,Ce)=>xe+__PRIVATE_estimateByteSize(Ce),0)}(Ee.arrayValue);case 10:case 11:return function(_e){let xe=0;return forEach(_e.fields,(Ce,Se)=>{xe+=Ce.length+__PRIVATE_estimateByteSize(Se)}),xe}(Ee.mapValue);default:throw fail(13486,{value:Ee})}}function __PRIVATE_refValue(Ee,t){return{referenceValue:`projects/${Ee.projectId}/databases/${Ee.database}/documents/${t.path.canonicalString()}`}}function isInteger(Ee){return!!Ee&&"integerValue"in Ee}function isArray(Ee){return!!Ee&&"arrayValue"in Ee}function __PRIVATE_isNullValue(Ee){return!!Ee&&"nullValue"in Ee}function __PRIVATE_isNanValue(Ee){return!!Ee&&"doubleValue"in Ee&&isNaN(Number(Ee.doubleValue))}function __PRIVATE_isMapValue(Ee){return!!Ee&&"mapValue"in Ee}function __PRIVATE_isVectorValue(Ee){var t,Ae;return((Ae=(((t=Ee==null?void 0:Ee.mapValue)===null||t===void 0?void 0:t.fields)||{})[ct$1])===null||Ae===void 0?void 0:Ae.stringValue)===Pt$1}function __PRIVATE_deepClone(Ee){if(Ee.geoPointValue)return{geoPointValue:Object.assign({},Ee.geoPointValue)};if(Ee.timestampValue&&typeof Ee.timestampValue=="object")return{timestampValue:Object.assign({},Ee.timestampValue)};if(Ee.mapValue){const t={mapValue:{fields:{}}};return forEach(Ee.mapValue.fields,(Ae,_e)=>t.mapValue.fields[Ae]=__PRIVATE_deepClone(_e)),t}if(Ee.arrayValue){const t={arrayValue:{values:[]}};for(let Ae=0;Ae<(Ee.arrayValue.values||[]).length;++Ae)t.arrayValue.values[Ae]=__PRIVATE_deepClone(Ee.arrayValue.values[Ae]);return t}return Object.assign({},Ee)}function __PRIVATE_isMaxValue(Ee){return(((Ee.mapValue||{}).fields||{}).__type__||{}).stringValue===lt$1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(t){this.value=t}static empty(){return new ObjectValue({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let Ae=this.value;for(let _e=0;_e<t.length-1;++_e)if(Ae=(Ae.mapValue.fields||{})[t.get(_e)],!__PRIVATE_isMapValue(Ae))return null;return Ae=(Ae.mapValue.fields||{})[t.lastSegment()],Ae||null}}set(t,Ae){this.getFieldsMap(t.popLast())[t.lastSegment()]=__PRIVATE_deepClone(Ae)}setAll(t){let Ae=FieldPath$1.emptyPath(),_e={},xe=[];t.forEach((Se,Re)=>{if(!Ae.isImmediateParentOf(Re)){const Be=this.getFieldsMap(Ae);this.applyChanges(Be,_e,xe),_e={},xe=[],Ae=Re.popLast()}Se?_e[Re.lastSegment()]=__PRIVATE_deepClone(Se):xe.push(Re.lastSegment())});const Ce=this.getFieldsMap(Ae);this.applyChanges(Ce,_e,xe)}delete(t){const Ae=this.field(t.popLast());__PRIVATE_isMapValue(Ae)&&Ae.mapValue.fields&&delete Ae.mapValue.fields[t.lastSegment()]}isEqual(t){return __PRIVATE_valueEquals(this.value,t.value)}getFieldsMap(t){let Ae=this.value;Ae.mapValue.fields||(Ae.mapValue={fields:{}});for(let _e=0;_e<t.length;++_e){let xe=Ae.mapValue.fields[t.get(_e)];__PRIVATE_isMapValue(xe)&&xe.mapValue.fields||(xe={mapValue:{fields:{}}},Ae.mapValue.fields[t.get(_e)]=xe),Ae=xe}return Ae.mapValue.fields}applyChanges(t,Ae,_e){forEach(Ae,(xe,Ce)=>t[xe]=Ce);for(const xe of _e)delete t[xe]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(Ee){const t=[];return forEach(Ee.fields,(Ae,_e)=>{const xe=new FieldPath$1([Ae]);if(__PRIVATE_isMapValue(_e)){const Ce=__PRIVATE_extractFieldMask(_e.mapValue).fields;if(Ce.length===0)t.push(xe);else for(const Se of Ce)t.push(xe.child(Se))}else t.push(xe)}),new FieldMask(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(t,Ae,_e,xe,Ce,Se,Re){this.key=t,this.documentType=Ae,this.version=_e,this.readTime=xe,this.createTime=Ce,this.data=Se,this.documentState=Re}static newInvalidDocument(t){return new MutableDocument(t,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(t,Ae,_e,xe){return new MutableDocument(t,1,Ae,SnapshotVersion.min(),_e,xe,0)}static newNoDocument(t,Ae){return new MutableDocument(t,2,Ae,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(t,Ae){return new MutableDocument(t,3,Ae,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(t,Ae){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=Ae,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof MutableDocument&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(t,Ae){this.position=t,this.inclusive=Ae}}function __PRIVATE_boundCompareToDocument(Ee,t,Ae){let _e=0;for(let xe=0;xe<Ee.position.length;xe++){const Ce=t[xe],Se=Ee.position[xe];if(Ce.field.isKeyField()?_e=DocumentKey.comparator(DocumentKey.fromName(Se.referenceValue),Ae.key):_e=__PRIVATE_valueCompare(Se,Ae.data.field(Ce.field)),Ce.dir==="desc"&&(_e*=-1),_e!==0)break}return _e}function __PRIVATE_boundEquals(Ee,t){if(Ee===null)return t===null;if(t===null||Ee.inclusive!==t.inclusive||Ee.position.length!==t.position.length)return!1;for(let Ae=0;Ae<Ee.position.length;Ae++)if(!__PRIVATE_valueEquals(Ee.position[Ae],t.position[Ae]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(t,Ae="asc"){this.field=t,this.dir=Ae}}function __PRIVATE_orderByEquals(Ee,t){return Ee.dir===t.dir&&Ee.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(t,Ae,_e){super(),this.field=t,this.op=Ae,this.value=_e}static create(t,Ae,_e){return t.isKeyField()?Ae==="in"||Ae==="not-in"?this.createKeyFieldInFilter(t,Ae,_e):new __PRIVATE_KeyFieldFilter(t,Ae,_e):Ae==="array-contains"?new __PRIVATE_ArrayContainsFilter(t,_e):Ae==="in"?new __PRIVATE_InFilter(t,_e):Ae==="not-in"?new __PRIVATE_NotInFilter(t,_e):Ae==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(t,_e):new FieldFilter(t,Ae,_e)}static createKeyFieldInFilter(t,Ae,_e){return Ae==="in"?new __PRIVATE_KeyFieldInFilter(t,_e):new __PRIVATE_KeyFieldNotInFilter(t,_e)}matches(t){const Ae=t.data.field(this.field);return this.op==="!="?Ae!==null&&Ae.nullValue===void 0&&this.matchesComparison(__PRIVATE_valueCompare(Ae,this.value)):Ae!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(Ae)&&this.matchesComparison(__PRIVATE_valueCompare(Ae,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return fail(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(t,Ae){super(),this.filters=t,this.op=Ae,this.Te=null}static create(t,Ae){return new CompositeFilter(t,Ae)}matches(t){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(Ae=>!Ae.matches(t))===void 0:this.filters.find(Ae=>Ae.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,Ae)=>t.concat(Ae.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(Ee){return Ee.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(Ee){return __PRIVATE_compositeFilterIsFlat(Ee)&&__PRIVATE_compositeFilterIsConjunction(Ee)}function __PRIVATE_compositeFilterIsFlat(Ee){for(const t of Ee.filters)if(t instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(Ee){if(Ee instanceof FieldFilter)return Ee.field.canonicalString()+Ee.op.toString()+canonicalId(Ee.value);if(__PRIVATE_compositeFilterIsFlatConjunction(Ee))return Ee.filters.map(t=>__PRIVATE_canonifyFilter(t)).join(",");{const t=Ee.filters.map(Ae=>__PRIVATE_canonifyFilter(Ae)).join(",");return`${Ee.op}(${t})`}}function __PRIVATE_filterEquals(Ee,t){return Ee instanceof FieldFilter?function(_e,xe){return xe instanceof FieldFilter&&_e.op===xe.op&&_e.field.isEqual(xe.field)&&__PRIVATE_valueEquals(_e.value,xe.value)}(Ee,t):Ee instanceof CompositeFilter?function(_e,xe){return xe instanceof CompositeFilter&&_e.op===xe.op&&_e.filters.length===xe.filters.length?_e.filters.reduce((Ce,Se,Re)=>Ce&&__PRIVATE_filterEquals(Se,xe.filters[Re]),!0):!1}(Ee,t):void fail(19439)}function __PRIVATE_stringifyFilter(Ee){return Ee instanceof FieldFilter?function(Ae){return`${Ae.field.canonicalString()} ${Ae.op} ${canonicalId(Ae.value)}`}(Ee):Ee instanceof CompositeFilter?function(Ae){return Ae.op.toString()+" {"+Ae.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(Ee):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(t,Ae,_e){super(t,Ae,_e),this.key=DocumentKey.fromName(_e.referenceValue)}matches(t){const Ae=DocumentKey.comparator(t.key,this.key);return this.matchesComparison(Ae)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(t,Ae){super(t,"in",Ae),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",Ae)}matches(t){return this.keys.some(Ae=>Ae.isEqual(t.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(t,Ae){super(t,"not-in",Ae),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",Ae)}matches(t){return!this.keys.some(Ae=>Ae.isEqual(t.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(Ee,t){var Ae;return(((Ae=t.arrayValue)===null||Ae===void 0?void 0:Ae.values)||[]).map(_e=>DocumentKey.fromName(_e.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(t,Ae){super(t,"array-contains",Ae)}matches(t){const Ae=t.data.field(this.field);return isArray(Ae)&&__PRIVATE_arrayValueContains(Ae.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(t,Ae){super(t,"in",Ae)}matches(t){const Ae=t.data.field(this.field);return Ae!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,Ae)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(t,Ae){super(t,"not-in",Ae)}matches(t){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const Ae=t.data.field(this.field);return Ae!==null&&Ae.nullValue===void 0&&!__PRIVATE_arrayValueContains(this.value.arrayValue,Ae)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(t,Ae){super(t,"array-contains-any",Ae)}matches(t){const Ae=t.data.field(this.field);return!(!isArray(Ae)||!Ae.arrayValue.values)&&Ae.arrayValue.values.some(_e=>__PRIVATE_arrayValueContains(this.value.arrayValue,_e))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(t,Ae=null,_e=[],xe=[],Ce=null,Se=null,Re=null){this.path=t,this.collectionGroup=Ae,this.orderBy=_e,this.filters=xe,this.limit=Ce,this.startAt=Se,this.endAt=Re,this.Ie=null}}function __PRIVATE_newTarget(Ee,t=null,Ae=[],_e=[],xe=null,Ce=null,Se=null){return new __PRIVATE_TargetImpl(Ee,t,Ae,_e,xe,Ce,Se)}function __PRIVATE_canonifyTarget(Ee){const t=__PRIVATE_debugCast(Ee);if(t.Ie===null){let Ae=t.path.canonicalString();t.collectionGroup!==null&&(Ae+="|cg:"+t.collectionGroup),Ae+="|f:",Ae+=t.filters.map(_e=>__PRIVATE_canonifyFilter(_e)).join(","),Ae+="|ob:",Ae+=t.orderBy.map(_e=>function(Ce){return Ce.field.canonicalString()+Ce.dir}(_e)).join(","),__PRIVATE_isNullOrUndefined(t.limit)||(Ae+="|l:",Ae+=t.limit),t.startAt&&(Ae+="|lb:",Ae+=t.startAt.inclusive?"b:":"a:",Ae+=t.startAt.position.map(_e=>canonicalId(_e)).join(",")),t.endAt&&(Ae+="|ub:",Ae+=t.endAt.inclusive?"a:":"b:",Ae+=t.endAt.position.map(_e=>canonicalId(_e)).join(",")),t.Ie=Ae}return t.Ie}function __PRIVATE_targetEquals(Ee,t){if(Ee.limit!==t.limit||Ee.orderBy.length!==t.orderBy.length)return!1;for(let Ae=0;Ae<Ee.orderBy.length;Ae++)if(!__PRIVATE_orderByEquals(Ee.orderBy[Ae],t.orderBy[Ae]))return!1;if(Ee.filters.length!==t.filters.length)return!1;for(let Ae=0;Ae<Ee.filters.length;Ae++)if(!__PRIVATE_filterEquals(Ee.filters[Ae],t.filters[Ae]))return!1;return Ee.collectionGroup===t.collectionGroup&&!!Ee.path.isEqual(t.path)&&!!__PRIVATE_boundEquals(Ee.startAt,t.startAt)&&__PRIVATE_boundEquals(Ee.endAt,t.endAt)}function __PRIVATE_targetIsDocumentTarget(Ee){return DocumentKey.isDocumentKey(Ee.path)&&Ee.collectionGroup===null&&Ee.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(t,Ae=null,_e=[],xe=[],Ce=null,Se="F",Re=null,Be=null){this.path=t,this.collectionGroup=Ae,this.explicitOrderBy=_e,this.filters=xe,this.limit=Ce,this.limitType=Se,this.startAt=Re,this.endAt=Be,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(Ee,t,Ae,_e,xe,Ce,Se,Re){return new __PRIVATE_QueryImpl(Ee,t,Ae,_e,xe,Ce,Se,Re)}function __PRIVATE_newQueryForPath(Ee){return new __PRIVATE_QueryImpl(Ee)}function __PRIVATE_queryMatchesAllDocuments(Ee){return Ee.filters.length===0&&Ee.limit===null&&Ee.startAt==null&&Ee.endAt==null&&(Ee.explicitOrderBy.length===0||Ee.explicitOrderBy.length===1&&Ee.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(Ee){return Ee.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(Ee){const t=__PRIVATE_debugCast(Ee);if(t.Ee===null){t.Ee=[];const Ae=new Set;for(const Ce of t.explicitOrderBy)t.Ee.push(Ce),Ae.add(Ce.field.canonicalString());const _e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(Se){let Re=new SortedSet(FieldPath$1.comparator);return Se.filters.forEach(Be=>{Be.getFlattenedFilters().forEach(Fe=>{Fe.isInequality()&&(Re=Re.add(Fe.field))})}),Re})(t).forEach(Ce=>{Ae.has(Ce.canonicalString())||Ce.isKeyField()||t.Ee.push(new OrderBy(Ce,_e))}),Ae.has(FieldPath$1.keyField().canonicalString())||t.Ee.push(new OrderBy(FieldPath$1.keyField(),_e))}return t.Ee}function __PRIVATE_queryToTarget(Ee){const t=__PRIVATE_debugCast(Ee);return t.de||(t.de=__PRIVATE__queryToTarget(t,__PRIVATE_queryNormalizedOrderBy(Ee))),t.de}function __PRIVATE__queryToTarget(Ee,t){if(Ee.limitType==="F")return __PRIVATE_newTarget(Ee.path,Ee.collectionGroup,t,Ee.filters,Ee.limit,Ee.startAt,Ee.endAt);{t=t.map(xe=>{const Ce=xe.dir==="desc"?"asc":"desc";return new OrderBy(xe.field,Ce)});const Ae=Ee.endAt?new Bound(Ee.endAt.position,Ee.endAt.inclusive):null,_e=Ee.startAt?new Bound(Ee.startAt.position,Ee.startAt.inclusive):null;return __PRIVATE_newTarget(Ee.path,Ee.collectionGroup,t,Ee.filters,Ee.limit,Ae,_e)}}function __PRIVATE_queryWithAddedFilter(Ee,t){const Ae=Ee.filters.concat([t]);return new __PRIVATE_QueryImpl(Ee.path,Ee.collectionGroup,Ee.explicitOrderBy.slice(),Ae,Ee.limit,Ee.limitType,Ee.startAt,Ee.endAt)}function __PRIVATE_queryWithLimit(Ee,t,Ae){return new __PRIVATE_QueryImpl(Ee.path,Ee.collectionGroup,Ee.explicitOrderBy.slice(),Ee.filters.slice(),t,Ae,Ee.startAt,Ee.endAt)}function __PRIVATE_queryEquals(Ee,t){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(Ee),__PRIVATE_queryToTarget(t))&&Ee.limitType===t.limitType}function __PRIVATE_canonifyQuery(Ee){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(Ee))}|lt:${Ee.limitType}`}function __PRIVATE_stringifyQuery(Ee){return`Query(target=${function(Ae){let _e=Ae.path.canonicalString();return Ae.collectionGroup!==null&&(_e+=" collectionGroup="+Ae.collectionGroup),Ae.filters.length>0&&(_e+=`, filters: [${Ae.filters.map(xe=>__PRIVATE_stringifyFilter(xe)).join(", ")}]`),__PRIVATE_isNullOrUndefined(Ae.limit)||(_e+=", limit: "+Ae.limit),Ae.orderBy.length>0&&(_e+=`, orderBy: [${Ae.orderBy.map(xe=>function(Se){return`${Se.field.canonicalString()} (${Se.dir})`}(xe)).join(", ")}]`),Ae.startAt&&(_e+=", startAt: ",_e+=Ae.startAt.inclusive?"b:":"a:",_e+=Ae.startAt.position.map(xe=>canonicalId(xe)).join(",")),Ae.endAt&&(_e+=", endAt: ",_e+=Ae.endAt.inclusive?"a:":"b:",_e+=Ae.endAt.position.map(xe=>canonicalId(xe)).join(",")),`Target(${_e})`}(__PRIVATE_queryToTarget(Ee))}; limitType=${Ee.limitType})`}function __PRIVATE_queryMatches(Ee,t){return t.isFoundDocument()&&function(_e,xe){const Ce=xe.key.path;return _e.collectionGroup!==null?xe.key.hasCollectionId(_e.collectionGroup)&&_e.path.isPrefixOf(Ce):DocumentKey.isDocumentKey(_e.path)?_e.path.isEqual(Ce):_e.path.isImmediateParentOf(Ce)}(Ee,t)&&function(_e,xe){for(const Ce of __PRIVATE_queryNormalizedOrderBy(_e))if(!Ce.field.isKeyField()&&xe.data.field(Ce.field)===null)return!1;return!0}(Ee,t)&&function(_e,xe){for(const Ce of _e.filters)if(!Ce.matches(xe))return!1;return!0}(Ee,t)&&function(_e,xe){return!(_e.startAt&&!function(Se,Re,Be){const Fe=__PRIVATE_boundCompareToDocument(Se,Re,Be);return Se.inclusive?Fe<=0:Fe<0}(_e.startAt,__PRIVATE_queryNormalizedOrderBy(_e),xe)||_e.endAt&&!function(Se,Re,Be){const Fe=__PRIVATE_boundCompareToDocument(Se,Re,Be);return Se.inclusive?Fe>=0:Fe>0}(_e.endAt,__PRIVATE_queryNormalizedOrderBy(_e),xe))}(Ee,t)}function __PRIVATE_queryCollectionGroup(Ee){return Ee.collectionGroup||(Ee.path.length%2==1?Ee.path.lastSegment():Ee.path.get(Ee.path.length-2))}function __PRIVATE_newQueryComparator(Ee){return(t,Ae)=>{let _e=!1;for(const xe of __PRIVATE_queryNormalizedOrderBy(Ee)){const Ce=__PRIVATE_compareDocs(xe,t,Ae);if(Ce!==0)return Ce;_e=_e||xe.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(Ee,t,Ae){const _e=Ee.field.isKeyField()?DocumentKey.comparator(t.key,Ae.key):function(Ce,Se,Re){const Be=Se.data.field(Ce),Fe=Re.data.field(Ce);return Be!==null&&Fe!==null?__PRIVATE_valueCompare(Be,Fe):fail(42886)}(Ee.field,t,Ae);switch(Ee.dir){case"asc":return _e;case"desc":return-1*_e;default:return fail(19790,{direction:Ee.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(t,Ae){this.mapKeyFn=t,this.equalsFn=Ae,this.inner={},this.innerSize=0}get(t){const Ae=this.mapKeyFn(t),_e=this.inner[Ae];if(_e!==void 0){for(const[xe,Ce]of _e)if(this.equalsFn(xe,t))return Ce}}has(t){return this.get(t)!==void 0}set(t,Ae){const _e=this.mapKeyFn(t),xe=this.inner[_e];if(xe===void 0)return this.inner[_e]=[[t,Ae]],void this.innerSize++;for(let Ce=0;Ce<xe.length;Ce++)if(this.equalsFn(xe[Ce][0],t))return void(xe[Ce]=[t,Ae]);xe.push([t,Ae]),this.innerSize++}delete(t){const Ae=this.mapKeyFn(t),_e=this.inner[Ae];if(_e===void 0)return!1;for(let xe=0;xe<_e.length;xe++)if(this.equalsFn(_e[xe][0],t))return _e.length===1?delete this.inner[Ae]:_e.splice(xe,1),this.innerSize--,!0;return!1}forEach(t){forEach(this.inner,(Ae,_e)=>{for(const[xe,Ce]of _e)t(xe,Ce)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt$1=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return dt$1}const At$1=new SortedMap(DocumentKey.comparator);function documentMap(...Ee){let t=At$1;for(const Ae of Ee)t=t.insert(Ae.key,Ae);return t}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(Ee){let t=At$1;return Ee.forEach((Ae,_e)=>t=t.insert(Ae,_e.overlayedDocument)),t}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(Ee=>Ee.toString(),(Ee,t)=>Ee.isEqual(t))}const Rt$1=new SortedMap(DocumentKey.comparator),Vt$1=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...Ee){let t=Vt$1;for(const Ae of Ee)t=t.add(Ae);return t}const mt$1=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return mt$1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(Ee,t){if(Ee.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(t)?"-0":t}}function __PRIVATE_toInteger(Ee){return{integerValue:""+Ee}}function toNumber(Ee,t){return isSafeInteger(t)?__PRIVATE_toInteger(t):__PRIVATE_toDouble(Ee,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(Ee,t,Ae){return Ee instanceof __PRIVATE_ServerTimestampTransform?function(xe,Ce){const Se={fields:{[ot$1]:{stringValue:st$1},[at$1]:{timestampValue:{seconds:xe.seconds,nanos:xe.nanoseconds}}}};return Ce&&__PRIVATE_isServerTimestamp(Ce)&&(Ce=__PRIVATE_getPreviousValue(Ce)),Ce&&(Se.fields[_t$1]=Ce),{mapValue:Se}}(Ae,t):Ee instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(Ee,t):Ee instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(Ee,t):function(xe,Ce){const Se=__PRIVATE_computeTransformOperationBaseValue(xe,Ce),Re=asNumber$1(Se)+asNumber$1(xe.Re);return isInteger(Se)&&isInteger(xe.Re)?__PRIVATE_toInteger(Re):__PRIVATE_toDouble(xe.serializer,Re)}(Ee,t)}function __PRIVATE_applyTransformOperationToRemoteDocument(Ee,t,Ae){return Ee instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(Ee,t):Ee instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(Ee,t):Ae}function __PRIVATE_computeTransformOperationBaseValue(Ee,t){return Ee instanceof __PRIVATE_NumericIncrementTransformOperation?function(_e){return isInteger(_e)||function(Ce){return!!Ce&&"doubleValue"in Ce}(_e)}(t)?t:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(t){super(),this.elements=t}}function __PRIVATE_applyArrayUnionTransformOperation(Ee,t){const Ae=__PRIVATE_coercedFieldValuesArray(t);for(const _e of Ee.elements)Ae.some(xe=>__PRIVATE_valueEquals(xe,_e))||Ae.push(_e);return{arrayValue:{values:Ae}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(t){super(),this.elements=t}}function __PRIVATE_applyArrayRemoveTransformOperation(Ee,t){let Ae=__PRIVATE_coercedFieldValuesArray(t);for(const _e of Ee.elements)Ae=Ae.filter(xe=>!__PRIVATE_valueEquals(xe,_e));return{arrayValue:{values:Ae}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(t,Ae){super(),this.serializer=t,this.Re=Ae}}function asNumber$1(Ee){return __PRIVATE_normalizeNumber(Ee.integerValue||Ee.doubleValue)}function __PRIVATE_coercedFieldValuesArray(Ee){return isArray(Ee)&&Ee.arrayValue.values?Ee.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals(Ee,t){return Ee.field.isEqual(t.field)&&function(_e,xe){return _e instanceof __PRIVATE_ArrayUnionTransformOperation&&xe instanceof __PRIVATE_ArrayUnionTransformOperation||_e instanceof __PRIVATE_ArrayRemoveTransformOperation&&xe instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(_e.elements,xe.elements,__PRIVATE_valueEquals):_e instanceof __PRIVATE_NumericIncrementTransformOperation&&xe instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(_e.Re,xe.Re):_e instanceof __PRIVATE_ServerTimestampTransform&&xe instanceof __PRIVATE_ServerTimestampTransform}(Ee.transform,t.transform)}class MutationResult{constructor(t,Ae){this.version=t,this.transformResults=Ae}}class Precondition{constructor(t,Ae){this.updateTime=t,this.exists=Ae}static none(){return new Precondition}static exists(t){return new Precondition(void 0,t)}static updateTime(t){return new Precondition(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(Ee,t){return Ee.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(Ee.updateTime):Ee.exists===void 0||Ee.exists===t.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(Ee,t){if(!Ee.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return Ee.isNoDocument()?new __PRIVATE_DeleteMutation(Ee.key,Precondition.none()):new __PRIVATE_SetMutation(Ee.key,Ee.data,Precondition.none());{const Ae=Ee.data,_e=ObjectValue.empty();let xe=new SortedSet(FieldPath$1.comparator);for(let Ce of t.fields)if(!xe.has(Ce)){let Se=Ae.field(Ce);Se===null&&Ce.length>1&&(Ce=Ce.popLast(),Se=Ae.field(Ce)),Se===null?_e.delete(Ce):_e.set(Ce,Se),xe=xe.add(Ce)}return new __PRIVATE_PatchMutation(Ee.key,_e,new FieldMask(xe.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(Ee,t,Ae){Ee instanceof __PRIVATE_SetMutation?function(xe,Ce,Se){const Re=xe.value.clone(),Be=__PRIVATE_serverTransformResults(xe.fieldTransforms,Ce,Se.transformResults);Re.setAll(Be),Ce.convertToFoundDocument(Se.version,Re).setHasCommittedMutations()}(Ee,t,Ae):Ee instanceof __PRIVATE_PatchMutation?function(xe,Ce,Se){if(!__PRIVATE_preconditionIsValidForDocument(xe.precondition,Ce))return void Ce.convertToUnknownDocument(Se.version);const Re=__PRIVATE_serverTransformResults(xe.fieldTransforms,Ce,Se.transformResults),Be=Ce.data;Be.setAll(__PRIVATE_getPatch(xe)),Be.setAll(Re),Ce.convertToFoundDocument(Se.version,Be).setHasCommittedMutations()}(Ee,t,Ae):function(xe,Ce,Se){Ce.convertToNoDocument(Se.version).setHasCommittedMutations()}(0,t,Ae)}function __PRIVATE_mutationApplyToLocalView(Ee,t,Ae,_e){return Ee instanceof __PRIVATE_SetMutation?function(Ce,Se,Re,Be){if(!__PRIVATE_preconditionIsValidForDocument(Ce.precondition,Se))return Re;const Fe=Ce.value.clone(),Ie=__PRIVATE_localTransformResults(Ce.fieldTransforms,Be,Se);return Fe.setAll(Ie),Se.convertToFoundDocument(Se.version,Fe).setHasLocalMutations(),null}(Ee,t,Ae,_e):Ee instanceof __PRIVATE_PatchMutation?function(Ce,Se,Re,Be){if(!__PRIVATE_preconditionIsValidForDocument(Ce.precondition,Se))return Re;const Fe=__PRIVATE_localTransformResults(Ce.fieldTransforms,Be,Se),Ie=Se.data;return Ie.setAll(__PRIVATE_getPatch(Ce)),Ie.setAll(Fe),Se.convertToFoundDocument(Se.version,Ie).setHasLocalMutations(),Re===null?null:Re.unionWith(Ce.fieldMask.fields).unionWith(Ce.fieldTransforms.map(Ue=>Ue.field))}(Ee,t,Ae,_e):function(Ce,Se,Re){return __PRIVATE_preconditionIsValidForDocument(Ce.precondition,Se)?(Se.convertToNoDocument(Se.version).setHasLocalMutations(),null):Re}(Ee,t,Ae)}function __PRIVATE_mutationExtractBaseValue(Ee,t){let Ae=null;for(const _e of Ee.fieldTransforms){const xe=t.data.field(_e.field),Ce=__PRIVATE_computeTransformOperationBaseValue(_e.transform,xe||null);Ce!=null&&(Ae===null&&(Ae=ObjectValue.empty()),Ae.set(_e.field,Ce))}return Ae||null}function __PRIVATE_mutationEquals(Ee,t){return Ee.type===t.type&&!!Ee.key.isEqual(t.key)&&!!Ee.precondition.isEqual(t.precondition)&&!!function(_e,xe){return _e===void 0&&xe===void 0||!(!_e||!xe)&&__PRIVATE_arrayEquals(_e,xe,(Ce,Se)=>__PRIVATE_fieldTransformEquals(Ce,Se))}(Ee.fieldTransforms,t.fieldTransforms)&&(Ee.type===0?Ee.value.isEqual(t.value):Ee.type!==1||Ee.data.isEqual(t.data)&&Ee.fieldMask.isEqual(t.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(t,Ae,_e,xe=[]){super(),this.key=t,this.value=Ae,this.precondition=_e,this.fieldTransforms=xe,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(t,Ae,_e,xe,Ce=[]){super(),this.key=t,this.data=Ae,this.fieldMask=_e,this.precondition=xe,this.fieldTransforms=Ce,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(Ee){const t=new Map;return Ee.fieldMask.fields.forEach(Ae=>{if(!Ae.isEmpty()){const _e=Ee.data.field(Ae);t.set(Ae,_e)}}),t}function __PRIVATE_serverTransformResults(Ee,t,Ae){const _e=new Map;__PRIVATE_hardAssert(Ee.length===Ae.length,32656,{Ve:Ae.length,me:Ee.length});for(let xe=0;xe<Ae.length;xe++){const Ce=Ee[xe],Se=Ce.transform,Re=t.data.field(Ce.field);_e.set(Ce.field,__PRIVATE_applyTransformOperationToRemoteDocument(Se,Re,Ae[xe]))}return _e}function __PRIVATE_localTransformResults(Ee,t,Ae){const _e=new Map;for(const xe of Ee){const Ce=xe.transform,Se=Ae.data.field(xe.field);_e.set(xe.field,__PRIVATE_applyTransformOperationToLocalView(Ce,Se,t))}return _e}class __PRIVATE_DeleteMutation extends Mutation{constructor(t,Ae){super(),this.key=t,this.precondition=Ae,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(t,Ae){super(),this.key=t,this.precondition=Ae,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(t,Ae,_e,xe){this.batchId=t,this.localWriteTime=Ae,this.baseMutations=_e,this.mutations=xe}applyToRemoteDocument(t,Ae){const _e=Ae.mutationResults;for(let xe=0;xe<this.mutations.length;xe++){const Ce=this.mutations[xe];Ce.key.isEqual(t.key)&&__PRIVATE_mutationApplyToRemoteDocument(Ce,t,_e[xe])}}applyToLocalView(t,Ae){for(const _e of this.baseMutations)_e.key.isEqual(t.key)&&(Ae=__PRIVATE_mutationApplyToLocalView(_e,t,Ae,this.localWriteTime));for(const _e of this.mutations)_e.key.isEqual(t.key)&&(Ae=__PRIVATE_mutationApplyToLocalView(_e,t,Ae,this.localWriteTime));return Ae}applyToLocalDocumentSet(t,Ae){const _e=__PRIVATE_newMutationMap();return this.mutations.forEach(xe=>{const Ce=t.get(xe.key),Se=Ce.overlayedDocument;let Re=this.applyToLocalView(Se,Ce.mutatedFields);Re=Ae.has(xe.key)?null:Re;const Be=__PRIVATE_calculateOverlayMutation(Se,Re);Be!==null&&_e.set(xe.key,Be),Se.isValidDocument()||Se.convertToNoDocument(SnapshotVersion.min())}),_e}keys(){return this.mutations.reduce((t,Ae)=>t.add(Ae.key),__PRIVATE_documentKeySet())}isEqual(t){return this.batchId===t.batchId&&__PRIVATE_arrayEquals(this.mutations,t.mutations,(Ae,_e)=>__PRIVATE_mutationEquals(Ae,_e))&&__PRIVATE_arrayEquals(this.baseMutations,t.baseMutations,(Ae,_e)=>__PRIVATE_mutationEquals(Ae,_e))}}class MutationBatchResult{constructor(t,Ae,_e,xe){this.batch=t,this.commitVersion=Ae,this.mutationResults=_e,this.docVersions=xe}static from(t,Ae,_e){__PRIVATE_hardAssert(t.mutations.length===_e.length,58842,{fe:t.mutations.length,ge:_e.length});let xe=function(){return Rt$1}();const Ce=t.mutations;for(let Se=0;Se<Ce.length;Se++)xe=xe.insert(Ce[Se].key,_e[Se].version);return new MutationBatchResult(t,Ae,_e,xe)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(t,Ae){this.largestBatchId=t,this.mutation=Ae}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(t,Ae){this.count=t,this.unchangedNames=Ae}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft$1,gt$1;function __PRIVATE_isPermanentError(Ee){switch(Ee){case N$1.OK:return fail(64938);case N$1.CANCELLED:case N$1.UNKNOWN:case N$1.DEADLINE_EXCEEDED:case N$1.RESOURCE_EXHAUSTED:case N$1.INTERNAL:case N$1.UNAVAILABLE:case N$1.UNAUTHENTICATED:return!1;case N$1.INVALID_ARGUMENT:case N$1.NOT_FOUND:case N$1.ALREADY_EXISTS:case N$1.PERMISSION_DENIED:case N$1.FAILED_PRECONDITION:case N$1.ABORTED:case N$1.OUT_OF_RANGE:case N$1.UNIMPLEMENTED:case N$1.DATA_LOSS:return!0;default:return fail(15467,{code:Ee})}}function __PRIVATE_mapCodeFromRpcCode(Ee){if(Ee===void 0)return __PRIVATE_logError("GRPC error has no .code"),N$1.UNKNOWN;switch(Ee){case ft$1.OK:return N$1.OK;case ft$1.CANCELLED:return N$1.CANCELLED;case ft$1.UNKNOWN:return N$1.UNKNOWN;case ft$1.DEADLINE_EXCEEDED:return N$1.DEADLINE_EXCEEDED;case ft$1.RESOURCE_EXHAUSTED:return N$1.RESOURCE_EXHAUSTED;case ft$1.INTERNAL:return N$1.INTERNAL;case ft$1.UNAVAILABLE:return N$1.UNAVAILABLE;case ft$1.UNAUTHENTICATED:return N$1.UNAUTHENTICATED;case ft$1.INVALID_ARGUMENT:return N$1.INVALID_ARGUMENT;case ft$1.NOT_FOUND:return N$1.NOT_FOUND;case ft$1.ALREADY_EXISTS:return N$1.ALREADY_EXISTS;case ft$1.PERMISSION_DENIED:return N$1.PERMISSION_DENIED;case ft$1.FAILED_PRECONDITION:return N$1.FAILED_PRECONDITION;case ft$1.ABORTED:return N$1.ABORTED;case ft$1.OUT_OF_RANGE:return N$1.OUT_OF_RANGE;case ft$1.UNIMPLEMENTED:return N$1.UNIMPLEMENTED;case ft$1.DATA_LOSS:return N$1.DATA_LOSS;default:return fail(39323,{code:Ee})}}(gt$1=ft$1||(ft$1={}))[gt$1.OK=0]="OK",gt$1[gt$1.CANCELLED=1]="CANCELLED",gt$1[gt$1.UNKNOWN=2]="UNKNOWN",gt$1[gt$1.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt$1[gt$1.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt$1[gt$1.NOT_FOUND=5]="NOT_FOUND",gt$1[gt$1.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt$1[gt$1.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt$1[gt$1.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt$1[gt$1.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt$1[gt$1.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt$1[gt$1.ABORTED=10]="ABORTED",gt$1[gt$1.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt$1[gt$1.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt$1[gt$1.INTERNAL=13]="INTERNAL",gt$1[gt$1.UNAVAILABLE=14]="UNAVAILABLE",gt$1[gt$1.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt$1=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(Ee){const t=__PRIVATE_newTextEncoder().encode(Ee),Ae=new Md5;return Ae.update(t),new Uint8Array(Ae.digest())}function __PRIVATE_get64BitUints(Ee){const t=new DataView(Ee.buffer),Ae=t.getUint32(0,!0),_e=t.getUint32(4,!0),xe=t.getUint32(8,!0),Ce=t.getUint32(12,!0);return[new Integer([Ae,_e],0),new Integer([xe,Ce],0)]}class BloomFilter{constructor(t,Ae,_e){if(this.bitmap=t,this.padding=Ae,this.hashCount=_e,Ae<0||Ae>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${Ae}`);if(_e<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${_e}`);if(t.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${_e}`);if(t.length===0&&Ae!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${Ae}`);this.pe=8*t.length-Ae,this.ye=Integer.fromNumber(this.pe)}we(t,Ae,_e){let xe=t.add(Ae.multiply(Integer.fromNumber(_e)));return xe.compare(yt$1)===1&&(xe=new Integer([xe.getBits(0),xe.getBits(1)],0)),xe.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const Ae=__PRIVATE_getMd5HashValue(t),[_e,xe]=__PRIVATE_get64BitUints(Ae);for(let Ce=0;Ce<this.hashCount;Ce++){const Se=this.we(_e,xe,Ce);if(!this.be(Se))return!1}return!0}static create(t,Ae,_e){const xe=t%8==0?0:8-t%8,Ce=new Uint8Array(Math.ceil(t/8)),Se=new BloomFilter(Ce,xe,Ae);return _e.forEach(Re=>Se.insert(Re)),Se}insert(t){if(this.pe===0)return;const Ae=__PRIVATE_getMd5HashValue(t),[_e,xe]=__PRIVATE_get64BitUints(Ae);for(let Ce=0;Ce<this.hashCount;Ce++){const Se=this.we(_e,xe,Ce);this.Se(Se)}}Se(t){const Ae=Math.floor(t/8),_e=t%8;this.bitmap[Ae]|=1<<_e}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(t,Ae,_e,xe,Ce){this.snapshotVersion=t,this.targetChanges=Ae,this.targetMismatches=_e,this.documentUpdates=xe,this.resolvedLimboDocuments=Ce}static createSynthesizedRemoteEventForCurrentChange(t,Ae,_e){const xe=new Map;return xe.set(t,TargetChange.createSynthesizedTargetChangeForCurrentChange(t,Ae,_e)),new RemoteEvent(SnapshotVersion.min(),xe,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(t,Ae,_e,xe,Ce){this.resumeToken=t,this.current=Ae,this.addedDocuments=_e,this.modifiedDocuments=xe,this.removedDocuments=Ce}static createSynthesizedTargetChangeForCurrentChange(t,Ae,_e){return new TargetChange(_e,Ae,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(t,Ae,_e,xe){this.De=t,this.removedTargetIds=Ae,this.key=_e,this.ve=xe}}class __PRIVATE_ExistenceFilterChange{constructor(t,Ae){this.targetId=t,this.Ce=Ae}}class __PRIVATE_WatchTargetChange{constructor(t,Ae,_e=ByteString.EMPTY_BYTE_STRING,xe=null){this.state=t,this.targetIds=Ae,this.resumeToken=_e,this.cause=xe}}class __PRIVATE_TargetState{constructor(){this.Fe=0,this.Me=__PRIVATE_snapshotChangesMap(),this.xe=ByteString.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=__PRIVATE_documentKeySet(),Ae=__PRIVATE_documentKeySet(),_e=__PRIVATE_documentKeySet();return this.Me.forEach((xe,Ce)=>{switch(Ce){case 0:t=t.add(xe);break;case 2:Ae=Ae.add(xe);break;case 1:_e=_e.add(xe);break;default:fail(38017,{changeType:Ce})}}),new TargetChange(this.xe,this.Oe,t,Ae,_e)}Qe(){this.Ne=!1,this.Me=__PRIVATE_snapshotChangesMap()}$e(t,Ae){this.Ne=!0,this.Me=this.Me.insert(t,Ae)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,__PRIVATE_hardAssert(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class __PRIVATE_WatchChangeAggregator{constructor(t){this.ze=t,this.je=new Map,this.He=__PRIVATE_mutableDocumentMap(),this.Je=__PRIVATE_documentTargetMap(),this.Ye=__PRIVATE_documentTargetMap(),this.Ze=new SortedMap(__PRIVATE_primitiveComparator)}Xe(t){for(const Ae of t.De)t.ve&&t.ve.isFoundDocument()?this.et(Ae,t.ve):this.tt(Ae,t.key,t.ve);for(const Ae of t.removedTargetIds)this.tt(Ae,t.key,t.ve)}nt(t){this.forEachTarget(t,Ae=>{const _e=this.rt(Ae);switch(t.state){case 0:this.it(Ae)&&_e.ke(t.resumeToken);break;case 1:_e.We(),_e.Be||_e.Qe(),_e.ke(t.resumeToken);break;case 2:_e.We(),_e.Be||this.removeTarget(Ae);break;case 3:this.it(Ae)&&(_e.Ge(),_e.ke(t.resumeToken));break;case 4:this.it(Ae)&&(this.st(Ae),_e.ke(t.resumeToken));break;default:fail(56790,{state:t.state})}})}forEachTarget(t,Ae){t.targetIds.length>0?t.targetIds.forEach(Ae):this.je.forEach((_e,xe)=>{this.it(xe)&&Ae(xe)})}ot(t){const Ae=t.targetId,_e=t.Ce.count,xe=this._t(Ae);if(xe){const Ce=xe.target;if(__PRIVATE_targetIsDocumentTarget(Ce))if(_e===0){const Se=new DocumentKey(Ce.path);this.tt(Ae,Se,MutableDocument.newNoDocument(Se,SnapshotVersion.min()))}else __PRIVATE_hardAssert(_e===1,20013,{expectedCount:_e});else{const Se=this.ut(Ae);if(Se!==_e){const Re=this.ct(t),Be=Re?this.lt(Re,t,Se):1;if(Be!==0){this.st(Ae);const Fe=Be===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(Ae,Fe)}}}}}ct(t){const Ae=t.Ce.unchangedNames;if(!Ae||!Ae.bits)return null;const{bits:{bitmap:_e="",padding:xe=0},hashCount:Ce=0}=Ae;let Se,Re;try{Se=__PRIVATE_normalizeByteString(_e).toUint8Array()}catch(Be){if(Be instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+Be.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw Be}try{Re=new BloomFilter(Se,xe,Ce)}catch(Be){return __PRIVATE_logWarn(Be instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",Be),null}return Re.pe===0?null:Re}lt(t,Ae,_e){return Ae.Ce.count===_e-this.Tt(t,Ae.targetId)?0:2}Tt(t,Ae){const _e=this.ze.getRemoteKeysForTarget(Ae);let xe=0;return _e.forEach(Ce=>{const Se=this.ze.Pt(),Re=`projects/${Se.projectId}/databases/${Se.database}/documents/${Ce.path.canonicalString()}`;t.mightContain(Re)||(this.tt(Ae,Ce,null),xe++)}),xe}It(t){const Ae=new Map;this.je.forEach((Ce,Se)=>{const Re=this._t(Se);if(Re){if(Ce.current&&__PRIVATE_targetIsDocumentTarget(Re.target)){const Be=new DocumentKey(Re.target.path);this.Et(Be).has(Se)||this.dt(Se,Be)||this.tt(Se,Be,MutableDocument.newNoDocument(Be,t))}Ce.Le&&(Ae.set(Se,Ce.qe()),Ce.Qe())}});let _e=__PRIVATE_documentKeySet();this.Ye.forEach((Ce,Se)=>{let Re=!0;Se.forEachWhile(Be=>{const Fe=this._t(Be);return!Fe||Fe.purpose==="TargetPurposeLimboResolution"||(Re=!1,!1)}),Re&&(_e=_e.add(Ce))}),this.He.forEach((Ce,Se)=>Se.setReadTime(t));const xe=new RemoteEvent(t,Ae,this.Ze,this.He,_e);return this.He=__PRIVATE_mutableDocumentMap(),this.Je=__PRIVATE_documentTargetMap(),this.Ye=__PRIVATE_documentTargetMap(),this.Ze=new SortedMap(__PRIVATE_primitiveComparator),xe}et(t,Ae){if(!this.it(t))return;const _e=this.dt(t,Ae.key)?2:0;this.rt(t).$e(Ae.key,_e),this.He=this.He.insert(Ae.key,Ae),this.Je=this.Je.insert(Ae.key,this.Et(Ae.key).add(t)),this.Ye=this.Ye.insert(Ae.key,this.At(Ae.key).add(t))}tt(t,Ae,_e){if(!this.it(t))return;const xe=this.rt(t);this.dt(t,Ae)?xe.$e(Ae,1):xe.Ue(Ae),this.Ye=this.Ye.insert(Ae,this.At(Ae).delete(t)),this.Ye=this.Ye.insert(Ae,this.At(Ae).add(t)),_e&&(this.He=this.He.insert(Ae,_e))}removeTarget(t){this.je.delete(t)}ut(t){const Ae=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+Ae.addedDocuments.size-Ae.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let Ae=this.je.get(t);return Ae||(Ae=new __PRIVATE_TargetState,this.je.set(t,Ae)),Ae}At(t){let Ae=this.Ye.get(t);return Ae||(Ae=new SortedSet(__PRIVATE_primitiveComparator),this.Ye=this.Ye.insert(t,Ae)),Ae}Et(t){let Ae=this.Je.get(t);return Ae||(Ae=new SortedSet(__PRIVATE_primitiveComparator),this.Je=this.Je.insert(t,Ae)),Ae}it(t){const Ae=this._t(t)!==null;return Ae||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",t),Ae}_t(t){const Ae=this.je.get(t);return Ae&&Ae.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new __PRIVATE_TargetState),this.ze.getRemoteKeysForTarget(t).forEach(Ae=>{this.tt(t,Ae,null)})}dt(t,Ae){return this.ze.getRemoteKeysForTarget(t).has(Ae)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const wt$1={asc:"ASCENDING",desc:"DESCENDING"},bt$1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},St={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(t,Ae){this.databaseId=t,this.useProto3Json=Ae}}function __PRIVATE_toInt32Proto(Ee,t){return Ee.useProto3Json||__PRIVATE_isNullOrUndefined(t)?t:{value:t}}function toTimestamp(Ee,t){return Ee.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function __PRIVATE_toBytes(Ee,t){return Ee.useProto3Json?t.toBase64():t.toUint8Array()}function __PRIVATE_toVersion(Ee,t){return toTimestamp(Ee,t.toTimestamp())}function __PRIVATE_fromVersion(Ee){return __PRIVATE_hardAssert(!!Ee,49232),SnapshotVersion.fromTimestamp(function(Ae){const _e=__PRIVATE_normalizeTimestamp(Ae);return new Timestamp(_e.seconds,_e.nanos)}(Ee))}function __PRIVATE_toResourceName(Ee,t){return __PRIVATE_toResourcePath(Ee,t).canonicalString()}function __PRIVATE_toResourcePath(Ee,t){const Ae=function(xe){return new ResourcePath(["projects",xe.projectId,"databases",xe.database])}(Ee).child("documents");return t===void 0?Ae:Ae.child(t)}function __PRIVATE_fromResourceName(Ee){const t=ResourcePath.fromString(Ee);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(t),10190,{key:t.toString()}),t}function __PRIVATE_toName(Ee,t){return __PRIVATE_toResourceName(Ee.databaseId,t.path)}function fromName(Ee,t){const Ae=__PRIVATE_fromResourceName(t);if(Ae.get(1)!==Ee.databaseId.projectId)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+Ae.get(1)+" vs "+Ee.databaseId.projectId);if(Ae.get(3)!==Ee.databaseId.database)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+Ae.get(3)+" vs "+Ee.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(Ae))}function __PRIVATE_toQueryPath(Ee,t){return __PRIVATE_toResourceName(Ee.databaseId,t)}function __PRIVATE_fromQueryPath(Ee){const t=__PRIVATE_fromResourceName(Ee);return t.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(t)}function __PRIVATE_getEncodedDatabaseId(Ee){return new ResourcePath(["projects",Ee.databaseId.projectId,"databases",Ee.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(Ee){return __PRIVATE_hardAssert(Ee.length>4&&Ee.get(4)==="documents",29091,{key:Ee.toString()}),Ee.popFirst(5)}function __PRIVATE_toMutationDocument(Ee,t,Ae){return{name:__PRIVATE_toName(Ee,t),fields:Ae.value.mapValue.fields}}function __PRIVATE_fromWatchChange(Ee,t){let Ae;if("targetChange"in t){t.targetChange;const _e=function(Fe){return Fe==="NO_CHANGE"?0:Fe==="ADD"?1:Fe==="REMOVE"?2:Fe==="CURRENT"?3:Fe==="RESET"?4:fail(39313,{state:Fe})}(t.targetChange.targetChangeType||"NO_CHANGE"),xe=t.targetChange.targetIds||[],Ce=function(Fe,Ie){return Fe.useProto3Json?(__PRIVATE_hardAssert(Ie===void 0||typeof Ie=="string",58123),ByteString.fromBase64String(Ie||"")):(__PRIVATE_hardAssert(Ie===void 0||Ie instanceof Buffer||Ie instanceof Uint8Array,16193),ByteString.fromUint8Array(Ie||new Uint8Array))}(Ee,t.targetChange.resumeToken),Se=t.targetChange.cause,Re=Se&&function(Fe){const Ie=Fe.code===void 0?N$1.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(Fe.code);return new FirestoreError(Ie,Fe.message||"")}(Se);Ae=new __PRIVATE_WatchTargetChange(_e,xe,Ce,Re||null)}else if("documentChange"in t){t.documentChange;const _e=t.documentChange;_e.document,_e.document.name,_e.document.updateTime;const xe=fromName(Ee,_e.document.name),Ce=__PRIVATE_fromVersion(_e.document.updateTime),Se=_e.document.createTime?__PRIVATE_fromVersion(_e.document.createTime):SnapshotVersion.min(),Re=new ObjectValue({mapValue:{fields:_e.document.fields}}),Be=MutableDocument.newFoundDocument(xe,Ce,Se,Re),Fe=_e.targetIds||[],Ie=_e.removedTargetIds||[];Ae=new __PRIVATE_DocumentWatchChange(Fe,Ie,Be.key,Be)}else if("documentDelete"in t){t.documentDelete;const _e=t.documentDelete;_e.document;const xe=fromName(Ee,_e.document),Ce=_e.readTime?__PRIVATE_fromVersion(_e.readTime):SnapshotVersion.min(),Se=MutableDocument.newNoDocument(xe,Ce),Re=_e.removedTargetIds||[];Ae=new __PRIVATE_DocumentWatchChange([],Re,Se.key,Se)}else if("documentRemove"in t){t.documentRemove;const _e=t.documentRemove;_e.document;const xe=fromName(Ee,_e.document),Ce=_e.removedTargetIds||[];Ae=new __PRIVATE_DocumentWatchChange([],Ce,xe,null)}else{if(!("filter"in t))return fail(11601,{Vt:t});{t.filter;const _e=t.filter;_e.targetId;const{count:xe=0,unchangedNames:Ce}=_e,Se=new ExistenceFilter(xe,Ce),Re=_e.targetId;Ae=new __PRIVATE_ExistenceFilterChange(Re,Se)}}return Ae}function toMutation(Ee,t){let Ae;if(t instanceof __PRIVATE_SetMutation)Ae={update:__PRIVATE_toMutationDocument(Ee,t.key,t.value)};else if(t instanceof __PRIVATE_DeleteMutation)Ae={delete:__PRIVATE_toName(Ee,t.key)};else if(t instanceof __PRIVATE_PatchMutation)Ae={update:__PRIVATE_toMutationDocument(Ee,t.key,t.data),updateMask:__PRIVATE_toDocumentMask(t.fieldMask)};else{if(!(t instanceof __PRIVATE_VerifyMutation))return fail(16599,{ft:t.type});Ae={verify:__PRIVATE_toName(Ee,t.key)}}return t.fieldTransforms.length>0&&(Ae.updateTransforms=t.fieldTransforms.map(_e=>function(Ce,Se){const Re=Se.transform;if(Re instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:Se.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(Re instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:Se.field.canonicalString(),appendMissingElements:{values:Re.elements}};if(Re instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:Se.field.canonicalString(),removeAllFromArray:{values:Re.elements}};if(Re instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:Se.field.canonicalString(),increment:Re.Re};throw fail(20930,{transform:Se.transform})}(0,_e))),t.precondition.isNone||(Ae.currentDocument=function(xe,Ce){return Ce.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(xe,Ce.updateTime)}:Ce.exists!==void 0?{exists:Ce.exists}:fail(27497)}(Ee,t.precondition)),Ae}function __PRIVATE_fromWriteResults(Ee,t){return Ee&&Ee.length>0?(__PRIVATE_hardAssert(t!==void 0,14353),Ee.map(Ae=>function(xe,Ce){let Se=xe.updateTime?__PRIVATE_fromVersion(xe.updateTime):__PRIVATE_fromVersion(Ce);return Se.isEqual(SnapshotVersion.min())&&(Se=__PRIVATE_fromVersion(Ce)),new MutationResult(Se,xe.transformResults||[])}(Ae,t))):[]}function __PRIVATE_toDocumentsTarget(Ee,t){return{documents:[__PRIVATE_toQueryPath(Ee,t.path)]}}function __PRIVATE_toQueryTarget(Ee,t){const Ae={structuredQuery:{}},_e=t.path;let xe;t.collectionGroup!==null?(xe=_e,Ae.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(xe=_e.popLast(),Ae.structuredQuery.from=[{collectionId:_e.lastSegment()}]),Ae.parent=__PRIVATE_toQueryPath(Ee,xe);const Ce=function(Fe){if(Fe.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(Fe,"and"))}(t.filters);Ce&&(Ae.structuredQuery.where=Ce);const Se=function(Fe){if(Fe.length!==0)return Fe.map(Ie=>function(ke){return{field:__PRIVATE_toFieldPathReference(ke.field),direction:__PRIVATE_toDirection(ke.dir)}}(Ie))}(t.orderBy);Se&&(Ae.structuredQuery.orderBy=Se);const Re=__PRIVATE_toInt32Proto(Ee,t.limit);return Re!==null&&(Ae.structuredQuery.limit=Re),t.startAt&&(Ae.structuredQuery.startAt=function(Fe){return{before:Fe.inclusive,values:Fe.position}}(t.startAt)),t.endAt&&(Ae.structuredQuery.endAt=function(Fe){return{before:!Fe.inclusive,values:Fe.position}}(t.endAt)),{gt:Ae,parent:xe}}function __PRIVATE_convertQueryTargetToQuery(Ee){let t=__PRIVATE_fromQueryPath(Ee.parent);const Ae=Ee.structuredQuery,_e=Ae.from?Ae.from.length:0;let xe=null;if(_e>0){__PRIVATE_hardAssert(_e===1,65062);const Ie=Ae.from[0];Ie.allDescendants?xe=Ie.collectionId:t=t.child(Ie.collectionId)}let Ce=[];Ae.where&&(Ce=function(Ue){const ke=__PRIVATE_fromFilter(Ue);return ke instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(ke)?ke.getFilters():[ke]}(Ae.where));let Se=[];Ae.orderBy&&(Se=function(Ue){return Ue.map(ke=>function(je){return new OrderBy(__PRIVATE_fromFieldPathReference(je.field),function(ze){switch(ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(je.direction))}(ke))}(Ae.orderBy));let Re=null;Ae.limit&&(Re=function(Ue){let ke;return ke=typeof Ue=="object"?Ue.value:Ue,__PRIVATE_isNullOrUndefined(ke)?null:ke}(Ae.limit));let Be=null;Ae.startAt&&(Be=function(Ue){const ke=!!Ue.before,Oe=Ue.values||[];return new Bound(Oe,ke)}(Ae.startAt));let Fe=null;return Ae.endAt&&(Fe=function(Ue){const ke=!Ue.before,Oe=Ue.values||[];return new Bound(Oe,ke)}(Ae.endAt)),__PRIVATE_newQuery(t,xe,Se,Ce,Re,"F",Be,Fe)}function __PRIVATE_toListenRequestLabels(Ee,t){const Ae=function(xe){switch(xe){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail(28987,{purpose:xe})}}(t.purpose);return Ae==null?null:{"goog-listen-tags":Ae}}function __PRIVATE_fromFilter(Ee){return Ee.unaryFilter!==void 0?function(Ae){switch(Ae.unaryFilter.op){case"IS_NAN":const _e=__PRIVATE_fromFieldPathReference(Ae.unaryFilter.field);return FieldFilter.create(_e,"==",{doubleValue:NaN});case"IS_NULL":const xe=__PRIVATE_fromFieldPathReference(Ae.unaryFilter.field);return FieldFilter.create(xe,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const Ce=__PRIVATE_fromFieldPathReference(Ae.unaryFilter.field);return FieldFilter.create(Ce,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const Se=__PRIVATE_fromFieldPathReference(Ae.unaryFilter.field);return FieldFilter.create(Se,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fail(61313);default:return fail(60726)}}(Ee):Ee.fieldFilter!==void 0?function(Ae){return FieldFilter.create(__PRIVATE_fromFieldPathReference(Ae.fieldFilter.field),function(xe){switch(xe){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fail(58110);default:return fail(50506)}}(Ae.fieldFilter.op),Ae.fieldFilter.value)}(Ee):Ee.compositeFilter!==void 0?function(Ae){return CompositeFilter.create(Ae.compositeFilter.filters.map(_e=>__PRIVATE_fromFilter(_e)),function(xe){switch(xe){case"AND":return"and";case"OR":return"or";default:return fail(1026)}}(Ae.compositeFilter.op))}(Ee):fail(30097,{filter:Ee})}function __PRIVATE_toDirection(Ee){return wt$1[Ee]}function __PRIVATE_toOperatorName(Ee){return bt$1[Ee]}function __PRIVATE_toCompositeOperatorName(Ee){return St[Ee]}function __PRIVATE_toFieldPathReference(Ee){return{fieldPath:Ee.canonicalString()}}function __PRIVATE_fromFieldPathReference(Ee){return FieldPath$1.fromServerFormat(Ee.fieldPath)}function __PRIVATE_toFilter(Ee){return Ee instanceof FieldFilter?function(Ae){if(Ae.op==="=="){if(__PRIVATE_isNanValue(Ae.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(Ae.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(Ae.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(Ae.field),op:"IS_NULL"}}}else if(Ae.op==="!="){if(__PRIVATE_isNanValue(Ae.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(Ae.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(Ae.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(Ae.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(Ae.field),op:__PRIVATE_toOperatorName(Ae.op),value:Ae.value}}}(Ee):Ee instanceof CompositeFilter?function(Ae){const _e=Ae.getFilters().map(xe=>__PRIVATE_toFilter(xe));return _e.length===1?_e[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(Ae.op),filters:_e}}}(Ee):fail(54877,{filter:Ee})}function __PRIVATE_toDocumentMask(Ee){const t=[];return Ee.fields.forEach(Ae=>t.push(Ae.canonicalString())),{fieldPaths:t}}function __PRIVATE_isValidResourceName(Ee){return Ee.length>=4&&Ee.get(0)==="projects"&&Ee.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(t,Ae,_e,xe,Ce=SnapshotVersion.min(),Se=SnapshotVersion.min(),Re=ByteString.EMPTY_BYTE_STRING,Be=null){this.target=t,this.targetId=Ae,this.purpose=_e,this.sequenceNumber=xe,this.snapshotVersion=Ce,this.lastLimboFreeSnapshotVersion=Se,this.resumeToken=Re,this.expectedCount=Be}withSequenceNumber(t){return new TargetData(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,Ae){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,Ae,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(t){this.wt=t}}function __PRIVATE_fromBundledQuery(Ee){const t=__PRIVATE_convertQueryTargetToQuery({parent:Ee.parent,structuredQuery:Ee.structuredQuery});return Ee.limitType==="LAST"?__PRIVATE_queryWithLimit(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.Cn=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(t,Ae){return this.Cn.add(Ae),PersistencePromise.resolve()}getCollectionParents(t,Ae){return PersistencePromise.resolve(this.Cn.getEntries(Ae))}addFieldIndex(t,Ae){return PersistencePromise.resolve()}deleteFieldIndex(t,Ae){return PersistencePromise.resolve()}deleteAllFieldIndexes(t){return PersistencePromise.resolve()}createTargetIndexes(t,Ae){return PersistencePromise.resolve()}getDocumentsMatchingTarget(t,Ae){return PersistencePromise.resolve(null)}getIndexType(t,Ae){return PersistencePromise.resolve(0)}getFieldIndexes(t,Ae){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(t){return PersistencePromise.resolve(null)}getMinOffset(t,Ae){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(t,Ae){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(t,Ae,_e){return PersistencePromise.resolve()}updateIndexEntries(t,Ae){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(t){const Ae=t.lastSegment(),_e=t.popLast(),xe=this.index[Ae]||new SortedSet(ResourcePath.comparator),Ce=!xe.has(_e);return this.index[Ae]=xe.add(_e),Ce}has(t){const Ae=t.lastSegment(),_e=t.popLast(),xe=this.index[Ae];return xe&&xe.has(_e)}getEntries(t){return(this.index[t]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft$1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mt$1=41943040;class LruParams{static withCacheSize(t){return new LruParams(t,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,Ae,_e){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=Ae,this.maximumSequenceNumbersToCollect=_e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(Mt$1,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new __PRIVATE_TargetIdGenerator(0)}static lr(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt$1="LruGarbageCollector",Ot$1=1048576;function __PRIVATE_bufferEntryComparator([Ee,t],[Ae,_e]){const xe=__PRIVATE_primitiveComparator(Ee,Ae);return xe===0?__PRIVATE_primitiveComparator(t,_e):xe}class __PRIVATE_RollingSequenceNumberBuffer{constructor(t){this.Er=t,this.buffer=new SortedSet(__PRIVATE_bufferEntryComparator),this.dr=0}Ar(){return++this.dr}Rr(t){const Ae=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(Ae);else{const _e=this.buffer.last();__PRIVATE_bufferEntryComparator(Ae,_e)<0&&(this.buffer=this.buffer.delete(_e).add(Ae))}}get maxValue(){return this.buffer.last()[0]}}class __PRIVATE_LruScheduler{constructor(t,Ae,_e){this.garbageCollector=t,this.asyncQueue=Ae,this.localStore=_e,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){__PRIVATE_logDebug(xt$1,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(Ae){__PRIVATE_isIndexedDbTransactionError(Ae)?__PRIVATE_logDebug(xt$1,"Ignoring IndexedDB error during garbage collection: ",Ae):await __PRIVATE_ignoreIfPrimaryLeaseLoss(Ae)}await this.mr(3e5)})}}class __PRIVATE_LruGarbageCollectorImpl{constructor(t,Ae){this.gr=t,this.params=Ae}calculateTargetCount(t,Ae){return this.gr.pr(t).next(_e=>Math.floor(Ae/100*_e))}nthSequenceNumber(t,Ae){if(Ae===0)return PersistencePromise.resolve(__PRIVATE_ListenSequence.le);const _e=new __PRIVATE_RollingSequenceNumberBuffer(Ae);return this.gr.forEachTarget(t,xe=>_e.Rr(xe.sequenceNumber)).next(()=>this.gr.yr(t,xe=>_e.Rr(xe))).next(()=>_e.maxValue)}removeTargets(t,Ae,_e){return this.gr.removeTargets(t,Ae,_e)}removeOrphanedDocuments(t,Ae){return this.gr.removeOrphanedDocuments(t,Ae)}collect(t,Ae){return this.params.cacheSizeCollectionThreshold===-1?(__PRIVATE_logDebug("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(Ft$1)):this.getCacheSize(t).next(_e=>_e<this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug("LruGarbageCollector",`Garbage collection skipped; Cache size ${_e} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ft$1):this.wr(t,Ae))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,Ae){let _e,xe,Ce,Se,Re,Be,Fe;const Ie=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Ue=>(Ue>this.params.maximumSequenceNumbersToCollect?(__PRIVATE_logDebug("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ue}`),xe=this.params.maximumSequenceNumbersToCollect):xe=Ue,Se=Date.now(),this.nthSequenceNumber(t,xe))).next(Ue=>(_e=Ue,Re=Date.now(),this.removeTargets(t,_e,Ae))).next(Ue=>(Ce=Ue,Be=Date.now(),this.removeOrphanedDocuments(t,_e))).next(Ue=>(Fe=Date.now(),__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${Se-Ie}ms
	Determined least recently used ${xe} in `+(Re-Se)+`ms
	Removed ${Ce} targets in `+(Be-Re)+`ms
	Removed ${Ue} documents in `+(Fe-Be)+`ms
Total Duration: ${Fe-Ie}ms`),PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:xe,targetsRemoved:Ce,documentsRemoved:Ue})))}}function __PRIVATE_newLruGarbageCollector(Ee,t){return new __PRIVATE_LruGarbageCollectorImpl(Ee,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(t=>t.toString(),(t,Ae)=>t.isEqual(Ae)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,Ae){this.assertNotApplied(),this.changes.set(t,MutableDocument.newInvalidDocument(t).setReadTime(Ae))}getEntry(t,Ae){this.assertNotApplied();const _e=this.changes.get(Ae);return _e!==void 0?PersistencePromise.resolve(_e):this.getFromCache(t,Ae)}getEntries(t,Ae){return this.getAllFromCache(t,Ae)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(t,Ae){this.overlayedDocument=t,this.mutatedFields=Ae}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(t,Ae,_e,xe){this.remoteDocumentCache=t,this.mutationQueue=Ae,this.documentOverlayCache=_e,this.indexManager=xe}getDocument(t,Ae){let _e=null;return this.documentOverlayCache.getOverlay(t,Ae).next(xe=>(_e=xe,this.remoteDocumentCache.getEntry(t,Ae))).next(xe=>(_e!==null&&__PRIVATE_mutationApplyToLocalView(_e.mutation,xe,FieldMask.empty(),Timestamp.now()),xe))}getDocuments(t,Ae){return this.remoteDocumentCache.getEntries(t,Ae).next(_e=>this.getLocalViewOfDocuments(t,_e,__PRIVATE_documentKeySet()).next(()=>_e))}getLocalViewOfDocuments(t,Ae,_e=__PRIVATE_documentKeySet()){const xe=__PRIVATE_newOverlayMap();return this.populateOverlays(t,xe,Ae).next(()=>this.computeViews(t,Ae,xe,_e).next(Ce=>{let Se=documentMap();return Ce.forEach((Re,Be)=>{Se=Se.insert(Re,Be.overlayedDocument)}),Se}))}getOverlayedDocuments(t,Ae){const _e=__PRIVATE_newOverlayMap();return this.populateOverlays(t,_e,Ae).next(()=>this.computeViews(t,Ae,_e,__PRIVATE_documentKeySet()))}populateOverlays(t,Ae,_e){const xe=[];return _e.forEach(Ce=>{Ae.has(Ce)||xe.push(Ce)}),this.documentOverlayCache.getOverlays(t,xe).next(Ce=>{Ce.forEach((Se,Re)=>{Ae.set(Se,Re)})})}computeViews(t,Ae,_e,xe){let Ce=__PRIVATE_mutableDocumentMap();const Se=__PRIVATE_newDocumentKeyMap(),Re=function(){return __PRIVATE_newDocumentKeyMap()}();return Ae.forEach((Be,Fe)=>{const Ie=_e.get(Fe.key);xe.has(Fe.key)&&(Ie===void 0||Ie.mutation instanceof __PRIVATE_PatchMutation)?Ce=Ce.insert(Fe.key,Fe):Ie!==void 0?(Se.set(Fe.key,Ie.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(Ie.mutation,Fe,Ie.mutation.getFieldMask(),Timestamp.now())):Se.set(Fe.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(t,Ce).next(Be=>(Be.forEach((Fe,Ie)=>Se.set(Fe,Ie)),Ae.forEach((Fe,Ie)=>{var Ue;return Re.set(Fe,new OverlayedDocument(Ie,(Ue=Se.get(Fe))!==null&&Ue!==void 0?Ue:null))}),Re))}recalculateAndSaveOverlays(t,Ae){const _e=__PRIVATE_newDocumentKeyMap();let xe=new SortedMap((Se,Re)=>Se-Re),Ce=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,Ae).next(Se=>{for(const Re of Se)Re.keys().forEach(Be=>{const Fe=Ae.get(Be);if(Fe===null)return;let Ie=_e.get(Be)||FieldMask.empty();Ie=Re.applyToLocalView(Fe,Ie),_e.set(Be,Ie);const Ue=(xe.get(Re.batchId)||__PRIVATE_documentKeySet()).add(Be);xe=xe.insert(Re.batchId,Ue)})}).next(()=>{const Se=[],Re=xe.getReverseIterator();for(;Re.hasNext();){const Be=Re.getNext(),Fe=Be.key,Ie=Be.value,Ue=__PRIVATE_newMutationMap();Ie.forEach(ke=>{if(!Ce.has(ke)){const Oe=__PRIVATE_calculateOverlayMutation(Ae.get(ke),_e.get(ke));Oe!==null&&Ue.set(ke,Oe),Ce=Ce.add(ke)}}),Se.push(this.documentOverlayCache.saveOverlays(t,Fe,Ue))}return PersistencePromise.waitFor(Se)}).next(()=>_e)}recalculateAndSaveOverlaysForDocumentKeys(t,Ae){return this.remoteDocumentCache.getEntries(t,Ae).next(_e=>this.recalculateAndSaveOverlays(t,_e))}getDocumentsMatchingQuery(t,Ae,_e,xe){return function(Se){return DocumentKey.isDocumentKey(Se.path)&&Se.collectionGroup===null&&Se.filters.length===0}(Ae)?this.getDocumentsMatchingDocumentQuery(t,Ae.path):__PRIVATE_isCollectionGroupQuery(Ae)?this.getDocumentsMatchingCollectionGroupQuery(t,Ae,_e,xe):this.getDocumentsMatchingCollectionQuery(t,Ae,_e,xe)}getNextDocuments(t,Ae,_e,xe){return this.remoteDocumentCache.getAllFromCollectionGroup(t,Ae,_e,xe).next(Ce=>{const Se=xe-Ce.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,Ae,_e.largestBatchId,xe-Ce.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let Re=Q$1,Be=Ce;return Se.next(Fe=>PersistencePromise.forEach(Fe,(Ie,Ue)=>(Re<Ue.largestBatchId&&(Re=Ue.largestBatchId),Ce.get(Ie)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(t,Ie).next(ke=>{Be=Be.insert(Ie,ke)}))).next(()=>this.populateOverlays(t,Fe,Ce)).next(()=>this.computeViews(t,Be,Fe,__PRIVATE_documentKeySet())).next(Ie=>({batchId:Re,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(Ie)})))})}getDocumentsMatchingDocumentQuery(t,Ae){return this.getDocument(t,new DocumentKey(Ae)).next(_e=>{let xe=documentMap();return _e.isFoundDocument()&&(xe=xe.insert(_e.key,_e)),xe})}getDocumentsMatchingCollectionGroupQuery(t,Ae,_e,xe){const Ce=Ae.collectionGroup;let Se=documentMap();return this.indexManager.getCollectionParents(t,Ce).next(Re=>PersistencePromise.forEach(Re,Be=>{const Fe=function(Ue,ke){return new __PRIVATE_QueryImpl(ke,null,Ue.explicitOrderBy.slice(),Ue.filters.slice(),Ue.limit,Ue.limitType,Ue.startAt,Ue.endAt)}(Ae,Be.child(Ce));return this.getDocumentsMatchingCollectionQuery(t,Fe,_e,xe).next(Ie=>{Ie.forEach((Ue,ke)=>{Se=Se.insert(Ue,ke)})})}).next(()=>Se))}getDocumentsMatchingCollectionQuery(t,Ae,_e,xe){let Ce;return this.documentOverlayCache.getOverlaysForCollection(t,Ae.path,_e.largestBatchId).next(Se=>(Ce=Se,this.remoteDocumentCache.getDocumentsMatchingQuery(t,Ae,_e,Ce,xe))).next(Se=>{Ce.forEach((Be,Fe)=>{const Ie=Fe.getKey();Se.get(Ie)===null&&(Se=Se.insert(Ie,MutableDocument.newInvalidDocument(Ie)))});let Re=documentMap();return Se.forEach((Be,Fe)=>{const Ie=Ce.get(Be);Ie!==void 0&&__PRIVATE_mutationApplyToLocalView(Ie.mutation,Fe,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(Ae,Fe)&&(Re=Re.insert(Be,Fe))}),Re})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,Ae){return PersistencePromise.resolve(this.kr.get(Ae))}saveBundleMetadata(t,Ae){return this.kr.set(Ae.id,function(xe){return{id:xe.id,version:xe.version,createTime:__PRIVATE_fromVersion(xe.createTime)}}(Ae)),PersistencePromise.resolve()}getNamedQuery(t,Ae){return PersistencePromise.resolve(this.qr.get(Ae))}saveNamedQuery(t,Ae){return this.qr.set(Ae.name,function(xe){return{name:xe.name,query:__PRIVATE_fromBundledQuery(xe.bundledQuery),readTime:__PRIVATE_fromVersion(xe.readTime)}}(Ae)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Qr=new Map}getOverlay(t,Ae){return PersistencePromise.resolve(this.overlays.get(Ae))}getOverlays(t,Ae){const _e=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(Ae,xe=>this.getOverlay(t,xe).next(Ce=>{Ce!==null&&_e.set(xe,Ce)})).next(()=>_e)}saveOverlays(t,Ae,_e){return _e.forEach((xe,Ce)=>{this.St(t,Ae,Ce)}),PersistencePromise.resolve()}removeOverlaysForBatchId(t,Ae,_e){const xe=this.Qr.get(_e);return xe!==void 0&&(xe.forEach(Ce=>this.overlays=this.overlays.remove(Ce)),this.Qr.delete(_e)),PersistencePromise.resolve()}getOverlaysForCollection(t,Ae,_e){const xe=__PRIVATE_newOverlayMap(),Ce=Ae.length+1,Se=new DocumentKey(Ae.child("")),Re=this.overlays.getIteratorFrom(Se);for(;Re.hasNext();){const Be=Re.getNext().value,Fe=Be.getKey();if(!Ae.isPrefixOf(Fe.path))break;Fe.path.length===Ce&&Be.largestBatchId>_e&&xe.set(Be.getKey(),Be)}return PersistencePromise.resolve(xe)}getOverlaysForCollectionGroup(t,Ae,_e,xe){let Ce=new SortedMap((Fe,Ie)=>Fe-Ie);const Se=this.overlays.getIterator();for(;Se.hasNext();){const Fe=Se.getNext().value;if(Fe.getKey().getCollectionGroup()===Ae&&Fe.largestBatchId>_e){let Ie=Ce.get(Fe.largestBatchId);Ie===null&&(Ie=__PRIVATE_newOverlayMap(),Ce=Ce.insert(Fe.largestBatchId,Ie)),Ie.set(Fe.getKey(),Fe)}}const Re=__PRIVATE_newOverlayMap(),Be=Ce.getIterator();for(;Be.hasNext()&&(Be.getNext().value.forEach((Fe,Ie)=>Re.set(Fe,Ie)),!(Re.size()>=xe)););return PersistencePromise.resolve(Re)}St(t,Ae,_e){const xe=this.overlays.get(_e.key);if(xe!==null){const Se=this.Qr.get(xe.largestBatchId).delete(_e.key);this.Qr.set(xe.largestBatchId,Se)}this.overlays=this.overlays.insert(_e.key,new Overlay(Ae,_e));let Ce=this.Qr.get(Ae);Ce===void 0&&(Ce=__PRIVATE_documentKeySet(),this.Qr.set(Ae,Ce)),this.Qr.set(Ae,Ce.add(_e.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(t){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(t,Ae){return this.sessionToken=Ae,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.$r=new SortedSet(__PRIVATE_DocReference.Ur),this.Kr=new SortedSet(__PRIVATE_DocReference.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,Ae){const _e=new __PRIVATE_DocReference(t,Ae);this.$r=this.$r.add(_e),this.Kr=this.Kr.add(_e)}Gr(t,Ae){t.forEach(_e=>this.addReference(_e,Ae))}removeReference(t,Ae){this.zr(new __PRIVATE_DocReference(t,Ae))}jr(t,Ae){t.forEach(_e=>this.removeReference(_e,Ae))}Hr(t){const Ae=new DocumentKey(new ResourcePath([])),_e=new __PRIVATE_DocReference(Ae,t),xe=new __PRIVATE_DocReference(Ae,t+1),Ce=[];return this.Kr.forEachInRange([_e,xe],Se=>{this.zr(Se),Ce.push(Se.key)}),Ce}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const Ae=new DocumentKey(new ResourcePath([])),_e=new __PRIVATE_DocReference(Ae,t),xe=new __PRIVATE_DocReference(Ae,t+1);let Ce=__PRIVATE_documentKeySet();return this.Kr.forEachInRange([_e,xe],Se=>{Ce=Ce.add(Se.key)}),Ce}containsKey(t){const Ae=new __PRIVATE_DocReference(t,0),_e=this.$r.firstAfterOrEqual(Ae);return _e!==null&&t.isEqual(_e.key)}}class __PRIVATE_DocReference{constructor(t,Ae){this.key=t,this.Zr=Ae}static Ur(t,Ae){return DocumentKey.comparator(t.key,Ae.key)||__PRIVATE_primitiveComparator(t.Zr,Ae.Zr)}static Wr(t,Ae){return __PRIVATE_primitiveComparator(t.Zr,Ae.Zr)||DocumentKey.comparator(t.key,Ae.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(t,Ae){this.indexManager=t,this.referenceDelegate=Ae,this.mutationQueue=[],this.nr=1,this.Xr=new SortedSet(__PRIVATE_DocReference.Ur)}checkEmpty(t){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(t,Ae,_e,xe){const Ce=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const Se=new MutationBatch(Ce,Ae,_e,xe);this.mutationQueue.push(Se);for(const Re of xe)this.Xr=this.Xr.add(new __PRIVATE_DocReference(Re.key,Ce)),this.indexManager.addToCollectionParentIndex(t,Re.key.path.popLast());return PersistencePromise.resolve(Se)}lookupMutationBatch(t,Ae){return PersistencePromise.resolve(this.ei(Ae))}getNextMutationBatchAfterBatchId(t,Ae){const _e=Ae+1,xe=this.ti(_e),Ce=xe<0?0:xe;return PersistencePromise.resolve(this.mutationQueue.length>Ce?this.mutationQueue[Ce]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?G$1:this.nr-1)}getAllMutationBatches(t){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,Ae){const _e=new __PRIVATE_DocReference(Ae,0),xe=new __PRIVATE_DocReference(Ae,Number.POSITIVE_INFINITY),Ce=[];return this.Xr.forEachInRange([_e,xe],Se=>{const Re=this.ei(Se.Zr);Ce.push(Re)}),PersistencePromise.resolve(Ce)}getAllMutationBatchesAffectingDocumentKeys(t,Ae){let _e=new SortedSet(__PRIVATE_primitiveComparator);return Ae.forEach(xe=>{const Ce=new __PRIVATE_DocReference(xe,0),Se=new __PRIVATE_DocReference(xe,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([Ce,Se],Re=>{_e=_e.add(Re.Zr)})}),PersistencePromise.resolve(this.ni(_e))}getAllMutationBatchesAffectingQuery(t,Ae){const _e=Ae.path,xe=_e.length+1;let Ce=_e;DocumentKey.isDocumentKey(Ce)||(Ce=Ce.child(""));const Se=new __PRIVATE_DocReference(new DocumentKey(Ce),0);let Re=new SortedSet(__PRIVATE_primitiveComparator);return this.Xr.forEachWhile(Be=>{const Fe=Be.key.path;return!!_e.isPrefixOf(Fe)&&(Fe.length===xe&&(Re=Re.add(Be.Zr)),!0)},Se),PersistencePromise.resolve(this.ni(Re))}ni(t){const Ae=[];return t.forEach(_e=>{const xe=this.ei(_e);xe!==null&&Ae.push(xe)}),Ae}removeMutationBatch(t,Ae){__PRIVATE_hardAssert(this.ri(Ae.batchId,"removed")===0,55003),this.mutationQueue.shift();let _e=this.Xr;return PersistencePromise.forEach(Ae.mutations,xe=>{const Ce=new __PRIVATE_DocReference(xe.key,Ae.batchId);return _e=_e.delete(Ce),this.referenceDelegate.markPotentiallyOrphaned(t,xe.key)}).next(()=>{this.Xr=_e})}sr(t){}containsKey(t,Ae){const _e=new __PRIVATE_DocReference(Ae,0),xe=this.Xr.firstAfterOrEqual(_e);return PersistencePromise.resolve(Ae.isEqual(xe&&xe.key))}performConsistencyCheck(t){return this.mutationQueue.length,PersistencePromise.resolve()}ri(t,Ae){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const Ae=this.ti(t);return Ae<0||Ae>=this.mutationQueue.length?null:this.mutationQueue[Ae]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(t){this.ii=t,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,Ae){const _e=Ae.key,xe=this.docs.get(_e),Ce=xe?xe.size:0,Se=this.ii(Ae);return this.docs=this.docs.insert(_e,{document:Ae.mutableCopy(),size:Se}),this.size+=Se-Ce,this.indexManager.addToCollectionParentIndex(t,_e.path.popLast())}removeEntry(t){const Ae=this.docs.get(t);Ae&&(this.docs=this.docs.remove(t),this.size-=Ae.size)}getEntry(t,Ae){const _e=this.docs.get(Ae);return PersistencePromise.resolve(_e?_e.document.mutableCopy():MutableDocument.newInvalidDocument(Ae))}getEntries(t,Ae){let _e=__PRIVATE_mutableDocumentMap();return Ae.forEach(xe=>{const Ce=this.docs.get(xe);_e=_e.insert(xe,Ce?Ce.document.mutableCopy():MutableDocument.newInvalidDocument(xe))}),PersistencePromise.resolve(_e)}getDocumentsMatchingQuery(t,Ae,_e,xe){let Ce=__PRIVATE_mutableDocumentMap();const Se=Ae.path,Re=new DocumentKey(Se.child("__id-9223372036854775808__")),Be=this.docs.getIteratorFrom(Re);for(;Be.hasNext();){const{key:Fe,value:{document:Ie}}=Be.getNext();if(!Se.isPrefixOf(Fe.path))break;Fe.path.length>Se.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(Ie),_e)<=0||(xe.has(Ie.key)||__PRIVATE_queryMatches(Ae,Ie))&&(Ce=Ce.insert(Ie.key,Ie.mutableCopy()))}return PersistencePromise.resolve(Ce)}getAllFromCollectionGroup(t,Ae,_e,xe){fail(9500)}si(t,Ae){return PersistencePromise.forEach(this.docs,_e=>Ae(_e))}newChangeBuffer(t){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(t){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(t){super(),this.Br=t}applyChanges(t){const Ae=[];return this.changes.forEach((_e,xe)=>{xe.isValidDocument()?Ae.push(this.Br.addEntry(t,xe)):this.Br.removeEntry(_e)}),PersistencePromise.waitFor(Ae)}getFromCache(t,Ae){return this.Br.getEntry(t,Ae)}getAllFromCache(t,Ae){return this.Br.getEntries(t,Ae)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(t){this.persistence=t,this.oi=new ObjectMap(Ae=>__PRIVATE_canonifyTarget(Ae),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this._i=0,this.ai=new __PRIVATE_ReferenceSet,this.targetCount=0,this.ui=__PRIVATE_TargetIdGenerator.cr()}forEachTarget(t,Ae){return this.oi.forEach((_e,xe)=>Ae(xe)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(t){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return PersistencePromise.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(t,Ae,_e){return _e&&(this.lastRemoteSnapshotVersion=_e),Ae>this._i&&(this._i=Ae),PersistencePromise.resolve()}Tr(t){this.oi.set(t.target,t);const Ae=t.targetId;Ae>this.highestTargetId&&(this.ui=new __PRIVATE_TargetIdGenerator(Ae),this.highestTargetId=Ae),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,Ae){return this.Tr(Ae),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(t,Ae){return this.Tr(Ae),PersistencePromise.resolve()}removeTargetData(t,Ae){return this.oi.delete(Ae.target),this.ai.Hr(Ae.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(t,Ae,_e){let xe=0;const Ce=[];return this.oi.forEach((Se,Re)=>{Re.sequenceNumber<=Ae&&_e.get(Re.targetId)===null&&(this.oi.delete(Se),Ce.push(this.removeMatchingKeysForTargetId(t,Re.targetId)),xe++)}),PersistencePromise.waitFor(Ce).next(()=>xe)}getTargetCount(t){return PersistencePromise.resolve(this.targetCount)}getTargetData(t,Ae){const _e=this.oi.get(Ae)||null;return PersistencePromise.resolve(_e)}addMatchingKeys(t,Ae,_e){return this.ai.Gr(Ae,_e),PersistencePromise.resolve()}removeMatchingKeys(t,Ae,_e){this.ai.jr(Ae,_e);const xe=this.persistence.referenceDelegate,Ce=[];return xe&&Ae.forEach(Se=>{Ce.push(xe.markPotentiallyOrphaned(t,Se))}),PersistencePromise.waitFor(Ce)}removeMatchingKeysForTargetId(t,Ae){return this.ai.Hr(Ae),PersistencePromise.resolve()}getMatchingKeysForTargetId(t,Ae){const _e=this.ai.Yr(Ae);return PersistencePromise.resolve(_e)}containsKey(t,Ae){return PersistencePromise.resolve(this.ai.containsKey(Ae))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(t,Ae){this.ci={},this.overlays={},this.li=new __PRIVATE_ListenSequence(0),this.hi=!1,this.hi=!0,this.Pi=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=t(this),this.Ti=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(xe){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(xe)}(_e=>this.referenceDelegate.Ii(_e)),this.serializer=new __PRIVATE_LocalSerializer(Ae),this.Ei=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let Ae=this.overlays[t.toKey()];return Ae||(Ae=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[t.toKey()]=Ae),Ae}getMutationQueue(t,Ae){let _e=this.ci[t.toKey()];return _e||(_e=new __PRIVATE_MemoryMutationQueue(Ae,this.referenceDelegate),this.ci[t.toKey()]=_e),_e}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,Ae,_e){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",t);const xe=new __PRIVATE_MemoryTransaction(this.li.next());return this.referenceDelegate.di(),_e(xe).next(Ce=>this.referenceDelegate.Ai(xe).next(()=>Ce)).toPromise().then(Ce=>(xe.raiseOnCommittedEvent(),Ce))}Ri(t,Ae){return PersistencePromise.or(Object.values(this.ci).map(_e=>()=>_e.containsKey(t,Ae)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(t){super(),this.currentSequenceNumber=t}}class __PRIVATE_MemoryEagerDelegate{constructor(t){this.persistence=t,this.Vi=new __PRIVATE_ReferenceSet,this.mi=null}static fi(t){return new __PRIVATE_MemoryEagerDelegate(t)}get gi(){if(this.mi)return this.mi;throw fail(60996)}addReference(t,Ae,_e){return this.Vi.addReference(_e,Ae),this.gi.delete(_e.toString()),PersistencePromise.resolve()}removeReference(t,Ae,_e){return this.Vi.removeReference(_e,Ae),this.gi.add(_e.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(t,Ae){return this.gi.add(Ae.toString()),PersistencePromise.resolve()}removeTarget(t,Ae){this.Vi.Hr(Ae.targetId).forEach(xe=>this.gi.add(xe.toString()));const _e=this.persistence.getTargetCache();return _e.getMatchingKeysForTargetId(t,Ae.targetId).next(xe=>{xe.forEach(Ce=>this.gi.add(Ce.toString()))}).next(()=>_e.removeTargetData(t,Ae))}di(){this.mi=new Set}Ai(t){const Ae=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.gi,_e=>{const xe=DocumentKey.fromPath(_e);return this.pi(t,xe).next(Ce=>{Ce||Ae.removeEntry(xe,SnapshotVersion.min())})}).next(()=>(this.mi=null,Ae.apply(t)))}updateLimboDocument(t,Ae){return this.pi(t,Ae).next(_e=>{_e?this.gi.delete(Ae.toString()):this.gi.add(Ae.toString())})}Ii(t){return 0}pi(t,Ae){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Vi.containsKey(Ae)),()=>this.persistence.getTargetCache().containsKey(t,Ae),()=>this.persistence.Ri(t,Ae)])}}class __PRIVATE_MemoryLruDelegate{constructor(t,Ae){this.persistence=t,this.yi=new ObjectMap(_e=>__PRIVATE_encodeResourcePath(_e.path),(_e,xe)=>_e.isEqual(xe)),this.garbageCollector=__PRIVATE_newLruGarbageCollector(this,Ae)}static fi(t,Ae){return new __PRIVATE_MemoryLruDelegate(t,Ae)}di(){}Ai(t){return PersistencePromise.resolve()}forEachTarget(t,Ae){return this.persistence.getTargetCache().forEachTarget(t,Ae)}pr(t){const Ae=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(_e=>Ae.next(xe=>_e+xe))}br(t){let Ae=0;return this.yr(t,_e=>{Ae++}).next(()=>Ae)}yr(t,Ae){return PersistencePromise.forEach(this.yi,(_e,xe)=>this.Dr(t,_e,xe).next(Ce=>Ce?PersistencePromise.resolve():Ae(xe)))}removeTargets(t,Ae,_e){return this.persistence.getTargetCache().removeTargets(t,Ae,_e)}removeOrphanedDocuments(t,Ae){let _e=0;const xe=this.persistence.getRemoteDocumentCache(),Ce=xe.newChangeBuffer();return xe.si(t,Se=>this.Dr(t,Se,Ae).next(Re=>{Re||(_e++,Ce.removeEntry(Se,SnapshotVersion.min()))})).next(()=>Ce.apply(t)).next(()=>_e)}markPotentiallyOrphaned(t,Ae){return this.yi.set(Ae,t.currentSequenceNumber),PersistencePromise.resolve()}removeTarget(t,Ae){const _e=Ae.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,_e)}addReference(t,Ae,_e){return this.yi.set(_e,t.currentSequenceNumber),PersistencePromise.resolve()}removeReference(t,Ae,_e){return this.yi.set(_e,t.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument(t,Ae){return this.yi.set(Ae,t.currentSequenceNumber),PersistencePromise.resolve()}Ii(t){let Ae=t.key.toString().length;return t.isFoundDocument()&&(Ae+=__PRIVATE_estimateByteSize(t.data.value)),Ae}Dr(t,Ae,_e){return PersistencePromise.or([()=>this.persistence.Ri(t,Ae),()=>this.persistence.getTargetCache().containsKey(t,Ae),()=>{const xe=this.yi.get(Ae);return PersistencePromise.resolve(xe!==void 0&&xe>_e)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(t,Ae,_e,xe){this.targetId=t,this.fromCache=Ae,this.ds=_e,this.As=xe}static Rs(t,Ae){let _e=__PRIVATE_documentKeySet(),xe=__PRIVATE_documentKeySet();for(const Ce of Ae.docChanges)switch(Ce.type){case 0:_e=_e.add(Ce.doc.key);break;case 1:xe=xe.add(Ce.doc.key)}return new __PRIVATE_LocalViewChanges(t,Ae.fromCache,_e,xe)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(t,Ae){this.ys=t,this.indexManager=Ae,this.Vs=!0}getDocumentsMatchingQuery(t,Ae,_e,xe){const Ce={result:null};return this.ws(t,Ae).next(Se=>{Ce.result=Se}).next(()=>{if(!Ce.result)return this.bs(t,Ae,xe,_e).next(Se=>{Ce.result=Se})}).next(()=>{if(Ce.result)return;const Se=new QueryContext;return this.Ss(t,Ae,Se).next(Re=>{if(Ce.result=Re,this.fs)return this.Ds(t,Ae,Se,Re.size)})}).next(()=>Ce.result)}Ds(t,Ae,_e,xe){return _e.documentReadCount<this.gs?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(Ae),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(Ae),"scans",_e.documentReadCount,"local documents and returns",xe,"documents as results."),_e.documentReadCount>this.ps*xe?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(Ae),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,__PRIVATE_queryToTarget(Ae))):PersistencePromise.resolve())}ws(t,Ae){if(__PRIVATE_queryMatchesAllDocuments(Ae))return PersistencePromise.resolve(null);let _e=__PRIVATE_queryToTarget(Ae);return this.indexManager.getIndexType(t,_e).next(xe=>xe===0?null:(Ae.limit!==null&&xe===1&&(Ae=__PRIVATE_queryWithLimit(Ae,null,"F"),_e=__PRIVATE_queryToTarget(Ae)),this.indexManager.getDocumentsMatchingTarget(t,_e).next(Ce=>{const Se=__PRIVATE_documentKeySet(...Ce);return this.ys.getDocuments(t,Se).next(Re=>this.indexManager.getMinOffset(t,_e).next(Be=>{const Fe=this.vs(Ae,Re);return this.Cs(Ae,Fe,Se,Be.readTime)?this.ws(t,__PRIVATE_queryWithLimit(Ae,null,"F")):this.Fs(t,Fe,Ae,Be)}))})))}bs(t,Ae,_e,xe){return __PRIVATE_queryMatchesAllDocuments(Ae)||xe.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.ys.getDocuments(t,_e).next(Ce=>{const Se=this.vs(Ae,Ce);return this.Cs(Ae,Se,_e,xe)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",xe.toString(),__PRIVATE_stringifyQuery(Ae)),this.Fs(t,Se,Ae,__PRIVATE_newIndexOffsetSuccessorFromReadTime(xe,Q$1)).next(Re=>Re))})}vs(t,Ae){let _e=new SortedSet(__PRIVATE_newQueryComparator(t));return Ae.forEach((xe,Ce)=>{__PRIVATE_queryMatches(t,Ce)&&(_e=_e.add(Ce))}),_e}Cs(t,Ae,_e,xe){if(t.limit===null)return!1;if(_e.size!==Ae.size)return!0;const Ce=t.limitType==="F"?Ae.last():Ae.first();return!!Ce&&(Ce.hasPendingWrites||Ce.version.compareTo(xe)>0)}Ss(t,Ae,_e){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(Ae)),this.ys.getDocumentsMatchingQuery(t,Ae,IndexOffset.min(),_e)}Fs(t,Ae,_e,xe){return this.ys.getDocumentsMatchingQuery(t,_e,xe).next(Ce=>(Ae.forEach(Se=>{Ce=Ce.insert(Se.key,Se)}),Ce))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt$1="LocalStore",$t$1=3e8;class __PRIVATE_LocalStoreImpl{constructor(t,Ae,_e,xe){this.persistence=t,this.Ms=Ae,this.serializer=xe,this.xs=new SortedMap(__PRIVATE_primitiveComparator),this.Os=new ObjectMap(Ce=>__PRIVATE_canonifyTarget(Ce),__PRIVATE_targetEquals),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(_e)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LocalDocumentsView(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",Ae=>t.collect(Ae,this.xs))}}function __PRIVATE_newLocalStore(Ee,t,Ae,_e){return new __PRIVATE_LocalStoreImpl(Ee,t,Ae,_e)}async function __PRIVATE_localStoreHandleUserChange(Ee,t){const Ae=__PRIVATE_debugCast(Ee);return await Ae.persistence.runTransaction("Handle user change","readonly",_e=>{let xe;return Ae.mutationQueue.getAllMutationBatches(_e).next(Ce=>(xe=Ce,Ae.Ls(t),Ae.mutationQueue.getAllMutationBatches(_e))).next(Ce=>{const Se=[],Re=[];let Be=__PRIVATE_documentKeySet();for(const Fe of xe){Se.push(Fe.batchId);for(const Ie of Fe.mutations)Be=Be.add(Ie.key)}for(const Fe of Ce){Re.push(Fe.batchId);for(const Ie of Fe.mutations)Be=Be.add(Ie.key)}return Ae.localDocuments.getDocuments(_e,Be).next(Fe=>({ks:Fe,removedBatchIds:Se,addedBatchIds:Re}))})})}function __PRIVATE_localStoreAcknowledgeBatch(Ee,t){const Ae=__PRIVATE_debugCast(Ee);return Ae.persistence.runTransaction("Acknowledge batch","readwrite-primary",_e=>{const xe=t.batch.keys(),Ce=Ae.Bs.newChangeBuffer({trackRemovals:!0});return function(Re,Be,Fe,Ie){const Ue=Fe.batch,ke=Ue.keys();let Oe=PersistencePromise.resolve();return ke.forEach(je=>{Oe=Oe.next(()=>Ie.getEntry(Be,je)).next(Ke=>{const ze=Fe.docVersions.get(je);__PRIVATE_hardAssert(ze!==null,48541),Ke.version.compareTo(ze)<0&&(Ue.applyToRemoteDocument(Ke,Fe),Ke.isValidDocument()&&(Ke.setReadTime(Fe.commitVersion),Ie.addEntry(Ke)))})}),Oe.next(()=>Re.mutationQueue.removeMutationBatch(Be,Ue))}(Ae,_e,t,Ce).next(()=>Ce.apply(_e)).next(()=>Ae.mutationQueue.performConsistencyCheck(_e)).next(()=>Ae.documentOverlayCache.removeOverlaysForBatchId(_e,xe,t.batch.batchId)).next(()=>Ae.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_e,function(Re){let Be=__PRIVATE_documentKeySet();for(let Fe=0;Fe<Re.mutationResults.length;++Fe)Re.mutationResults[Fe].transformResults.length>0&&(Be=Be.add(Re.batch.mutations[Fe].key));return Be}(t))).next(()=>Ae.localDocuments.getDocuments(_e,xe))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(Ee){const t=__PRIVATE_debugCast(Ee);return t.persistence.runTransaction("Get last remote snapshot version","readonly",Ae=>t.Ti.getLastRemoteSnapshotVersion(Ae))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(Ee,t){const Ae=__PRIVATE_debugCast(Ee),_e=t.snapshotVersion;let xe=Ae.xs;return Ae.persistence.runTransaction("Apply remote event","readwrite-primary",Ce=>{const Se=Ae.Bs.newChangeBuffer({trackRemovals:!0});xe=Ae.xs;const Re=[];t.targetChanges.forEach((Ie,Ue)=>{const ke=xe.get(Ue);if(!ke)return;Re.push(Ae.Ti.removeMatchingKeys(Ce,Ie.removedDocuments,Ue).next(()=>Ae.Ti.addMatchingKeys(Ce,Ie.addedDocuments,Ue)));let Oe=ke.withSequenceNumber(Ce.currentSequenceNumber);t.targetMismatches.get(Ue)!==null?Oe=Oe.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):Ie.resumeToken.approximateByteSize()>0&&(Oe=Oe.withResumeToken(Ie.resumeToken,_e)),xe=xe.insert(Ue,Oe),function(Ke,ze,Ve){return Ke.resumeToken.approximateByteSize()===0||ze.snapshotVersion.toMicroseconds()-Ke.snapshotVersion.toMicroseconds()>=$t$1?!0:Ve.addedDocuments.size+Ve.modifiedDocuments.size+Ve.removedDocuments.size>0}(ke,Oe,Ie)&&Re.push(Ae.Ti.updateTargetData(Ce,Oe))});let Be=__PRIVATE_mutableDocumentMap(),Fe=__PRIVATE_documentKeySet();if(t.documentUpdates.forEach(Ie=>{t.resolvedLimboDocuments.has(Ie)&&Re.push(Ae.persistence.referenceDelegate.updateLimboDocument(Ce,Ie))}),Re.push(__PRIVATE_populateDocumentChangeBuffer(Ce,Se,t.documentUpdates).next(Ie=>{Be=Ie.qs,Fe=Ie.Qs})),!_e.isEqual(SnapshotVersion.min())){const Ie=Ae.Ti.getLastRemoteSnapshotVersion(Ce).next(Ue=>Ae.Ti.setTargetsMetadata(Ce,Ce.currentSequenceNumber,_e));Re.push(Ie)}return PersistencePromise.waitFor(Re).next(()=>Se.apply(Ce)).next(()=>Ae.localDocuments.getLocalViewOfDocuments(Ce,Be,Fe)).next(()=>Be)}).then(Ce=>(Ae.xs=xe,Ce))}function __PRIVATE_populateDocumentChangeBuffer(Ee,t,Ae){let _e=__PRIVATE_documentKeySet(),xe=__PRIVATE_documentKeySet();return Ae.forEach(Ce=>_e=_e.add(Ce)),t.getEntries(Ee,_e).next(Ce=>{let Se=__PRIVATE_mutableDocumentMap();return Ae.forEach((Re,Be)=>{const Fe=Ce.get(Re);Be.isFoundDocument()!==Fe.isFoundDocument()&&(xe=xe.add(Re)),Be.isNoDocument()&&Be.version.isEqual(SnapshotVersion.min())?(t.removeEntry(Re,Be.readTime),Se=Se.insert(Re,Be)):!Fe.isValidDocument()||Be.version.compareTo(Fe.version)>0||Be.version.compareTo(Fe.version)===0&&Fe.hasPendingWrites?(t.addEntry(Be),Se=Se.insert(Re,Be)):__PRIVATE_logDebug(Qt$1,"Ignoring outdated watch update for ",Re,". Current version:",Fe.version," Watch version:",Be.version)}),{qs:Se,Qs:xe}})}function __PRIVATE_localStoreGetNextMutationBatch(Ee,t){const Ae=__PRIVATE_debugCast(Ee);return Ae.persistence.runTransaction("Get next mutation batch","readonly",_e=>(t===void 0&&(t=G$1),Ae.mutationQueue.getNextMutationBatchAfterBatchId(_e,t)))}function __PRIVATE_localStoreAllocateTarget(Ee,t){const Ae=__PRIVATE_debugCast(Ee);return Ae.persistence.runTransaction("Allocate target","readwrite",_e=>{let xe;return Ae.Ti.getTargetData(_e,t).next(Ce=>Ce?(xe=Ce,PersistencePromise.resolve(xe)):Ae.Ti.allocateTargetId(_e).next(Se=>(xe=new TargetData(t,Se,"TargetPurposeListen",_e.currentSequenceNumber),Ae.Ti.addTargetData(_e,xe).next(()=>xe))))}).then(_e=>{const xe=Ae.xs.get(_e.targetId);return(xe===null||_e.snapshotVersion.compareTo(xe.snapshotVersion)>0)&&(Ae.xs=Ae.xs.insert(_e.targetId,_e),Ae.Os.set(t,_e.targetId)),_e})}async function __PRIVATE_localStoreReleaseTarget(Ee,t,Ae){const _e=__PRIVATE_debugCast(Ee),xe=_e.xs.get(t),Ce=Ae?"readwrite":"readwrite-primary";try{Ae||await _e.persistence.runTransaction("Release target",Ce,Se=>_e.persistence.referenceDelegate.removeTarget(Se,xe))}catch(Se){if(!__PRIVATE_isIndexedDbTransactionError(Se))throw Se;__PRIVATE_logDebug(Qt$1,`Failed to update sequence numbers for target ${t}: ${Se}`)}_e.xs=_e.xs.remove(t),_e.Os.delete(xe.target)}function __PRIVATE_localStoreExecuteQuery(Ee,t,Ae){const _e=__PRIVATE_debugCast(Ee);let xe=SnapshotVersion.min(),Ce=__PRIVATE_documentKeySet();return _e.persistence.runTransaction("Execute query","readwrite",Se=>function(Be,Fe,Ie){const Ue=__PRIVATE_debugCast(Be),ke=Ue.Os.get(Ie);return ke!==void 0?PersistencePromise.resolve(Ue.xs.get(ke)):Ue.Ti.getTargetData(Fe,Ie)}(_e,Se,__PRIVATE_queryToTarget(t)).next(Re=>{if(Re)return xe=Re.lastLimboFreeSnapshotVersion,_e.Ti.getMatchingKeysForTargetId(Se,Re.targetId).next(Be=>{Ce=Be})}).next(()=>_e.Ms.getDocumentsMatchingQuery(Se,t,Ae?xe:SnapshotVersion.min(),Ae?Ce:__PRIVATE_documentKeySet())).next(Re=>(__PRIVATE_setMaxReadTime(_e,__PRIVATE_queryCollectionGroup(t),Re),{documents:Re,$s:Ce})))}function __PRIVATE_setMaxReadTime(Ee,t,Ae){let _e=Ee.Ns.get(t)||SnapshotVersion.min();Ae.forEach((xe,Ce)=>{Ce.readTime.compareTo(_e)>0&&(_e=Ce.readTime)}),Ee.Ns.set(t,_e)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class __PRIVATE_MemorySharedClientState{constructor(){this.xo=new __PRIVATE_LocalClientState,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,Ae,_e){}addLocalQueryTarget(t,Ae=!0){return Ae&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,Ae,_e){this.Oo[t]=Ae}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(t,Ae,_e){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt$1="ConnectivityMonitor";class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){__PRIVATE_logDebug(zt$1,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){__PRIVATE_logDebug(zt$1,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jt$1=null;function __PRIVATE_generateUniqueDebugId(){return jt$1===null?jt$1=function(){return 268435456+Math.round(2147483648*Math.random())}():jt$1++,"0x"+jt$1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht$1="RestConnection",Jt$1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_RestConnection{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const Ae=t.ssl?"https":"http",_e=encodeURIComponent(this.databaseId.projectId),xe=encodeURIComponent(this.databaseId.database);this.Ko=Ae+"://"+t.host,this.Wo=`projects/${_e}/databases/${xe}`,this.Go=this.databaseId.database===ut$1?`project_id=${_e}`:`project_id=${_e}&database_id=${xe}`}zo(t,Ae,_e,xe,Ce){const Se=__PRIVATE_generateUniqueDebugId(),Re=this.jo(t,Ae.toUriEncodedString());__PRIVATE_logDebug(Ht$1,`Sending RPC '${t}' ${Se}:`,Re,_e);const Be={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(Be,xe,Ce);const{host:Fe}=new URL(Re),Ie=isCloudWorkstation(Fe);return this.Jo(t,Re,Be,_e,Ie).then(Ue=>(__PRIVATE_logDebug(Ht$1,`Received RPC '${t}' ${Se}: `,Ue),Ue),Ue=>{throw __PRIVATE_logWarn(Ht$1,`RPC '${t}' ${Se} failed with error: `,Ue,"url: ",Re,"request:",_e),Ue})}Yo(t,Ae,_e,xe,Ce,Se){return this.zo(t,Ae,_e,xe,Ce)}Ho(t,Ae,_e){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+x$2}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),Ae&&Ae.headers.forEach((xe,Ce)=>t[Ce]=xe),_e&&_e.headers.forEach((xe,Ce)=>t[Ce]=xe)}jo(t,Ae){const _e=Jt$1[t];return`${this.Ko}/v1/${Ae}:${_e}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt$1="WebChannelConnection";class __PRIVATE_WebChannelConnection extends __PRIVATE_RestConnection{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,Ae,_e,xe,Ce){const Se=__PRIVATE_generateUniqueDebugId();return new Promise((Re,Be)=>{const Fe=new XhrIo;Fe.setWithCredentials(!0),Fe.listenOnce(EventType.COMPLETE,()=>{try{switch(Fe.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const Ue=Fe.getResponseJson();__PRIVATE_logDebug(Yt$1,`XHR for RPC '${t}' ${Se} received:`,JSON.stringify(Ue)),Re(Ue);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(Yt$1,`RPC '${t}' ${Se} timed out`),Be(new FirestoreError(N$1.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const ke=Fe.getStatus();if(__PRIVATE_logDebug(Yt$1,`RPC '${t}' ${Se} failed with status:`,ke,"response text:",Fe.getResponseText()),ke>0){let Oe=Fe.getResponseJson();Array.isArray(Oe)&&(Oe=Oe[0]);const je=Oe==null?void 0:Oe.error;if(je&&je.status&&je.message){const Ke=function(Ve){const Xe=Ve.toLowerCase().replace(/_/g,"-");return Object.values(N$1).indexOf(Xe)>=0?Xe:N$1.UNKNOWN}(je.status);Be(new FirestoreError(Ke,je.message))}else Be(new FirestoreError(N$1.UNKNOWN,"Server responded with status "+Fe.getStatus()))}else Be(new FirestoreError(N$1.UNAVAILABLE,"Connection failed."));break;default:fail(9055,{h_:t,streamId:Se,P_:Fe.getLastErrorCode(),T_:Fe.getLastError()})}}finally{__PRIVATE_logDebug(Yt$1,`RPC '${t}' ${Se} completed.`)}});const Ie=JSON.stringify(xe);__PRIVATE_logDebug(Yt$1,`RPC '${t}' ${Se} sending request:`,xe),Fe.send(Ae,"POST",Ie,_e,15)})}I_(t,Ae,_e){const xe=__PRIVATE_generateUniqueDebugId(),Ce=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],Se=createWebChannelTransport(),Re=getStatEventTarget(),Be={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Fe=this.longPollingOptions.timeoutSeconds;Fe!==void 0&&(Be.longPollingTimeout=Math.round(1e3*Fe)),this.useFetchStreams&&(Be.useFetchStreams=!0),this.Ho(Be.initMessageHeaders,Ae,_e),Be.encodeInitMessageHeaders=!0;const Ie=Ce.join("");__PRIVATE_logDebug(Yt$1,`Creating RPC '${t}' stream ${xe}: ${Ie}`,Be);const Ue=Se.createWebChannel(Ie,Be);this.E_(Ue);let ke=!1,Oe=!1;const je=new __PRIVATE_StreamBridge({Zo:ze=>{Oe?__PRIVATE_logDebug(Yt$1,`Not sending because RPC '${t}' stream ${xe} is closed:`,ze):(ke||(__PRIVATE_logDebug(Yt$1,`Opening RPC '${t}' stream ${xe} transport.`),Ue.open(),ke=!0),__PRIVATE_logDebug(Yt$1,`RPC '${t}' stream ${xe} sending:`,ze),Ue.send(ze))},Xo:()=>Ue.close()}),Ke=(ze,Ve,Xe)=>{ze.listen(Ve,ir=>{try{Xe(ir)}catch(sr){setTimeout(()=>{throw sr},0)}})};return Ke(Ue,WebChannel.EventType.OPEN,()=>{Oe||(__PRIVATE_logDebug(Yt$1,`RPC '${t}' stream ${xe} transport opened.`),je.__())}),Ke(Ue,WebChannel.EventType.CLOSE,()=>{Oe||(Oe=!0,__PRIVATE_logDebug(Yt$1,`RPC '${t}' stream ${xe} transport closed`),je.u_(),this.d_(Ue))}),Ke(Ue,WebChannel.EventType.ERROR,ze=>{Oe||(Oe=!0,__PRIVATE_logWarn(Yt$1,`RPC '${t}' stream ${xe} transport errored. Name:`,ze.name,"Message:",ze.message),je.u_(new FirestoreError(N$1.UNAVAILABLE,"The operation could not be completed")))}),Ke(Ue,WebChannel.EventType.MESSAGE,ze=>{var Ve;if(!Oe){const Xe=ze.data[0];__PRIVATE_hardAssert(!!Xe,16349);const ir=Xe,sr=(ir==null?void 0:ir.error)||((Ve=ir[0])===null||Ve===void 0?void 0:Ve.error);if(sr){__PRIVATE_logDebug(Yt$1,`RPC '${t}' stream ${xe} received error:`,sr);const rr=sr.status;let nr=function(Ze){const or=ft$1[Ze];if(or!==void 0)return __PRIVATE_mapCodeFromRpcCode(or)}(rr),We=sr.message;nr===void 0&&(nr=N$1.INTERNAL,We="Unknown error status: "+rr+" with message "+sr.message),Oe=!0,je.u_(new FirestoreError(nr,We)),Ue.close()}else __PRIVATE_logDebug(Yt$1,`RPC '${t}' stream ${xe} received:`,Xe),je.c_(Xe)}}),Ke(Re,Event$1.STAT_EVENT,ze=>{ze.stat===Stat.PROXY?__PRIVATE_logDebug(Yt$1,`RPC '${t}' stream ${xe} detected buffering proxy`):ze.stat===Stat.NOPROXY&&__PRIVATE_logDebug(Yt$1,`RPC '${t}' stream ${xe} detected no buffering proxy`)}),setTimeout(()=>{je.a_()},0),je}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(Ae=>Ae===t)}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(Ee){return new JsonProtoSerializer(Ee,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(t,Ae,_e=1e3,xe=1.5,Ce=6e4){this.xi=t,this.timerId=Ae,this.A_=_e,this.R_=xe,this.V_=Ce,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const Ae=Math.floor(this.m_+this.w_()),_e=Math.max(0,Date.now()-this.g_),xe=Math.max(0,Ae-_e);xe>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${xe} ms (base delay: ${this.m_} ms, delay with jitter: ${Ae} ms, last attempt: ${_e} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,xe,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt$1="PersistentStream";class __PRIVATE_PersistentStream{constructor(t,Ae,_e,xe,Ce,Se,Re,Be){this.xi=t,this.S_=_e,this.D_=xe,this.connection=Ce,this.authCredentialsProvider=Se,this.appCheckCredentialsProvider=Re,this.listener=Be,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new __PRIVATE_ExponentialBackoff(t,Ae)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,Ae){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():Ae&&Ae.code===N$1.RESOURCE_EXHAUSTED?(__PRIVATE_logError(Ae.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):Ae&&Ae.code===N$1.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(Ae)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),Ae=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([_e,xe])=>{this.v_===Ae&&this.z_(_e,xe)},_e=>{t(()=>{const xe=new FirestoreError(N$1.UNKNOWN,"Fetching auth token failed: "+_e.message);return this.j_(xe)})})}z_(t,Ae){const _e=this.G_(this.v_);this.stream=this.H_(t,Ae),this.stream.e_(()=>{_e(()=>this.listener.e_())}),this.stream.n_(()=>{_e(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(xe=>{_e(()=>this.j_(xe))}),this.stream.onMessage(xe=>{_e(()=>++this.M_==1?this.J_(xe):this.onNext(xe))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return __PRIVATE_logDebug(Zt$1,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return Ae=>{this.xi.enqueueAndForget(()=>this.v_===t?Ae():(__PRIVATE_logDebug(Zt$1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(t,Ae,_e,xe,Ce,Se){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",Ae,_e,xe,Se),this.serializer=Ce}H_(t,Ae){return this.connection.I_("Listen",t,Ae)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const Ae=__PRIVATE_fromWatchChange(this.serializer,t),_e=function(Ce){if(!("targetChange"in Ce))return SnapshotVersion.min();const Se=Ce.targetChange;return Se.targetIds&&Se.targetIds.length?SnapshotVersion.min():Se.readTime?__PRIVATE_fromVersion(Se.readTime):SnapshotVersion.min()}(t);return this.listener.Y_(Ae,_e)}Z_(t){const Ae={};Ae.database=__PRIVATE_getEncodedDatabaseId(this.serializer),Ae.addTarget=function(Ce,Se){let Re;const Be=Se.target;if(Re=__PRIVATE_targetIsDocumentTarget(Be)?{documents:__PRIVATE_toDocumentsTarget(Ce,Be)}:{query:__PRIVATE_toQueryTarget(Ce,Be).gt},Re.targetId=Se.targetId,Se.resumeToken.approximateByteSize()>0){Re.resumeToken=__PRIVATE_toBytes(Ce,Se.resumeToken);const Fe=__PRIVATE_toInt32Proto(Ce,Se.expectedCount);Fe!==null&&(Re.expectedCount=Fe)}else if(Se.snapshotVersion.compareTo(SnapshotVersion.min())>0){Re.readTime=toTimestamp(Ce,Se.snapshotVersion.toTimestamp());const Fe=__PRIVATE_toInt32Proto(Ce,Se.expectedCount);Fe!==null&&(Re.expectedCount=Fe)}return Re}(this.serializer,t);const _e=__PRIVATE_toListenRequestLabels(this.serializer,t);_e&&(Ae.labels=_e),this.Q_(Ae)}X_(t){const Ae={};Ae.database=__PRIVATE_getEncodedDatabaseId(this.serializer),Ae.removeTarget=t,this.Q_(Ae)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(t,Ae,_e,xe,Ce,Se){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",Ae,_e,xe,Se),this.serializer=Ce}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,Ae){return this.connection.I_("Write",t,Ae)}J_(t){return __PRIVATE_hardAssert(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,__PRIVATE_hardAssert(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){__PRIVATE_hardAssert(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const Ae=__PRIVATE_fromWriteResults(t.writeResults,t.commitTime),_e=__PRIVATE_fromVersion(t.commitTime);return this.listener.ra(_e,Ae)}ia(){const t={};t.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.Q_(t)}ta(t){const Ae={streamToken:this.lastStreamToken,writes:t.map(_e=>toMutation(this.serializer,_e))};this.Q_(Ae)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Datastore{}class __PRIVATE_DatastoreImpl extends Datastore{constructor(t,Ae,_e,xe){super(),this.authCredentials=t,this.appCheckCredentials=Ae,this.connection=_e,this.serializer=xe,this.sa=!1}oa(){if(this.sa)throw new FirestoreError(N$1.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,Ae,_e,xe){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([Ce,Se])=>this.connection.zo(t,__PRIVATE_toResourcePath(Ae,_e),xe,Ce,Se)).catch(Ce=>{throw Ce.name==="FirebaseError"?(Ce.code===N$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),Ce):new FirestoreError(N$1.UNKNOWN,Ce.toString())})}Yo(t,Ae,_e,xe,Ce){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([Se,Re])=>this.connection.Yo(t,__PRIVATE_toResourcePath(Ae,_e),xe,Se,Re,Ce)).catch(Se=>{throw Se.name==="FirebaseError"?(Se.code===N$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),Se):new FirestoreError(N$1.UNKNOWN,Se.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(t,Ae){this.asyncQueue=t,this.onlineStateHandler=Ae,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const Ae=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(__PRIVATE_logError(Ae),this.ua=!1):__PRIVATE_logDebug("OnlineStateTracker",Ae)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt$1="RemoteStore";class __PRIVATE_RemoteStoreImpl{constructor(t,Ae,_e,xe,Ce){this.localStore=t,this.datastore=Ae,this.asyncQueue=_e,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=Ce,this.Ra.No(Se=>{_e.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug(Xt$1,"Restarting streams for network reachability change."),await async function(Be){const Fe=__PRIVATE_debugCast(Be);Fe.da.add(4),await __PRIVATE_disableNetworkInternal(Fe),Fe.Va.set("Unknown"),Fe.da.delete(4),await __PRIVATE_enableNetworkInternal(Fe)}(this))})}),this.Va=new __PRIVATE_OnlineStateTracker(_e,xe)}}async function __PRIVATE_enableNetworkInternal(Ee){if(__PRIVATE_canUseNetwork(Ee))for(const t of Ee.Aa)await t(!0)}async function __PRIVATE_disableNetworkInternal(Ee){for(const t of Ee.Aa)await t(!1)}function __PRIVATE_remoteStoreListen(Ee,t){const Ae=__PRIVATE_debugCast(Ee);Ae.Ea.has(t.targetId)||(Ae.Ea.set(t.targetId,t),__PRIVATE_shouldStartWatchStream(Ae)?__PRIVATE_startWatchStream(Ae):__PRIVATE_ensureWatchStream(Ae).N_()&&__PRIVATE_sendWatchRequest(Ae,t))}function __PRIVATE_remoteStoreUnlisten(Ee,t){const Ae=__PRIVATE_debugCast(Ee),_e=__PRIVATE_ensureWatchStream(Ae);Ae.Ea.delete(t),_e.N_()&&__PRIVATE_sendUnwatchRequest(Ae,t),Ae.Ea.size===0&&(_e.N_()?_e.k_():__PRIVATE_canUseNetwork(Ae)&&Ae.Va.set("Unknown"))}function __PRIVATE_sendWatchRequest(Ee,t){if(Ee.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(SnapshotVersion.min())>0){const Ae=Ee.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(Ae)}__PRIVATE_ensureWatchStream(Ee).Z_(t)}function __PRIVATE_sendUnwatchRequest(Ee,t){Ee.ma.Ke(t),__PRIVATE_ensureWatchStream(Ee).X_(t)}function __PRIVATE_startWatchStream(Ee){Ee.ma=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:t=>Ee.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>Ee.Ea.get(t)||null,Pt:()=>Ee.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(Ee).start(),Ee.Va.ca()}function __PRIVATE_shouldStartWatchStream(Ee){return __PRIVATE_canUseNetwork(Ee)&&!__PRIVATE_ensureWatchStream(Ee).O_()&&Ee.Ea.size>0}function __PRIVATE_canUseNetwork(Ee){return __PRIVATE_debugCast(Ee).da.size===0}function __PRIVATE_cleanUpWatchStreamState(Ee){Ee.ma=void 0}async function __PRIVATE_onWatchStreamConnected(Ee){Ee.Va.set("Online")}async function __PRIVATE_onWatchStreamOpen(Ee){Ee.Ea.forEach((t,Ae)=>{__PRIVATE_sendWatchRequest(Ee,t)})}async function __PRIVATE_onWatchStreamClose(Ee,t){__PRIVATE_cleanUpWatchStreamState(Ee),__PRIVATE_shouldStartWatchStream(Ee)?(Ee.Va.Pa(t),__PRIVATE_startWatchStream(Ee)):Ee.Va.set("Unknown")}async function __PRIVATE_onWatchStreamChange(Ee,t,Ae){if(Ee.Va.set("Online"),t instanceof __PRIVATE_WatchTargetChange&&t.state===2&&t.cause)try{await async function(xe,Ce){const Se=Ce.cause;for(const Re of Ce.targetIds)xe.Ea.has(Re)&&(await xe.remoteSyncer.rejectListen(Re,Se),xe.Ea.delete(Re),xe.ma.removeTarget(Re))}(Ee,t)}catch(_e){__PRIVATE_logDebug(Xt$1,"Failed to remove targets %s: %s ",t.targetIds.join(","),_e),await __PRIVATE_disableNetworkUntilRecovery(Ee,_e)}else if(t instanceof __PRIVATE_DocumentWatchChange?Ee.ma.Xe(t):t instanceof __PRIVATE_ExistenceFilterChange?Ee.ma.ot(t):Ee.ma.nt(t),!Ae.isEqual(SnapshotVersion.min()))try{const _e=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(Ee.localStore);Ae.compareTo(_e)>=0&&await function(Ce,Se){const Re=Ce.ma.It(Se);return Re.targetChanges.forEach((Be,Fe)=>{if(Be.resumeToken.approximateByteSize()>0){const Ie=Ce.Ea.get(Fe);Ie&&Ce.Ea.set(Fe,Ie.withResumeToken(Be.resumeToken,Se))}}),Re.targetMismatches.forEach((Be,Fe)=>{const Ie=Ce.Ea.get(Be);if(!Ie)return;Ce.Ea.set(Be,Ie.withResumeToken(ByteString.EMPTY_BYTE_STRING,Ie.snapshotVersion)),__PRIVATE_sendUnwatchRequest(Ce,Be);const Ue=new TargetData(Ie.target,Be,Fe,Ie.sequenceNumber);__PRIVATE_sendWatchRequest(Ce,Ue)}),Ce.remoteSyncer.applyRemoteEvent(Re)}(Ee,Ae)}catch(_e){__PRIVATE_logDebug(Xt$1,"Failed to raise snapshot:",_e),await __PRIVATE_disableNetworkUntilRecovery(Ee,_e)}}async function __PRIVATE_disableNetworkUntilRecovery(Ee,t,Ae){if(!__PRIVATE_isIndexedDbTransactionError(t))throw t;Ee.da.add(1),await __PRIVATE_disableNetworkInternal(Ee),Ee.Va.set("Offline"),Ae||(Ae=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(Ee.localStore)),Ee.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug(Xt$1,"Retrying IndexedDB access"),await Ae(),Ee.da.delete(1),await __PRIVATE_enableNetworkInternal(Ee)})}function __PRIVATE_executeWithRecovery(Ee,t){return t().catch(Ae=>__PRIVATE_disableNetworkUntilRecovery(Ee,Ae,t))}async function __PRIVATE_fillWritePipeline(Ee){const t=__PRIVATE_debugCast(Ee),Ae=__PRIVATE_ensureWriteStream(t);let _e=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:G$1;for(;__PRIVATE_canAddToWritePipeline(t);)try{const xe=await __PRIVATE_localStoreGetNextMutationBatch(t.localStore,_e);if(xe===null){t.Ia.length===0&&Ae.k_();break}_e=xe.batchId,__PRIVATE_addToWritePipeline(t,xe)}catch(xe){await __PRIVATE_disableNetworkUntilRecovery(t,xe)}__PRIVATE_shouldStartWriteStream(t)&&__PRIVATE_startWriteStream(t)}function __PRIVATE_canAddToWritePipeline(Ee){return __PRIVATE_canUseNetwork(Ee)&&Ee.Ia.length<10}function __PRIVATE_addToWritePipeline(Ee,t){Ee.Ia.push(t);const Ae=__PRIVATE_ensureWriteStream(Ee);Ae.N_()&&Ae.ea&&Ae.ta(t.mutations)}function __PRIVATE_shouldStartWriteStream(Ee){return __PRIVATE_canUseNetwork(Ee)&&!__PRIVATE_ensureWriteStream(Ee).O_()&&Ee.Ia.length>0}function __PRIVATE_startWriteStream(Ee){__PRIVATE_ensureWriteStream(Ee).start()}async function __PRIVATE_onWriteStreamOpen(Ee){__PRIVATE_ensureWriteStream(Ee).ia()}async function __PRIVATE_onWriteHandshakeComplete(Ee){const t=__PRIVATE_ensureWriteStream(Ee);for(const Ae of Ee.Ia)t.ta(Ae.mutations)}async function __PRIVATE_onMutationResult(Ee,t,Ae){const _e=Ee.Ia.shift(),xe=MutationBatchResult.from(_e,t,Ae);await __PRIVATE_executeWithRecovery(Ee,()=>Ee.remoteSyncer.applySuccessfulWrite(xe)),await __PRIVATE_fillWritePipeline(Ee)}async function __PRIVATE_onWriteStreamClose(Ee,t){t&&__PRIVATE_ensureWriteStream(Ee).ea&&await async function(_e,xe){if(function(Se){return __PRIVATE_isPermanentError(Se)&&Se!==N$1.ABORTED}(xe.code)){const Ce=_e.Ia.shift();__PRIVATE_ensureWriteStream(_e).L_(),await __PRIVATE_executeWithRecovery(_e,()=>_e.remoteSyncer.rejectFailedWrite(Ce.batchId,xe)),await __PRIVATE_fillWritePipeline(_e)}}(Ee,t),__PRIVATE_shouldStartWriteStream(Ee)&&__PRIVATE_startWriteStream(Ee)}async function __PRIVATE_remoteStoreHandleCredentialChange(Ee,t){const Ae=__PRIVATE_debugCast(Ee);Ae.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(Xt$1,"RemoteStore received new credentials");const _e=__PRIVATE_canUseNetwork(Ae);Ae.da.add(3),await __PRIVATE_disableNetworkInternal(Ae),_e&&Ae.Va.set("Unknown"),await Ae.remoteSyncer.handleCredentialChange(t),Ae.da.delete(3),await __PRIVATE_enableNetworkInternal(Ae)}async function __PRIVATE_remoteStoreApplyPrimaryState(Ee,t){const Ae=__PRIVATE_debugCast(Ee);t?(Ae.da.delete(2),await __PRIVATE_enableNetworkInternal(Ae)):t||(Ae.da.add(2),await __PRIVATE_disableNetworkInternal(Ae),Ae.Va.set("Unknown"))}function __PRIVATE_ensureWatchStream(Ee){return Ee.fa||(Ee.fa=function(Ae,_e,xe){const Ce=__PRIVATE_debugCast(Ae);return Ce.oa(),new __PRIVATE_PersistentListenStream(_e,Ce.connection,Ce.authCredentials,Ce.appCheckCredentials,Ce.serializer,xe)}(Ee.datastore,Ee.asyncQueue,{e_:__PRIVATE_onWatchStreamConnected.bind(null,Ee),n_:__PRIVATE_onWatchStreamOpen.bind(null,Ee),i_:__PRIVATE_onWatchStreamClose.bind(null,Ee),Y_:__PRIVATE_onWatchStreamChange.bind(null,Ee)}),Ee.Aa.push(async t=>{t?(Ee.fa.L_(),__PRIVATE_shouldStartWatchStream(Ee)?__PRIVATE_startWatchStream(Ee):Ee.Va.set("Unknown")):(await Ee.fa.stop(),__PRIVATE_cleanUpWatchStreamState(Ee))})),Ee.fa}function __PRIVATE_ensureWriteStream(Ee){return Ee.ga||(Ee.ga=function(Ae,_e,xe){const Ce=__PRIVATE_debugCast(Ae);return Ce.oa(),new __PRIVATE_PersistentWriteStream(_e,Ce.connection,Ce.authCredentials,Ce.appCheckCredentials,Ce.serializer,xe)}(Ee.datastore,Ee.asyncQueue,{e_:()=>Promise.resolve(),n_:__PRIVATE_onWriteStreamOpen.bind(null,Ee),i_:__PRIVATE_onWriteStreamClose.bind(null,Ee),na:__PRIVATE_onWriteHandshakeComplete.bind(null,Ee),ra:__PRIVATE_onMutationResult.bind(null,Ee)}),Ee.Aa.push(async t=>{t?(Ee.ga.L_(),await __PRIVATE_fillWritePipeline(Ee)):(await Ee.ga.stop(),Ee.Ia.length>0&&(__PRIVATE_logDebug(Xt$1,`Stopping write stream with ${Ee.Ia.length} pending writes`),Ee.Ia=[]))})),Ee.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(t,Ae,_e,xe,Ce){this.asyncQueue=t,this.timerId=Ae,this.targetTimeMs=_e,this.op=xe,this.removalCallback=Ce,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(Se=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,Ae,_e,xe,Ce){const Se=Date.now()+_e,Re=new DelayedOperation(t,Ae,Se,xe,Ce);return Re.start(_e),Re}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(N$1.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(Ee,t){if(__PRIVATE_logError("AsyncQueue",`${t}: ${Ee}`),__PRIVATE_isIndexedDbTransactionError(Ee))return new FirestoreError(N$1.UNAVAILABLE,`${t}: ${Ee}`);throw Ee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{static emptySet(t){return new DocumentSet(t.comparator)}constructor(t){this.comparator=t?(Ae,_e)=>t(Ae,_e)||DocumentKey.comparator(Ae.key,_e.key):(Ae,_e)=>DocumentKey.comparator(Ae.key,_e.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const Ae=this.keyedMap.get(t);return Ae?this.sortedSet.indexOf(Ae):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((Ae,_e)=>(t(Ae),!1))}add(t){const Ae=this.delete(t.key);return Ae.copy(Ae.keyedMap.insert(t.key,t),Ae.sortedSet.insert(t,null))}delete(t){const Ae=this.get(t);return Ae?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(Ae)):this}isEqual(t){if(!(t instanceof DocumentSet)||this.size!==t.size)return!1;const Ae=this.sortedSet.getIterator(),_e=t.sortedSet.getIterator();for(;Ae.hasNext();){const xe=Ae.getNext().key,Ce=_e.getNext().key;if(!xe.isEqual(Ce))return!1}return!0}toString(){const t=[];return this.forEach(Ae=>{t.push(Ae.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,Ae){const _e=new DocumentSet;return _e.comparator=this.comparator,_e.keyedMap=t,_e.sortedSet=Ae,_e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.pa=new SortedMap(DocumentKey.comparator)}track(t){const Ae=t.doc.key,_e=this.pa.get(Ae);_e?t.type!==0&&_e.type===3?this.pa=this.pa.insert(Ae,t):t.type===3&&_e.type!==1?this.pa=this.pa.insert(Ae,{type:_e.type,doc:t.doc}):t.type===2&&_e.type===2?this.pa=this.pa.insert(Ae,{type:2,doc:t.doc}):t.type===2&&_e.type===0?this.pa=this.pa.insert(Ae,{type:0,doc:t.doc}):t.type===1&&_e.type===0?this.pa=this.pa.remove(Ae):t.type===1&&_e.type===2?this.pa=this.pa.insert(Ae,{type:1,doc:_e.doc}):t.type===0&&_e.type===1?this.pa=this.pa.insert(Ae,{type:2,doc:t.doc}):fail(63341,{Vt:t,ya:_e}):this.pa=this.pa.insert(Ae,t)}wa(){const t=[];return this.pa.inorderTraversal((Ae,_e)=>{t.push(_e)}),t}}class ViewSnapshot{constructor(t,Ae,_e,xe,Ce,Se,Re,Be,Fe){this.query=t,this.docs=Ae,this.oldDocs=_e,this.docChanges=xe,this.mutatedKeys=Ce,this.fromCache=Se,this.syncStateChanged=Re,this.excludesMetadataChanges=Be,this.hasCachedResults=Fe}static fromInitialDocuments(t,Ae,_e,xe,Ce){const Se=[];return Ae.forEach(Re=>{Se.push({type:0,doc:Re})}),new ViewSnapshot(t,Ae,DocumentSet.emptySet(Ae),Se,_e,xe,!0,!1,Ce)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&__PRIVATE_queryEquals(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const Ae=this.docChanges,_e=t.docChanges;if(Ae.length!==_e.length)return!1;for(let xe=0;xe<Ae.length;xe++)if(Ae[xe].type!==_e[xe].type||!Ae[xe].doc.isEqual(_e[xe].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(Ae,_e){const xe=__PRIVATE_debugCast(Ae),Ce=xe.queries;xe.queries=__PRIVATE_newQueriesObjectMap(),Ce.forEach((Se,Re)=>{for(const Be of Re.Sa)Be.onError(_e)})})(this,new FirestoreError(N$1.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(Ee=>__PRIVATE_canonifyQuery(Ee),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(Ee,t){const Ae=__PRIVATE_debugCast(Ee);let _e=3;const xe=t.query;let Ce=Ae.queries.get(xe);Ce?!Ce.Da()&&t.va()&&(_e=2):(Ce=new __PRIVATE_QueryListenersInfo,_e=t.va()?0:1);try{switch(_e){case 0:Ce.ba=await Ae.onListen(xe,!0);break;case 1:Ce.ba=await Ae.onListen(xe,!1);break;case 2:await Ae.onFirstRemoteStoreListen(xe)}}catch(Se){const Re=__PRIVATE_wrapInUserErrorIfRecoverable(Se,`Initialization of query '${__PRIVATE_stringifyQuery(t.query)}' failed`);return void t.onError(Re)}Ae.queries.set(xe,Ce),Ce.Sa.push(t),t.Fa(Ae.onlineState),Ce.ba&&t.Ma(Ce.ba)&&__PRIVATE_raiseSnapshotsInSyncEvent(Ae)}async function __PRIVATE_eventManagerUnlisten(Ee,t){const Ae=__PRIVATE_debugCast(Ee),_e=t.query;let xe=3;const Ce=Ae.queries.get(_e);if(Ce){const Se=Ce.Sa.indexOf(t);Se>=0&&(Ce.Sa.splice(Se,1),Ce.Sa.length===0?xe=t.va()?0:1:!Ce.Da()&&t.va()&&(xe=2))}switch(xe){case 0:return Ae.queries.delete(_e),Ae.onUnlisten(_e,!0);case 1:return Ae.queries.delete(_e),Ae.onUnlisten(_e,!1);case 2:return Ae.onLastRemoteStoreUnlisten(_e);default:return}}function __PRIVATE_eventManagerOnWatchChange(Ee,t){const Ae=__PRIVATE_debugCast(Ee);let _e=!1;for(const xe of t){const Ce=xe.query,Se=Ae.queries.get(Ce);if(Se){for(const Re of Se.Sa)Re.Ma(xe)&&(_e=!0);Se.ba=xe}}_e&&__PRIVATE_raiseSnapshotsInSyncEvent(Ae)}function __PRIVATE_eventManagerOnWatchError(Ee,t,Ae){const _e=__PRIVATE_debugCast(Ee),xe=_e.queries.get(t);if(xe)for(const Ce of xe.Sa)Ce.onError(Ae);_e.queries.delete(t)}function __PRIVATE_raiseSnapshotsInSyncEvent(Ee){Ee.Ca.forEach(t=>{t.next()})}var en,tn;(tn=en||(en={})).xa="default",tn.Cache="cache";class __PRIVATE_QueryListener{constructor(t,Ae,_e){this.query=t,this.Oa=Ae,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=_e||{}}Ma(t){if(!this.options.includeMetadataChanges){const _e=[];for(const xe of t.docChanges)xe.type!==3&&_e.push(xe);t=new ViewSnapshot(t.query,t.docs,t.oldDocs,_e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let Ae=!1;return this.Na?this.La(t)&&(this.Oa.next(t),Ae=!0):this.ka(t,this.onlineState)&&(this.qa(t),Ae=!0),this.Ba=t,Ae}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let Ae=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),Ae=!0),Ae}ka(t,Ae){if(!t.fromCache||!this.va())return!0;const _e=Ae!=="Offline";return(!this.options.Qa||!_e)&&(!t.docs.isEmpty()||t.hasCachedResults||Ae==="Offline")}La(t){if(t.docChanges.length>0)return!0;const Ae=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!Ae)&&this.options.includeMetadataChanges===!0}qa(t){t=ViewSnapshot.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==en.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(t){this.key=t}}class __PRIVATE_RemovedLimboDocument{constructor(t){this.key=t}}class __PRIVATE_View{constructor(t,Ae){this.query=t,this.Ha=Ae,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Za=__PRIVATE_newQueryComparator(t),this.Xa=new DocumentSet(this.Za)}get eu(){return this.Ha}tu(t,Ae){const _e=Ae?Ae.nu:new __PRIVATE_DocumentChangeSet,xe=Ae?Ae.Xa:this.Xa;let Ce=Ae?Ae.mutatedKeys:this.mutatedKeys,Se=xe,Re=!1;const Be=this.query.limitType==="F"&&xe.size===this.query.limit?xe.last():null,Fe=this.query.limitType==="L"&&xe.size===this.query.limit?xe.first():null;if(t.inorderTraversal((Ie,Ue)=>{const ke=xe.get(Ie),Oe=__PRIVATE_queryMatches(this.query,Ue)?Ue:null,je=!!ke&&this.mutatedKeys.has(ke.key),Ke=!!Oe&&(Oe.hasLocalMutations||this.mutatedKeys.has(Oe.key)&&Oe.hasCommittedMutations);let ze=!1;ke&&Oe?ke.data.isEqual(Oe.data)?je!==Ke&&(_e.track({type:3,doc:Oe}),ze=!0):this.ru(ke,Oe)||(_e.track({type:2,doc:Oe}),ze=!0,(Be&&this.Za(Oe,Be)>0||Fe&&this.Za(Oe,Fe)<0)&&(Re=!0)):!ke&&Oe?(_e.track({type:0,doc:Oe}),ze=!0):ke&&!Oe&&(_e.track({type:1,doc:ke}),ze=!0,(Be||Fe)&&(Re=!0)),ze&&(Oe?(Se=Se.add(Oe),Ce=Ke?Ce.add(Ie):Ce.delete(Ie)):(Se=Se.delete(Ie),Ce=Ce.delete(Ie)))}),this.query.limit!==null)for(;Se.size>this.query.limit;){const Ie=this.query.limitType==="F"?Se.last():Se.first();Se=Se.delete(Ie.key),Ce=Ce.delete(Ie.key),_e.track({type:1,doc:Ie})}return{Xa:Se,nu:_e,Cs:Re,mutatedKeys:Ce}}ru(t,Ae){return t.hasLocalMutations&&Ae.hasCommittedMutations&&!Ae.hasLocalMutations}applyChanges(t,Ae,_e,xe){const Ce=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const Se=t.nu.wa();Se.sort((Ie,Ue)=>function(Oe,je){const Ke=ze=>{switch(ze){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail(20277,{Vt:ze})}};return Ke(Oe)-Ke(je)}(Ie.type,Ue.type)||this.Za(Ie.doc,Ue.doc)),this.iu(_e),xe=xe!=null&&xe;const Re=Ae&&!xe?this.su():[],Be=this.Ya.size===0&&this.current&&!xe?1:0,Fe=Be!==this.Ja;return this.Ja=Be,Se.length!==0||Fe?{snapshot:new ViewSnapshot(this.query,t.Xa,Ce,Se,t.mutatedKeys,Be===0,Fe,!1,!!_e&&_e.resumeToken.approximateByteSize()>0),ou:Re}:{ou:Re}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(Ae=>this.Ha=this.Ha.add(Ae)),t.modifiedDocuments.forEach(Ae=>{}),t.removedDocuments.forEach(Ae=>this.Ha=this.Ha.delete(Ae)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=__PRIVATE_documentKeySet(),this.Xa.forEach(_e=>{this._u(_e.key)&&(this.Ya=this.Ya.add(_e.key))});const Ae=[];return t.forEach(_e=>{this.Ya.has(_e)||Ae.push(new __PRIVATE_RemovedLimboDocument(_e))}),this.Ya.forEach(_e=>{t.has(_e)||Ae.push(new __PRIVATE_AddedLimboDocument(_e))}),Ae}au(t){this.Ha=t.$s,this.Ya=__PRIVATE_documentKeySet();const Ae=this.tu(t.documents);return this.applyChanges(Ae,!0)}uu(){return ViewSnapshot.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const nn="SyncEngine";class __PRIVATE_QueryView{constructor(t,Ae,_e){this.query=t,this.targetId=Ae,this.view=_e}}class LimboResolution{constructor(t){this.key=t,this.cu=!1}}class __PRIVATE_SyncEngineImpl{constructor(t,Ae,_e,xe,Ce,Se){this.localStore=t,this.remoteStore=Ae,this.eventManager=_e,this.sharedClientState=xe,this.currentUser=Ce,this.maxConcurrentLimboResolutions=Se,this.lu={},this.hu=new ObjectMap(Re=>__PRIVATE_canonifyQuery(Re),__PRIVATE_queryEquals),this.Pu=new Map,this.Tu=new Set,this.Iu=new SortedMap(DocumentKey.comparator),this.Eu=new Map,this.du=new __PRIVATE_ReferenceSet,this.Au={},this.Ru=new Map,this.Vu=__PRIVATE_TargetIdGenerator.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function __PRIVATE_syncEngineListen(Ee,t,Ae=!0){const _e=__PRIVATE_ensureWatchCallbacks(Ee);let xe;const Ce=_e.hu.get(t);return Ce?(_e.sharedClientState.addLocalQueryTarget(Ce.targetId),xe=Ce.view.uu()):xe=await __PRIVATE_allocateTargetAndMaybeListen(_e,t,Ae,!0),xe}async function __PRIVATE_triggerRemoteStoreListen(Ee,t){const Ae=__PRIVATE_ensureWatchCallbacks(Ee);await __PRIVATE_allocateTargetAndMaybeListen(Ae,t,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(Ee,t,Ae,_e){const xe=await __PRIVATE_localStoreAllocateTarget(Ee.localStore,__PRIVATE_queryToTarget(t)),Ce=xe.targetId,Se=Ee.sharedClientState.addLocalQueryTarget(Ce,Ae);let Re;return _e&&(Re=await __PRIVATE_initializeViewAndComputeSnapshot(Ee,t,Ce,Se==="current",xe.resumeToken)),Ee.isPrimaryClient&&Ae&&__PRIVATE_remoteStoreListen(Ee.remoteStore,xe),Re}async function __PRIVATE_initializeViewAndComputeSnapshot(Ee,t,Ae,_e,xe){Ee.fu=(Ue,ke,Oe)=>async function(Ke,ze,Ve,Xe){let ir=ze.view.tu(Ve);ir.Cs&&(ir=await __PRIVATE_localStoreExecuteQuery(Ke.localStore,ze.query,!1).then(({documents:We})=>ze.view.tu(We,ir)));const sr=Xe&&Xe.targetChanges.get(ze.targetId),rr=Xe&&Xe.targetMismatches.get(ze.targetId)!=null,nr=ze.view.applyChanges(ir,Ke.isPrimaryClient,sr,rr);return __PRIVATE_updateTrackedLimbos(Ke,ze.targetId,nr.ou),nr.snapshot}(Ee,Ue,ke,Oe);const Ce=await __PRIVATE_localStoreExecuteQuery(Ee.localStore,t,!0),Se=new __PRIVATE_View(t,Ce.$s),Re=Se.tu(Ce.documents),Be=TargetChange.createSynthesizedTargetChangeForCurrentChange(Ae,_e&&Ee.onlineState!=="Offline",xe),Fe=Se.applyChanges(Re,Ee.isPrimaryClient,Be);__PRIVATE_updateTrackedLimbos(Ee,Ae,Fe.ou);const Ie=new __PRIVATE_QueryView(t,Ae,Se);return Ee.hu.set(t,Ie),Ee.Pu.has(Ae)?Ee.Pu.get(Ae).push(t):Ee.Pu.set(Ae,[t]),Fe.snapshot}async function __PRIVATE_syncEngineUnlisten(Ee,t,Ae){const _e=__PRIVATE_debugCast(Ee),xe=_e.hu.get(t),Ce=_e.Pu.get(xe.targetId);if(Ce.length>1)return _e.Pu.set(xe.targetId,Ce.filter(Se=>!__PRIVATE_queryEquals(Se,t))),void _e.hu.delete(t);_e.isPrimaryClient?(_e.sharedClientState.removeLocalQueryTarget(xe.targetId),_e.sharedClientState.isActiveQueryTarget(xe.targetId)||await __PRIVATE_localStoreReleaseTarget(_e.localStore,xe.targetId,!1).then(()=>{_e.sharedClientState.clearQueryState(xe.targetId),Ae&&__PRIVATE_remoteStoreUnlisten(_e.remoteStore,xe.targetId),__PRIVATE_removeAndCleanupTarget(_e,xe.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(_e,xe.targetId),await __PRIVATE_localStoreReleaseTarget(_e.localStore,xe.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(Ee,t){const Ae=__PRIVATE_debugCast(Ee),_e=Ae.hu.get(t),xe=Ae.Pu.get(_e.targetId);Ae.isPrimaryClient&&xe.length===1&&(Ae.sharedClientState.removeLocalQueryTarget(_e.targetId),__PRIVATE_remoteStoreUnlisten(Ae.remoteStore,_e.targetId))}async function __PRIVATE_syncEngineWrite(Ee,t,Ae){const _e=__PRIVATE_syncEngineEnsureWriteCallbacks(Ee);try{const xe=await function(Se,Re){const Be=__PRIVATE_debugCast(Se),Fe=Timestamp.now(),Ie=Re.reduce((Oe,je)=>Oe.add(je.key),__PRIVATE_documentKeySet());let Ue,ke;return Be.persistence.runTransaction("Locally write mutations","readwrite",Oe=>{let je=__PRIVATE_mutableDocumentMap(),Ke=__PRIVATE_documentKeySet();return Be.Bs.getEntries(Oe,Ie).next(ze=>{je=ze,je.forEach((Ve,Xe)=>{Xe.isValidDocument()||(Ke=Ke.add(Ve))})}).next(()=>Be.localDocuments.getOverlayedDocuments(Oe,je)).next(ze=>{Ue=ze;const Ve=[];for(const Xe of Re){const ir=__PRIVATE_mutationExtractBaseValue(Xe,Ue.get(Xe.key).overlayedDocument);ir!=null&&Ve.push(new __PRIVATE_PatchMutation(Xe.key,ir,__PRIVATE_extractFieldMask(ir.value.mapValue),Precondition.exists(!0)))}return Be.mutationQueue.addMutationBatch(Oe,Fe,Ve,Re)}).next(ze=>{ke=ze;const Ve=ze.applyToLocalDocumentSet(Ue,Ke);return Be.documentOverlayCache.saveOverlays(Oe,ze.batchId,Ve)})}).then(()=>({batchId:ke.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(Ue)}))}(_e.localStore,t);_e.sharedClientState.addPendingMutation(xe.batchId),function(Se,Re,Be){let Fe=Se.Au[Se.currentUser.toKey()];Fe||(Fe=new SortedMap(__PRIVATE_primitiveComparator)),Fe=Fe.insert(Re,Be),Se.Au[Se.currentUser.toKey()]=Fe}(_e,xe.batchId,Ae),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(_e,xe.changes),await __PRIVATE_fillWritePipeline(_e.remoteStore)}catch(xe){const Ce=__PRIVATE_wrapInUserErrorIfRecoverable(xe,"Failed to persist write");Ae.reject(Ce)}}async function __PRIVATE_syncEngineApplyRemoteEvent(Ee,t){const Ae=__PRIVATE_debugCast(Ee);try{const _e=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(Ae.localStore,t);t.targetChanges.forEach((xe,Ce)=>{const Se=Ae.Eu.get(Ce);Se&&(__PRIVATE_hardAssert(xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size<=1,22616),xe.addedDocuments.size>0?Se.cu=!0:xe.modifiedDocuments.size>0?__PRIVATE_hardAssert(Se.cu,14607):xe.removedDocuments.size>0&&(__PRIVATE_hardAssert(Se.cu,42227),Se.cu=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Ae,_e,t)}catch(_e){await __PRIVATE_ignoreIfPrimaryLeaseLoss(_e)}}function __PRIVATE_syncEngineApplyOnlineStateChange(Ee,t,Ae){const _e=__PRIVATE_debugCast(Ee);if(_e.isPrimaryClient&&Ae===0||!_e.isPrimaryClient&&Ae===1){const xe=[];_e.hu.forEach((Ce,Se)=>{const Re=Se.view.Fa(t);Re.snapshot&&xe.push(Re.snapshot)}),function(Se,Re){const Be=__PRIVATE_debugCast(Se);Be.onlineState=Re;let Fe=!1;Be.queries.forEach((Ie,Ue)=>{for(const ke of Ue.Sa)ke.Fa(Re)&&(Fe=!0)}),Fe&&__PRIVATE_raiseSnapshotsInSyncEvent(Be)}(_e.eventManager,t),xe.length&&_e.lu.Y_(xe),_e.onlineState=t,_e.isPrimaryClient&&_e.sharedClientState.setOnlineState(t)}}async function __PRIVATE_syncEngineRejectListen(Ee,t,Ae){const _e=__PRIVATE_debugCast(Ee);_e.sharedClientState.updateQueryState(t,"rejected",Ae);const xe=_e.Eu.get(t),Ce=xe&&xe.key;if(Ce){let Se=new SortedMap(DocumentKey.comparator);Se=Se.insert(Ce,MutableDocument.newNoDocument(Ce,SnapshotVersion.min()));const Re=__PRIVATE_documentKeySet().add(Ce),Be=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),Se,Re);await __PRIVATE_syncEngineApplyRemoteEvent(_e,Be),_e.Iu=_e.Iu.remove(Ce),_e.Eu.delete(t),__PRIVATE_pumpEnqueuedLimboResolutions(_e)}else await __PRIVATE_localStoreReleaseTarget(_e.localStore,t,!1).then(()=>__PRIVATE_removeAndCleanupTarget(_e,t,Ae)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(Ee,t){const Ae=__PRIVATE_debugCast(Ee),_e=t.batch.batchId;try{const xe=await __PRIVATE_localStoreAcknowledgeBatch(Ae.localStore,t);__PRIVATE_processUserCallback(Ae,_e,null),__PRIVATE_triggerPendingWritesCallbacks(Ae,_e),Ae.sharedClientState.updateMutationState(_e,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Ae,xe)}catch(xe){await __PRIVATE_ignoreIfPrimaryLeaseLoss(xe)}}async function __PRIVATE_syncEngineRejectFailedWrite(Ee,t,Ae){const _e=__PRIVATE_debugCast(Ee);try{const xe=await function(Se,Re){const Be=__PRIVATE_debugCast(Se);return Be.persistence.runTransaction("Reject batch","readwrite-primary",Fe=>{let Ie;return Be.mutationQueue.lookupMutationBatch(Fe,Re).next(Ue=>(__PRIVATE_hardAssert(Ue!==null,37113),Ie=Ue.keys(),Be.mutationQueue.removeMutationBatch(Fe,Ue))).next(()=>Be.mutationQueue.performConsistencyCheck(Fe)).next(()=>Be.documentOverlayCache.removeOverlaysForBatchId(Fe,Ie,Re)).next(()=>Be.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Fe,Ie)).next(()=>Be.localDocuments.getDocuments(Fe,Ie))})}(_e.localStore,t);__PRIVATE_processUserCallback(_e,t,Ae),__PRIVATE_triggerPendingWritesCallbacks(_e,t),_e.sharedClientState.updateMutationState(t,"rejected",Ae),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(_e,xe)}catch(xe){await __PRIVATE_ignoreIfPrimaryLeaseLoss(xe)}}function __PRIVATE_triggerPendingWritesCallbacks(Ee,t){(Ee.Ru.get(t)||[]).forEach(Ae=>{Ae.resolve()}),Ee.Ru.delete(t)}function __PRIVATE_processUserCallback(Ee,t,Ae){const _e=__PRIVATE_debugCast(Ee);let xe=_e.Au[_e.currentUser.toKey()];if(xe){const Ce=xe.get(t);Ce&&(Ae?Ce.reject(Ae):Ce.resolve(),xe=xe.remove(t)),_e.Au[_e.currentUser.toKey()]=xe}}function __PRIVATE_removeAndCleanupTarget(Ee,t,Ae=null){Ee.sharedClientState.removeLocalQueryTarget(t);for(const _e of Ee.Pu.get(t))Ee.hu.delete(_e),Ae&&Ee.lu.gu(_e,Ae);Ee.Pu.delete(t),Ee.isPrimaryClient&&Ee.du.Hr(t).forEach(_e=>{Ee.du.containsKey(_e)||__PRIVATE_removeLimboTarget(Ee,_e)})}function __PRIVATE_removeLimboTarget(Ee,t){Ee.Tu.delete(t.path.canonicalString());const Ae=Ee.Iu.get(t);Ae!==null&&(__PRIVATE_remoteStoreUnlisten(Ee.remoteStore,Ae),Ee.Iu=Ee.Iu.remove(t),Ee.Eu.delete(Ae),__PRIVATE_pumpEnqueuedLimboResolutions(Ee))}function __PRIVATE_updateTrackedLimbos(Ee,t,Ae){for(const _e of Ae)_e instanceof __PRIVATE_AddedLimboDocument?(Ee.du.addReference(_e.key,t),__PRIVATE_trackLimboChange(Ee,_e)):_e instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug(nn,"Document no longer in limbo: "+_e.key),Ee.du.removeReference(_e.key,t),Ee.du.containsKey(_e.key)||__PRIVATE_removeLimboTarget(Ee,_e.key)):fail(19791,{pu:_e})}function __PRIVATE_trackLimboChange(Ee,t){const Ae=t.key,_e=Ae.path.canonicalString();Ee.Iu.get(Ae)||Ee.Tu.has(_e)||(__PRIVATE_logDebug(nn,"New document in limbo: "+Ae),Ee.Tu.add(_e),__PRIVATE_pumpEnqueuedLimboResolutions(Ee))}function __PRIVATE_pumpEnqueuedLimboResolutions(Ee){for(;Ee.Tu.size>0&&Ee.Iu.size<Ee.maxConcurrentLimboResolutions;){const t=Ee.Tu.values().next().value;Ee.Tu.delete(t);const Ae=new DocumentKey(ResourcePath.fromString(t)),_e=Ee.Vu.next();Ee.Eu.set(_e,new LimboResolution(Ae)),Ee.Iu=Ee.Iu.insert(Ae,_e),__PRIVATE_remoteStoreListen(Ee.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(Ae.path)),_e,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.le))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Ee,t,Ae){const _e=__PRIVATE_debugCast(Ee),xe=[],Ce=[],Se=[];_e.hu.isEmpty()||(_e.hu.forEach((Re,Be)=>{Se.push(_e.fu(Be,t,Ae).then(Fe=>{var Ie;if((Fe||Ae)&&_e.isPrimaryClient){const Ue=Fe?!Fe.fromCache:(Ie=Ae==null?void 0:Ae.targetChanges.get(Be.targetId))===null||Ie===void 0?void 0:Ie.current;_e.sharedClientState.updateQueryState(Be.targetId,Ue?"current":"not-current")}if(Fe){xe.push(Fe);const Ue=__PRIVATE_LocalViewChanges.Rs(Be.targetId,Fe);Ce.push(Ue)}}))}),await Promise.all(Se),_e.lu.Y_(xe),await async function(Be,Fe){const Ie=__PRIVATE_debugCast(Be);try{await Ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ue=>PersistencePromise.forEach(Fe,ke=>PersistencePromise.forEach(ke.ds,Oe=>Ie.persistence.referenceDelegate.addReference(Ue,ke.targetId,Oe)).next(()=>PersistencePromise.forEach(ke.As,Oe=>Ie.persistence.referenceDelegate.removeReference(Ue,ke.targetId,Oe)))))}catch(Ue){if(!__PRIVATE_isIndexedDbTransactionError(Ue))throw Ue;__PRIVATE_logDebug(Qt$1,"Failed to update sequence numbers: "+Ue)}for(const Ue of Fe){const ke=Ue.targetId;if(!Ue.fromCache){const Oe=Ie.xs.get(ke),je=Oe.snapshotVersion,Ke=Oe.withLastLimboFreeSnapshotVersion(je);Ie.xs=Ie.xs.insert(ke,Ke)}}}(_e.localStore,Ce))}async function __PRIVATE_syncEngineHandleCredentialChange(Ee,t){const Ae=__PRIVATE_debugCast(Ee);if(!Ae.currentUser.isEqual(t)){__PRIVATE_logDebug(nn,"User change. New user:",t.toKey());const _e=await __PRIVATE_localStoreHandleUserChange(Ae.localStore,t);Ae.currentUser=t,function(Ce,Se){Ce.Ru.forEach(Re=>{Re.forEach(Be=>{Be.reject(new FirestoreError(N$1.CANCELLED,Se))})}),Ce.Ru.clear()}(Ae,"'waitForPendingWrites' promise is rejected due to a user change."),Ae.sharedClientState.handleUserChange(t,_e.removedBatchIds,_e.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Ae,_e.ks)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(Ee,t){const Ae=__PRIVATE_debugCast(Ee),_e=Ae.Eu.get(t);if(_e&&_e.cu)return __PRIVATE_documentKeySet().add(_e.key);{let xe=__PRIVATE_documentKeySet();const Ce=Ae.Pu.get(t);if(!Ce)return xe;for(const Se of Ce){const Re=Ae.hu.get(Se);xe=xe.unionWith(Re.view.eu)}return xe}}function __PRIVATE_ensureWatchCallbacks(Ee){const t=__PRIVATE_debugCast(Ee);return t.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,t),t.lu.Y_=__PRIVATE_eventManagerOnWatchChange.bind(null,t.eventManager),t.lu.gu=__PRIVATE_eventManagerOnWatchError.bind(null,t.eventManager),t}function __PRIVATE_syncEngineEnsureWriteCallbacks(Ee){const t=__PRIVATE_debugCast(Ee);return t.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,t),t}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=__PRIVATE_newSerializer(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,Ae){return null}Cu(t,Ae){return null}Du(t){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,t.initialUser,this.serializer)}Su(t){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.fi,this.serializer)}bu(t){return new __PRIVATE_MemorySharedClientState}async terminate(){var t,Ae;(t=this.gcScheduler)===null||t===void 0||t.stop(),(Ae=this.indexBackfillerScheduler)===null||Ae===void 0||Ae.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class __PRIVATE_LruGcMemoryOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider{constructor(t){super(),this.cacheSizeBytes=t}vu(t,Ae){__PRIVATE_hardAssert(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate,46915);const _e=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(_e,t.asyncQueue,Ae)}Su(t){const Ae=this.cacheSizeBytes!==void 0?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_MemoryPersistence(_e=>__PRIVATE_MemoryLruDelegate.fi(_e,Ae),this.serializer)}}class OnlineComponentProvider{async initialize(t,Ae){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(Ae),this.remoteStore=this.createRemoteStore(Ae),this.eventManager=this.createEventManager(Ae),this.syncEngine=this.createSyncEngine(Ae,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=_e=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,_e,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(t){const Ae=__PRIVATE_newSerializer(t.databaseInfo.databaseId),_e=function(Ce){return new __PRIVATE_WebChannelConnection(Ce)}(t.databaseInfo);return function(Ce,Se,Re,Be){return new __PRIVATE_DatastoreImpl(Ce,Se,Re,Be)}(t.authCredentials,t.appCheckCredentials,_e,Ae)}createRemoteStore(t){return function(_e,xe,Ce,Se,Re){return new __PRIVATE_RemoteStoreImpl(_e,xe,Ce,Se,Re)}(this.localStore,this.datastore,t.asyncQueue,Ae=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,Ae,0),function(){return __PRIVATE_BrowserConnectivityMonitor.C()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(t,Ae){return function(xe,Ce,Se,Re,Be,Fe,Ie){const Ue=new __PRIVATE_SyncEngineImpl(xe,Ce,Se,Re,Be,Fe);return Ie&&(Ue.mu=!0),Ue}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,Ae)}async terminate(){var t,Ae;await async function(xe){const Ce=__PRIVATE_debugCast(xe);__PRIVATE_logDebug(Xt$1,"RemoteStore shutting down."),Ce.da.add(5),await __PRIVATE_disableNetworkInternal(Ce),Ce.Ra.shutdown(),Ce.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(Ae=this.eventManager)===null||Ae===void 0||Ae.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):__PRIVATE_logError("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,Ae){setTimeout(()=>{this.muted||t(Ae)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="FirestoreClient";class FirestoreClient{constructor(t,Ae,_e,xe,Ce){this.authCredentials=t,this.appCheckCredentials=Ae,this.asyncQueue=_e,this.databaseInfo=xe,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=Ce,this.authCredentials.start(_e,async Se=>{__PRIVATE_logDebug(rn,"Received user=",Se.uid),await this.authCredentialListener(Se),this.user=Se}),this.appCheckCredentials.start(_e,Se=>(__PRIVATE_logDebug(rn,"Received new app check token=",Se),this.appCheckCredentialListener(Se,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(Ae){const _e=__PRIVATE_wrapInUserErrorIfRecoverable(Ae,"Failed to shutdown persistence");t.reject(_e)}}),t.promise}}async function __PRIVATE_setOfflineComponentProvider(Ee,t){Ee.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(rn,"Initializing OfflineComponentProvider");const Ae=Ee.configuration;await t.initialize(Ae);let _e=Ae.initialUser;Ee.setCredentialChangeListener(async xe=>{_e.isEqual(xe)||(await __PRIVATE_localStoreHandleUserChange(t.localStore,xe),_e=xe)}),t.persistence.setDatabaseDeletedListener(()=>Ee.terminate()),Ee._offlineComponents=t}async function __PRIVATE_setOnlineComponentProvider(Ee,t){Ee.asyncQueue.verifyOperationInProgress();const Ae=await __PRIVATE_ensureOfflineComponents(Ee);__PRIVATE_logDebug(rn,"Initializing OnlineComponentProvider"),await t.initialize(Ae,Ee.configuration),Ee.setCredentialChangeListener(_e=>__PRIVATE_remoteStoreHandleCredentialChange(t.remoteStore,_e)),Ee.setAppCheckTokenChangeListener((_e,xe)=>__PRIVATE_remoteStoreHandleCredentialChange(t.remoteStore,xe)),Ee._onlineComponents=t}async function __PRIVATE_ensureOfflineComponents(Ee){if(!Ee._offlineComponents)if(Ee._uninitializedComponentsProvider){__PRIVATE_logDebug(rn,"Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(Ee,Ee._uninitializedComponentsProvider._offline)}catch(t){const Ae=t;if(!function(xe){return xe.name==="FirebaseError"?xe.code===N$1.FAILED_PRECONDITION||xe.code===N$1.UNIMPLEMENTED:!(typeof DOMException<"u"&&xe instanceof DOMException)||xe.code===22||xe.code===20||xe.code===11}(Ae))throw Ae;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+Ae),await __PRIVATE_setOfflineComponentProvider(Ee,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug(rn,"Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(Ee,new __PRIVATE_LruGcMemoryOfflineComponentProvider(void 0));return Ee._offlineComponents}async function __PRIVATE_ensureOnlineComponents(Ee){return Ee._onlineComponents||(Ee._uninitializedComponentsProvider?(__PRIVATE_logDebug(rn,"Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(Ee,Ee._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug(rn,"Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(Ee,new OnlineComponentProvider))),Ee._onlineComponents}function __PRIVATE_getSyncEngine(Ee){return __PRIVATE_ensureOnlineComponents(Ee).then(t=>t.syncEngine)}async function __PRIVATE_getEventManager(Ee){const t=await __PRIVATE_ensureOnlineComponents(Ee),Ae=t.eventManager;return Ae.onListen=__PRIVATE_syncEngineListen.bind(null,t.syncEngine),Ae.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,t.syncEngine),Ae.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,t.syncEngine),Ae.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,t.syncEngine),Ae}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(Ee,t,Ae={}){const _e=new __PRIVATE_Deferred;return Ee.asyncQueue.enqueueAndForget(async()=>function(Ce,Se,Re,Be,Fe){const Ie=new __PRIVATE_AsyncObserver({next:ke=>{Ie.xu(),Se.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(Ce,Ue));const Oe=ke.docs.has(Re);!Oe&&ke.fromCache?Fe.reject(new FirestoreError(N$1.UNAVAILABLE,"Failed to get document because the client is offline.")):Oe&&ke.fromCache&&Be&&Be.source==="server"?Fe.reject(new FirestoreError(N$1.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Fe.resolve(ke)},error:ke=>Fe.reject(ke)}),Ue=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(Re.path),Ie,{includeMetadataChanges:!0,Qa:!0});return __PRIVATE_eventManagerListen(Ce,Ue)}(await __PRIVATE_getEventManager(Ee),Ee.asyncQueue,t,Ae,_e)),_e.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(Ee,t,Ae={}){const _e=new __PRIVATE_Deferred;return Ee.asyncQueue.enqueueAndForget(async()=>function(Ce,Se,Re,Be,Fe){const Ie=new __PRIVATE_AsyncObserver({next:ke=>{Ie.xu(),Se.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(Ce,Ue)),ke.fromCache&&Be.source==="server"?Fe.reject(new FirestoreError(N$1.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Fe.resolve(ke)},error:ke=>Fe.reject(ke)}),Ue=new __PRIVATE_QueryListener(Re,Ie,{includeMetadataChanges:!0,Qa:!0});return __PRIVATE_eventManagerListen(Ce,Ue)}(await __PRIVATE_getEventManager(Ee),Ee.asyncQueue,t,Ae,_e)),_e.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(Ee){const t={};return Ee.timeoutSeconds!==void 0&&(t.timeoutSeconds=Ee.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(Ee,t,Ae){if(!Ae)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Function ${Ee}() cannot be called with an empty ${t}.`)}function __PRIVATE_validateIsNotUsedTogether(Ee,t,Ae,_e){if(t===!0&&_e===!0)throw new FirestoreError(N$1.INVALID_ARGUMENT,`${Ee} and ${Ae} cannot be used together.`)}function __PRIVATE_validateDocumentPath(Ee){if(!DocumentKey.isDocumentKey(Ee))throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${Ee} has ${Ee.length}.`)}function __PRIVATE_validateCollectionPath(Ee){if(DocumentKey.isDocumentKey(Ee))throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${Ee} has ${Ee.length}.`)}function __PRIVATE_valueDescription(Ee){if(Ee===void 0)return"undefined";if(Ee===null)return"null";if(typeof Ee=="string")return Ee.length>20&&(Ee=`${Ee.substring(0,20)}...`),JSON.stringify(Ee);if(typeof Ee=="number"||typeof Ee=="boolean")return""+Ee;if(typeof Ee=="object"){if(Ee instanceof Array)return"an array";{const t=function(_e){return _e.constructor?_e.constructor.name:null}(Ee);return t?`a custom ${t} object`:"an object"}}return typeof Ee=="function"?"a function":fail(12329,{type:typeof Ee})}function __PRIVATE_cast(Ee,t){if("_delegate"in Ee&&(Ee=Ee._delegate),!(Ee instanceof t)){if(t.name===Ee.constructor.name)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const Ae=__PRIVATE_valueDescription(Ee);throw new FirestoreError(N$1.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${Ae}`)}}return Ee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="firestore.googleapis.com",_n=!0;class FirestoreSettingsImpl{constructor(t){var Ae,_e;if(t.host===void 0){if(t.ssl!==void 0)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=on,this.ssl=_n}else this.host=t.host,this.ssl=(Ae=t.ssl)!==null&&Ae!==void 0?Ae:_n;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Mt$1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Ot$1)throw new FirestoreError(N$1.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((_e=t.experimentalLongPollingOptions)!==null&&_e!==void 0?_e:{}),function(Ce){if(Ce.timeoutSeconds!==void 0){if(isNaN(Ce.timeoutSeconds))throw new FirestoreError(N$1.INVALID_ARGUMENT,`invalid long polling timeout: ${Ce.timeoutSeconds} (must not be NaN)`);if(Ce.timeoutSeconds<5)throw new FirestoreError(N$1.INVALID_ARGUMENT,`invalid long polling timeout: ${Ce.timeoutSeconds} (minimum allowed value is 5)`);if(Ce.timeoutSeconds>30)throw new FirestoreError(N$1.INVALID_ARGUMENT,`invalid long polling timeout: ${Ce.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(_e,xe){return _e.timeoutSeconds===xe.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Firestore$1{constructor(t,Ae,_e,xe){this._authCredentials=t,this._appCheckCredentials=Ae,this._databaseId=_e,this._app=xe,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(N$1.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new FirestoreError(N$1.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(_e){if(!_e)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(_e.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(_e.sessionIndex||"0",_e.iamToken||null,_e.authTokenFactory||null);case"provider":return _e.client;default:throw new FirestoreError(N$1.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(Ae){const _e=sn.get(Ae);_e&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),sn.delete(Ae),_e.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(Ee,t,Ae,_e={}){var xe;Ee=__PRIVATE_cast(Ee,Firestore$1);const Ce=isCloudWorkstation(t),Se=Ee._getSettings(),Re=Object.assign(Object.assign({},Se),{emulatorOptions:Ee._getEmulatorOptions()}),Be=`${t}:${Ae}`;Ce&&(pingServer(`https://${Be}`),updateEmulatorBanner("Firestore",!0)),Se.host!==on&&Se.host!==Be&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const Fe=Object.assign(Object.assign({},Se),{host:Be,ssl:Ce,emulatorOptions:_e});if(!deepEqual(Fe,Re)&&(Ee._setSettings(Fe),_e.mockUserToken)){let Ie,Ue;if(typeof _e.mockUserToken=="string")Ie=_e.mockUserToken,Ue=User.MOCK_USER;else{Ie=createMockUserToken(_e.mockUserToken,(xe=Ee._app)===null||xe===void 0?void 0:xe.options.projectId);const ke=_e.mockUserToken.sub||_e.mockUserToken.user_id;if(!ke)throw new FirestoreError(N$1.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Ue=new User(ke)}Ee._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(Ie,Ue))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(t,Ae,_e){this.converter=Ae,this._query=_e,this.type="query",this.firestore=t}withConverter(t){return new Query(this.firestore,t,this._query)}}class DocumentReference{constructor(t,Ae,_e){this.converter=Ae,this._key=_e,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new DocumentReference(this.firestore,t,this._key)}}class CollectionReference extends Query{constructor(t,Ae,_e){super(t,Ae,__PRIVATE_newQueryForPath(_e)),this._path=_e,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(t))}withConverter(t){return new CollectionReference(this.firestore,t,this._path)}}function collection(Ee,t,...Ae){if(Ee=getModularInstance(Ee),__PRIVATE_validateNonEmptyArgument("collection","path",t),Ee instanceof Firestore$1){const _e=ResourcePath.fromString(t,...Ae);return __PRIVATE_validateCollectionPath(_e),new CollectionReference(Ee,null,_e)}{if(!(Ee instanceof DocumentReference||Ee instanceof CollectionReference))throw new FirestoreError(N$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const _e=Ee._path.child(ResourcePath.fromString(t,...Ae));return __PRIVATE_validateCollectionPath(_e),new CollectionReference(Ee.firestore,null,_e)}}function doc(Ee,t,...Ae){if(Ee=getModularInstance(Ee),arguments.length===1&&(t=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",t),Ee instanceof Firestore$1){const _e=ResourcePath.fromString(t,...Ae);return __PRIVATE_validateDocumentPath(_e),new DocumentReference(Ee,null,new DocumentKey(_e))}{if(!(Ee instanceof DocumentReference||Ee instanceof CollectionReference))throw new FirestoreError(N$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const _e=Ee._path.child(ResourcePath.fromString(t,...Ae));return __PRIVATE_validateDocumentPath(_e),new DocumentReference(Ee.firestore,Ee instanceof CollectionReference?Ee.converter:null,new DocumentKey(_e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="AsyncQueue";class __PRIVATE_AsyncQueueImpl{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.rc=()=>{const _e=getDocument();_e&&__PRIVATE_logDebug(an,"Visibility state changed to "+_e.visibilityState),this.x_.b_()},this.sc=t;const Ae=getDocument();Ae&&typeof Ae.addEventListener=="function"&&Ae.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const Ae=getDocument();Ae&&typeof Ae.removeEventListener=="function"&&Ae.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const Ae=new __PRIVATE_Deferred;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(Ae.resolve,Ae.reject),Ae.promise)).then(()=>Ae.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!__PRIVATE_isIndexedDbTransactionError(t))throw t;__PRIVATE_logDebug(an,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const Ae=this.sc.then(()=>(this.ec=!0,t().catch(_e=>{throw this.Xu=_e,this.ec=!1,__PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",__PRIVATE_getMessageOrStack(_e)),_e}).then(_e=>(this.ec=!1,_e))));return this.sc=Ae,Ae}enqueueAfterDelay(t,Ae,_e){this.oc(),this.nc.indexOf(t)>-1&&(Ae=0);const xe=DelayedOperation.createAndSchedule(this,t,Ae,_e,Ce=>this.uc(Ce));return this.Zu.push(xe),xe}oc(){this.Xu&&fail(47125,{cc:__PRIVATE_getMessageOrStack(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const Ae of this.Zu)if(Ae.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((Ae,_e)=>Ae.targetTimeMs-_e.targetTimeMs);for(const Ae of this.Zu)if(Ae.skipDelay(),t!=="all"&&Ae.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const Ae=this.Zu.indexOf(t);this.Zu.splice(Ae,1)}}function __PRIVATE_getMessageOrStack(Ee){let t=Ee.message||"";return Ee.stack&&(t=Ee.stack.includes(Ee.message)?Ee.stack:Ee.message+`
`+Ee.stack),t}class Firestore extends Firestore$1{constructor(t,Ae,_e,xe){super(t,Ae,_e,xe),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(xe==null?void 0:xe.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(t),this._firestoreClient=void 0,await t}}}function getFirestore(Ee,t){const Ae=typeof Ee=="object"?Ee:getApp(),_e=typeof Ee=="string"?Ee:ut$1,xe=_getProvider(Ae,"firestore").getImmediate({identifier:_e});if(!xe._initialized){const Ce=getDefaultEmulatorHostnameAndPort("firestore");Ce&&connectFirestoreEmulator(xe,...Ce)}return xe}function ensureFirestoreConfigured(Ee){if(Ee._terminated)throw new FirestoreError(N$1.FAILED_PRECONDITION,"The client has already been terminated.");return Ee._firestoreClient||__PRIVATE_configureFirestore(Ee),Ee._firestoreClient}function __PRIVATE_configureFirestore(Ee){var t,Ae,_e;const xe=Ee._freezeSettings(),Ce=function(Re,Be,Fe,Ie){return new DatabaseInfo(Re,Be,Fe,Ie.host,Ie.ssl,Ie.experimentalForceLongPolling,Ie.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(Ie.experimentalLongPollingOptions),Ie.useFetchStreams,Ie.isUsingEmulator)}(Ee._databaseId,((t=Ee._app)===null||t===void 0?void 0:t.options.appId)||"",Ee._persistenceKey,xe);Ee._componentsProvider||!((Ae=xe.localCache)===null||Ae===void 0)&&Ae._offlineComponentProvider&&(!((_e=xe.localCache)===null||_e===void 0)&&_e._onlineComponentProvider)&&(Ee._componentsProvider={_offline:xe.localCache._offlineComponentProvider,_online:xe.localCache._onlineComponentProvider}),Ee._firestoreClient=new FirestoreClient(Ee._authCredentials,Ee._appCheckCredentials,Ee._queue,Ce,Ee._componentsProvider&&function(Re){const Be=Re==null?void 0:Re._online.build();return{_offline:Re==null?void 0:Re._offline.build(Be),_online:Be}}(Ee._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bytes(ByteString.fromBase64String(t))}catch(Ae){throw new FirestoreError(N$1.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+Ae)}}static fromUint8Array(t){return new Bytes(ByteString.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...t){for(let Ae=0;Ae<t.length;++Ae)if(t[Ae].length===0)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(t,Ae){if(!isFinite(t)||t<-90||t>90)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(Ae)||Ae<-180||Ae>180)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+Ae);this._lat=t,this._long=Ae}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return __PRIVATE_primitiveComparator(this._lat,t._lat)||__PRIVATE_primitiveComparator(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(t){this._values=(t||[]).map(Ae=>Ae)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(_e,xe){if(_e.length!==xe.length)return!1;for(let Ce=0;Ce<_e.length;++Ce)if(_e[Ce]!==xe[Ce])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=/^__.*__$/;class ParsedSetData{constructor(t,Ae,_e){this.data=t,this.fieldMask=Ae,this.fieldTransforms=_e}toMutation(t,Ae){return this.fieldMask!==null?new __PRIVATE_PatchMutation(t,this.data,this.fieldMask,Ae,this.fieldTransforms):new __PRIVATE_SetMutation(t,this.data,Ae,this.fieldTransforms)}}class ParsedUpdateData{constructor(t,Ae,_e){this.data=t,this.fieldMask=Ae,this.fieldTransforms=_e}toMutation(t,Ae){return new __PRIVATE_PatchMutation(t,this.data,this.fieldMask,Ae,this.fieldTransforms)}}function __PRIVATE_isWrite(Ee){switch(Ee){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail(40011,{Ic:Ee})}}class __PRIVATE_ParseContextImpl{constructor(t,Ae,_e,xe,Ce,Se){this.settings=t,this.databaseId=Ae,this.serializer=_e,this.ignoreUndefinedProperties=xe,Ce===void 0&&this.Ec(),this.fieldTransforms=Ce||[],this.fieldMask=Se||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var Ae;const _e=(Ae=this.path)===null||Ae===void 0?void 0:Ae.child(t),xe=this.dc({path:_e,Rc:!1});return xe.Vc(t),xe}mc(t){var Ae;const _e=(Ae=this.path)===null||Ae===void 0?void 0:Ae.child(t),xe=this.dc({path:_e,Rc:!1});return xe.Ec(),xe}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return __PRIVATE_createError(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(Ae=>t.isPrefixOf(Ae))!==void 0||this.fieldTransforms.find(Ae=>t.isPrefixOf(Ae.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(__PRIVATE_isWrite(this.Ic)&&cn.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(t,Ae,_e){this.databaseId=t,this.ignoreUndefinedProperties=Ae,this.serializer=_e||__PRIVATE_newSerializer(t)}bc(t,Ae,_e,xe=!1){return new __PRIVATE_ParseContextImpl({Ic:t,methodName:Ae,wc:_e,path:FieldPath$1.emptyPath(),Rc:!1,yc:xe},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(Ee){const t=Ee._freezeSettings(),Ae=__PRIVATE_newSerializer(Ee._databaseId);return new __PRIVATE_UserDataReader(Ee._databaseId,!!t.ignoreUndefinedProperties,Ae)}function __PRIVATE_parseSetData(Ee,t,Ae,_e,xe,Ce={}){const Se=Ee.bc(Ce.merge||Ce.mergeFields?2:0,t,Ae,xe);__PRIVATE_validatePlainObject("Data must be an object, but it was:",Se,_e);const Re=__PRIVATE_parseObject(_e,Se);let Be,Fe;if(Ce.merge)Be=new FieldMask(Se.fieldMask),Fe=Se.fieldTransforms;else if(Ce.mergeFields){const Ie=[];for(const Ue of Ce.mergeFields){const ke=__PRIVATE_fieldPathFromArgument$1(t,Ue,Ae);if(!Se.contains(ke))throw new FirestoreError(N$1.INVALID_ARGUMENT,`Field '${ke}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(Ie,ke)||Ie.push(ke)}Be=new FieldMask(Ie),Fe=Se.fieldTransforms.filter(Ue=>Be.covers(Ue.field))}else Be=null,Fe=Se.fieldTransforms;return new ParsedSetData(new ObjectValue(Re),Be,Fe)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_parseUpdateData(Ee,t,Ae,_e){const xe=Ee.bc(1,t,Ae);__PRIVATE_validatePlainObject("Data must be an object, but it was:",xe,_e);const Ce=[],Se=ObjectValue.empty();forEach(_e,(Be,Fe)=>{const Ie=__PRIVATE_fieldPathFromDotSeparatedString(t,Be,Ae);Fe=getModularInstance(Fe);const Ue=xe.mc(Ie);if(Fe instanceof __PRIVATE_DeleteFieldValueImpl)Ce.push(Ie);else{const ke=__PRIVATE_parseData(Fe,Ue);ke!=null&&(Ce.push(Ie),Se.set(Ie,ke))}});const Re=new FieldMask(Ce);return new ParsedUpdateData(Se,Re,xe.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(Ee,t,Ae,_e,xe,Ce){const Se=Ee.bc(1,t,Ae),Re=[__PRIVATE_fieldPathFromArgument$1(t,_e,Ae)],Be=[xe];if(Ce.length%2!=0)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ke=0;ke<Ce.length;ke+=2)Re.push(__PRIVATE_fieldPathFromArgument$1(t,Ce[ke])),Be.push(Ce[ke+1]);const Fe=[],Ie=ObjectValue.empty();for(let ke=Re.length-1;ke>=0;--ke)if(!__PRIVATE_fieldMaskContains(Fe,Re[ke])){const Oe=Re[ke];let je=Be[ke];je=getModularInstance(je);const Ke=Se.mc(Oe);if(je instanceof __PRIVATE_DeleteFieldValueImpl)Fe.push(Oe);else{const ze=__PRIVATE_parseData(je,Ke);ze!=null&&(Fe.push(Oe),Ie.set(Oe,ze))}}const Ue=new FieldMask(Fe);return new ParsedUpdateData(Ie,Ue,Se.fieldTransforms)}function __PRIVATE_parseQueryValue(Ee,t,Ae,_e=!1){return __PRIVATE_parseData(Ae,Ee.bc(_e?4:3,t))}function __PRIVATE_parseData(Ee,t){if(__PRIVATE_looksLikeJsonObject(Ee=getModularInstance(Ee)))return __PRIVATE_validatePlainObject("Unsupported field value:",t,Ee),__PRIVATE_parseObject(Ee,t);if(Ee instanceof FieldValue)return function(_e,xe){if(!__PRIVATE_isWrite(xe.Ic))throw xe.gc(`${_e._methodName}() can only be used with update() and set()`);if(!xe.path)throw xe.gc(`${_e._methodName}() is not currently supported inside arrays`);const Ce=_e._toFieldTransform(xe);Ce&&xe.fieldTransforms.push(Ce)}(Ee,t),null;if(Ee===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),Ee instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(_e,xe){const Ce=[];let Se=0;for(const Re of _e){let Be=__PRIVATE_parseData(Re,xe.fc(Se));Be==null&&(Be={nullValue:"NULL_VALUE"}),Ce.push(Be),Se++}return{arrayValue:{values:Ce}}}(Ee,t)}return function(_e,xe){if((_e=getModularInstance(_e))===null)return{nullValue:"NULL_VALUE"};if(typeof _e=="number")return toNumber(xe.serializer,_e);if(typeof _e=="boolean")return{booleanValue:_e};if(typeof _e=="string")return{stringValue:_e};if(_e instanceof Date){const Ce=Timestamp.fromDate(_e);return{timestampValue:toTimestamp(xe.serializer,Ce)}}if(_e instanceof Timestamp){const Ce=new Timestamp(_e.seconds,1e3*Math.floor(_e.nanoseconds/1e3));return{timestampValue:toTimestamp(xe.serializer,Ce)}}if(_e instanceof GeoPoint)return{geoPointValue:{latitude:_e.latitude,longitude:_e.longitude}};if(_e instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(xe.serializer,_e._byteString)};if(_e instanceof DocumentReference){const Ce=xe.databaseId,Se=_e.firestore._databaseId;if(!Se.isEqual(Ce))throw xe.gc(`Document reference is for database ${Se.projectId}/${Se.database} but should be for database ${Ce.projectId}/${Ce.database}`);return{referenceValue:__PRIVATE_toResourceName(_e.firestore._databaseId||xe.databaseId,_e._key.path)}}if(_e instanceof VectorValue)return function(Se,Re){return{mapValue:{fields:{[ct$1]:{stringValue:Pt$1},[Tt$1]:{arrayValue:{values:Se.toArray().map(Fe=>{if(typeof Fe!="number")throw Re.gc("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(Re.serializer,Fe)})}}}}}}(_e,xe);throw xe.gc(`Unsupported field value: ${__PRIVATE_valueDescription(_e)}`)}(Ee,t)}function __PRIVATE_parseObject(Ee,t){const Ae={};return isEmpty(Ee)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):forEach(Ee,(_e,xe)=>{const Ce=__PRIVATE_parseData(xe,t.Ac(_e));Ce!=null&&(Ae[_e]=Ce)}),{mapValue:{fields:Ae}}}function __PRIVATE_looksLikeJsonObject(Ee){return!(typeof Ee!="object"||Ee===null||Ee instanceof Array||Ee instanceof Date||Ee instanceof Timestamp||Ee instanceof GeoPoint||Ee instanceof Bytes||Ee instanceof DocumentReference||Ee instanceof FieldValue||Ee instanceof VectorValue)}function __PRIVATE_validatePlainObject(Ee,t,Ae){if(!__PRIVATE_looksLikeJsonObject(Ae)||!function(xe){return typeof xe=="object"&&xe!==null&&(Object.getPrototypeOf(xe)===Object.prototype||Object.getPrototypeOf(xe)===null)}(Ae)){const _e=__PRIVATE_valueDescription(Ae);throw _e==="an object"?t.gc(Ee+" a custom object"):t.gc(Ee+" "+_e)}}function __PRIVATE_fieldPathFromArgument$1(Ee,t,Ae){if((t=getModularInstance(t))instanceof FieldPath)return t._internalPath;if(typeof t=="string")return __PRIVATE_fieldPathFromDotSeparatedString(Ee,t);throw __PRIVATE_createError("Field path arguments must be of type string or ",Ee,!1,void 0,Ae)}const ln$1=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(Ee,t,Ae){if(t.search(ln$1)>=0)throw __PRIVATE_createError(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,Ee,!1,void 0,Ae);try{return new FieldPath(...t.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,Ee,!1,void 0,Ae)}}function __PRIVATE_createError(Ee,t,Ae,_e,xe){const Ce=_e&&!_e.isEmpty(),Se=xe!==void 0;let Re=`Function ${t}() called with invalid data`;Ae&&(Re+=" (via `toFirestore()`)"),Re+=". ";let Be="";return(Ce||Se)&&(Be+=" (found",Ce&&(Be+=` in field ${_e}`),Se&&(Be+=` in document ${xe}`),Be+=")"),new FirestoreError(N$1.INVALID_ARGUMENT,Re+Ee+Be)}function __PRIVATE_fieldMaskContains(Ee,t){return Ee.some(Ae=>Ae.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(t,Ae,_e,xe,Ce){this._firestore=t,this._userDataWriter=Ae,this._key=_e,this._document=xe,this._converter=Ce}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const Ae=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",t));if(Ae!==null)return this._userDataWriter.convertValue(Ae)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(Ee,t){return typeof t=="string"?__PRIVATE_fieldPathFromDotSeparatedString(Ee,t):t instanceof FieldPath?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(Ee){if(Ee.limitType==="L"&&Ee.explicitOrderBy.length===0)throw new FirestoreError(N$1.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(Ee,t,...Ae){let _e=[];t instanceof AppliableConstraint&&_e.push(t),_e=_e.concat(Ae),function(Ce){const Se=Ce.filter(Be=>Be instanceof QueryCompositeFilterConstraint).length,Re=Ce.filter(Be=>Be instanceof QueryFieldFilterConstraint).length;if(Se>1||Se>0&&Re>0)throw new FirestoreError(N$1.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(_e);for(const xe of _e)Ee=xe._apply(Ee);return Ee}class QueryFieldFilterConstraint extends QueryConstraint{constructor(t,Ae,_e){super(),this._field=t,this._op=Ae,this._value=_e,this.type="where"}static _create(t,Ae,_e){return new QueryFieldFilterConstraint(t,Ae,_e)}_apply(t){const Ae=this._parse(t);return __PRIVATE_validateNewFieldFilter(t._query,Ae),new Query(t.firestore,t.converter,__PRIVATE_queryWithAddedFilter(t._query,Ae))}_parse(t){const Ae=__PRIVATE_newUserDataReader(t.firestore);return function(Ce,Se,Re,Be,Fe,Ie,Ue){let ke;if(Fe.isKeyField()){if(Ie==="array-contains"||Ie==="array-contains-any")throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Ie}' queries on documentId().`);if(Ie==="in"||Ie==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(Ue,Ie);const je=[];for(const Ke of Ue)je.push(__PRIVATE_parseDocumentIdValue(Be,Ce,Ke));ke={arrayValue:{values:je}}}else ke=__PRIVATE_parseDocumentIdValue(Be,Ce,Ue)}else Ie!=="in"&&Ie!=="not-in"&&Ie!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(Ue,Ie),ke=__PRIVATE_parseQueryValue(Re,Se,Ue,Ie==="in"||Ie==="not-in");return FieldFilter.create(Fe,Ie,ke)}(t._query,"where",Ae,t.firestore._databaseId,this._field,this._op,this._value)}}function where(Ee,t,Ae){const _e=t,xe=__PRIVATE_fieldPathFromArgument("where",Ee);return QueryFieldFilterConstraint._create(xe,_e,Ae)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(t,Ae){super(),this.type=t,this._queryConstraints=Ae}static _create(t,Ae){return new QueryCompositeFilterConstraint(t,Ae)}_parse(t){const Ae=this._queryConstraints.map(_e=>_e._parse(t)).filter(_e=>_e.getFilters().length>0);return Ae.length===1?Ae[0]:CompositeFilter.create(Ae,this._getOperator())}_apply(t){const Ae=this._parse(t);return Ae.getFilters().length===0?t:(function(xe,Ce){let Se=xe;const Re=Ce.getFlattenedFilters();for(const Be of Re)__PRIVATE_validateNewFieldFilter(Se,Be),Se=__PRIVATE_queryWithAddedFilter(Se,Be)}(t._query,Ae),new Query(t.firestore,t.converter,__PRIVATE_queryWithAddedFilter(t._query,Ae)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(t,Ae){super(),this._field=t,this._direction=Ae,this.type="orderBy"}static _create(t,Ae){return new QueryOrderByConstraint(t,Ae)}_apply(t){const Ae=function(xe,Ce,Se){if(xe.startAt!==null)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(xe.endAt!==null)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(Ce,Se)}(t._query,this._field,this._direction);return new Query(t.firestore,t.converter,function(xe,Ce){const Se=xe.explicitOrderBy.concat([Ce]);return new __PRIVATE_QueryImpl(xe.path,xe.collectionGroup,Se,xe.filters.slice(),xe.limit,xe.limitType,xe.startAt,xe.endAt)}(t._query,Ae))}}function orderBy(Ee,t="asc"){const Ae=t,_e=__PRIVATE_fieldPathFromArgument("orderBy",Ee);return QueryOrderByConstraint._create(_e,Ae)}class QueryLimitConstraint extends QueryConstraint{constructor(t,Ae,_e){super(),this.type=t,this._limit=Ae,this._limitType=_e}static _create(t,Ae,_e){return new QueryLimitConstraint(t,Ae,_e)}_apply(t){return new Query(t.firestore,t.converter,__PRIVATE_queryWithLimit(t._query,this._limit,this._limitType))}}function limit(Ee){return QueryLimitConstraint._create("limit",Ee,"F")}function __PRIVATE_parseDocumentIdValue(Ee,t,Ae){if(typeof(Ae=getModularInstance(Ae))=="string"){if(Ae==="")throw new FirestoreError(N$1.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(t)&&Ae.indexOf("/")!==-1)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${Ae}' contains a '/' character.`);const _e=t.path.child(ResourcePath.fromString(Ae));if(!DocumentKey.isDocumentKey(_e))throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${_e}' is not because it has an odd number of segments (${_e.length}).`);return __PRIVATE_refValue(Ee,new DocumentKey(_e))}if(Ae instanceof DocumentReference)return __PRIVATE_refValue(Ee,Ae._key);throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(Ae)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(Ee,t){if(!Array.isArray(Ee)||Ee.length===0)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(Ee,t){const Ae=function(xe,Ce){for(const Se of xe)for(const Re of Se.getFlattenedFilters())if(Ce.indexOf(Re.op)>=0)return Re.op;return null}(Ee.filters,function(xe){switch(xe){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(Ae!==null)throw Ae===t.op?new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${Ae.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(t,Ae="none"){switch(__PRIVATE_typeOrder(t)){case 0:return null;case 1:return t.booleanValue;case 2:return __PRIVATE_normalizeNumber(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,Ae);case 5:return t.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,Ae);case 11:return this.convertObject(t.mapValue,Ae);case 10:return this.convertVectorValue(t.mapValue);default:throw fail(62114,{value:t})}}convertObject(t,Ae){return this.convertObjectMap(t.fields,Ae)}convertObjectMap(t,Ae="none"){const _e={};return forEach(t,(xe,Ce)=>{_e[xe]=this.convertValue(Ce,Ae)}),_e}convertVectorValue(t){var Ae,_e,xe;const Ce=(xe=(_e=(Ae=t.fields)===null||Ae===void 0?void 0:Ae[Tt$1].arrayValue)===null||_e===void 0?void 0:_e.values)===null||xe===void 0?void 0:xe.map(Se=>__PRIVATE_normalizeNumber(Se.doubleValue));return new VectorValue(Ce)}convertGeoPoint(t){return new GeoPoint(__PRIVATE_normalizeNumber(t.latitude),__PRIVATE_normalizeNumber(t.longitude))}convertArray(t,Ae){return(t.values||[]).map(_e=>this.convertValue(_e,Ae))}convertServerTimestamp(t,Ae){switch(Ae){case"previous":const _e=__PRIVATE_getPreviousValue(t);return _e==null?null:this.convertValue(_e,Ae);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(t));default:return null}}convertTimestamp(t){const Ae=__PRIVATE_normalizeTimestamp(t);return new Timestamp(Ae.seconds,Ae.nanos)}convertDocumentKey(t,Ae){const _e=ResourcePath.fromString(t);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(_e),9688,{name:t});const xe=new DatabaseId(_e.get(1),_e.get(3)),Ce=new DocumentKey(_e.popFirst(5));return xe.isEqual(Ae)||__PRIVATE_logError(`Document ${Ce} contains a document reference within a different database (${xe.projectId}/${xe.database}) which is not supported. It will be treated as a reference in the current database (${Ae.projectId}/${Ae.database}) instead.`),Ce}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(Ee,t,Ae){let _e;return _e=Ee?Ee.toFirestore(t):t,_e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(t,Ae){this.hasPendingWrites=t,this.fromCache=Ae}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(t,Ae,_e,xe,Ce,Se){super(t,Ae,_e,xe,Se),this._firestore=t,this._firestoreImpl=t,this.metadata=Ce}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const Ae=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(Ae,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,Ae={}){if(this._document){const _e=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",t));if(_e!==null)return this._userDataWriter.convertValue(_e,Ae.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(t={}){return super.data(t)}}class QuerySnapshot{constructor(t,Ae,_e,xe){this._firestore=t,this._userDataWriter=Ae,this._snapshot=xe,this.metadata=new SnapshotMetadata(xe.hasPendingWrites,xe.fromCache),this.query=_e}get docs(){const t=[];return this.forEach(Ae=>t.push(Ae)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,Ae){this._snapshot.docs.forEach(_e=>{t.call(Ae,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,_e.key,_e,new SnapshotMetadata(this._snapshot.mutatedKeys.has(_e.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const Ae=!!t.includeMetadataChanges;if(Ae&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(N$1.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===Ae||(this._cachedChanges=function(xe,Ce){if(xe._snapshot.oldDocs.isEmpty()){let Se=0;return xe._snapshot.docChanges.map(Re=>{const Be=new QueryDocumentSnapshot(xe._firestore,xe._userDataWriter,Re.doc.key,Re.doc,new SnapshotMetadata(xe._snapshot.mutatedKeys.has(Re.doc.key),xe._snapshot.fromCache),xe.query.converter);return Re.doc,{type:"added",doc:Be,oldIndex:-1,newIndex:Se++}})}{let Se=xe._snapshot.oldDocs;return xe._snapshot.docChanges.filter(Re=>Ce||Re.type!==3).map(Re=>{const Be=new QueryDocumentSnapshot(xe._firestore,xe._userDataWriter,Re.doc.key,Re.doc,new SnapshotMetadata(xe._snapshot.mutatedKeys.has(Re.doc.key),xe._snapshot.fromCache),xe.query.converter);let Fe=-1,Ie=-1;return Re.type!==0&&(Fe=Se.indexOf(Re.doc.key),Se=Se.delete(Re.doc.key)),Re.type!==1&&(Se=Se.add(Re.doc),Ie=Se.indexOf(Re.doc.key)),{type:__PRIVATE_resultChangeType(Re.type),doc:Be,oldIndex:Fe,newIndex:Ie}})}}(this,Ae),this._cachedChangesIncludeMetadataChanges=Ae),this._cachedChanges}}function __PRIVATE_resultChangeType(Ee){switch(Ee){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail(61501,{type:Ee})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(Ee){Ee=__PRIVATE_cast(Ee,DocumentReference);const t=__PRIVATE_cast(Ee.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(t),Ee._key).then(Ae=>__PRIVATE_convertToDocSnapshot(t,Ee,Ae))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bytes(t)}convertReference(t){const Ae=this.convertDocumentKey(t,this.firestore._databaseId);return new DocumentReference(this.firestore,null,Ae)}}function getDocs(Ee){Ee=__PRIVATE_cast(Ee,Query);const t=__PRIVATE_cast(Ee.firestore,Firestore),Ae=ensureFirestoreConfigured(t),_e=new __PRIVATE_ExpUserDataWriter(t);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(Ee._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(Ae,Ee._query).then(xe=>new QuerySnapshot(t,_e,Ee,xe))}function setDoc(Ee,t,Ae){Ee=__PRIVATE_cast(Ee,DocumentReference);const _e=__PRIVATE_cast(Ee.firestore,Firestore),xe=__PRIVATE_applyFirestoreDataConverter(Ee.converter,t);return executeWrite(_e,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(_e),"setDoc",Ee._key,xe,Ee.converter!==null,Ae).toMutation(Ee._key,Precondition.none())])}function updateDoc(Ee,t,Ae,..._e){Ee=__PRIVATE_cast(Ee,DocumentReference);const xe=__PRIVATE_cast(Ee.firestore,Firestore),Ce=__PRIVATE_newUserDataReader(xe);let Se;return Se=typeof(t=getModularInstance(t))=="string"||t instanceof FieldPath?__PRIVATE_parseUpdateVarargs(Ce,"updateDoc",Ee._key,t,Ae,_e):__PRIVATE_parseUpdateData(Ce,"updateDoc",Ee._key,t),executeWrite(xe,[Se.toMutation(Ee._key,Precondition.exists(!0))])}function deleteDoc(Ee){return executeWrite(__PRIVATE_cast(Ee.firestore,Firestore),[new __PRIVATE_DeleteMutation(Ee._key,Precondition.none())])}function addDoc(Ee,t){const Ae=__PRIVATE_cast(Ee.firestore,Firestore),_e=doc(Ee),xe=__PRIVATE_applyFirestoreDataConverter(Ee.converter,t);return executeWrite(Ae,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(Ee.firestore),"addDoc",_e._key,xe,Ee.converter!==null,{}).toMutation(_e._key,Precondition.exists(!1))]).then(()=>_e)}function executeWrite(Ee,t){return function(_e,xe){const Ce=new __PRIVATE_Deferred;return _e.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(_e),xe,Ce)),Ce.promise}(ensureFirestoreConfigured(Ee),t)}function __PRIVATE_convertToDocSnapshot(Ee,t,Ae){const _e=Ae.docs.get(t._key),xe=new __PRIVATE_ExpUserDataWriter(Ee);return new DocumentSnapshot(Ee,xe,t._key,_e,new SnapshotMetadata(Ae.hasPendingWrites,Ae.fromCache),t.converter)}(function(t,Ae=!0){(function(xe){x$2=xe})(SDK_VERSION),_registerComponent(new Component("firestore",(_e,{instanceIdentifier:xe,options:Ce})=>{const Se=_e.getProvider("app").getImmediate(),Re=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(_e.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(Se,_e.getProvider("app-check-internal")),function(Fe,Ie){if(!Object.prototype.hasOwnProperty.apply(Fe.options,["projectId"]))throw new FirestoreError(N$1.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(Fe.options.projectId,Ie)}(Se,xe),Se);return Ce=Object.assign({useFetchStreams:Ae},Ce),Re._setSettings(Ce),Re},"PUBLIC").setMultipleInstances(!0)),registerVersion(F$2,M$1,t),registerVersion(F$2,M$1,"esm2017")})();const firebaseConfig$1={apiKey:"AIzaSyCWSayCLeyr_6aBSNjb4nCY--Lw-DB_4S4",authDomain:"solutionssystemmain.firebaseapp.com",projectId:"solutionssystemmain",storageBucket:"solutionssystemmain.appspot.com",messagingSenderId:"961697855820",appId:"1:961697855820:web:a83ed62b1fdacee11f77e9"},app=initializeApp(firebaseConfig$1),db=getFirestore(app),auth=getAuth(app),UserContext=reactExports.createContext(),useUser=()=>reactExports.useContext(UserContext),UserProvider=({children:Ee})=>{const[t,Ae]=reactExports.useState(()=>{const Ce=localStorage.getItem("technician");return Ce?JSON.parse(Ce):null}),[_e,xe]=reactExports.useState(!0);return reactExports.useEffect(()=>{const Ce=onAuthStateChanged(auth,async Se=>{if(console.log("Auth state changed:",Se),Se){console.log("User UID:",Se.uid),console.log("User email:",Se.email);try{const Re=query(collection(db,"technicions"),where("email","==",Se.email));console.log("Fetching technician data for email:",Se.email);const Be=await getDocs(Re);if(console.log("Query result:",Be.empty?"No documents":`${Be.size} documents found`),Be.empty)console.log("No technician document found for email:",Se.email),Ae(null),localStorage.removeItem("technician");else{const Fe=Be.docs[0].data(),Ie={uid:Se.uid,id:Be.docs[0].id,...Fe};console.log("Technician data:",Ie),Ae(Ie),localStorage.setItem("technician",JSON.stringify(Ie))}}catch(Re){console.error("Error fetching technician:",Re),Ae(null),localStorage.removeItem("technician")}}else console.log("User not authenticated"),Ae(null),localStorage.removeItem("technician");xe(!1)});return()=>Ce()},[]),jsxRuntimeExports.jsx(UserContext.Provider,{value:{technician:t,setTechnician:Ae},children:!_e&&Ee})},Navbar=()=>{const[Ee]=useAuthState(auth),[t,Ae]=reactExports.useState(!1),_e=reactExports.useRef(),xe=useNavigate(),{technician:Ce}=useUser();console.log("Current technician data:",Ce),console.log("Technician name:",Ce==null?void 0:Ce.name),console.log("Technician permission:",Ce==null?void 0:Ce.permission),console.log("Is System Admin?",(Ce==null?void 0:Ce.name)==="System Admin"||(Ce==null?void 0:Ce.permission)==="SystemAdmin");const Se=async()=>{await signOut(auth),xe("/")};return reactExports.useEffect(()=>{const Re=Be=>{_e.current&&!_e.current.contains(Be.target)&&Ae(!1)};return document.addEventListener("mousedown",Re),()=>document.removeEventListener("mousedown",Re)},[]),jsxRuntimeExports.jsxs("nav",{className:"navbar",children:[jsxRuntimeExports.jsx("div",{className:"navbar-title",children:"🍏 Apple Service System"}),jsxRuntimeExports.jsxs("div",{className:"navbar-links",children:[jsxRuntimeExports.jsx(NavLink,{to:"/tickets",activeClassName:"active",children:"Tickets"}),jsxRuntimeExports.jsx(NavLink,{to:"/customers",activeClassName:"active",children:"Customers"}),jsxRuntimeExports.jsx(NavLink,{to:"/devices",activeClassName:"active",children:"Devices"}),(Ce==null?void 0:Ce.permission)==="Admin"&&jsxRuntimeExports.jsx(NavLink,{to:"/admin",activeClassName:"active",children:"Admin Dashboard"}),((Ce==null?void 0:Ce.name)==="System Admin"||(Ce==null?void 0:Ce.permission)==="SystemAdmin")&&jsxRuntimeExports.jsx(NavLink,{to:"/user-management",activeClassName:"active",children:"👥 User Management"}),jsxRuntimeExports.jsx(NavLink,{to:"/archived",activeClassName:"active",children:"Archived"})]}),Ee&&jsxRuntimeExports.jsxs("div",{className:"navbar-avatar",ref:_e,children:[jsxRuntimeExports.jsx("img",{src:`https://ui-avatars.com/api/?name=${Ee.displayName||Ee.email}`,alt:"Avatar",className:"avatar",onClick:()=>Ae(Re=>!Re)}),t&&jsxRuntimeExports.jsxs("div",{className:"dropdown-menu",children:[jsxRuntimeExports.jsx("p",{children:(Ce==null?void 0:Ce.name)||(Ce==null?void 0:Ce.displayName)||(Ee==null?void 0:Ee.displayName)||(Ee==null?void 0:Ee.email)||"Loading..."}),jsxRuntimeExports.jsx("button",{onClick:Se,children:"Sign Out"})]})]})]})},statusMap$3={0:"Start",1:"VMI Troubleshooting",2:"Repair Released from Processing",3:"Awaiting Parts",4:"Parts Allocated",5:"In Repair",6:"Ready For Pickup",7:"Repair Marked Complete"},statusColorMap={0:"#b9caff",3:"#ffe08a",6:"#50fa8d"},TicketCard=({ticket:Ee,onClick:t,isSelected:Ae})=>{var Se;const _e=(Se=Ee.ticketStates)==null?void 0:Se[Ee.ticketStates.length-1],xe=statusMap$3[_e]||"Unknown",Ce=statusColorMap[_e]||"#ffffff";return jsxRuntimeExports.jsxs("div",{className:`ticket-card-new ${Ae?"selected":""}`,onClick:t,style:{backgroundColor:Ce,padding:"12px",borderRadius:"10px",marginBottom:"10px",border:"1px solid #ddd",cursor:"pointer",position:"relative",overflow:"hidden",zIndex:1},children:[jsxRuntimeExports.jsxs("div",{className:"ticket-header",children:[jsxRuntimeExports.jsxs("span",{className:"ticket-id",children:["Tic# ",Ee.location,Ee.ticketNum]}),jsxRuntimeExports.jsxs("span",{className:"ticket-status",children:["Status: ",xe]}),jsxRuntimeExports.jsxs("span",{className:"ticket-customer",children:["Customer: ",Ee.customerName]})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-body",children:["Device ",Ee.machineType," with problem ",Ee.symptom]}),jsxRuntimeExports.jsx("div",{className:"ticket-date",children:Ee.date})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(t,Ae,_e=0){super(prependCode(t),`Firebase Storage: ${Ae} (${prependCode(t)})`),this.status_=_e,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return prependCode(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(Ee){Ee.UNKNOWN="unknown",Ee.OBJECT_NOT_FOUND="object-not-found",Ee.BUCKET_NOT_FOUND="bucket-not-found",Ee.PROJECT_NOT_FOUND="project-not-found",Ee.QUOTA_EXCEEDED="quota-exceeded",Ee.UNAUTHENTICATED="unauthenticated",Ee.UNAUTHORIZED="unauthorized",Ee.UNAUTHORIZED_APP="unauthorized-app",Ee.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Ee.INVALID_CHECKSUM="invalid-checksum",Ee.CANCELED="canceled",Ee.INVALID_EVENT_NAME="invalid-event-name",Ee.INVALID_URL="invalid-url",Ee.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Ee.NO_DEFAULT_BUCKET="no-default-bucket",Ee.CANNOT_SLICE_BLOB="cannot-slice-blob",Ee.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Ee.NO_DOWNLOAD_URL="no-download-url",Ee.INVALID_ARGUMENT="invalid-argument",Ee.INVALID_ARGUMENT_COUNT="invalid-argument-count",Ee.APP_DELETED="app-deleted",Ee.INVALID_ROOT_OPERATION="invalid-root-operation",Ee.INVALID_FORMAT="invalid-format",Ee.INTERNAL_ERROR="internal-error",Ee.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(Ee){return"storage/"+Ee}function unknown(){const Ee="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,Ee)}function objectNotFound(Ee){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+Ee+"' does not exist.")}function quotaExceeded(Ee){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+Ee+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const Ee="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,Ee)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(Ee){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+Ee+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(Ee){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+Ee+"'.")}function invalidDefaultBucket(Ee){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Ee+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(Ee){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${Ee} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument(Ee){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,Ee)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(Ee){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+Ee+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(Ee,t){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+Ee+"': "+t)}function internalError(Ee){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+Ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(t,Ae){this.bucket=t,this.path_=Ae}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,Ae){let _e;try{_e=Location.makeFromUrl(t,Ae)}catch{return new Location(t,"")}if(_e.path==="")return _e;throw invalidDefaultBucket(t)}static makeFromUrl(t,Ae){let _e=null;const xe="([A-Za-z0-9.\\-_]+)";function Ce(sr){sr.path.charAt(sr.path.length-1)==="/"&&(sr.path_=sr.path_.slice(0,-1))}const Se="(/(.*))?$",Re=new RegExp("^gs://"+xe+Se,"i"),Be={bucket:1,path:3};function Fe(sr){sr.path_=decodeURIComponent(sr.path)}const Ie="v[A-Za-z0-9_]+",Ue=Ae.replace(/[.]/g,"\\."),ke="(/([^?#]*).*)?$",Oe=new RegExp(`^https?://${Ue}/${Ie}/b/${xe}/o${ke}`,"i"),je={bucket:1,path:3},Ke=Ae===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":Ae,ze="([^?#]*)",Ve=new RegExp(`^https?://${Ke}/${xe}/${ze}`,"i"),ir=[{regex:Re,indices:Be,postModify:Ce},{regex:Oe,indices:je,postModify:Fe},{regex:Ve,indices:{bucket:1,path:2},postModify:Fe}];for(let sr=0;sr<ir.length;sr++){const rr=ir[sr],nr=rr.regex.exec(t);if(nr){const We=nr[rr.indices.bucket];let Ge=nr[rr.indices.path];Ge||(Ge=""),_e=new Location(We,Ge),rr.postModify(_e);break}}if(_e==null)throw invalidUrl(t);return _e}}class FailRequest{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(Ee,t,Ae){let _e=1,xe=null,Ce=null,Se=!1,Re=0;function Be(){return Re===2}let Fe=!1;function Ie(...ze){Fe||(Fe=!0,t.apply(null,ze))}function Ue(ze){xe=setTimeout(()=>{xe=null,Ee(Oe,Be())},ze)}function ke(){Ce&&clearTimeout(Ce)}function Oe(ze,...Ve){if(Fe){ke();return}if(ze){ke(),Ie.call(null,ze,...Ve);return}if(Be()||Se){ke(),Ie.call(null,ze,...Ve);return}_e<64&&(_e*=2);let ir;Re===1?(Re=2,ir=0):ir=(_e+Math.random())*1e3,Ue(ir)}let je=!1;function Ke(ze){je||(je=!0,ke(),!Fe&&(xe!==null?(ze||(Re=2),clearTimeout(xe),Ue(0)):ze||(Re=1)))}return Ue(0),Ce=setTimeout(()=>{Se=!0,Ke(!0)},Ae),Ke}function stop(Ee){Ee(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(Ee){return Ee!==void 0}function isNonArrayObject(Ee){return typeof Ee=="object"&&!Array.isArray(Ee)}function isString$1(Ee){return typeof Ee=="string"||Ee instanceof String}function isNativeBlob(Ee){return isNativeBlobDefined()&&Ee instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber(Ee,t,Ae,_e){if(_e<t)throw invalidArgument(`Invalid value for '${Ee}'. Expected ${t} or greater.`);if(_e>Ae)throw invalidArgument(`Invalid value for '${Ee}'. Expected ${Ae} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(Ee,t,Ae){let _e=t;return Ae==null&&(_e=`https://${t}`),`${Ae}://${_e}/v0${Ee}`}function makeQueryString(Ee){const t=encodeURIComponent;let Ae="?";for(const _e in Ee)if(Ee.hasOwnProperty(_e)){const xe=t(_e)+"="+t(Ee[_e]);Ae=Ae+xe+"&"}return Ae=Ae.slice(0,-1),Ae}var ErrorCode;(function(Ee){Ee[Ee.NO_ERROR=0]="NO_ERROR",Ee[Ee.NETWORK_ERROR=1]="NETWORK_ERROR",Ee[Ee.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(Ee,t){const Ae=Ee>=500&&Ee<600,xe=[408,429].indexOf(Ee)!==-1,Ce=t.indexOf(Ee)!==-1;return Ae||xe||Ce}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(t,Ae,_e,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke=!0,Oe=!1){this.url_=t,this.method_=Ae,this.headers_=_e,this.body_=xe,this.successCodes_=Ce,this.additionalRetryCodes_=Se,this.callback_=Re,this.errorCallback_=Be,this.timeout_=Fe,this.progressCallback_=Ie,this.connectionFactory_=Ue,this.retry=ke,this.isUsingEmulator=Oe,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((je,Ke)=>{this.resolve_=je,this.reject_=Ke,this.start_()})}start_(){const t=(_e,xe)=>{if(xe){_e(!1,new RequestEndStatus(!1,null,!0));return}const Ce=this.connectionFactory_();this.pendingConnection_=Ce;const Se=Re=>{const Be=Re.loaded,Fe=Re.lengthComputable?Re.total:-1;this.progressCallback_!==null&&this.progressCallback_(Be,Fe)};this.progressCallback_!==null&&Ce.addUploadProgressListener(Se),Ce.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&Ce.removeUploadProgressListener(Se),this.pendingConnection_=null;const Re=Ce.getErrorCode()===ErrorCode.NO_ERROR,Be=Ce.getStatus();if(!Re||isRetryStatusCode(Be,this.additionalRetryCodes_)&&this.retry){const Ie=Ce.getErrorCode()===ErrorCode.ABORT;_e(!1,new RequestEndStatus(!1,null,Ie));return}const Fe=this.successCodes_.indexOf(Be)!==-1;_e(!0,new RequestEndStatus(Fe,Ce))})},Ae=(_e,xe)=>{const Ce=this.resolve_,Se=this.reject_,Re=xe.connection;if(xe.wasSuccessCode)try{const Be=this.callback_(Re,Re.getResponse());isJustDef(Be)?Ce(Be):Ce()}catch(Be){Se(Be)}else if(Re!==null){const Be=unknown();Be.serverResponse=Re.getErrorText(),this.errorCallback_?Se(this.errorCallback_(Re,Be)):Se(Be)}else if(xe.canceled){const Be=this.appDelete_?appDeleted():canceled();Se(Be)}else{const Be=retryLimitExceeded();Se(Be)}};this.canceled_?Ae(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(t,Ae,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(t,Ae,_e){this.wasSuccessCode=t,this.connection=Ae,this.canceled=!!_e}}function addAuthHeader_(Ee,t){t!==null&&t.length>0&&(Ee.Authorization="Firebase "+t)}function addVersionHeader_(Ee,t){Ee["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function addGmpidHeader_(Ee,t){t&&(Ee["X-Firebase-GMPID"]=t)}function addAppCheckHeader_(Ee,t){t!==null&&(Ee["X-Firebase-AppCheck"]=t)}function makeRequest(Ee,t,Ae,_e,xe,Ce,Se=!0,Re=!1){const Be=makeQueryString(Ee.urlParams),Fe=Ee.url+Be,Ie=Object.assign({},Ee.headers);return addGmpidHeader_(Ie,t),addAuthHeader_(Ie,Ae),addVersionHeader_(Ie,Ce),addAppCheckHeader_(Ie,_e),new NetworkRequest(Fe,Ee.method,Ie,Ee.body,Ee.successCodes,Ee.additionalRetryCodes,Ee.handler,Ee.errorHandler,Ee.timeout,Ee.progressCallback,xe,Se,Re)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...Ee){const t=getBlobBuilder();if(t!==void 0){const Ae=new t;for(let _e=0;_e<Ee.length;_e++)Ae.append(Ee[_e]);return Ae.getBlob()}else{if(isNativeBlobDefined())return new Blob(Ee);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(Ee,t,Ae){return Ee.webkitSlice?Ee.webkitSlice(t,Ae):Ee.mozSlice?Ee.mozSlice(t,Ae):Ee.slice?Ee.slice(t,Ae):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(Ee){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(Ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(t,Ae){this.data=t,this.contentType=Ae||null}}function dataFromString(Ee,t){switch(Ee){case StringFormat.RAW:return new StringData(utf8Bytes_(t));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(Ee,t));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(t),dataURLContentType_(t))}throw unknown()}function utf8Bytes_(Ee){const t=[];for(let Ae=0;Ae<Ee.length;Ae++){let _e=Ee.charCodeAt(Ae);if(_e<=127)t.push(_e);else if(_e<=2047)t.push(192|_e>>6,128|_e&63);else if((_e&64512)===55296)if(!(Ae<Ee.length-1&&(Ee.charCodeAt(Ae+1)&64512)===56320))t.push(239,191,189);else{const Ce=_e,Se=Ee.charCodeAt(++Ae);_e=65536|(Ce&1023)<<10|Se&1023,t.push(240|_e>>18,128|_e>>12&63,128|_e>>6&63,128|_e&63)}else(_e&64512)===56320?t.push(239,191,189):t.push(224|_e>>12,128|_e>>6&63,128|_e&63)}return new Uint8Array(t)}function percentEncodedBytes_(Ee){let t;try{t=decodeURIComponent(Ee)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(t)}function base64Bytes_(Ee,t){switch(Ee){case StringFormat.BASE64:{const xe=t.indexOf("-")!==-1,Ce=t.indexOf("_")!==-1;if(xe||Ce)throw invalidFormat(Ee,"Invalid character '"+(xe?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const xe=t.indexOf("+")!==-1,Ce=t.indexOf("/")!==-1;if(xe||Ce)throw invalidFormat(Ee,"Invalid character '"+(xe?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let Ae;try{Ae=decodeBase64(t)}catch(xe){throw xe.message.includes("polyfill")?xe:invalidFormat(Ee,"Invalid character found")}const _e=new Uint8Array(Ae.length);for(let xe=0;xe<Ae.length;xe++)_e[xe]=Ae.charCodeAt(xe);return _e}class DataURLParts{constructor(t){this.base64=!1,this.contentType=null;const Ae=t.match(/^data:([^,]+)?,/);if(Ae===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const _e=Ae[1]||null;_e!=null&&(this.base64=endsWith(_e,";base64"),this.contentType=this.base64?_e.substring(0,_e.length-7):_e),this.rest=t.substring(t.indexOf(",")+1)}}function dataURLBytes_(Ee){const t=new DataURLParts(Ee);return t.base64?base64Bytes_(StringFormat.BASE64,t.rest):percentEncodedBytes_(t.rest)}function dataURLContentType_(Ee){return new DataURLParts(Ee).contentType}function endsWith(Ee,t){return Ee.length>=t.length?Ee.substring(Ee.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(t,Ae){let _e=0,xe="";isNativeBlob(t)?(this.data_=t,_e=t.size,xe=t.type):t instanceof ArrayBuffer?(Ae?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),_e=this.data_.length):t instanceof Uint8Array&&(Ae?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),_e=t.length),this.size_=_e,this.type_=xe}size(){return this.size_}type(){return this.type_}slice(t,Ae){if(isNativeBlob(this.data_)){const _e=this.data_,xe=sliceBlob(_e,t,Ae);return xe===null?null:new FbsBlob(xe)}else{const _e=new Uint8Array(this.data_.buffer,t,Ae-t);return new FbsBlob(_e,!0)}}static getBlob(...t){if(isNativeBlobDefined()){const Ae=t.map(_e=>_e instanceof FbsBlob?_e.data_:_e);return new FbsBlob(getBlob$1.apply(null,Ae))}else{const Ae=t.map(Se=>isString$1(Se)?dataFromString(StringFormat.RAW,Se).data:Se.data_);let _e=0;Ae.forEach(Se=>{_e+=Se.byteLength});const xe=new Uint8Array(_e);let Ce=0;return Ae.forEach(Se=>{for(let Re=0;Re<Se.length;Re++)xe[Ce++]=Se[Re]}),new FbsBlob(xe,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(Ee){let t;try{t=JSON.parse(Ee)}catch{return null}return isNonArrayObject(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(Ee){if(Ee.length===0)return null;const t=Ee.lastIndexOf("/");return t===-1?"":Ee.slice(0,t)}function child(Ee,t){const Ae=t.split("/").filter(_e=>_e.length>0).join("/");return Ee.length===0?Ae:Ee+"/"+Ae}function lastComponent(Ee){const t=Ee.lastIndexOf("/",Ee.length-2);return t===-1?Ee:Ee.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(Ee,t){return t}class Mapping{constructor(t,Ae,_e,xe){this.server=t,this.local=Ae||t,this.writable=!!_e,this.xform=xe||noXform_}}let mappings_=null;function xformPath(Ee){return!isString$1(Ee)||Ee.length<2?Ee:lastComponent(Ee)}function getMappings(){if(mappings_)return mappings_;const Ee=[];Ee.push(new Mapping("bucket")),Ee.push(new Mapping("generation")),Ee.push(new Mapping("metageneration")),Ee.push(new Mapping("name","fullPath",!0));function t(Ce,Se){return xformPath(Se)}const Ae=new Mapping("name");Ae.xform=t,Ee.push(Ae);function _e(Ce,Se){return Se!==void 0?Number(Se):Se}const xe=new Mapping("size");return xe.xform=_e,Ee.push(xe),Ee.push(new Mapping("timeCreated")),Ee.push(new Mapping("updated")),Ee.push(new Mapping("md5Hash",null,!0)),Ee.push(new Mapping("cacheControl",null,!0)),Ee.push(new Mapping("contentDisposition",null,!0)),Ee.push(new Mapping("contentEncoding",null,!0)),Ee.push(new Mapping("contentLanguage",null,!0)),Ee.push(new Mapping("contentType",null,!0)),Ee.push(new Mapping("metadata","customMetadata",!0)),mappings_=Ee,mappings_}function addRef(Ee,t){function Ae(){const _e=Ee.bucket,xe=Ee.fullPath,Ce=new Location(_e,xe);return t._makeStorageReference(Ce)}Object.defineProperty(Ee,"ref",{get:Ae})}function fromResource(Ee,t,Ae){const _e={};_e.type="file";const xe=Ae.length;for(let Ce=0;Ce<xe;Ce++){const Se=Ae[Ce];_e[Se.local]=Se.xform(_e,t[Se.server])}return addRef(_e,Ee),_e}function fromResourceString(Ee,t,Ae){const _e=jsonObjectOrNull(t);return _e===null?null:fromResource(Ee,_e,Ae)}function downloadUrlFromResourceString(Ee,t,Ae,_e){const xe=jsonObjectOrNull(t);if(xe===null||!isString$1(xe.downloadTokens))return null;const Ce=xe.downloadTokens;if(Ce.length===0)return null;const Se=encodeURIComponent;return Ce.split(",").map(Fe=>{const Ie=Ee.bucket,Ue=Ee.fullPath,ke="/b/"+Se(Ie)+"/o/"+Se(Ue),Oe=makeUrl(ke,Ae,_e),je=makeQueryString({alt:"media",token:Fe});return Oe+je})[0]}function toResourceString(Ee,t){const Ae={},_e=t.length;for(let xe=0;xe<_e;xe++){const Ce=t[xe];Ce.writable&&(Ae[Ce.server]=Ee[Ce.local])}return JSON.stringify(Ae)}class RequestInfo{constructor(t,Ae,_e,xe){this.url=t,this.method=Ae,this.handler=_e,this.timeout=xe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(Ee){if(!Ee)throw unknown()}function metadataHandler(Ee,t){function Ae(_e,xe){const Ce=fromResourceString(Ee,xe,t);return handlerCheck(Ce!==null),Ce}return Ae}function downloadUrlHandler(Ee,t){function Ae(_e,xe){const Ce=fromResourceString(Ee,xe,t);return handlerCheck(Ce!==null),downloadUrlFromResourceString(Ce,xe,Ee.host,Ee._protocol)}return Ae}function sharedErrorHandler(Ee){function t(Ae,_e){let xe;return Ae.getStatus()===401?Ae.getErrorText().includes("Firebase App Check token is invalid")?xe=unauthorizedApp():xe=unauthenticated():Ae.getStatus()===402?xe=quotaExceeded(Ee.bucket):Ae.getStatus()===403?xe=unauthorized(Ee.path):xe=_e,xe.status=Ae.getStatus(),xe.serverResponse=_e.serverResponse,xe}return t}function objectErrorHandler(Ee){const t=sharedErrorHandler(Ee);function Ae(_e,xe){let Ce=t(_e,xe);return _e.getStatus()===404&&(Ce=objectNotFound(Ee.path)),Ce.serverResponse=xe.serverResponse,Ce}return Ae}function getDownloadUrl(Ee,t,Ae){const _e=t.fullServerUrl(),xe=makeUrl(_e,Ee.host,Ee._protocol),Ce="GET",Se=Ee.maxOperationRetryTime,Re=new RequestInfo(xe,Ce,downloadUrlHandler(Ee,Ae),Se);return Re.errorHandler=objectErrorHandler(t),Re}function deleteObject$2(Ee,t){const Ae=t.fullServerUrl(),_e=makeUrl(Ae,Ee.host,Ee._protocol),xe="DELETE",Ce=Ee.maxOperationRetryTime;function Se(Be,Fe){}const Re=new RequestInfo(_e,xe,Se,Ce);return Re.successCodes=[200,204],Re.errorHandler=objectErrorHandler(t),Re}function determineContentType_(Ee,t){return Ee&&Ee.contentType||t&&t.type()||"application/octet-stream"}function metadataForUpload_(Ee,t,Ae){const _e=Object.assign({},Ae);return _e.fullPath=Ee.path,_e.size=t.size(),_e.contentType||(_e.contentType=determineContentType_(null,t)),_e}function multipartUpload(Ee,t,Ae,_e,xe){const Ce=t.bucketOnlyServerUrl(),Se={"X-Goog-Upload-Protocol":"multipart"};function Re(){let ir="";for(let sr=0;sr<2;sr++)ir=ir+Math.random().toString().slice(2);return ir}const Be=Re();Se["Content-Type"]="multipart/related; boundary="+Be;const Fe=metadataForUpload_(t,_e,xe),Ie=toResourceString(Fe,Ae),Ue="--"+Be+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+Ie+`\r
--`+Be+`\r
Content-Type: `+Fe.contentType+`\r
\r
`,ke=`\r
--`+Be+"--",Oe=FbsBlob.getBlob(Ue,_e,ke);if(Oe===null)throw cannotSliceBlob();const je={name:Fe.fullPath},Ke=makeUrl(Ce,Ee.host,Ee._protocol),ze="POST",Ve=Ee.maxUploadRetryTime,Xe=new RequestInfo(Ke,ze,metadataHandler(Ee,Ae),Ve);return Xe.urlParams=je,Xe.headers=Se,Xe.body=Oe.uploadData(),Xe.errorHandler=sharedErrorHandler(t),Xe}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,Ae,_e,xe,Ce){if(this.sent_)throw internalError("cannot .send() more than once");if(isCloudWorkstation(t)&&_e&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(Ae,t,!0),Ce!==void 0)for(const Se in Ce)Ce.hasOwnProperty(Se)&&this.xhr_.setRequestHeader(Se,Ce[Se].toString());return xe!==void 0?this.xhr_.send(xe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(t,Ae){this._service=t,Ae instanceof Location?this._location=Ae:this._location=Location.makeFromUrl(Ae,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,Ae){return new Reference(t,Ae)}get root(){const t=new Location(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const t=parent(this._location.path);if(t===null)return null;const Ae=new Location(this._location.bucket,t);return new Reference(this._service,Ae)}_throwIfRoot(t){if(this._location.path==="")throw invalidRootOperation(t)}}function uploadBytes$1(Ee,t,Ae){Ee._throwIfRoot("uploadBytes");const _e=multipartUpload(Ee.storage,Ee._location,getMappings(),new FbsBlob(t,!0),Ae);return Ee.storage.makeRequestWithTokens(_e,newTextConnection).then(xe=>({metadata:xe,ref:Ee}))}function getDownloadURL$1(Ee){Ee._throwIfRoot("getDownloadURL");const t=getDownloadUrl(Ee.storage,Ee._location,getMappings());return Ee.storage.makeRequestWithTokens(t,newTextConnection).then(Ae=>{if(Ae===null)throw noDownloadURL();return Ae})}function deleteObject$1(Ee){Ee._throwIfRoot("deleteObject");const t=deleteObject$2(Ee.storage,Ee._location);return Ee.storage.makeRequestWithTokens(t,newTextConnection)}function _getChild$1(Ee,t){const Ae=child(Ee._location.path,t),_e=new Location(Ee._location.bucket,Ae);return new Reference(Ee.storage,_e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(Ee){return/^[A-Za-z]+:\/\//.test(Ee)}function refFromURL(Ee,t){return new Reference(Ee,t)}function refFromPath(Ee,t){if(Ee instanceof FirebaseStorageImpl){const Ae=Ee;if(Ae._bucket==null)throw noDefaultBucket();const _e=new Reference(Ae,Ae._bucket);return t!=null?refFromPath(_e,t):_e}else return t!==void 0?_getChild$1(Ee,t):Ee}function ref$1(Ee,t){if(t&&isUrl(t)){if(Ee instanceof FirebaseStorageImpl)return refFromURL(Ee,t);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(Ee,t)}function extractBucket(Ee,t){const Ae=t==null?void 0:t[CONFIG_STORAGE_BUCKET_KEY];return Ae==null?null:Location.makeFromBucketSpec(Ae,Ee)}function connectStorageEmulator$1(Ee,t,Ae,_e={}){Ee.host=`${t}:${Ae}`;const xe=isCloudWorkstation(t);xe&&(pingServer(`https://${Ee.host}/b`),updateEmulatorBanner("Storage",!0)),Ee._isUsingEmulator=!0,Ee._protocol=xe?"https":"http";const{mockUserToken:Ce}=_e;Ce&&(Ee._overrideAuthToken=typeof Ce=="string"?Ce:createMockUserToken(Ce,Ee.app.options.projectId))}class FirebaseStorageImpl{constructor(t,Ae,_e,xe,Ce,Se=!1){this.app=t,this._authProvider=Ae,this._appCheckProvider=_e,this._url=xe,this._firebaseVersion=Ce,this._isUsingEmulator=Se,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,xe!=null?this._bucket=Location.makeFromBucketSpec(xe,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,t):this._bucket=extractBucket(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){validateNumber("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){validateNumber("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const Ae=await t.getToken();if(Ae!==null)return Ae.accessToken}return null}async _getAppCheckToken(){if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Reference(this,t)}_makeRequest(t,Ae,_e,xe,Ce=!0){if(this._deleted)return new FailRequest(appDeleted());{const Se=makeRequest(t,this._appId,_e,xe,Ae,this._firebaseVersion,Ce,this._isUsingEmulator);return this._requests.add(Se),Se.getPromise().then(()=>this._requests.delete(Se),()=>this._requests.delete(Se)),Se}}async makeRequestWithTokens(t,Ae){const[_e,xe]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,Ae,_e,xe).getPromise()}}const name="@firebase/storage",version="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(Ee,t,Ae){return Ee=getModularInstance(Ee),uploadBytes$1(Ee,t,Ae)}function getDownloadURL(Ee){return Ee=getModularInstance(Ee),getDownloadURL$1(Ee)}function deleteObject(Ee){return Ee=getModularInstance(Ee),deleteObject$1(Ee)}function ref(Ee,t){return Ee=getModularInstance(Ee),ref$1(Ee,t)}function getStorage(Ee=getApp(),t){Ee=getModularInstance(Ee);const _e=_getProvider(Ee,STORAGE_TYPE).getImmediate({identifier:t}),xe=getDefaultEmulatorHostnameAndPort("storage");return xe&&connectStorageEmulator(_e,...xe),_e}function connectStorageEmulator(Ee,t,Ae,_e={}){connectStorageEmulator$1(Ee,t,Ae,_e)}function factory(Ee,{instanceIdentifier:t}){const Ae=Ee.getProvider("app").getImmediate(),_e=Ee.getProvider("auth-internal"),xe=Ee.getProvider("app-check-internal");return new FirebaseStorageImpl(Ae,_e,xe,t,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,""),registerVersion(name,version,"esm2017")}registerStorage();const MediaModal=({isOpen:Ee,onClose:t,ticket:Ae,mediaURLs:_e,setMediaURLs:xe})=>{const[Ce,Se]=reactExports.useState(!1),[Re,Be]=reactExports.useState(null);if(!Ee)return null;const Fe=async Ue=>{const ke=Array.from(Ue.target.files);if(!ke.length)return;const Oe=getStorage();Se(!0);try{const je=[];for(const ze of ke){const Ve=ref(Oe,`uploadedFiles/Ticket${Ae.location}${Ae.ticketNum}/${ze.name}`);await uploadBytes(Ve,ze),console.log(Ve.fullPath);const Xe=Ve.fullPath;je.push(Xe)}const Ke=[..._e,...je];await updateDoc(doc(db,"tickets",Ae.id),{mediaURLs:Ke}),xe(Ke)}catch(je){console.error("Upload failed:",je),alert("Image upload failed.")}finally{Se(!1)}},Ie=async Ue=>{const ke=_e[Ue];Be(Ue);try{const Oe=getStorage(),je=ke.indexOf("/o/")+3,Ke=ke.indexOf("?"),ze=ke.slice(je,Ke),Ve=decodeURIComponent(ze),Xe=ref(Oe,Ve);await deleteObject(Xe);const ir=[..._e];ir.splice(Ue,1),await updateDoc(doc(db,"tickets",Ae.id),{mediaFiles:ir}),xe(ir)}catch(Oe){console.error("Failed to delete image:",Oe),alert("Failed to delete image.")}finally{Be(null)}};return jsxRuntimeExports.jsx("div",{className:"media-modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"media-modal",children:[jsxRuntimeExports.jsx("button",{className:"close-button",onClick:t,children:"×"}),jsxRuntimeExports.jsx("h3",{children:"📷 Device Images"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Fe}),Ce&&jsxRuntimeExports.jsx("p",{children:"Uploading..."}),_e.length>0?jsxRuntimeExports.jsx("div",{className:"media-modal-grid",children:_e.map((Ue,ke)=>jsxRuntimeExports.jsxs("div",{className:"media-item",children:[jsxRuntimeExports.jsx("img",{src:Ue,alt:`Media ${ke}`,className:"media-preview-modal"}),jsxRuntimeExports.jsx("button",{className:"delete-button",onClick:()=>Ie(ke),disabled:Re===ke,children:Re===ke?"...":"🗑"})]},ke))}):jsxRuntimeExports.jsx("h4",{children:"No images for this device"})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(Ee,t){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ae,_e){Ae.__proto__=_e}||function(Ae,_e){for(var xe in _e)Object.prototype.hasOwnProperty.call(_e,xe)&&(Ae[xe]=_e[xe])},extendStatics$1(Ee,t)};function __extends$1(Ee,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics$1(Ee,t);function Ae(){this.constructor=Ee}Ee.prototype=t===null?Object.create(t):(Ae.prototype=t.prototype,new Ae)}var __assign$1=function(){return __assign$1=Object.assign||function(t){for(var Ae,_e=1,xe=arguments.length;_e<xe;_e++){Ae=arguments[_e];for(var Ce in Ae)Object.prototype.hasOwnProperty.call(Ae,Ce)&&(t[Ce]=Ae[Ce])}return t},__assign$1.apply(this,arguments)};function __awaiter$2(Ee,t,Ae,_e){function xe(Ce){return Ce instanceof Ae?Ce:new Ae(function(Se){Se(Ce)})}return new(Ae||(Ae=Promise))(function(Ce,Se){function Re(Ie){try{Fe(_e.next(Ie))}catch(Ue){Se(Ue)}}function Be(Ie){try{Fe(_e.throw(Ie))}catch(Ue){Se(Ue)}}function Fe(Ie){Ie.done?Ce(Ie.value):xe(Ie.value).then(Re,Be)}Fe((_e=_e.apply(Ee,[])).next())})}function __generator$1(Ee,t){var Ae={label:0,sent:function(){if(Ce[0]&1)throw Ce[1];return Ce[1]},trys:[],ops:[]},_e,xe,Ce,Se;return Se={next:Re(0),throw:Re(1),return:Re(2)},typeof Symbol=="function"&&(Se[Symbol.iterator]=function(){return this}),Se;function Re(Fe){return function(Ie){return Be([Fe,Ie])}}function Be(Fe){if(_e)throw new TypeError("Generator is already executing.");for(;Ae;)try{if(_e=1,xe&&(Ce=Fe[0]&2?xe.return:Fe[0]?xe.throw||((Ce=xe.return)&&Ce.call(xe),0):xe.next)&&!(Ce=Ce.call(xe,Fe[1])).done)return Ce;switch(xe=0,Ce&&(Fe=[Fe[0]&2,Ce.value]),Fe[0]){case 0:case 1:Ce=Fe;break;case 4:return Ae.label++,{value:Fe[1],done:!1};case 5:Ae.label++,xe=Fe[1],Fe=[0];continue;case 7:Fe=Ae.ops.pop(),Ae.trys.pop();continue;default:if(Ce=Ae.trys,!(Ce=Ce.length>0&&Ce[Ce.length-1])&&(Fe[0]===6||Fe[0]===2)){Ae=0;continue}if(Fe[0]===3&&(!Ce||Fe[1]>Ce[0]&&Fe[1]<Ce[3])){Ae.label=Fe[1];break}if(Fe[0]===6&&Ae.label<Ce[1]){Ae.label=Ce[1],Ce=Fe;break}if(Ce&&Ae.label<Ce[2]){Ae.label=Ce[2],Ae.ops.push(Fe);break}Ce[2]&&Ae.ops.pop(),Ae.trys.pop();continue}Fe=t.call(Ee,Ae)}catch(Ie){Fe=[6,Ie],xe=0}finally{_e=Ce=0}if(Fe[0]&5)throw Fe[1];return{value:Fe[0]?Fe[1]:void 0,done:!0}}}function __spreadArray$1(Ee,t,Ae){if(arguments.length===2)for(var _e=0,xe=t.length,Ce;_e<xe;_e++)(Ce||!(_e in t))&&(Ce||(Ce=Array.prototype.slice.call(t,0,_e)),Ce[_e]=t[_e]);return Ee.concat(Ce||t)}var Bounds=function(){function Ee(t,Ae,_e,xe){this.left=t,this.top=Ae,this.width=_e,this.height=xe}return Ee.prototype.add=function(t,Ae,_e,xe){return new Ee(this.left+t,this.top+Ae,this.width+_e,this.height+xe)},Ee.fromClientRect=function(t,Ae){return new Ee(Ae.left+t.windowBounds.left,Ae.top+t.windowBounds.top,Ae.width,Ae.height)},Ee.fromDOMRectList=function(t,Ae){var _e=Array.from(Ae).find(function(xe){return xe.width!==0});return _e?new Ee(_e.left+t.windowBounds.left,_e.top+t.windowBounds.top,_e.width,_e.height):Ee.EMPTY},Ee.EMPTY=new Ee(0,0,0,0),Ee}(),parseBounds=function(Ee,t){return Bounds.fromClientRect(Ee,t.getBoundingClientRect())},parseDocumentSize=function(Ee){var t=Ee.body,Ae=Ee.documentElement;if(!t||!Ae)throw new Error("Unable to get document size");var _e=Math.max(Math.max(t.scrollWidth,Ae.scrollWidth),Math.max(t.offsetWidth,Ae.offsetWidth),Math.max(t.clientWidth,Ae.clientWidth)),xe=Math.max(Math.max(t.scrollHeight,Ae.scrollHeight),Math.max(t.offsetHeight,Ae.offsetHeight),Math.max(t.clientHeight,Ae.clientHeight));return new Bounds(0,0,_e,xe)},toCodePoints$1=function(Ee){for(var t=[],Ae=0,_e=Ee.length;Ae<_e;){var xe=Ee.charCodeAt(Ae++);if(xe>=55296&&xe<=56319&&Ae<_e){var Ce=Ee.charCodeAt(Ae++);(Ce&64512)===56320?t.push(((xe&1023)<<10)+(Ce&1023)+65536):(t.push(xe),Ae--)}else t.push(xe)}return t},fromCodePoint$1=function(){for(var Ee=[],t=0;t<arguments.length;t++)Ee[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,Ee);var Ae=Ee.length;if(!Ae)return"";for(var _e=[],xe=-1,Ce="";++xe<Ae;){var Se=Ee[xe];Se<=65535?_e.push(Se):(Se-=65536,_e.push((Se>>10)+55296,Se%1024+56320)),(xe+1===Ae||_e.length>16384)&&(Ce+=String.fromCharCode.apply(String,_e),_e.length=0)}return Ce},chars$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$2$1=0;i$2$1<chars$2.length;i$2$1++)lookup$2[chars$2.charCodeAt(i$2$1)]=i$2$1;var chars$1$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1$1=0;i$1$1<chars$1$1.length;i$1$1++)lookup$1$1[chars$1$1.charCodeAt(i$1$1)]=i$1$1;var decode$1=function(Ee){var t=Ee.length*.75,Ae=Ee.length,_e,xe=0,Ce,Se,Re,Be;Ee[Ee.length-1]==="="&&(t--,Ee[Ee.length-2]==="="&&t--);var Fe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),Ie=Array.isArray(Fe)?Fe:new Uint8Array(Fe);for(_e=0;_e<Ae;_e+=4)Ce=lookup$1$1[Ee.charCodeAt(_e)],Se=lookup$1$1[Ee.charCodeAt(_e+1)],Re=lookup$1$1[Ee.charCodeAt(_e+2)],Be=lookup$1$1[Ee.charCodeAt(_e+3)],Ie[xe++]=Ce<<2|Se>>4,Ie[xe++]=(Se&15)<<4|Re>>2,Ie[xe++]=(Re&3)<<6|Be&63;return Fe},polyUint16Array$1=function(Ee){for(var t=Ee.length,Ae=[],_e=0;_e<t;_e+=2)Ae.push(Ee[_e+1]<<8|Ee[_e]);return Ae},polyUint32Array$1=function(Ee){for(var t=Ee.length,Ae=[],_e=0;_e<t;_e+=4)Ae.push(Ee[_e+3]<<24|Ee[_e+2]<<16|Ee[_e+1]<<8|Ee[_e]);return Ae},UTRIE2_SHIFT_2$1=5,UTRIE2_SHIFT_1$1=11,UTRIE2_INDEX_SHIFT$1=2,UTRIE2_SHIFT_1_2$1=UTRIE2_SHIFT_1$1-UTRIE2_SHIFT_2$1,UTRIE2_LSCP_INDEX_2_OFFSET$1=65536>>UTRIE2_SHIFT_2$1,UTRIE2_DATA_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_2$1,UTRIE2_DATA_MASK$1=UTRIE2_DATA_BLOCK_LENGTH$1-1,UTRIE2_LSCP_INDEX_2_LENGTH$1=1024>>UTRIE2_SHIFT_2$1,UTRIE2_INDEX_2_BMP_LENGTH$1=UTRIE2_LSCP_INDEX_2_OFFSET$1+UTRIE2_LSCP_INDEX_2_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_OFFSET$1=UTRIE2_INDEX_2_BMP_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_LENGTH$1=32,UTRIE2_INDEX_1_OFFSET$1=UTRIE2_UTF8_2B_INDEX_2_OFFSET$1+UTRIE2_UTF8_2B_INDEX_2_LENGTH$1,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1=65536>>UTRIE2_SHIFT_1$1,UTRIE2_INDEX_2_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_1_2$1,UTRIE2_INDEX_2_MASK$1=UTRIE2_INDEX_2_BLOCK_LENGTH$1-1,slice16$1=function(Ee,t,Ae){return Ee.slice?Ee.slice(t,Ae):new Uint16Array(Array.prototype.slice.call(Ee,t,Ae))},slice32$1=function(Ee,t,Ae){return Ee.slice?Ee.slice(t,Ae):new Uint32Array(Array.prototype.slice.call(Ee,t,Ae))},createTrieFromBase64$1=function(Ee,t){var Ae=decode$1(Ee),_e=Array.isArray(Ae)?polyUint32Array$1(Ae):new Uint32Array(Ae),xe=Array.isArray(Ae)?polyUint16Array$1(Ae):new Uint16Array(Ae),Ce=24,Se=slice16$1(xe,Ce/2,_e[4]/2),Re=_e[5]===2?slice16$1(xe,(Ce+_e[4])/2):slice32$1(_e,Math.ceil((Ce+_e[4])/4));return new Trie$1(_e[0],_e[1],_e[2],_e[3],Se,Re)},Trie$1=function(){function Ee(t,Ae,_e,xe,Ce,Se){this.initialValue=t,this.errorValue=Ae,this.highStart=_e,this.highValueIndex=xe,this.index=Ce,this.data=Se}return Ee.prototype.get=function(t){var Ae;if(t>=0){if(t<55296||t>56319&&t<=65535)return Ae=this.index[t>>UTRIE2_SHIFT_2$1],Ae=(Ae<<UTRIE2_INDEX_SHIFT$1)+(t&UTRIE2_DATA_MASK$1),this.data[Ae];if(t<=65535)return Ae=this.index[UTRIE2_LSCP_INDEX_2_OFFSET$1+(t-55296>>UTRIE2_SHIFT_2$1)],Ae=(Ae<<UTRIE2_INDEX_SHIFT$1)+(t&UTRIE2_DATA_MASK$1),this.data[Ae];if(t<this.highStart)return Ae=UTRIE2_INDEX_1_OFFSET$1-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1+(t>>UTRIE2_SHIFT_1$1),Ae=this.index[Ae],Ae+=t>>UTRIE2_SHIFT_2$1&UTRIE2_INDEX_2_MASK$1,Ae=this.index[Ae],Ae=(Ae<<UTRIE2_INDEX_SHIFT$1)+(t&UTRIE2_DATA_MASK$1),this.data[Ae];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},Ee}(),chars$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$3=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$3$1=0;i$3$1<chars$3.length;i$3$1++)lookup$3[chars$3.charCodeAt(i$3$1)]=i$3$1;var base64$1="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",LETTER_NUMBER_MODIFIER=50,BK=1,CR$1=2,LF$1=3,CM=4,NL=5,WJ=7,ZW=8,GL=9,SP=10,ZWJ$1=11,B2=12,BA=13,BB=14,HY=15,CB=16,CL=17,CP=18,EX=19,IN=20,NS=21,OP=22,QU=23,IS=24,NU=25,PO=26,PR=27,SY=28,AI=29,AL=30,CJ=31,EB=32,EM=33,H2=34,H3=35,HL=36,ID=37,JL=38,JV=39,JT=40,RI$1=41,SA=42,XX=43,ea_OP=[9001,65288],BREAK_MANDATORY="!",BREAK_NOT_ALLOWED$1="×",BREAK_ALLOWED$1="÷",UnicodeTrie$1=createTrieFromBase64$1(base64$1),ALPHABETICS=[AL,HL],HARD_LINE_BREAKS=[BK,CR$1,LF$1,NL],SPACE$1=[SP,ZW],PREFIX_POSTFIX=[PR,PO],LINE_BREAKS=HARD_LINE_BREAKS.concat(SPACE$1),KOREAN_SYLLABLE_BLOCK=[JL,JV,JT,H2,H3],HYPHEN=[HY,BA],codePointsToCharacterClasses=function(Ee,t){t===void 0&&(t="strict");var Ae=[],_e=[],xe=[];return Ee.forEach(function(Ce,Se){var Re=UnicodeTrie$1.get(Ce);if(Re>LETTER_NUMBER_MODIFIER?(xe.push(!0),Re-=LETTER_NUMBER_MODIFIER):xe.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(Ce)!==-1)return _e.push(Se),Ae.push(CB);if(Re===CM||Re===ZWJ$1){if(Se===0)return _e.push(Se),Ae.push(AL);var Be=Ae[Se-1];return LINE_BREAKS.indexOf(Be)===-1?(_e.push(_e[Se-1]),Ae.push(Be)):(_e.push(Se),Ae.push(AL))}if(_e.push(Se),Re===CJ)return Ae.push(t==="strict"?NS:ID);if(Re===SA||Re===AI)return Ae.push(AL);if(Re===XX)return Ce>=131072&&Ce<=196605||Ce>=196608&&Ce<=262141?Ae.push(ID):Ae.push(AL);Ae.push(Re)}),[_e,Ae,xe]},isAdjacentWithSpaceIgnored=function(Ee,t,Ae,_e){var xe=_e[Ae];if(Array.isArray(Ee)?Ee.indexOf(xe)!==-1:Ee===xe)for(var Ce=Ae;Ce<=_e.length;){Ce++;var Se=_e[Ce];if(Se===t)return!0;if(Se!==SP)break}if(xe===SP)for(var Ce=Ae;Ce>0;){Ce--;var Re=_e[Ce];if(Array.isArray(Ee)?Ee.indexOf(Re)!==-1:Ee===Re)for(var Be=Ae;Be<=_e.length;){Be++;var Se=_e[Be];if(Se===t)return!0;if(Se!==SP)break}if(Re!==SP)break}return!1},previousNonSpaceClassType=function(Ee,t){for(var Ae=Ee;Ae>=0;){var _e=t[Ae];if(_e===SP)Ae--;else return _e}return 0},_lineBreakAtIndex=function(Ee,t,Ae,_e,xe){if(Ae[_e]===0)return BREAK_NOT_ALLOWED$1;var Ce=_e-1;if(Array.isArray(xe)&&xe[Ce]===!0)return BREAK_NOT_ALLOWED$1;var Se=Ce-1,Re=Ce+1,Be=t[Ce],Fe=Se>=0?t[Se]:0,Ie=t[Re];if(Be===CR$1&&Ie===LF$1)return BREAK_NOT_ALLOWED$1;if(HARD_LINE_BREAKS.indexOf(Be)!==-1)return BREAK_MANDATORY;if(HARD_LINE_BREAKS.indexOf(Ie)!==-1||SPACE$1.indexOf(Ie)!==-1)return BREAK_NOT_ALLOWED$1;if(previousNonSpaceClassType(Ce,t)===ZW)return BREAK_ALLOWED$1;if(UnicodeTrie$1.get(Ee[Ce])===ZWJ$1||(Be===EB||Be===EM)&&UnicodeTrie$1.get(Ee[Re])===ZWJ$1||Be===WJ||Ie===WJ||Be===GL||[SP,BA,HY].indexOf(Be)===-1&&Ie===GL||[CL,CP,EX,IS,SY].indexOf(Ie)!==-1||previousNonSpaceClassType(Ce,t)===OP||isAdjacentWithSpaceIgnored(QU,OP,Ce,t)||isAdjacentWithSpaceIgnored([CL,CP],NS,Ce,t)||isAdjacentWithSpaceIgnored(B2,B2,Ce,t))return BREAK_NOT_ALLOWED$1;if(Be===SP)return BREAK_ALLOWED$1;if(Be===QU||Ie===QU)return BREAK_NOT_ALLOWED$1;if(Ie===CB||Be===CB)return BREAK_ALLOWED$1;if([BA,HY,NS].indexOf(Ie)!==-1||Be===BB||Fe===HL&&HYPHEN.indexOf(Be)!==-1||Be===SY&&Ie===HL||Ie===IN||ALPHABETICS.indexOf(Ie)!==-1&&Be===NU||ALPHABETICS.indexOf(Be)!==-1&&Ie===NU||Be===PR&&[ID,EB,EM].indexOf(Ie)!==-1||[ID,EB,EM].indexOf(Be)!==-1&&Ie===PO||ALPHABETICS.indexOf(Be)!==-1&&PREFIX_POSTFIX.indexOf(Ie)!==-1||PREFIX_POSTFIX.indexOf(Be)!==-1&&ALPHABETICS.indexOf(Ie)!==-1||[PR,PO].indexOf(Be)!==-1&&(Ie===NU||[OP,HY].indexOf(Ie)!==-1&&t[Re+1]===NU)||[OP,HY].indexOf(Be)!==-1&&Ie===NU||Be===NU&&[NU,SY,IS].indexOf(Ie)!==-1)return BREAK_NOT_ALLOWED$1;if([NU,SY,IS,CL,CP].indexOf(Ie)!==-1)for(var Ue=Ce;Ue>=0;){var ke=t[Ue];if(ke===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(ke)!==-1)Ue--;else break}if([PR,PO].indexOf(Ie)!==-1)for(var Ue=[CL,CP].indexOf(Be)!==-1?Se:Ce;Ue>=0;){var ke=t[Ue];if(ke===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(ke)!==-1)Ue--;else break}if(JL===Be&&[JL,JV,H2,H3].indexOf(Ie)!==-1||[JV,H2].indexOf(Be)!==-1&&[JV,JT].indexOf(Ie)!==-1||[JT,H3].indexOf(Be)!==-1&&Ie===JT||KOREAN_SYLLABLE_BLOCK.indexOf(Be)!==-1&&[IN,PO].indexOf(Ie)!==-1||KOREAN_SYLLABLE_BLOCK.indexOf(Ie)!==-1&&Be===PR||ALPHABETICS.indexOf(Be)!==-1&&ALPHABETICS.indexOf(Ie)!==-1||Be===IS&&ALPHABETICS.indexOf(Ie)!==-1||ALPHABETICS.concat(NU).indexOf(Be)!==-1&&Ie===OP&&ea_OP.indexOf(Ee[Re])===-1||ALPHABETICS.concat(NU).indexOf(Ie)!==-1&&Be===CP)return BREAK_NOT_ALLOWED$1;if(Be===RI$1&&Ie===RI$1){for(var Oe=Ae[Ce],je=1;Oe>0&&(Oe--,t[Oe]===RI$1);)je++;if(je%2!==0)return BREAK_NOT_ALLOWED$1}return Be===EB&&Ie===EM?BREAK_NOT_ALLOWED$1:BREAK_ALLOWED$1},cssFormattedClasses=function(Ee,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var Ae=codePointsToCharacterClasses(Ee,t.lineBreak),_e=Ae[0],xe=Ae[1],Ce=Ae[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(xe=xe.map(function(Re){return[NU,AL,SA].indexOf(Re)!==-1?ID:Re}));var Se=t.wordBreak==="keep-all"?Ce.map(function(Re,Be){return Re&&Ee[Be]>=19968&&Ee[Be]<=40959}):void 0;return[_e,xe,Se]},Break=function(){function Ee(t,Ae,_e,xe){this.codePoints=t,this.required=Ae===BREAK_MANDATORY,this.start=_e,this.end=xe}return Ee.prototype.slice=function(){return fromCodePoint$1.apply(void 0,this.codePoints.slice(this.start,this.end))},Ee}(),LineBreaker=function(Ee,t){var Ae=toCodePoints$1(Ee),_e=cssFormattedClasses(Ae,t),xe=_e[0],Ce=_e[1],Se=_e[2],Re=Ae.length,Be=0,Fe=0;return{next:function(){if(Fe>=Re)return{done:!0,value:null};for(var Ie=BREAK_NOT_ALLOWED$1;Fe<Re&&(Ie=_lineBreakAtIndex(Ae,Ce,xe,++Fe,Se))===BREAK_NOT_ALLOWED$1;);if(Ie!==BREAK_NOT_ALLOWED$1||Fe===Re){var Ue=new Break(Ae,Ie,Be,Fe);return Be=Fe,{value:Ue,done:!1}}return{done:!0,value:null}}}},FLAG_UNRESTRICTED=1,FLAG_ID=2,FLAG_INTEGER=4,FLAG_NUMBER=8,LINE_FEED=10,SOLIDUS=47,REVERSE_SOLIDUS=92,CHARACTER_TABULATION=9,SPACE=32,QUOTATION_MARK=34,EQUALS_SIGN=61,NUMBER_SIGN=35,DOLLAR_SIGN=36,PERCENTAGE_SIGN=37,APOSTROPHE=39,LEFT_PARENTHESIS=40,RIGHT_PARENTHESIS=41,LOW_LINE=95,HYPHEN_MINUS=45,EXCLAMATION_MARK=33,LESS_THAN_SIGN=60,GREATER_THAN_SIGN=62,COMMERCIAL_AT=64,LEFT_SQUARE_BRACKET=91,RIGHT_SQUARE_BRACKET=93,CIRCUMFLEX_ACCENT=61,LEFT_CURLY_BRACKET=123,QUESTION_MARK=63,RIGHT_CURLY_BRACKET=125,VERTICAL_LINE=124,TILDE=126,CONTROL=128,REPLACEMENT_CHARACTER=65533,ASTERISK=42,PLUS_SIGN=43,COMMA=44,COLON=58,SEMICOLON=59,FULL_STOP=46,NULL=0,BACKSPACE=8,LINE_TABULATION=11,SHIFT_OUT=14,INFORMATION_SEPARATOR_ONE=31,DELETE=127,EOF=-1,ZERO=48,a$1=97,e=101,f$1=102,u$1=117,z$1=122,A$1=65,E$1=69,F$1=70,U$1=85,Z$1=90,isDigit=function(Ee){return Ee>=ZERO&&Ee<=57},isSurrogateCodePoint=function(Ee){return Ee>=55296&&Ee<=57343},isHex=function(Ee){return isDigit(Ee)||Ee>=A$1&&Ee<=F$1||Ee>=a$1&&Ee<=f$1},isLowerCaseLetter=function(Ee){return Ee>=a$1&&Ee<=z$1},isUpperCaseLetter=function(Ee){return Ee>=A$1&&Ee<=Z$1},isLetter=function(Ee){return isLowerCaseLetter(Ee)||isUpperCaseLetter(Ee)},isNonASCIICodePoint=function(Ee){return Ee>=CONTROL},isWhiteSpace=function(Ee){return Ee===LINE_FEED||Ee===CHARACTER_TABULATION||Ee===SPACE},isNameStartCodePoint=function(Ee){return isLetter(Ee)||isNonASCIICodePoint(Ee)||Ee===LOW_LINE},isNameCodePoint=function(Ee){return isNameStartCodePoint(Ee)||isDigit(Ee)||Ee===HYPHEN_MINUS},isNonPrintableCodePoint=function(Ee){return Ee>=NULL&&Ee<=BACKSPACE||Ee===LINE_TABULATION||Ee>=SHIFT_OUT&&Ee<=INFORMATION_SEPARATOR_ONE||Ee===DELETE},isValidEscape=function(Ee,t){return Ee!==REVERSE_SOLIDUS?!1:t!==LINE_FEED},isIdentifierStart=function(Ee,t,Ae){return Ee===HYPHEN_MINUS?isNameStartCodePoint(t)||isValidEscape(t,Ae):isNameStartCodePoint(Ee)?!0:!!(Ee===REVERSE_SOLIDUS&&isValidEscape(Ee,t))},isNumberStart=function(Ee,t,Ae){return Ee===PLUS_SIGN||Ee===HYPHEN_MINUS?isDigit(t)?!0:t===FULL_STOP&&isDigit(Ae):isDigit(Ee===FULL_STOP?t:Ee)},stringToNumber=function(Ee){var t=0,Ae=1;(Ee[t]===PLUS_SIGN||Ee[t]===HYPHEN_MINUS)&&(Ee[t]===HYPHEN_MINUS&&(Ae=-1),t++);for(var _e=[];isDigit(Ee[t]);)_e.push(Ee[t++]);var xe=_e.length?parseInt(fromCodePoint$1.apply(void 0,_e),10):0;Ee[t]===FULL_STOP&&t++;for(var Ce=[];isDigit(Ee[t]);)Ce.push(Ee[t++]);var Se=Ce.length,Re=Se?parseInt(fromCodePoint$1.apply(void 0,Ce),10):0;(Ee[t]===E$1||Ee[t]===e)&&t++;var Be=1;(Ee[t]===PLUS_SIGN||Ee[t]===HYPHEN_MINUS)&&(Ee[t]===HYPHEN_MINUS&&(Be=-1),t++);for(var Fe=[];isDigit(Ee[t]);)Fe.push(Ee[t++]);var Ie=Fe.length?parseInt(fromCodePoint$1.apply(void 0,Fe),10):0;return Ae*(xe+Re*Math.pow(10,-Se))*Math.pow(10,Be*Ie)},LEFT_PARENTHESIS_TOKEN={type:2},RIGHT_PARENTHESIS_TOKEN={type:3},COMMA_TOKEN={type:4},SUFFIX_MATCH_TOKEN={type:13},PREFIX_MATCH_TOKEN={type:8},COLUMN_TOKEN={type:21},DASH_MATCH_TOKEN={type:9},INCLUDE_MATCH_TOKEN={type:10},LEFT_CURLY_BRACKET_TOKEN={type:11},RIGHT_CURLY_BRACKET_TOKEN={type:12},SUBSTRING_MATCH_TOKEN={type:14},BAD_URL_TOKEN={type:23},BAD_STRING_TOKEN={type:1},CDO_TOKEN={type:25},CDC_TOKEN={type:24},COLON_TOKEN={type:26},SEMICOLON_TOKEN={type:27},LEFT_SQUARE_BRACKET_TOKEN={type:28},RIGHT_SQUARE_BRACKET_TOKEN={type:29},WHITESPACE_TOKEN={type:31},EOF_TOKEN={type:32},Tokenizer=function(){function Ee(){this._value=[]}return Ee.prototype.write=function(t){this._value=this._value.concat(toCodePoints$1(t))},Ee.prototype.read=function(){for(var t=[],Ae=this.consumeToken();Ae!==EOF_TOKEN;)t.push(Ae),Ae=this.consumeToken();return t},Ee.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case QUOTATION_MARK:return this.consumeStringToken(QUOTATION_MARK);case NUMBER_SIGN:var Ae=this.peekCodePoint(0),_e=this.peekCodePoint(1),xe=this.peekCodePoint(2);if(isNameCodePoint(Ae)||isValidEscape(_e,xe)){var Ce=isIdentifierStart(Ae,_e,xe)?FLAG_ID:FLAG_UNRESTRICTED,Se=this.consumeName();return{type:5,value:Se,flags:Ce}}break;case DOLLAR_SIGN:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUFFIX_MATCH_TOKEN;break;case APOSTROPHE:return this.consumeStringToken(APOSTROPHE);case LEFT_PARENTHESIS:return LEFT_PARENTHESIS_TOKEN;case RIGHT_PARENTHESIS:return RIGHT_PARENTHESIS_TOKEN;case ASTERISK:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUBSTRING_MATCH_TOKEN;break;case PLUS_SIGN:if(isNumberStart(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case COMMA:return COMMA_TOKEN;case HYPHEN_MINUS:var Re=t,Be=this.peekCodePoint(0),Fe=this.peekCodePoint(1);if(isNumberStart(Re,Be,Fe))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(isIdentifierStart(Re,Be,Fe))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(Be===HYPHEN_MINUS&&Fe===GREATER_THAN_SIGN)return this.consumeCodePoint(),this.consumeCodePoint(),CDC_TOKEN;break;case FULL_STOP:if(isNumberStart(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case SOLIDUS:if(this.peekCodePoint(0)===ASTERISK)for(this.consumeCodePoint();;){var Ie=this.consumeCodePoint();if(Ie===ASTERISK&&(Ie=this.consumeCodePoint(),Ie===SOLIDUS))return this.consumeToken();if(Ie===EOF)return this.consumeToken()}break;case COLON:return COLON_TOKEN;case SEMICOLON:return SEMICOLON_TOKEN;case LESS_THAN_SIGN:if(this.peekCodePoint(0)===EXCLAMATION_MARK&&this.peekCodePoint(1)===HYPHEN_MINUS&&this.peekCodePoint(2)===HYPHEN_MINUS)return this.consumeCodePoint(),this.consumeCodePoint(),CDO_TOKEN;break;case COMMERCIAL_AT:var Ue=this.peekCodePoint(0),ke=this.peekCodePoint(1),Oe=this.peekCodePoint(2);if(isIdentifierStart(Ue,ke,Oe)){var Se=this.consumeName();return{type:7,value:Se}}break;case LEFT_SQUARE_BRACKET:return LEFT_SQUARE_BRACKET_TOKEN;case REVERSE_SOLIDUS:if(isValidEscape(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case RIGHT_SQUARE_BRACKET:return RIGHT_SQUARE_BRACKET_TOKEN;case CIRCUMFLEX_ACCENT:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),PREFIX_MATCH_TOKEN;break;case LEFT_CURLY_BRACKET:return LEFT_CURLY_BRACKET_TOKEN;case RIGHT_CURLY_BRACKET:return RIGHT_CURLY_BRACKET_TOKEN;case u$1:case U$1:var je=this.peekCodePoint(0),Ke=this.peekCodePoint(1);return je===PLUS_SIGN&&(isHex(Ke)||Ke===QUESTION_MARK)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case VERTICAL_LINE:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),DASH_MATCH_TOKEN;if(this.peekCodePoint(0)===VERTICAL_LINE)return this.consumeCodePoint(),COLUMN_TOKEN;break;case TILDE:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),INCLUDE_MATCH_TOKEN;break;case EOF:return EOF_TOKEN}return isWhiteSpace(t)?(this.consumeWhiteSpace(),WHITESPACE_TOKEN):isDigit(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):isNameStartCodePoint(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:fromCodePoint$1(t)}},Ee.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},Ee.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},Ee.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},Ee.prototype.consumeUnicodeRangeToken=function(){for(var t=[],Ae=this.consumeCodePoint();isHex(Ae)&&t.length<6;)t.push(Ae),Ae=this.consumeCodePoint();for(var _e=!1;Ae===QUESTION_MARK&&t.length<6;)t.push(Ae),Ae=this.consumeCodePoint(),_e=!0;if(_e){var xe=parseInt(fromCodePoint$1.apply(void 0,t.map(function(Be){return Be===QUESTION_MARK?ZERO:Be})),16),Ce=parseInt(fromCodePoint$1.apply(void 0,t.map(function(Be){return Be===QUESTION_MARK?F$1:Be})),16);return{type:30,start:xe,end:Ce}}var Se=parseInt(fromCodePoint$1.apply(void 0,t),16);if(this.peekCodePoint(0)===HYPHEN_MINUS&&isHex(this.peekCodePoint(1))){this.consumeCodePoint(),Ae=this.consumeCodePoint();for(var Re=[];isHex(Ae)&&Re.length<6;)Re.push(Ae),Ae=this.consumeCodePoint();var Ce=parseInt(fromCodePoint$1.apply(void 0,Re),16);return{type:30,start:Se,end:Ce}}else return{type:30,start:Se,end:Se}},Ee.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},Ee.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF)return{type:22,value:""};var Ae=this.peekCodePoint(0);if(Ae===APOSTROPHE||Ae===QUOTATION_MARK){var _e=this.consumeStringToken(this.consumeCodePoint());return _e.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS)?(this.consumeCodePoint(),{type:22,value:_e.value}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN)}for(;;){var xe=this.consumeCodePoint();if(xe===EOF||xe===RIGHT_PARENTHESIS)return{type:22,value:fromCodePoint$1.apply(void 0,t)};if(isWhiteSpace(xe))return this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS?(this.consumeCodePoint(),{type:22,value:fromCodePoint$1.apply(void 0,t)}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN);if(xe===QUOTATION_MARK||xe===APOSTROPHE||xe===LEFT_PARENTHESIS||isNonPrintableCodePoint(xe))return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;if(xe===REVERSE_SOLIDUS)if(isValidEscape(xe,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;else t.push(xe)}},Ee.prototype.consumeWhiteSpace=function(){for(;isWhiteSpace(this.peekCodePoint(0));)this.consumeCodePoint()},Ee.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===RIGHT_PARENTHESIS||t===EOF)return;isValidEscape(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},Ee.prototype.consumeStringSlice=function(t){for(var Ae=5e4,_e="";t>0;){var xe=Math.min(Ae,t);_e+=fromCodePoint$1.apply(void 0,this._value.splice(0,xe)),t-=xe}return this._value.shift(),_e},Ee.prototype.consumeStringToken=function(t){var Ae="",_e=0;do{var xe=this._value[_e];if(xe===EOF||xe===void 0||xe===t)return Ae+=this.consumeStringSlice(_e),{type:0,value:Ae};if(xe===LINE_FEED)return this._value.splice(0,_e),BAD_STRING_TOKEN;if(xe===REVERSE_SOLIDUS){var Ce=this._value[_e+1];Ce!==EOF&&Ce!==void 0&&(Ce===LINE_FEED?(Ae+=this.consumeStringSlice(_e),_e=-1,this._value.shift()):isValidEscape(xe,Ce)&&(Ae+=this.consumeStringSlice(_e),Ae+=fromCodePoint$1(this.consumeEscapedCodePoint()),_e=-1))}_e++}while(!0)},Ee.prototype.consumeNumber=function(){var t=[],Ae=FLAG_INTEGER,_e=this.peekCodePoint(0);for((_e===PLUS_SIGN||_e===HYPHEN_MINUS)&&t.push(this.consumeCodePoint());isDigit(this.peekCodePoint(0));)t.push(this.consumeCodePoint());_e=this.peekCodePoint(0);var xe=this.peekCodePoint(1);if(_e===FULL_STOP&&isDigit(xe))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),Ae=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)t.push(this.consumeCodePoint());_e=this.peekCodePoint(0),xe=this.peekCodePoint(1);var Ce=this.peekCodePoint(2);if((_e===E$1||_e===e)&&((xe===PLUS_SIGN||xe===HYPHEN_MINUS)&&isDigit(Ce)||isDigit(xe)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),Ae=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[stringToNumber(t),Ae]},Ee.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),Ae=t[0],_e=t[1],xe=this.peekCodePoint(0),Ce=this.peekCodePoint(1),Se=this.peekCodePoint(2);if(isIdentifierStart(xe,Ce,Se)){var Re=this.consumeName();return{type:15,number:Ae,flags:_e,unit:Re}}return xe===PERCENTAGE_SIGN?(this.consumeCodePoint(),{type:16,number:Ae,flags:_e}):{type:17,number:Ae,flags:_e}},Ee.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(isHex(t)){for(var Ae=fromCodePoint$1(t);isHex(this.peekCodePoint(0))&&Ae.length<6;)Ae+=fromCodePoint$1(this.consumeCodePoint());isWhiteSpace(this.peekCodePoint(0))&&this.consumeCodePoint();var _e=parseInt(Ae,16);return _e===0||isSurrogateCodePoint(_e)||_e>1114111?REPLACEMENT_CHARACTER:_e}return t===EOF?REPLACEMENT_CHARACTER:t},Ee.prototype.consumeName=function(){for(var t="";;){var Ae=this.consumeCodePoint();if(isNameCodePoint(Ae))t+=fromCodePoint$1(Ae);else if(isValidEscape(Ae,this.peekCodePoint(0)))t+=fromCodePoint$1(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(Ae),t}},Ee}(),Parser=function(){function Ee(t){this._tokens=t}return Ee.create=function(t){var Ae=new Tokenizer;return Ae.write(t),new Ee(Ae.read())},Ee.parseValue=function(t){return Ee.create(t).parseComponentValue()},Ee.parseValues=function(t){return Ee.create(t).parseComponentValues()},Ee.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var Ae=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return Ae;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},Ee.prototype.parseComponentValues=function(){for(var t=[];;){var Ae=this.consumeComponentValue();if(Ae.type===32)return t;t.push(Ae),t.push()}},Ee.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},Ee.prototype.consumeSimpleBlock=function(t){for(var Ae={type:t,values:[]},_e=this.consumeToken();;){if(_e.type===32||isEndingTokenFor(_e,t))return Ae;this.reconsumeToken(_e),Ae.values.push(this.consumeComponentValue()),_e=this.consumeToken()}},Ee.prototype.consumeFunction=function(t){for(var Ae={name:t.value,values:[],type:18};;){var _e=this.consumeToken();if(_e.type===32||_e.type===3)return Ae;this.reconsumeToken(_e),Ae.values.push(this.consumeComponentValue())}},Ee.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?EOF_TOKEN:t},Ee.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},Ee}(),isDimensionToken=function(Ee){return Ee.type===15},isNumberToken=function(Ee){return Ee.type===17},isIdentToken=function(Ee){return Ee.type===20},isStringToken=function(Ee){return Ee.type===0},isIdentWithValue=function(Ee,t){return isIdentToken(Ee)&&Ee.value===t},nonWhiteSpace=function(Ee){return Ee.type!==31},nonFunctionArgSeparator=function(Ee){return Ee.type!==31&&Ee.type!==4},parseFunctionArgs=function(Ee){var t=[],Ae=[];return Ee.forEach(function(_e){if(_e.type===4){if(Ae.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(Ae),Ae=[];return}_e.type!==31&&Ae.push(_e)}),Ae.length&&t.push(Ae),t},isEndingTokenFor=function(Ee,t){return t===11&&Ee.type===12||t===28&&Ee.type===29?!0:t===2&&Ee.type===3},isLength=function(Ee){return Ee.type===17||Ee.type===15},isLengthPercentage=function(Ee){return Ee.type===16||isLength(Ee)},parseLengthPercentageTuple=function(Ee){return Ee.length>1?[Ee[0],Ee[1]]:[Ee[0]]},ZERO_LENGTH={type:17,number:0,flags:FLAG_INTEGER},FIFTY_PERCENT={type:16,number:50,flags:FLAG_INTEGER},HUNDRED_PERCENT={type:16,number:100,flags:FLAG_INTEGER},getAbsoluteValueForTuple=function(Ee,t,Ae){var _e=Ee[0],xe=Ee[1];return[getAbsoluteValue(_e,t),getAbsoluteValue(typeof xe<"u"?xe:_e,Ae)]},getAbsoluteValue=function(Ee,t){if(Ee.type===16)return Ee.number/100*t;if(isDimensionToken(Ee))switch(Ee.unit){case"rem":case"em":return 16*Ee.number;case"px":default:return Ee.number}return Ee.number},DEG="deg",GRAD="grad",RAD="rad",TURN="turn",angle={name:"angle",parse:function(Ee,t){if(t.type===15)switch(t.unit){case DEG:return Math.PI*t.number/180;case GRAD:return Math.PI/200*t.number;case RAD:return t.number;case TURN:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},isAngle=function(Ee){return Ee.type===15&&(Ee.unit===DEG||Ee.unit===GRAD||Ee.unit===RAD||Ee.unit===TURN)},parseNamedSide=function(Ee){var t=Ee.filter(isIdentToken).map(function(Ae){return Ae.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ZERO_LENGTH,ZERO_LENGTH];case"to top":case"bottom":return deg(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ZERO_LENGTH,HUNDRED_PERCENT];case"to right":case"left":return deg(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[HUNDRED_PERCENT,HUNDRED_PERCENT];case"to bottom":case"top":return deg(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[HUNDRED_PERCENT,ZERO_LENGTH];case"to left":case"right":return deg(270)}return 0},deg=function(Ee){return Math.PI*Ee/180},color$1={name:"color",parse:function(Ee,t){if(t.type===18){var Ae=SUPPORTED_COLOR_FUNCTIONS[t.name];if(typeof Ae>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return Ae(Ee,t.values)}if(t.type===5){if(t.value.length===3){var _e=t.value.substring(0,1),xe=t.value.substring(1,2),Ce=t.value.substring(2,3);return pack(parseInt(_e+_e,16),parseInt(xe+xe,16),parseInt(Ce+Ce,16),1)}if(t.value.length===4){var _e=t.value.substring(0,1),xe=t.value.substring(1,2),Ce=t.value.substring(2,3),Se=t.value.substring(3,4);return pack(parseInt(_e+_e,16),parseInt(xe+xe,16),parseInt(Ce+Ce,16),parseInt(Se+Se,16)/255)}if(t.value.length===6){var _e=t.value.substring(0,2),xe=t.value.substring(2,4),Ce=t.value.substring(4,6);return pack(parseInt(_e,16),parseInt(xe,16),parseInt(Ce,16),1)}if(t.value.length===8){var _e=t.value.substring(0,2),xe=t.value.substring(2,4),Ce=t.value.substring(4,6),Se=t.value.substring(6,8);return pack(parseInt(_e,16),parseInt(xe,16),parseInt(Ce,16),parseInt(Se,16)/255)}}if(t.type===20){var Re=COLORS[t.value.toUpperCase()];if(typeof Re<"u")return Re}return COLORS.TRANSPARENT}},isTransparent=function(Ee){return(255&Ee)===0},asString=function(Ee){var t=255&Ee,Ae=255&Ee>>8,_e=255&Ee>>16,xe=255&Ee>>24;return t<255?"rgba("+xe+","+_e+","+Ae+","+t/255+")":"rgb("+xe+","+_e+","+Ae+")"},pack=function(Ee,t,Ae,_e){return(Ee<<24|t<<16|Ae<<8|Math.round(_e*255)<<0)>>>0},getTokenColorValue=function(Ee,t){if(Ee.type===17)return Ee.number;if(Ee.type===16){var Ae=t===3?1:255;return t===3?Ee.number/100*Ae:Math.round(Ee.number/100*Ae)}return 0},rgb$1=function(Ee,t){var Ae=t.filter(nonFunctionArgSeparator);if(Ae.length===3){var _e=Ae.map(getTokenColorValue),xe=_e[0],Ce=_e[1],Se=_e[2];return pack(xe,Ce,Se,1)}if(Ae.length===4){var Re=Ae.map(getTokenColorValue),xe=Re[0],Ce=Re[1],Se=Re[2],Be=Re[3];return pack(xe,Ce,Se,Be)}return 0};function hue2rgb(Ee,t,Ae){return Ae<0&&(Ae+=1),Ae>=1&&(Ae-=1),Ae<1/6?(t-Ee)*Ae*6+Ee:Ae<1/2?t:Ae<2/3?(t-Ee)*6*(2/3-Ae)+Ee:Ee}var hsl=function(Ee,t){var Ae=t.filter(nonFunctionArgSeparator),_e=Ae[0],xe=Ae[1],Ce=Ae[2],Se=Ae[3],Re=(_e.type===17?deg(_e.number):angle.parse(Ee,_e))/(Math.PI*2),Be=isLengthPercentage(xe)?xe.number/100:0,Fe=isLengthPercentage(Ce)?Ce.number/100:0,Ie=typeof Se<"u"&&isLengthPercentage(Se)?getAbsoluteValue(Se,1):1;if(Be===0)return pack(Fe*255,Fe*255,Fe*255,1);var Ue=Fe<=.5?Fe*(Be+1):Fe+Be-Fe*Be,ke=Fe*2-Ue,Oe=hue2rgb(ke,Ue,Re+1/3),je=hue2rgb(ke,Ue,Re),Ke=hue2rgb(ke,Ue,Re-1/3);return pack(Oe*255,je*255,Ke*255,Ie)},SUPPORTED_COLOR_FUNCTIONS={hsl,hsla:hsl,rgb:rgb$1,rgba:rgb$1},parseColor=function(Ee,t){return color$1.parse(Ee,Parser.create(t).parseComponentValue())},COLORS={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},backgroundClip={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(Ee,t){return t.map(function(Ae){if(isIdentToken(Ae))switch(Ae.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundColor={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},parseColorStop=function(Ee,t){var Ae=color$1.parse(Ee,t[0]),_e=t[1];return _e&&isLengthPercentage(_e)?{color:Ae,stop:_e}:{color:Ae,stop:null}},processColorStops=function(Ee,t){var Ae=Ee[0],_e=Ee[Ee.length-1];Ae.stop===null&&(Ae.stop=ZERO_LENGTH),_e.stop===null&&(_e.stop=HUNDRED_PERCENT);for(var xe=[],Ce=0,Se=0;Se<Ee.length;Se++){var Re=Ee[Se].stop;if(Re!==null){var Be=getAbsoluteValue(Re,t);Be>Ce?xe.push(Be):xe.push(Ce),Ce=Be}else xe.push(null)}for(var Fe=null,Se=0;Se<xe.length;Se++){var Ie=xe[Se];if(Ie===null)Fe===null&&(Fe=Se);else if(Fe!==null){for(var Ue=Se-Fe,ke=xe[Fe-1],Oe=(Ie-ke)/(Ue+1),je=1;je<=Ue;je++)xe[Fe+je-1]=Oe*je;Fe=null}}return Ee.map(function(Ke,ze){var Ve=Ke.color;return{color:Ve,stop:Math.max(Math.min(1,xe[ze]/t),0)}})},getAngleFromCorner=function(Ee,t,Ae){var _e=t/2,xe=Ae/2,Ce=getAbsoluteValue(Ee[0],t)-_e,Se=xe-getAbsoluteValue(Ee[1],Ae);return(Math.atan2(Se,Ce)+Math.PI*2)%(Math.PI*2)},calculateGradientDirection=function(Ee,t,Ae){var _e=typeof Ee=="number"?Ee:getAngleFromCorner(Ee,t,Ae),xe=Math.abs(t*Math.sin(_e))+Math.abs(Ae*Math.cos(_e)),Ce=t/2,Se=Ae/2,Re=xe/2,Be=Math.sin(_e-Math.PI/2)*Re,Fe=Math.cos(_e-Math.PI/2)*Re;return[xe,Ce-Fe,Ce+Fe,Se-Be,Se+Be]},distance=function(Ee,t){return Math.sqrt(Ee*Ee+t*t)},findCorner=function(Ee,t,Ae,_e,xe){var Ce=[[0,0],[0,t],[Ee,0],[Ee,t]];return Ce.reduce(function(Se,Re){var Be=Re[0],Fe=Re[1],Ie=distance(Ae-Be,_e-Fe);return(xe?Ie<Se.optimumDistance:Ie>Se.optimumDistance)?{optimumCorner:Re,optimumDistance:Ie}:Se},{optimumDistance:xe?1/0:-1/0,optimumCorner:null}).optimumCorner},calculateRadius=function(Ee,t,Ae,_e,xe){var Ce=0,Se=0;switch(Ee.size){case 0:Ee.shape===0?Ce=Se=Math.min(Math.abs(t),Math.abs(t-_e),Math.abs(Ae),Math.abs(Ae-xe)):Ee.shape===1&&(Ce=Math.min(Math.abs(t),Math.abs(t-_e)),Se=Math.min(Math.abs(Ae),Math.abs(Ae-xe)));break;case 2:if(Ee.shape===0)Ce=Se=Math.min(distance(t,Ae),distance(t,Ae-xe),distance(t-_e,Ae),distance(t-_e,Ae-xe));else if(Ee.shape===1){var Re=Math.min(Math.abs(Ae),Math.abs(Ae-xe))/Math.min(Math.abs(t),Math.abs(t-_e)),Be=findCorner(_e,xe,t,Ae,!0),Fe=Be[0],Ie=Be[1];Ce=distance(Fe-t,(Ie-Ae)/Re),Se=Re*Ce}break;case 1:Ee.shape===0?Ce=Se=Math.max(Math.abs(t),Math.abs(t-_e),Math.abs(Ae),Math.abs(Ae-xe)):Ee.shape===1&&(Ce=Math.max(Math.abs(t),Math.abs(t-_e)),Se=Math.max(Math.abs(Ae),Math.abs(Ae-xe)));break;case 3:if(Ee.shape===0)Ce=Se=Math.max(distance(t,Ae),distance(t,Ae-xe),distance(t-_e,Ae),distance(t-_e,Ae-xe));else if(Ee.shape===1){var Re=Math.max(Math.abs(Ae),Math.abs(Ae-xe))/Math.max(Math.abs(t),Math.abs(t-_e)),Ue=findCorner(_e,xe,t,Ae,!1),Fe=Ue[0],Ie=Ue[1];Ce=distance(Fe-t,(Ie-Ae)/Re),Se=Re*Ce}break}return Array.isArray(Ee.size)&&(Ce=getAbsoluteValue(Ee.size[0],_e),Se=Ee.size.length===2?getAbsoluteValue(Ee.size[1],xe):Ce),[Ce,Se]},linearGradient=function(Ee,t){var Ae=deg(180),_e=[];return parseFunctionArgs(t).forEach(function(xe,Ce){if(Ce===0){var Se=xe[0];if(Se.type===20&&Se.value==="to"){Ae=parseNamedSide(xe);return}else if(isAngle(Se)){Ae=angle.parse(Ee,Se);return}}var Re=parseColorStop(Ee,xe);_e.push(Re)}),{angle:Ae,stops:_e,type:1}},prefixLinearGradient=function(Ee,t){var Ae=deg(180),_e=[];return parseFunctionArgs(t).forEach(function(xe,Ce){if(Ce===0){var Se=xe[0];if(Se.type===20&&["top","left","right","bottom"].indexOf(Se.value)!==-1){Ae=parseNamedSide(xe);return}else if(isAngle(Se)){Ae=(angle.parse(Ee,Se)+deg(270))%deg(360);return}}var Re=parseColorStop(Ee,xe);_e.push(Re)}),{angle:Ae,stops:_e,type:1}},webkitGradient=function(Ee,t){var Ae=deg(180),_e=[],xe=1,Ce=0,Se=3,Re=[];return parseFunctionArgs(t).forEach(function(Be,Fe){var Ie=Be[0];if(Fe===0){if(isIdentToken(Ie)&&Ie.value==="linear"){xe=1;return}else if(isIdentToken(Ie)&&Ie.value==="radial"){xe=2;return}}if(Ie.type===18){if(Ie.name==="from"){var Ue=color$1.parse(Ee,Ie.values[0]);_e.push({stop:ZERO_LENGTH,color:Ue})}else if(Ie.name==="to"){var Ue=color$1.parse(Ee,Ie.values[0]);_e.push({stop:HUNDRED_PERCENT,color:Ue})}else if(Ie.name==="color-stop"){var ke=Ie.values.filter(nonFunctionArgSeparator);if(ke.length===2){var Ue=color$1.parse(Ee,ke[1]),Oe=ke[0];isNumberToken(Oe)&&_e.push({stop:{type:16,number:Oe.number*100,flags:Oe.flags},color:Ue})}}}}),xe===1?{angle:(Ae+deg(180))%deg(360),stops:_e,type:xe}:{size:Se,shape:Ce,stops:_e,position:Re,type:xe}},CLOSEST_SIDE="closest-side",FARTHEST_SIDE="farthest-side",CLOSEST_CORNER="closest-corner",FARTHEST_CORNER="farthest-corner",CIRCLE="circle",ELLIPSE="ellipse",COVER="cover",CONTAIN="contain",radialGradient=function(Ee,t){var Ae=0,_e=3,xe=[],Ce=[];return parseFunctionArgs(t).forEach(function(Se,Re){var Be=!0;if(Re===0){var Fe=!1;Be=Se.reduce(function(Ue,ke){if(Fe)if(isIdentToken(ke))switch(ke.value){case"center":return Ce.push(FIFTY_PERCENT),Ue;case"top":case"left":return Ce.push(ZERO_LENGTH),Ue;case"right":case"bottom":return Ce.push(HUNDRED_PERCENT),Ue}else(isLengthPercentage(ke)||isLength(ke))&&Ce.push(ke);else if(isIdentToken(ke))switch(ke.value){case CIRCLE:return Ae=0,!1;case ELLIPSE:return Ae=1,!1;case"at":return Fe=!0,!1;case CLOSEST_SIDE:return _e=0,!1;case COVER:case FARTHEST_SIDE:return _e=1,!1;case CONTAIN:case CLOSEST_CORNER:return _e=2,!1;case FARTHEST_CORNER:return _e=3,!1}else if(isLength(ke)||isLengthPercentage(ke))return Array.isArray(_e)||(_e=[]),_e.push(ke),!1;return Ue},Be)}if(Be){var Ie=parseColorStop(Ee,Se);xe.push(Ie)}}),{size:_e,shape:Ae,stops:xe,position:Ce,type:2}},prefixRadialGradient=function(Ee,t){var Ae=0,_e=3,xe=[],Ce=[];return parseFunctionArgs(t).forEach(function(Se,Re){var Be=!0;if(Re===0?Be=Se.reduce(function(Ie,Ue){if(isIdentToken(Ue))switch(Ue.value){case"center":return Ce.push(FIFTY_PERCENT),!1;case"top":case"left":return Ce.push(ZERO_LENGTH),!1;case"right":case"bottom":return Ce.push(HUNDRED_PERCENT),!1}else if(isLengthPercentage(Ue)||isLength(Ue))return Ce.push(Ue),!1;return Ie},Be):Re===1&&(Be=Se.reduce(function(Ie,Ue){if(isIdentToken(Ue))switch(Ue.value){case CIRCLE:return Ae=0,!1;case ELLIPSE:return Ae=1,!1;case CONTAIN:case CLOSEST_SIDE:return _e=0,!1;case FARTHEST_SIDE:return _e=1,!1;case CLOSEST_CORNER:return _e=2,!1;case COVER:case FARTHEST_CORNER:return _e=3,!1}else if(isLength(Ue)||isLengthPercentage(Ue))return Array.isArray(_e)||(_e=[]),_e.push(Ue),!1;return Ie},Be)),Be){var Fe=parseColorStop(Ee,Se);xe.push(Fe)}}),{size:_e,shape:Ae,stops:xe,position:Ce,type:2}},isLinearGradient=function(Ee){return Ee.type===1},isRadialGradient=function(Ee){return Ee.type===2},image={name:"image",parse:function(Ee,t){if(t.type===22){var Ae={url:t.value,type:0};return Ee.cache.addImage(t.value),Ae}if(t.type===18){var _e=SUPPORTED_IMAGE_FUNCTIONS[t.name];if(typeof _e>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return _e(Ee,t.values)}throw new Error("Unsupported image type "+t.type)}};function isSupportedImage(Ee){return!(Ee.type===20&&Ee.value==="none")&&(Ee.type!==18||!!SUPPORTED_IMAGE_FUNCTIONS[Ee.name])}var SUPPORTED_IMAGE_FUNCTIONS={"linear-gradient":linearGradient,"-moz-linear-gradient":prefixLinearGradient,"-ms-linear-gradient":prefixLinearGradient,"-o-linear-gradient":prefixLinearGradient,"-webkit-linear-gradient":prefixLinearGradient,"radial-gradient":radialGradient,"-moz-radial-gradient":prefixRadialGradient,"-ms-radial-gradient":prefixRadialGradient,"-o-radial-gradient":prefixRadialGradient,"-webkit-radial-gradient":prefixRadialGradient,"-webkit-gradient":webkitGradient},backgroundImage={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(Ee,t){if(t.length===0)return[];var Ae=t[0];return Ae.type===20&&Ae.value==="none"?[]:t.filter(function(_e){return nonFunctionArgSeparator(_e)&&isSupportedImage(_e)}).map(function(_e){return image.parse(Ee,_e)})}},backgroundOrigin={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(Ee,t){return t.map(function(Ae){if(isIdentToken(Ae))switch(Ae.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundPosition={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(Ee,t){return parseFunctionArgs(t).map(function(Ae){return Ae.filter(isLengthPercentage)}).map(parseLengthPercentageTuple)}},backgroundRepeat={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(Ee,t){return parseFunctionArgs(t).map(function(Ae){return Ae.filter(isIdentToken).map(function(_e){return _e.value}).join(" ")}).map(parseBackgroundRepeat)}},parseBackgroundRepeat=function(Ee){switch(Ee){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},BACKGROUND_SIZE;(function(Ee){Ee.AUTO="auto",Ee.CONTAIN="contain",Ee.COVER="cover"})(BACKGROUND_SIZE||(BACKGROUND_SIZE={}));var backgroundSize={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(Ee,t){return parseFunctionArgs(t).map(function(Ae){return Ae.filter(isBackgroundSizeInfoToken)})}},isBackgroundSizeInfoToken=function(Ee){return isIdentToken(Ee)||isLengthPercentage(Ee)},borderColorForSide=function(Ee){return{name:"border-"+Ee+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},borderTopColor=borderColorForSide("top"),borderRightColor=borderColorForSide("right"),borderBottomColor=borderColorForSide("bottom"),borderLeftColor=borderColorForSide("left"),borderRadiusForSide=function(Ee){return{name:"border-radius-"+Ee,initialValue:"0 0",prefix:!1,type:1,parse:function(t,Ae){return parseLengthPercentageTuple(Ae.filter(isLengthPercentage))}}},borderTopLeftRadius=borderRadiusForSide("top-left"),borderTopRightRadius=borderRadiusForSide("top-right"),borderBottomRightRadius=borderRadiusForSide("bottom-right"),borderBottomLeftRadius=borderRadiusForSide("bottom-left"),borderStyleForSide=function(Ee){return{name:"border-"+Ee+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,Ae){switch(Ae){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},borderTopStyle=borderStyleForSide("top"),borderRightStyle=borderStyleForSide("right"),borderBottomStyle=borderStyleForSide("bottom"),borderLeftStyle=borderStyleForSide("left"),borderWidthForSide=function(Ee){return{name:"border-"+Ee+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,Ae){return isDimensionToken(Ae)?Ae.number:0}}},borderTopWidth=borderWidthForSide("top"),borderRightWidth=borderWidthForSide("right"),borderBottomWidth=borderWidthForSide("bottom"),borderLeftWidth=borderWidthForSide("left"),color={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},direction={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},display={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(Ee,t){return t.filter(isIdentToken).reduce(function(Ae,_e){return Ae|parseDisplayValue(_e.value)},0)}},parseDisplayValue=function(Ee){switch(Ee){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},float={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},letterSpacing={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(Ee,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},LINE_BREAK;(function(Ee){Ee.NORMAL="normal",Ee.STRICT="strict"})(LINE_BREAK||(LINE_BREAK={}));var lineBreak={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"strict":return LINE_BREAK.STRICT;case"normal":default:return LINE_BREAK.NORMAL}}},lineHeight={name:"line-height",initialValue:"normal",prefix:!1,type:4},computeLineHeight=function(Ee,t){return isIdentToken(Ee)&&Ee.value==="normal"?1.2*t:Ee.type===17?t*Ee.number:isLengthPercentage(Ee)?getAbsoluteValue(Ee,t):t},listStyleImage={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(Ee,t){return t.type===20&&t.value==="none"?null:image.parse(Ee,t)}},listStylePosition={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},listStyleType={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},marginForSide=function(Ee){return{name:"margin-"+Ee,initialValue:"0",prefix:!1,type:4}},marginTop=marginForSide("top"),marginRight=marginForSide("right"),marginBottom=marginForSide("bottom"),marginLeft=marginForSide("left"),overflow={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(Ee,t){return t.filter(isIdentToken).map(function(Ae){switch(Ae.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},overflowWrap={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},paddingForSide=function(Ee){return{name:"padding-"+Ee,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},paddingTop=paddingForSide("top"),paddingRight=paddingForSide("right"),paddingBottom=paddingForSide("bottom"),paddingLeft=paddingForSide("left"),textAlign={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},position={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},textShadow={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(Ee,t){return t.length===1&&isIdentWithValue(t[0],"none")?[]:parseFunctionArgs(t).map(function(Ae){for(var _e={color:COLORS.TRANSPARENT,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH},xe=0,Ce=0;Ce<Ae.length;Ce++){var Se=Ae[Ce];isLength(Se)?(xe===0?_e.offsetX=Se:xe===1?_e.offsetY=Se:_e.blur=Se,xe++):_e.color=color$1.parse(Ee,Se)}return _e})}},textTransform={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},transform$1={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(Ee,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var Ae=SUPPORTED_TRANSFORM_FUNCTIONS[t.name];if(typeof Ae>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return Ae(t.values)}return null}},matrix=function(Ee){var t=Ee.filter(function(Ae){return Ae.type===17}).map(function(Ae){return Ae.number});return t.length===6?t:null},matrix3d=function(Ee){var t=Ee.filter(function(Be){return Be.type===17}).map(function(Be){return Be.number}),Ae=t[0],_e=t[1];t[2],t[3];var xe=t[4],Ce=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var Se=t[12],Re=t[13];return t[14],t[15],t.length===16?[Ae,_e,xe,Ce,Se,Re]:null},SUPPORTED_TRANSFORM_FUNCTIONS={matrix,matrix3d},DEFAULT_VALUE={type:16,number:50,flags:FLAG_INTEGER},DEFAULT=[DEFAULT_VALUE,DEFAULT_VALUE],transformOrigin={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(Ee,t){var Ae=t.filter(isLengthPercentage);return Ae.length!==2?DEFAULT:[Ae[0],Ae[1]]}},visibility={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},WORD_BREAK;(function(Ee){Ee.NORMAL="normal",Ee.BREAK_ALL="break-all",Ee.KEEP_ALL="keep-all"})(WORD_BREAK||(WORD_BREAK={}));var wordBreak={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"break-all":return WORD_BREAK.BREAK_ALL;case"keep-all":return WORD_BREAK.KEEP_ALL;case"normal":default:return WORD_BREAK.NORMAL}}},zIndex={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(Ee,t){if(t.type===20)return{auto:!0,order:0};if(isNumberToken(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},time={name:"time",parse:function(Ee,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},opacity={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(Ee,t){return isNumberToken(t)?t.number:1}},textDecorationColor={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},textDecorationLine={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(Ee,t){return t.filter(isIdentToken).map(function(Ae){switch(Ae.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(Ae){return Ae!==0})}},fontFamily={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(Ee,t){var Ae=[],_e=[];return t.forEach(function(xe){switch(xe.type){case 20:case 0:Ae.push(xe.value);break;case 17:Ae.push(xe.number.toString());break;case 4:_e.push(Ae.join(" ")),Ae.length=0;break}}),Ae.length&&_e.push(Ae.join(" ")),_e.map(function(xe){return xe.indexOf(" ")===-1?xe:"'"+xe+"'"})}},fontSize={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fontWeight={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(Ee,t){if(isNumberToken(t))return t.number;if(isIdentToken(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},fontVariant={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(Ee,t){return t.filter(isIdentToken).map(function(Ae){return Ae.value})}},fontStyle={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(Ee,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},contains=function(Ee,t){return(Ee&t)!==0},content={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(Ee,t){if(t.length===0)return[];var Ae=t[0];return Ae.type===20&&Ae.value==="none"?[]:t}},counterIncrement={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(Ee,t){if(t.length===0)return null;var Ae=t[0];if(Ae.type===20&&Ae.value==="none")return null;for(var _e=[],xe=t.filter(nonWhiteSpace),Ce=0;Ce<xe.length;Ce++){var Se=xe[Ce],Re=xe[Ce+1];if(Se.type===20){var Be=Re&&isNumberToken(Re)?Re.number:1;_e.push({counter:Se.value,increment:Be})}}return _e}},counterReset={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(Ee,t){if(t.length===0)return[];for(var Ae=[],_e=t.filter(nonWhiteSpace),xe=0;xe<_e.length;xe++){var Ce=_e[xe],Se=_e[xe+1];if(isIdentToken(Ce)&&Ce.value!=="none"){var Re=Se&&isNumberToken(Se)?Se.number:0;Ae.push({counter:Ce.value,reset:Re})}}return Ae}},duration={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(Ee,t){return t.filter(isDimensionToken).map(function(Ae){return time.parse(Ee,Ae)})}},quotes={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(Ee,t){if(t.length===0)return null;var Ae=t[0];if(Ae.type===20&&Ae.value==="none")return null;var _e=[],xe=t.filter(isStringToken);if(xe.length%2!==0)return null;for(var Ce=0;Ce<xe.length;Ce+=2){var Se=xe[Ce].value,Re=xe[Ce+1].value;_e.push({open:Se,close:Re})}return _e}},getQuote=function(Ee,t,Ae){if(!Ee)return"";var _e=Ee[Math.min(t,Ee.length-1)];return _e?Ae?_e.open:_e.close:""},boxShadow={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(Ee,t){return t.length===1&&isIdentWithValue(t[0],"none")?[]:parseFunctionArgs(t).map(function(Ae){for(var _e={color:255,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH,spread:ZERO_LENGTH,inset:!1},xe=0,Ce=0;Ce<Ae.length;Ce++){var Se=Ae[Ce];isIdentWithValue(Se,"inset")?_e.inset=!0:isLength(Se)?(xe===0?_e.offsetX=Se:xe===1?_e.offsetY=Se:xe===2?_e.blur=Se:_e.spread=Se,xe++):_e.color=color$1.parse(Ee,Se)}return _e})}},paintOrder={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(Ee,t){var Ae=[0,1,2],_e=[];return t.filter(isIdentToken).forEach(function(xe){switch(xe.value){case"stroke":_e.push(1);break;case"fill":_e.push(0);break;case"markers":_e.push(2);break}}),Ae.forEach(function(xe){_e.indexOf(xe)===-1&&_e.push(xe)}),_e}},webkitTextStrokeColor={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},webkitTextStrokeWidth={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(Ee,t){return isDimensionToken(t)?t.number:0}},CSSParsedDeclaration=function(){function Ee(t,Ae){var _e,xe;this.animationDuration=parse$1(t,duration,Ae.animationDuration),this.backgroundClip=parse$1(t,backgroundClip,Ae.backgroundClip),this.backgroundColor=parse$1(t,backgroundColor,Ae.backgroundColor),this.backgroundImage=parse$1(t,backgroundImage,Ae.backgroundImage),this.backgroundOrigin=parse$1(t,backgroundOrigin,Ae.backgroundOrigin),this.backgroundPosition=parse$1(t,backgroundPosition,Ae.backgroundPosition),this.backgroundRepeat=parse$1(t,backgroundRepeat,Ae.backgroundRepeat),this.backgroundSize=parse$1(t,backgroundSize,Ae.backgroundSize),this.borderTopColor=parse$1(t,borderTopColor,Ae.borderTopColor),this.borderRightColor=parse$1(t,borderRightColor,Ae.borderRightColor),this.borderBottomColor=parse$1(t,borderBottomColor,Ae.borderBottomColor),this.borderLeftColor=parse$1(t,borderLeftColor,Ae.borderLeftColor),this.borderTopLeftRadius=parse$1(t,borderTopLeftRadius,Ae.borderTopLeftRadius),this.borderTopRightRadius=parse$1(t,borderTopRightRadius,Ae.borderTopRightRadius),this.borderBottomRightRadius=parse$1(t,borderBottomRightRadius,Ae.borderBottomRightRadius),this.borderBottomLeftRadius=parse$1(t,borderBottomLeftRadius,Ae.borderBottomLeftRadius),this.borderTopStyle=parse$1(t,borderTopStyle,Ae.borderTopStyle),this.borderRightStyle=parse$1(t,borderRightStyle,Ae.borderRightStyle),this.borderBottomStyle=parse$1(t,borderBottomStyle,Ae.borderBottomStyle),this.borderLeftStyle=parse$1(t,borderLeftStyle,Ae.borderLeftStyle),this.borderTopWidth=parse$1(t,borderTopWidth,Ae.borderTopWidth),this.borderRightWidth=parse$1(t,borderRightWidth,Ae.borderRightWidth),this.borderBottomWidth=parse$1(t,borderBottomWidth,Ae.borderBottomWidth),this.borderLeftWidth=parse$1(t,borderLeftWidth,Ae.borderLeftWidth),this.boxShadow=parse$1(t,boxShadow,Ae.boxShadow),this.color=parse$1(t,color,Ae.color),this.direction=parse$1(t,direction,Ae.direction),this.display=parse$1(t,display,Ae.display),this.float=parse$1(t,float,Ae.cssFloat),this.fontFamily=parse$1(t,fontFamily,Ae.fontFamily),this.fontSize=parse$1(t,fontSize,Ae.fontSize),this.fontStyle=parse$1(t,fontStyle,Ae.fontStyle),this.fontVariant=parse$1(t,fontVariant,Ae.fontVariant),this.fontWeight=parse$1(t,fontWeight,Ae.fontWeight),this.letterSpacing=parse$1(t,letterSpacing,Ae.letterSpacing),this.lineBreak=parse$1(t,lineBreak,Ae.lineBreak),this.lineHeight=parse$1(t,lineHeight,Ae.lineHeight),this.listStyleImage=parse$1(t,listStyleImage,Ae.listStyleImage),this.listStylePosition=parse$1(t,listStylePosition,Ae.listStylePosition),this.listStyleType=parse$1(t,listStyleType,Ae.listStyleType),this.marginTop=parse$1(t,marginTop,Ae.marginTop),this.marginRight=parse$1(t,marginRight,Ae.marginRight),this.marginBottom=parse$1(t,marginBottom,Ae.marginBottom),this.marginLeft=parse$1(t,marginLeft,Ae.marginLeft),this.opacity=parse$1(t,opacity,Ae.opacity);var Ce=parse$1(t,overflow,Ae.overflow);this.overflowX=Ce[0],this.overflowY=Ce[Ce.length>1?1:0],this.overflowWrap=parse$1(t,overflowWrap,Ae.overflowWrap),this.paddingTop=parse$1(t,paddingTop,Ae.paddingTop),this.paddingRight=parse$1(t,paddingRight,Ae.paddingRight),this.paddingBottom=parse$1(t,paddingBottom,Ae.paddingBottom),this.paddingLeft=parse$1(t,paddingLeft,Ae.paddingLeft),this.paintOrder=parse$1(t,paintOrder,Ae.paintOrder),this.position=parse$1(t,position,Ae.position),this.textAlign=parse$1(t,textAlign,Ae.textAlign),this.textDecorationColor=parse$1(t,textDecorationColor,(_e=Ae.textDecorationColor)!==null&&_e!==void 0?_e:Ae.color),this.textDecorationLine=parse$1(t,textDecorationLine,(xe=Ae.textDecorationLine)!==null&&xe!==void 0?xe:Ae.textDecoration),this.textShadow=parse$1(t,textShadow,Ae.textShadow),this.textTransform=parse$1(t,textTransform,Ae.textTransform),this.transform=parse$1(t,transform$1,Ae.transform),this.transformOrigin=parse$1(t,transformOrigin,Ae.transformOrigin),this.visibility=parse$1(t,visibility,Ae.visibility),this.webkitTextStrokeColor=parse$1(t,webkitTextStrokeColor,Ae.webkitTextStrokeColor),this.webkitTextStrokeWidth=parse$1(t,webkitTextStrokeWidth,Ae.webkitTextStrokeWidth),this.wordBreak=parse$1(t,wordBreak,Ae.wordBreak),this.zIndex=parse$1(t,zIndex,Ae.zIndex)}return Ee.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},Ee.prototype.isTransparent=function(){return isTransparent(this.backgroundColor)},Ee.prototype.isTransformed=function(){return this.transform!==null},Ee.prototype.isPositioned=function(){return this.position!==0},Ee.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},Ee.prototype.isFloating=function(){return this.float!==0},Ee.prototype.isInlineLevel=function(){return contains(this.display,4)||contains(this.display,33554432)||contains(this.display,268435456)||contains(this.display,536870912)||contains(this.display,67108864)||contains(this.display,134217728)},Ee}(),CSSParsedPseudoDeclaration=function(){function Ee(t,Ae){this.content=parse$1(t,content,Ae.content),this.quotes=parse$1(t,quotes,Ae.quotes)}return Ee}(),CSSParsedCounterDeclaration=function(){function Ee(t,Ae){this.counterIncrement=parse$1(t,counterIncrement,Ae.counterIncrement),this.counterReset=parse$1(t,counterReset,Ae.counterReset)}return Ee}(),parse$1=function(Ee,t,Ae){var _e=new Tokenizer,xe=Ae!==null&&typeof Ae<"u"?Ae.toString():t.initialValue;_e.write(xe);var Ce=new Parser(_e.read());switch(t.type){case 2:var Se=Ce.parseComponentValue();return t.parse(Ee,isIdentToken(Se)?Se.value:t.initialValue);case 0:return t.parse(Ee,Ce.parseComponentValue());case 1:return t.parse(Ee,Ce.parseComponentValues());case 4:return Ce.parseComponentValue();case 3:switch(t.format){case"angle":return angle.parse(Ee,Ce.parseComponentValue());case"color":return color$1.parse(Ee,Ce.parseComponentValue());case"image":return image.parse(Ee,Ce.parseComponentValue());case"length":var Re=Ce.parseComponentValue();return isLength(Re)?Re:ZERO_LENGTH;case"length-percentage":var Be=Ce.parseComponentValue();return isLengthPercentage(Be)?Be:ZERO_LENGTH;case"time":return time.parse(Ee,Ce.parseComponentValue())}break}},elementDebuggerAttribute="data-html2canvas-debug",getElementDebugType=function(Ee){var t=Ee.getAttribute(elementDebuggerAttribute);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},isDebugging=function(Ee,t){var Ae=getElementDebugType(Ee);return Ae===1||t===Ae},ElementContainer=function(){function Ee(t,Ae){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,isDebugging(Ae,3))debugger;this.styles=new CSSParsedDeclaration(t,window.getComputedStyle(Ae,null)),isHTMLElementNode(Ae)&&(this.styles.animationDuration.some(function(_e){return _e>0})&&(Ae.style.animationDuration="0s"),this.styles.transform!==null&&(Ae.style.transform="none")),this.bounds=parseBounds(this.context,Ae),isDebugging(Ae,4)&&(this.flags|=16)}return Ee}(),base64="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",chars$1$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1$2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1$2=0;i$1$2<chars$1$2.length;i$1$2++)lookup$1$2[chars$1$2.charCodeAt(i$1$2)]=i$1$2;var decode=function(Ee){var t=Ee.length*.75,Ae=Ee.length,_e,xe=0,Ce,Se,Re,Be;Ee[Ee.length-1]==="="&&(t--,Ee[Ee.length-2]==="="&&t--);var Fe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),Ie=Array.isArray(Fe)?Fe:new Uint8Array(Fe);for(_e=0;_e<Ae;_e+=4)Ce=lookup$1$2[Ee.charCodeAt(_e)],Se=lookup$1$2[Ee.charCodeAt(_e+1)],Re=lookup$1$2[Ee.charCodeAt(_e+2)],Be=lookup$1$2[Ee.charCodeAt(_e+3)],Ie[xe++]=Ce<<2|Se>>4,Ie[xe++]=(Se&15)<<4|Re>>2,Ie[xe++]=(Re&3)<<6|Be&63;return Fe},polyUint16Array=function(Ee){for(var t=Ee.length,Ae=[],_e=0;_e<t;_e+=2)Ae.push(Ee[_e+1]<<8|Ee[_e]);return Ae},polyUint32Array=function(Ee){for(var t=Ee.length,Ae=[],_e=0;_e<t;_e+=4)Ae.push(Ee[_e+3]<<24|Ee[_e+2]<<16|Ee[_e+1]<<8|Ee[_e]);return Ae},UTRIE2_SHIFT_2=5,UTRIE2_SHIFT_1=11,UTRIE2_INDEX_SHIFT=2,UTRIE2_SHIFT_1_2=UTRIE2_SHIFT_1-UTRIE2_SHIFT_2,UTRIE2_LSCP_INDEX_2_OFFSET=65536>>UTRIE2_SHIFT_2,UTRIE2_DATA_BLOCK_LENGTH=1<<UTRIE2_SHIFT_2,UTRIE2_DATA_MASK=UTRIE2_DATA_BLOCK_LENGTH-1,UTRIE2_LSCP_INDEX_2_LENGTH=1024>>UTRIE2_SHIFT_2,UTRIE2_INDEX_2_BMP_LENGTH=UTRIE2_LSCP_INDEX_2_OFFSET+UTRIE2_LSCP_INDEX_2_LENGTH,UTRIE2_UTF8_2B_INDEX_2_OFFSET=UTRIE2_INDEX_2_BMP_LENGTH,UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,UTRIE2_INDEX_1_OFFSET=UTRIE2_UTF8_2B_INDEX_2_OFFSET+UTRIE2_UTF8_2B_INDEX_2_LENGTH,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>UTRIE2_SHIFT_1,UTRIE2_INDEX_2_BLOCK_LENGTH=1<<UTRIE2_SHIFT_1_2,UTRIE2_INDEX_2_MASK=UTRIE2_INDEX_2_BLOCK_LENGTH-1,slice16=function(Ee,t,Ae){return Ee.slice?Ee.slice(t,Ae):new Uint16Array(Array.prototype.slice.call(Ee,t,Ae))},slice32=function(Ee,t,Ae){return Ee.slice?Ee.slice(t,Ae):new Uint32Array(Array.prototype.slice.call(Ee,t,Ae))},createTrieFromBase64=function(Ee,t){var Ae=decode(Ee),_e=Array.isArray(Ae)?polyUint32Array(Ae):new Uint32Array(Ae),xe=Array.isArray(Ae)?polyUint16Array(Ae):new Uint16Array(Ae),Ce=24,Se=slice16(xe,Ce/2,_e[4]/2),Re=_e[5]===2?slice16(xe,(Ce+_e[4])/2):slice32(_e,Math.ceil((Ce+_e[4])/4));return new Trie(_e[0],_e[1],_e[2],_e[3],Se,Re)},Trie=function(){function Ee(t,Ae,_e,xe,Ce,Se){this.initialValue=t,this.errorValue=Ae,this.highStart=_e,this.highValueIndex=xe,this.index=Ce,this.data=Se}return Ee.prototype.get=function(t){var Ae;if(t>=0){if(t<55296||t>56319&&t<=65535)return Ae=this.index[t>>UTRIE2_SHIFT_2],Ae=(Ae<<UTRIE2_INDEX_SHIFT)+(t&UTRIE2_DATA_MASK),this.data[Ae];if(t<=65535)return Ae=this.index[UTRIE2_LSCP_INDEX_2_OFFSET+(t-55296>>UTRIE2_SHIFT_2)],Ae=(Ae<<UTRIE2_INDEX_SHIFT)+(t&UTRIE2_DATA_MASK),this.data[Ae];if(t<this.highStart)return Ae=UTRIE2_INDEX_1_OFFSET-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH+(t>>UTRIE2_SHIFT_1),Ae=this.index[Ae],Ae+=t>>UTRIE2_SHIFT_2&UTRIE2_INDEX_2_MASK,Ae=this.index[Ae],Ae=(Ae<<UTRIE2_INDEX_SHIFT)+(t&UTRIE2_DATA_MASK),this.data[Ae];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},Ee}(),chars$4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$4=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$4=0;i$4<chars$4.length;i$4++)lookup$4[chars$4.charCodeAt(i$4)]=i$4;var Prepend=1,CR=2,LF=3,Control=4,Extend=5,SpacingMark=7,L$1=8,V$1=9,T$1=10,LV=11,LVT=12,ZWJ=13,Extended_Pictographic=14,RI=15,toCodePoints=function(Ee){for(var t=[],Ae=0,_e=Ee.length;Ae<_e;){var xe=Ee.charCodeAt(Ae++);if(xe>=55296&&xe<=56319&&Ae<_e){var Ce=Ee.charCodeAt(Ae++);(Ce&64512)===56320?t.push(((xe&1023)<<10)+(Ce&1023)+65536):(t.push(xe),Ae--)}else t.push(xe)}return t},fromCodePoint=function(){for(var Ee=[],t=0;t<arguments.length;t++)Ee[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,Ee);var Ae=Ee.length;if(!Ae)return"";for(var _e=[],xe=-1,Ce="";++xe<Ae;){var Se=Ee[xe];Se<=65535?_e.push(Se):(Se-=65536,_e.push((Se>>10)+55296,Se%1024+56320)),(xe+1===Ae||_e.length>16384)&&(Ce+=String.fromCharCode.apply(String,_e),_e.length=0)}return Ce},UnicodeTrie=createTrieFromBase64(base64),BREAK_NOT_ALLOWED="×",BREAK_ALLOWED="÷",codePointToClass=function(Ee){return UnicodeTrie.get(Ee)},_graphemeBreakAtIndex=function(Ee,t,Ae){var _e=Ae-2,xe=t[_e],Ce=t[Ae-1],Se=t[Ae];if(Ce===CR&&Se===LF)return BREAK_NOT_ALLOWED;if(Ce===CR||Ce===LF||Ce===Control||Se===CR||Se===LF||Se===Control)return BREAK_ALLOWED;if(Ce===L$1&&[L$1,V$1,LV,LVT].indexOf(Se)!==-1||(Ce===LV||Ce===V$1)&&(Se===V$1||Se===T$1)||(Ce===LVT||Ce===T$1)&&Se===T$1||Se===ZWJ||Se===Extend||Se===SpacingMark||Ce===Prepend)return BREAK_NOT_ALLOWED;if(Ce===ZWJ&&Se===Extended_Pictographic){for(;xe===Extend;)xe=t[--_e];if(xe===Extended_Pictographic)return BREAK_NOT_ALLOWED}if(Ce===RI&&Se===RI){for(var Re=0;xe===RI;)Re++,xe=t[--_e];if(Re%2===0)return BREAK_NOT_ALLOWED}return BREAK_ALLOWED},GraphemeBreaker=function(Ee){var t=toCodePoints(Ee),Ae=t.length,_e=0,xe=0,Ce=t.map(codePointToClass);return{next:function(){if(_e>=Ae)return{done:!0,value:null};for(var Se=BREAK_NOT_ALLOWED;_e<Ae&&(Se=_graphemeBreakAtIndex(t,Ce,++_e))===BREAK_NOT_ALLOWED;);if(Se!==BREAK_NOT_ALLOWED||_e===Ae){var Re=fromCodePoint.apply(null,t.slice(xe,_e));return xe=_e,{value:Re,done:!1}}return{done:!0,value:null}}}},splitGraphemes=function(Ee){for(var t=GraphemeBreaker(Ee),Ae=[],_e;!(_e=t.next()).done;)_e.value&&Ae.push(_e.value.slice());return Ae},testRangeBounds=function(Ee){var t=123;if(Ee.createRange){var Ae=Ee.createRange();if(Ae.getBoundingClientRect){var _e=Ee.createElement("boundtest");_e.style.height=t+"px",_e.style.display="block",Ee.body.appendChild(_e),Ae.selectNode(_e);var xe=Ae.getBoundingClientRect(),Ce=Math.round(xe.height);if(Ee.body.removeChild(_e),Ce===t)return!0}}return!1},testIOSLineBreak=function(Ee){var t=Ee.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",Ee.body.appendChild(t);var Ae=Ee.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var _e=t.firstChild,xe=toCodePoints$1(_e.data).map(function(Be){return fromCodePoint$1(Be)}),Ce=0,Se={},Re=xe.every(function(Be,Fe){Ae.setStart(_e,Ce),Ae.setEnd(_e,Ce+Be.length);var Ie=Ae.getBoundingClientRect();Ce+=Be.length;var Ue=Ie.x>Se.x||Ie.y>Se.y;return Se=Ie,Fe===0?!0:Ue});return Ee.body.removeChild(t),Re},testCORS=function(){return typeof new Image().crossOrigin<"u"},testResponseType=function(){return typeof new XMLHttpRequest().responseType=="string"},testSVG=function(Ee){var t=new Image,Ae=Ee.createElement("canvas"),_e=Ae.getContext("2d");if(!_e)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{_e.drawImage(t,0,0),Ae.toDataURL()}catch{return!1}return!0},isGreenPixel=function(Ee){return Ee[0]===0&&Ee[1]===255&&Ee[2]===0&&Ee[3]===255},testForeignObject=function(Ee){var t=Ee.createElement("canvas"),Ae=100;t.width=Ae,t.height=Ae;var _e=t.getContext("2d");if(!_e)return Promise.reject(!1);_e.fillStyle="rgb(0, 255, 0)",_e.fillRect(0,0,Ae,Ae);var xe=new Image,Ce=t.toDataURL();xe.src=Ce;var Se=createForeignObjectSVG(Ae,Ae,0,0,xe);return _e.fillStyle="red",_e.fillRect(0,0,Ae,Ae),loadSerializedSVG$1(Se).then(function(Re){_e.drawImage(Re,0,0);var Be=_e.getImageData(0,0,Ae,Ae).data;_e.fillStyle="red",_e.fillRect(0,0,Ae,Ae);var Fe=Ee.createElement("div");return Fe.style.backgroundImage="url("+Ce+")",Fe.style.height=Ae+"px",isGreenPixel(Be)?loadSerializedSVG$1(createForeignObjectSVG(Ae,Ae,0,0,Fe)):Promise.reject(!1)}).then(function(Re){return _e.drawImage(Re,0,0),isGreenPixel(_e.getImageData(0,0,Ae,Ae).data)}).catch(function(){return!1})},createForeignObjectSVG=function(Ee,t,Ae,_e,xe){var Ce="http://www.w3.org/2000/svg",Se=document.createElementNS(Ce,"svg"),Re=document.createElementNS(Ce,"foreignObject");return Se.setAttributeNS(null,"width",Ee.toString()),Se.setAttributeNS(null,"height",t.toString()),Re.setAttributeNS(null,"width","100%"),Re.setAttributeNS(null,"height","100%"),Re.setAttributeNS(null,"x",Ae.toString()),Re.setAttributeNS(null,"y",_e.toString()),Re.setAttributeNS(null,"externalResourcesRequired","true"),Se.appendChild(Re),Re.appendChild(xe),Se},loadSerializedSVG$1=function(Ee){return new Promise(function(t,Ae){var _e=new Image;_e.onload=function(){return t(_e)},_e.onerror=Ae,_e.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(Ee))})},FEATURES={get SUPPORT_RANGE_BOUNDS(){var Ee=testRangeBounds(document);return Object.defineProperty(FEATURES,"SUPPORT_RANGE_BOUNDS",{value:Ee}),Ee},get SUPPORT_WORD_BREAKING(){var Ee=FEATURES.SUPPORT_RANGE_BOUNDS&&testIOSLineBreak(document);return Object.defineProperty(FEATURES,"SUPPORT_WORD_BREAKING",{value:Ee}),Ee},get SUPPORT_SVG_DRAWING(){var Ee=testSVG(document);return Object.defineProperty(FEATURES,"SUPPORT_SVG_DRAWING",{value:Ee}),Ee},get SUPPORT_FOREIGNOBJECT_DRAWING(){var Ee=typeof Array.from=="function"&&typeof window.fetch=="function"?testForeignObject(document):Promise.resolve(!1);return Object.defineProperty(FEATURES,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:Ee}),Ee},get SUPPORT_CORS_IMAGES(){var Ee=testCORS();return Object.defineProperty(FEATURES,"SUPPORT_CORS_IMAGES",{value:Ee}),Ee},get SUPPORT_RESPONSE_TYPE(){var Ee=testResponseType();return Object.defineProperty(FEATURES,"SUPPORT_RESPONSE_TYPE",{value:Ee}),Ee},get SUPPORT_CORS_XHR(){var Ee="withCredentials"in new XMLHttpRequest;return Object.defineProperty(FEATURES,"SUPPORT_CORS_XHR",{value:Ee}),Ee},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var Ee=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(FEATURES,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:Ee}),Ee}},TextBounds=function(){function Ee(t,Ae){this.text=t,this.bounds=Ae}return Ee}(),parseTextBounds=function(Ee,t,Ae,_e){var xe=breakText(t,Ae),Ce=[],Se=0;return xe.forEach(function(Re){if(Ae.textDecorationLine.length||Re.trim().length>0)if(FEATURES.SUPPORT_RANGE_BOUNDS){var Be=createRange(_e,Se,Re.length).getClientRects();if(Be.length>1){var Fe=segmentGraphemes(Re),Ie=0;Fe.forEach(function(ke){Ce.push(new TextBounds(ke,Bounds.fromDOMRectList(Ee,createRange(_e,Ie+Se,ke.length).getClientRects()))),Ie+=ke.length})}else Ce.push(new TextBounds(Re,Bounds.fromDOMRectList(Ee,Be)))}else{var Ue=_e.splitText(Re.length);Ce.push(new TextBounds(Re,getWrapperBounds(Ee,_e))),_e=Ue}else FEATURES.SUPPORT_RANGE_BOUNDS||(_e=_e.splitText(Re.length));Se+=Re.length}),Ce},getWrapperBounds=function(Ee,t){var Ae=t.ownerDocument;if(Ae){var _e=Ae.createElement("html2canvaswrapper");_e.appendChild(t.cloneNode(!0));var xe=t.parentNode;if(xe){xe.replaceChild(_e,t);var Ce=parseBounds(Ee,_e);return _e.firstChild&&xe.replaceChild(_e.firstChild,_e),Ce}}return Bounds.EMPTY},createRange=function(Ee,t,Ae){var _e=Ee.ownerDocument;if(!_e)throw new Error("Node has no owner document");var xe=_e.createRange();return xe.setStart(Ee,t),xe.setEnd(Ee,t+Ae),xe},segmentGraphemes=function(Ee){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(Ee)).map(function(Ae){return Ae.segment})}return splitGraphemes(Ee)},segmentWords=function(Ee,t){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var Ae=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(Ae.segment(Ee)).map(function(_e){return _e.segment})}return breakWords(Ee,t)},breakText=function(Ee,t){return t.letterSpacing!==0?segmentGraphemes(Ee):segmentWords(Ee,t)},wordSeparators=[32,160,4961,65792,65793,4153,4241],breakWords=function(Ee,t){for(var Ae=LineBreaker(Ee,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),_e=[],xe,Ce=function(){if(xe.value){var Se=xe.value.slice(),Re=toCodePoints$1(Se),Be="";Re.forEach(function(Fe){wordSeparators.indexOf(Fe)===-1?Be+=fromCodePoint$1(Fe):(Be.length&&_e.push(Be),_e.push(fromCodePoint$1(Fe)),Be="")}),Be.length&&_e.push(Be)}};!(xe=Ae.next()).done;)Ce();return _e},TextContainer=function(){function Ee(t,Ae,_e){this.text=transform(Ae.data,_e.textTransform),this.textBounds=parseTextBounds(t,this.text,_e,Ae)}return Ee}(),transform=function(Ee,t){switch(t){case 1:return Ee.toLowerCase();case 3:return Ee.replace(CAPITALIZE,capitalize);case 2:return Ee.toUpperCase();default:return Ee}},CAPITALIZE=/(^|\s|:|-|\(|\))([a-z])/g,capitalize=function(Ee,t,Ae){return Ee.length>0?t+Ae.toUpperCase():Ee},ImageElementContainer=function(Ee){__extends$1(t,Ee);function t(Ae,_e){var xe=Ee.call(this,Ae,_e)||this;return xe.src=_e.currentSrc||_e.src,xe.intrinsicWidth=_e.naturalWidth,xe.intrinsicHeight=_e.naturalHeight,xe.context.cache.addImage(xe.src),xe}return t}(ElementContainer),CanvasElementContainer=function(Ee){__extends$1(t,Ee);function t(Ae,_e){var xe=Ee.call(this,Ae,_e)||this;return xe.canvas=_e,xe.intrinsicWidth=_e.width,xe.intrinsicHeight=_e.height,xe}return t}(ElementContainer),SVGElementContainer=function(Ee){__extends$1(t,Ee);function t(Ae,_e){var xe=Ee.call(this,Ae,_e)||this,Ce=new XMLSerializer,Se=parseBounds(Ae,_e);return _e.setAttribute("width",Se.width+"px"),_e.setAttribute("height",Se.height+"px"),xe.svg="data:image/svg+xml,"+encodeURIComponent(Ce.serializeToString(_e)),xe.intrinsicWidth=_e.width.baseVal.value,xe.intrinsicHeight=_e.height.baseVal.value,xe.context.cache.addImage(xe.svg),xe}return t}(ElementContainer),LIElementContainer=function(Ee){__extends$1(t,Ee);function t(Ae,_e){var xe=Ee.call(this,Ae,_e)||this;return xe.value=_e.value,xe}return t}(ElementContainer),OLElementContainer=function(Ee){__extends$1(t,Ee);function t(Ae,_e){var xe=Ee.call(this,Ae,_e)||this;return xe.start=_e.start,xe.reversed=typeof _e.reversed=="boolean"&&_e.reversed===!0,xe}return t}(ElementContainer),CHECKBOX_BORDER_RADIUS=[{type:15,flags:0,unit:"px",number:3}],RADIO_BORDER_RADIUS=[{type:16,flags:0,number:50}],reformatInputBounds=function(Ee){return Ee.width>Ee.height?new Bounds(Ee.left+(Ee.width-Ee.height)/2,Ee.top,Ee.height,Ee.height):Ee.width<Ee.height?new Bounds(Ee.left,Ee.top+(Ee.height-Ee.width)/2,Ee.width,Ee.width):Ee},getInputValue=function(Ee){var t=Ee.type===PASSWORD?new Array(Ee.value.length+1).join("•"):Ee.value;return t.length===0?Ee.placeholder||"":t},CHECKBOX="checkbox",RADIO="radio",PASSWORD="password",INPUT_COLOR=707406591,InputElementContainer=function(Ee){__extends$1(t,Ee);function t(Ae,_e){var xe=Ee.call(this,Ae,_e)||this;switch(xe.type=_e.type.toLowerCase(),xe.checked=_e.checked,xe.value=getInputValue(_e),(xe.type===CHECKBOX||xe.type===RADIO)&&(xe.styles.backgroundColor=3739148031,xe.styles.borderTopColor=xe.styles.borderRightColor=xe.styles.borderBottomColor=xe.styles.borderLeftColor=2779096575,xe.styles.borderTopWidth=xe.styles.borderRightWidth=xe.styles.borderBottomWidth=xe.styles.borderLeftWidth=1,xe.styles.borderTopStyle=xe.styles.borderRightStyle=xe.styles.borderBottomStyle=xe.styles.borderLeftStyle=1,xe.styles.backgroundClip=[0],xe.styles.backgroundOrigin=[0],xe.bounds=reformatInputBounds(xe.bounds)),xe.type){case CHECKBOX:xe.styles.borderTopRightRadius=xe.styles.borderTopLeftRadius=xe.styles.borderBottomRightRadius=xe.styles.borderBottomLeftRadius=CHECKBOX_BORDER_RADIUS;break;case RADIO:xe.styles.borderTopRightRadius=xe.styles.borderTopLeftRadius=xe.styles.borderBottomRightRadius=xe.styles.borderBottomLeftRadius=RADIO_BORDER_RADIUS;break}return xe}return t}(ElementContainer),SelectElementContainer=function(Ee){__extends$1(t,Ee);function t(Ae,_e){var xe=Ee.call(this,Ae,_e)||this,Ce=_e.options[_e.selectedIndex||0];return xe.value=Ce&&Ce.text||"",xe}return t}(ElementContainer),TextareaElementContainer=function(Ee){__extends$1(t,Ee);function t(Ae,_e){var xe=Ee.call(this,Ae,_e)||this;return xe.value=_e.value,xe}return t}(ElementContainer),IFrameElementContainer=function(Ee){__extends$1(t,Ee);function t(Ae,_e){var xe=Ee.call(this,Ae,_e)||this;xe.src=_e.src,xe.width=parseInt(_e.width,10)||0,xe.height=parseInt(_e.height,10)||0,xe.backgroundColor=xe.styles.backgroundColor;try{if(_e.contentWindow&&_e.contentWindow.document&&_e.contentWindow.document.documentElement){xe.tree=parseTree(Ae,_e.contentWindow.document.documentElement);var Ce=_e.contentWindow.document.documentElement?parseColor(Ae,getComputedStyle(_e.contentWindow.document.documentElement).backgroundColor):COLORS.TRANSPARENT,Se=_e.contentWindow.document.body?parseColor(Ae,getComputedStyle(_e.contentWindow.document.body).backgroundColor):COLORS.TRANSPARENT;xe.backgroundColor=isTransparent(Ce)?isTransparent(Se)?xe.styles.backgroundColor:Se:Ce}}catch{}return xe}return t}(ElementContainer),LIST_OWNERS=["OL","UL","MENU"],parseNodeTree=function(Ee,t,Ae,_e){for(var xe=t.firstChild,Ce=void 0;xe;xe=Ce)if(Ce=xe.nextSibling,isTextNode(xe)&&xe.data.trim().length>0)Ae.textNodes.push(new TextContainer(Ee,xe,Ae.styles));else if(isElementNode(xe))if(isSlotElement(xe)&&xe.assignedNodes)xe.assignedNodes().forEach(function(Re){return parseNodeTree(Ee,Re,Ae,_e)});else{var Se=createContainer(Ee,xe);Se.styles.isVisible()&&(createsRealStackingContext(xe,Se,_e)?Se.flags|=4:createsStackingContext(Se.styles)&&(Se.flags|=2),LIST_OWNERS.indexOf(xe.tagName)!==-1&&(Se.flags|=8),Ae.elements.push(Se),xe.slot,xe.shadowRoot?parseNodeTree(Ee,xe.shadowRoot,Se,_e):!isTextareaElement(xe)&&!isSVGElement(xe)&&!isSelectElement(xe)&&parseNodeTree(Ee,xe,Se,_e))}},createContainer=function(Ee,t){return isImageElement(t)?new ImageElementContainer(Ee,t):isCanvasElement(t)?new CanvasElementContainer(Ee,t):isSVGElement(t)?new SVGElementContainer(Ee,t):isLIElement(t)?new LIElementContainer(Ee,t):isOLElement(t)?new OLElementContainer(Ee,t):isInputElement(t)?new InputElementContainer(Ee,t):isSelectElement(t)?new SelectElementContainer(Ee,t):isTextareaElement(t)?new TextareaElementContainer(Ee,t):isIFrameElement(t)?new IFrameElementContainer(Ee,t):new ElementContainer(Ee,t)},parseTree=function(Ee,t){var Ae=createContainer(Ee,t);return Ae.flags|=4,parseNodeTree(Ee,t,Ae,Ae),Ae},createsRealStackingContext=function(Ee,t,Ae){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||isBodyElement(Ee)&&Ae.styles.isTransparent()},createsStackingContext=function(Ee){return Ee.isPositioned()||Ee.isFloating()},isTextNode=function(Ee){return Ee.nodeType===Node.TEXT_NODE},isElementNode=function(Ee){return Ee.nodeType===Node.ELEMENT_NODE},isHTMLElementNode=function(Ee){return isElementNode(Ee)&&typeof Ee.style<"u"&&!isSVGElementNode(Ee)},isSVGElementNode=function(Ee){return typeof Ee.className=="object"},isLIElement=function(Ee){return Ee.tagName==="LI"},isOLElement=function(Ee){return Ee.tagName==="OL"},isInputElement=function(Ee){return Ee.tagName==="INPUT"},isHTMLElement=function(Ee){return Ee.tagName==="HTML"},isSVGElement=function(Ee){return Ee.tagName==="svg"},isBodyElement=function(Ee){return Ee.tagName==="BODY"},isCanvasElement=function(Ee){return Ee.tagName==="CANVAS"},isVideoElement=function(Ee){return Ee.tagName==="VIDEO"},isImageElement=function(Ee){return Ee.tagName==="IMG"},isIFrameElement=function(Ee){return Ee.tagName==="IFRAME"},isStyleElement=function(Ee){return Ee.tagName==="STYLE"},isScriptElement=function(Ee){return Ee.tagName==="SCRIPT"},isTextareaElement=function(Ee){return Ee.tagName==="TEXTAREA"},isSelectElement=function(Ee){return Ee.tagName==="SELECT"},isSlotElement=function(Ee){return Ee.tagName==="SLOT"},isCustomElement=function(Ee){return Ee.tagName.indexOf("-")>0},CounterState=function(){function Ee(){this.counters={}}return Ee.prototype.getCounterValue=function(t){var Ae=this.counters[t];return Ae&&Ae.length?Ae[Ae.length-1]:1},Ee.prototype.getCounterValues=function(t){var Ae=this.counters[t];return Ae||[]},Ee.prototype.pop=function(t){var Ae=this;t.forEach(function(_e){return Ae.counters[_e].pop()})},Ee.prototype.parse=function(t){var Ae=this,_e=t.counterIncrement,xe=t.counterReset,Ce=!0;_e!==null&&_e.forEach(function(Re){var Be=Ae.counters[Re.counter];Be&&Re.increment!==0&&(Ce=!1,Be.length||Be.push(1),Be[Math.max(0,Be.length-1)]+=Re.increment)});var Se=[];return Ce&&xe.forEach(function(Re){var Be=Ae.counters[Re.counter];Se.push(Re.counter),Be||(Be=Ae.counters[Re.counter]=[]),Be.push(Re.reset)}),Se},Ee}(),ROMAN_UPPER={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ARMENIAN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},HEBREW={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},GEORGIAN={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},createAdditiveCounter=function(Ee,t,Ae,_e,xe,Ce){return Ee<t||Ee>Ae?createCounterText(Ee,xe,Ce.length>0):_e.integers.reduce(function(Se,Re,Be){for(;Ee>=Re;)Ee-=Re,Se+=_e.values[Be];return Se},"")+Ce},createCounterStyleWithSymbolResolver=function(Ee,t,Ae,_e){var xe="";do Ae||Ee--,xe=_e(Ee)+xe,Ee/=t;while(Ee*t>=t);return xe},createCounterStyleFromRange=function(Ee,t,Ae,_e,xe){var Ce=Ae-t+1;return(Ee<0?"-":"")+(createCounterStyleWithSymbolResolver(Math.abs(Ee),Ce,_e,function(Se){return fromCodePoint$1(Math.floor(Se%Ce)+t)})+xe)},createCounterStyleFromSymbols=function(Ee,t,Ae){Ae===void 0&&(Ae=". ");var _e=t.length;return createCounterStyleWithSymbolResolver(Math.abs(Ee),_e,!1,function(xe){return t[Math.floor(xe%_e)]})+Ae},CJK_ZEROS=1,CJK_TEN_COEFFICIENTS=2,CJK_TEN_HIGH_COEFFICIENTS=4,CJK_HUNDRED_COEFFICIENTS=8,createCJKCounter=function(Ee,t,Ae,_e,xe,Ce){if(Ee<-9999||Ee>9999)return createCounterText(Ee,4,xe.length>0);var Se=Math.abs(Ee),Re=xe;if(Se===0)return t[0]+Re;for(var Be=0;Se>0&&Be<=4;Be++){var Fe=Se%10;Fe===0&&contains(Ce,CJK_ZEROS)&&Re!==""?Re=t[Fe]+Re:Fe>1||Fe===1&&Be===0||Fe===1&&Be===1&&contains(Ce,CJK_TEN_COEFFICIENTS)||Fe===1&&Be===1&&contains(Ce,CJK_TEN_HIGH_COEFFICIENTS)&&Ee>100||Fe===1&&Be>1&&contains(Ce,CJK_HUNDRED_COEFFICIENTS)?Re=t[Fe]+(Be>0?Ae[Be-1]:"")+Re:Fe===1&&Be>0&&(Re=Ae[Be-1]+Re),Se=Math.floor(Se/10)}return(Ee<0?_e:"")+Re},CHINESE_INFORMAL_MULTIPLIERS="十百千萬",CHINESE_FORMAL_MULTIPLIERS="拾佰仟萬",JAPANESE_NEGATIVE="マイナス",KOREAN_NEGATIVE="마이너스",createCounterText=function(Ee,t,Ae){var _e=Ae?". ":"",xe=Ae?"、":"",Ce=Ae?", ":"",Se=Ae?" ":"";switch(t){case 0:return"•"+Se;case 1:return"◦"+Se;case 2:return"◾"+Se;case 5:var Re=createCounterStyleFromRange(Ee,48,57,!0,_e);return Re.length<4?"0"+Re:Re;case 4:return createCounterStyleFromSymbols(Ee,"〇一二三四五六七八九",xe);case 6:return createAdditiveCounter(Ee,1,3999,ROMAN_UPPER,3,_e).toLowerCase();case 7:return createAdditiveCounter(Ee,1,3999,ROMAN_UPPER,3,_e);case 8:return createCounterStyleFromRange(Ee,945,969,!1,_e);case 9:return createCounterStyleFromRange(Ee,97,122,!1,_e);case 10:return createCounterStyleFromRange(Ee,65,90,!1,_e);case 11:return createCounterStyleFromRange(Ee,1632,1641,!0,_e);case 12:case 49:return createAdditiveCounter(Ee,1,9999,ARMENIAN,3,_e);case 35:return createAdditiveCounter(Ee,1,9999,ARMENIAN,3,_e).toLowerCase();case 13:return createCounterStyleFromRange(Ee,2534,2543,!0,_e);case 14:case 30:return createCounterStyleFromRange(Ee,6112,6121,!0,_e);case 15:return createCounterStyleFromSymbols(Ee,"子丑寅卯辰巳午未申酉戌亥",xe);case 16:return createCounterStyleFromSymbols(Ee,"甲乙丙丁戊己庚辛壬癸",xe);case 17:case 48:return createCJKCounter(Ee,"零一二三四五六七八九",CHINESE_INFORMAL_MULTIPLIERS,"負",xe,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 47:return createCJKCounter(Ee,"零壹貳參肆伍陸柒捌玖",CHINESE_FORMAL_MULTIPLIERS,"負",xe,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 42:return createCJKCounter(Ee,"零一二三四五六七八九",CHINESE_INFORMAL_MULTIPLIERS,"负",xe,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 41:return createCJKCounter(Ee,"零壹贰叁肆伍陆柒捌玖",CHINESE_FORMAL_MULTIPLIERS,"负",xe,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 26:return createCJKCounter(Ee,"〇一二三四五六七八九","十百千万",JAPANESE_NEGATIVE,xe,0);case 25:return createCJKCounter(Ee,"零壱弐参四伍六七八九","拾百千万",JAPANESE_NEGATIVE,xe,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 31:return createCJKCounter(Ee,"영일이삼사오육칠팔구","십백천만",KOREAN_NEGATIVE,Ce,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 33:return createCJKCounter(Ee,"零一二三四五六七八九","十百千萬",KOREAN_NEGATIVE,Ce,0);case 32:return createCJKCounter(Ee,"零壹貳參四五六七八九","拾百千",KOREAN_NEGATIVE,Ce,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 18:return createCounterStyleFromRange(Ee,2406,2415,!0,_e);case 20:return createAdditiveCounter(Ee,1,19999,GEORGIAN,3,_e);case 21:return createCounterStyleFromRange(Ee,2790,2799,!0,_e);case 22:return createCounterStyleFromRange(Ee,2662,2671,!0,_e);case 22:return createAdditiveCounter(Ee,1,10999,HEBREW,3,_e);case 23:return createCounterStyleFromSymbols(Ee,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return createCounterStyleFromSymbols(Ee,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return createCounterStyleFromRange(Ee,3302,3311,!0,_e);case 28:return createCounterStyleFromSymbols(Ee,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",xe);case 29:return createCounterStyleFromSymbols(Ee,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",xe);case 34:return createCounterStyleFromRange(Ee,3792,3801,!0,_e);case 37:return createCounterStyleFromRange(Ee,6160,6169,!0,_e);case 38:return createCounterStyleFromRange(Ee,4160,4169,!0,_e);case 39:return createCounterStyleFromRange(Ee,2918,2927,!0,_e);case 40:return createCounterStyleFromRange(Ee,1776,1785,!0,_e);case 43:return createCounterStyleFromRange(Ee,3046,3055,!0,_e);case 44:return createCounterStyleFromRange(Ee,3174,3183,!0,_e);case 45:return createCounterStyleFromRange(Ee,3664,3673,!0,_e);case 46:return createCounterStyleFromRange(Ee,3872,3881,!0,_e);case 3:default:return createCounterStyleFromRange(Ee,48,57,!0,_e)}},IGNORE_ATTRIBUTE="data-html2canvas-ignore",DocumentCloner=function(){function Ee(t,Ae,_e){if(this.context=t,this.options=_e,this.scrolledElements=[],this.referenceElement=Ae,this.counters=new CounterState,this.quoteDepth=0,!Ae.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(Ae.ownerDocument.documentElement,!1)}return Ee.prototype.toIFrame=function(t,Ae){var _e=this,xe=createIFrameContainer(t,Ae);if(!xe.contentWindow)return Promise.reject("Unable to find iframe window");var Ce=t.defaultView.pageXOffset,Se=t.defaultView.pageYOffset,Re=xe.contentWindow,Be=Re.document,Fe=iframeLoader(xe).then(function(){return __awaiter$2(_e,void 0,void 0,function(){var Ie,Ue;return __generator$1(this,function(ke){switch(ke.label){case 0:return this.scrolledElements.forEach(restoreNodeScroll),Re&&(Re.scrollTo(Ae.left,Ae.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Re.scrollY!==Ae.top||Re.scrollX!==Ae.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Re.scrollX-Ae.left,Re.scrollY-Ae.top,0,0))),Ie=this.options.onclone,Ue=this.clonedReferenceElement,typeof Ue>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Be.fonts&&Be.fonts.ready?[4,Be.fonts.ready]:[3,2];case 1:ke.sent(),ke.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,imagesReady(Be)]:[3,4];case 3:ke.sent(),ke.label=4;case 4:return typeof Ie=="function"?[2,Promise.resolve().then(function(){return Ie(Be,Ue)}).then(function(){return xe})]:[2,xe]}})})});return Be.open(),Be.write(serializeDoctype(document.doctype)+"<html></html>"),restoreOwnerScroll(this.referenceElement.ownerDocument,Ce,Se),Be.replaceChild(Be.adoptNode(this.documentElement),Be.documentElement),Be.close(),Fe},Ee.prototype.createElementClone=function(t){if(isDebugging(t,2))debugger;if(isCanvasElement(t))return this.createCanvasClone(t);if(isVideoElement(t))return this.createVideoClone(t);if(isStyleElement(t))return this.createStyleClone(t);var Ae=t.cloneNode(!1);return isImageElement(Ae)&&(isImageElement(t)&&t.currentSrc&&t.currentSrc!==t.src&&(Ae.src=t.currentSrc,Ae.srcset=""),Ae.loading==="lazy"&&(Ae.loading="eager")),isCustomElement(Ae)?this.createCustomElementClone(Ae):Ae},Ee.prototype.createCustomElementClone=function(t){var Ae=document.createElement("html2canvascustomelement");return copyCSSStyles(t.style,Ae),Ae},Ee.prototype.createStyleClone=function(t){try{var Ae=t.sheet;if(Ae&&Ae.cssRules){var _e=[].slice.call(Ae.cssRules,0).reduce(function(Ce,Se){return Se&&typeof Se.cssText=="string"?Ce+Se.cssText:Ce},""),xe=t.cloneNode(!1);return xe.textContent=_e,xe}}catch(Ce){if(this.context.logger.error("Unable to access cssRules property",Ce),Ce.name!=="SecurityError")throw Ce}return t.cloneNode(!1)},Ee.prototype.createCanvasClone=function(t){var Ae;if(this.options.inlineImages&&t.ownerDocument){var _e=t.ownerDocument.createElement("img");try{return _e.src=t.toDataURL(),_e}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var xe=t.cloneNode(!1);try{xe.width=t.width,xe.height=t.height;var Ce=t.getContext("2d"),Se=xe.getContext("2d");if(Se)if(!this.options.allowTaint&&Ce)Se.putImageData(Ce.getImageData(0,0,t.width,t.height),0,0);else{var Re=(Ae=t.getContext("webgl2"))!==null&&Ae!==void 0?Ae:t.getContext("webgl");if(Re){var Be=Re.getContextAttributes();(Be==null?void 0:Be.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}Se.drawImage(t,0,0)}return xe}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return xe},Ee.prototype.createVideoClone=function(t){var Ae=t.ownerDocument.createElement("canvas");Ae.width=t.offsetWidth,Ae.height=t.offsetHeight;var _e=Ae.getContext("2d");try{return _e&&(_e.drawImage(t,0,0,Ae.width,Ae.height),this.options.allowTaint||_e.getImageData(0,0,Ae.width,Ae.height)),Ae}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var xe=t.ownerDocument.createElement("canvas");return xe.width=t.offsetWidth,xe.height=t.offsetHeight,xe},Ee.prototype.appendChildNode=function(t,Ae,_e){(!isElementNode(Ae)||!isScriptElement(Ae)&&!Ae.hasAttribute(IGNORE_ATTRIBUTE)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(Ae)))&&(!this.options.copyStyles||!isElementNode(Ae)||!isStyleElement(Ae))&&t.appendChild(this.cloneNode(Ae,_e))},Ee.prototype.cloneChildNodes=function(t,Ae,_e){for(var xe=this,Ce=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;Ce;Ce=Ce.nextSibling)if(isElementNode(Ce)&&isSlotElement(Ce)&&typeof Ce.assignedNodes=="function"){var Se=Ce.assignedNodes();Se.length&&Se.forEach(function(Re){return xe.appendChildNode(Ae,Re,_e)})}else this.appendChildNode(Ae,Ce,_e)},Ee.prototype.cloneNode=function(t,Ae){if(isTextNode(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var _e=t.ownerDocument.defaultView;if(_e&&isElementNode(t)&&(isHTMLElementNode(t)||isSVGElementNode(t))){var xe=this.createElementClone(t);xe.style.transitionProperty="none";var Ce=_e.getComputedStyle(t),Se=_e.getComputedStyle(t,":before"),Re=_e.getComputedStyle(t,":after");this.referenceElement===t&&isHTMLElementNode(xe)&&(this.clonedReferenceElement=xe),isBodyElement(xe)&&createPseudoHideStyles(xe);var Be=this.counters.parse(new CSSParsedCounterDeclaration(this.context,Ce)),Fe=this.resolvePseudoContent(t,xe,Se,PseudoElementType.BEFORE);isCustomElement(t)&&(Ae=!0),isVideoElement(t)||this.cloneChildNodes(t,xe,Ae),Fe&&xe.insertBefore(Fe,xe.firstChild);var Ie=this.resolvePseudoContent(t,xe,Re,PseudoElementType.AFTER);return Ie&&xe.appendChild(Ie),this.counters.pop(Be),(Ce&&(this.options.copyStyles||isSVGElementNode(t))&&!isIFrameElement(t)||Ae)&&copyCSSStyles(Ce,xe),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([xe,t.scrollLeft,t.scrollTop]),(isTextareaElement(t)||isSelectElement(t))&&(isTextareaElement(xe)||isSelectElement(xe))&&(xe.value=t.value),xe}return t.cloneNode(!1)},Ee.prototype.resolvePseudoContent=function(t,Ae,_e,xe){var Ce=this;if(_e){var Se=_e.content,Re=Ae.ownerDocument;if(!(!Re||!Se||Se==="none"||Se==="-moz-alt-content"||_e.display==="none")){this.counters.parse(new CSSParsedCounterDeclaration(this.context,_e));var Be=new CSSParsedPseudoDeclaration(this.context,_e),Fe=Re.createElement("html2canvaspseudoelement");copyCSSStyles(_e,Fe),Be.content.forEach(function(Ue){if(Ue.type===0)Fe.appendChild(Re.createTextNode(Ue.value));else if(Ue.type===22){var ke=Re.createElement("img");ke.src=Ue.value,ke.style.opacity="1",Fe.appendChild(ke)}else if(Ue.type===18){if(Ue.name==="attr"){var Oe=Ue.values.filter(isIdentToken);Oe.length&&Fe.appendChild(Re.createTextNode(t.getAttribute(Oe[0].value)||""))}else if(Ue.name==="counter"){var je=Ue.values.filter(nonFunctionArgSeparator),Ke=je[0],ze=je[1];if(Ke&&isIdentToken(Ke)){var Ve=Ce.counters.getCounterValue(Ke.value),Xe=ze&&isIdentToken(ze)?listStyleType.parse(Ce.context,ze.value):3;Fe.appendChild(Re.createTextNode(createCounterText(Ve,Xe,!1)))}}else if(Ue.name==="counters"){var ir=Ue.values.filter(nonFunctionArgSeparator),Ke=ir[0],sr=ir[1],ze=ir[2];if(Ke&&isIdentToken(Ke)){var rr=Ce.counters.getCounterValues(Ke.value),nr=ze&&isIdentToken(ze)?listStyleType.parse(Ce.context,ze.value):3,We=sr&&sr.type===0?sr.value:"",Ge=rr.map(function(He){return createCounterText(He,nr,!1)}).join(We);Fe.appendChild(Re.createTextNode(Ge))}}}else if(Ue.type===20)switch(Ue.value){case"open-quote":Fe.appendChild(Re.createTextNode(getQuote(Be.quotes,Ce.quoteDepth++,!0)));break;case"close-quote":Fe.appendChild(Re.createTextNode(getQuote(Be.quotes,--Ce.quoteDepth,!1)));break;default:Fe.appendChild(Re.createTextNode(Ue.value))}}),Fe.className=PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;var Ie=xe===PseudoElementType.BEFORE?" "+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE:" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;return isSVGElementNode(Ae)?Ae.className.baseValue+=Ie:Ae.className+=Ie,Fe}}},Ee.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},Ee}(),PseudoElementType;(function(Ee){Ee[Ee.BEFORE=0]="BEFORE",Ee[Ee.AFTER=1]="AFTER"})(PseudoElementType||(PseudoElementType={}));var createIFrameContainer=function(Ee,t){var Ae=Ee.createElement("iframe");return Ae.className="html2canvas-container",Ae.style.visibility="hidden",Ae.style.position="fixed",Ae.style.left="-10000px",Ae.style.top="0px",Ae.style.border="0",Ae.width=t.width.toString(),Ae.height=t.height.toString(),Ae.scrolling="no",Ae.setAttribute(IGNORE_ATTRIBUTE,"true"),Ee.body.appendChild(Ae),Ae},imageReady=function(Ee){return new Promise(function(t){if(Ee.complete){t();return}if(!Ee.src){t();return}Ee.onload=t,Ee.onerror=t})},imagesReady=function(Ee){return Promise.all([].slice.call(Ee.images,0).map(imageReady))},iframeLoader=function(Ee){return new Promise(function(t,Ae){var _e=Ee.contentWindow;if(!_e)return Ae("No window assigned for iframe");var xe=_e.document;_e.onload=Ee.onload=function(){_e.onload=Ee.onload=null;var Ce=setInterval(function(){xe.body.childNodes.length>0&&xe.readyState==="complete"&&(clearInterval(Ce),t(Ee))},50)}})},ignoredStyleProperties=["all","d","content"],copyCSSStyles=function(Ee,t){for(var Ae=Ee.length-1;Ae>=0;Ae--){var _e=Ee.item(Ae);ignoredStyleProperties.indexOf(_e)===-1&&t.style.setProperty(_e,Ee.getPropertyValue(_e))}return t},serializeDoctype=function(Ee){var t="";return Ee&&(t+="<!DOCTYPE ",Ee.name&&(t+=Ee.name),Ee.internalSubset&&(t+=Ee.internalSubset),Ee.publicId&&(t+='"'+Ee.publicId+'"'),Ee.systemId&&(t+='"'+Ee.systemId+'"'),t+=">"),t},restoreOwnerScroll=function(Ee,t,Ae){Ee&&Ee.defaultView&&(t!==Ee.defaultView.pageXOffset||Ae!==Ee.defaultView.pageYOffset)&&Ee.defaultView.scrollTo(t,Ae)},restoreNodeScroll=function(Ee){var t=Ee[0],Ae=Ee[1],_e=Ee[2];t.scrollLeft=Ae,t.scrollTop=_e},PSEUDO_BEFORE=":before",PSEUDO_AFTER=":after",PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",PSEUDO_HIDE_ELEMENT_STYLE=`{
    content: "" !important;
    display: none !important;
}`,createPseudoHideStyles=function(Ee){createStyles(Ee,"."+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+PSEUDO_BEFORE+PSEUDO_HIDE_ELEMENT_STYLE+`
         .`+PSEUDO_HIDE_ELEMENT_CLASS_AFTER+PSEUDO_AFTER+PSEUDO_HIDE_ELEMENT_STYLE)},createStyles=function(Ee,t){var Ae=Ee.ownerDocument;if(Ae){var _e=Ae.createElement("style");_e.textContent=t,Ee.appendChild(_e)}},CacheStorage=function(){function Ee(){}return Ee.getOrigin=function(t){var Ae=Ee._link;return Ae?(Ae.href=t,Ae.href=Ae.href,Ae.protocol+Ae.hostname+Ae.port):"about:blank"},Ee.isSameOrigin=function(t){return Ee.getOrigin(t)===Ee._origin},Ee.setContext=function(t){Ee._link=t.document.createElement("a"),Ee._origin=Ee.getOrigin(t.location.href)},Ee._origin="about:blank",Ee}(),Cache$1=function(){function Ee(t,Ae){this.context=t,this._options=Ae,this._cache={}}return Ee.prototype.addImage=function(t){var Ae=Promise.resolve();return this.has(t)||(isBlobImage(t)||isRenderable(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),Ae},Ee.prototype.match=function(t){return this._cache[t]},Ee.prototype.loadImage=function(t){return __awaiter$2(this,void 0,void 0,function(){var Ae,_e,xe,Ce,Se=this;return __generator$1(this,function(Re){switch(Re.label){case 0:return Ae=CacheStorage.isSameOrigin(t),_e=!isInlineImage(t)&&this._options.useCORS===!0&&FEATURES.SUPPORT_CORS_IMAGES&&!Ae,xe=!isInlineImage(t)&&!Ae&&!isBlobImage(t)&&typeof this._options.proxy=="string"&&FEATURES.SUPPORT_CORS_XHR&&!_e,!Ae&&this._options.allowTaint===!1&&!isInlineImage(t)&&!isBlobImage(t)&&!xe&&!_e?[2]:(Ce=t,xe?[4,this.proxy(Ce)]:[3,2]);case 1:Ce=Re.sent(),Re.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(Be,Fe){var Ie=new Image;Ie.onload=function(){return Be(Ie)},Ie.onerror=Fe,(isInlineBase64Image(Ce)||_e)&&(Ie.crossOrigin="anonymous"),Ie.src=Ce,Ie.complete===!0&&setTimeout(function(){return Be(Ie)},500),Se._options.imageTimeout>0&&setTimeout(function(){return Fe("Timed out ("+Se._options.imageTimeout+"ms) loading image")},Se._options.imageTimeout)})];case 3:return[2,Re.sent()]}})})},Ee.prototype.has=function(t){return typeof this._cache[t]<"u"},Ee.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},Ee.prototype.proxy=function(t){var Ae=this,_e=this._options.proxy;if(!_e)throw new Error("No proxy defined");var xe=t.substring(0,256);return new Promise(function(Ce,Se){var Re=FEATURES.SUPPORT_RESPONSE_TYPE?"blob":"text",Be=new XMLHttpRequest;Be.onload=function(){if(Be.status===200)if(Re==="text")Ce(Be.response);else{var Ue=new FileReader;Ue.addEventListener("load",function(){return Ce(Ue.result)},!1),Ue.addEventListener("error",function(ke){return Se(ke)},!1),Ue.readAsDataURL(Be.response)}else Se("Failed to proxy resource "+xe+" with status code "+Be.status)},Be.onerror=Se;var Fe=_e.indexOf("?")>-1?"&":"?";if(Be.open("GET",""+_e+Fe+"url="+encodeURIComponent(t)+"&responseType="+Re),Re!=="text"&&Be instanceof XMLHttpRequest&&(Be.responseType=Re),Ae._options.imageTimeout){var Ie=Ae._options.imageTimeout;Be.timeout=Ie,Be.ontimeout=function(){return Se("Timed out ("+Ie+"ms) proxying "+xe)}}Be.send()})},Ee}(),INLINE_SVG=/^data:image\/svg\+xml/i,INLINE_BASE64=/^data:image\/.*;base64,/i,INLINE_IMG=/^data:image\/.*/i,isRenderable=function(Ee){return FEATURES.SUPPORT_SVG_DRAWING||!isSVG(Ee)},isInlineImage=function(Ee){return INLINE_IMG.test(Ee)},isInlineBase64Image=function(Ee){return INLINE_BASE64.test(Ee)},isBlobImage=function(Ee){return Ee.substr(0,4)==="blob"},isSVG=function(Ee){return Ee.substr(-3).toLowerCase()==="svg"||INLINE_SVG.test(Ee)},Vector=function(){function Ee(t,Ae){this.type=0,this.x=t,this.y=Ae}return Ee.prototype.add=function(t,Ae){return new Ee(this.x+t,this.y+Ae)},Ee}(),lerp=function(Ee,t,Ae){return new Vector(Ee.x+(t.x-Ee.x)*Ae,Ee.y+(t.y-Ee.y)*Ae)},BezierCurve=function(){function Ee(t,Ae,_e,xe){this.type=1,this.start=t,this.startControl=Ae,this.endControl=_e,this.end=xe}return Ee.prototype.subdivide=function(t,Ae){var _e=lerp(this.start,this.startControl,t),xe=lerp(this.startControl,this.endControl,t),Ce=lerp(this.endControl,this.end,t),Se=lerp(_e,xe,t),Re=lerp(xe,Ce,t),Be=lerp(Se,Re,t);return Ae?new Ee(this.start,_e,Se,Be):new Ee(Be,Re,Ce,this.end)},Ee.prototype.add=function(t,Ae){return new Ee(this.start.add(t,Ae),this.startControl.add(t,Ae),this.endControl.add(t,Ae),this.end.add(t,Ae))},Ee.prototype.reverse=function(){return new Ee(this.end,this.endControl,this.startControl,this.start)},Ee}(),isBezierCurve=function(Ee){return Ee.type===1},BoundCurves=function(){function Ee(t){var Ae=t.styles,_e=t.bounds,xe=getAbsoluteValueForTuple(Ae.borderTopLeftRadius,_e.width,_e.height),Ce=xe[0],Se=xe[1],Re=getAbsoluteValueForTuple(Ae.borderTopRightRadius,_e.width,_e.height),Be=Re[0],Fe=Re[1],Ie=getAbsoluteValueForTuple(Ae.borderBottomRightRadius,_e.width,_e.height),Ue=Ie[0],ke=Ie[1],Oe=getAbsoluteValueForTuple(Ae.borderBottomLeftRadius,_e.width,_e.height),je=Oe[0],Ke=Oe[1],ze=[];ze.push((Ce+Be)/_e.width),ze.push((je+Ue)/_e.width),ze.push((Se+Ke)/_e.height),ze.push((Fe+ke)/_e.height);var Ve=Math.max.apply(Math,ze);Ve>1&&(Ce/=Ve,Se/=Ve,Be/=Ve,Fe/=Ve,Ue/=Ve,ke/=Ve,je/=Ve,Ke/=Ve);var Xe=_e.width-Be,ir=_e.height-ke,sr=_e.width-Ue,rr=_e.height-Ke,nr=Ae.borderTopWidth,We=Ae.borderRightWidth,Ge=Ae.borderBottomWidth,Ze=Ae.borderLeftWidth,or=getAbsoluteValue(Ae.paddingTop,t.bounds.width),He=getAbsoluteValue(Ae.paddingRight,t.bounds.width),Je=getAbsoluteValue(Ae.paddingBottom,t.bounds.width),$e=getAbsoluteValue(Ae.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=Ce>0||Se>0?getCurvePoints(_e.left+Ze/3,_e.top+nr/3,Ce-Ze/3,Se-nr/3,CORNER.TOP_LEFT):new Vector(_e.left+Ze/3,_e.top+nr/3),this.topRightBorderDoubleOuterBox=Ce>0||Se>0?getCurvePoints(_e.left+Xe,_e.top+nr/3,Be-We/3,Fe-nr/3,CORNER.TOP_RIGHT):new Vector(_e.left+_e.width-We/3,_e.top+nr/3),this.bottomRightBorderDoubleOuterBox=Ue>0||ke>0?getCurvePoints(_e.left+sr,_e.top+ir,Ue-We/3,ke-Ge/3,CORNER.BOTTOM_RIGHT):new Vector(_e.left+_e.width-We/3,_e.top+_e.height-Ge/3),this.bottomLeftBorderDoubleOuterBox=je>0||Ke>0?getCurvePoints(_e.left+Ze/3,_e.top+rr,je-Ze/3,Ke-Ge/3,CORNER.BOTTOM_LEFT):new Vector(_e.left+Ze/3,_e.top+_e.height-Ge/3),this.topLeftBorderDoubleInnerBox=Ce>0||Se>0?getCurvePoints(_e.left+Ze*2/3,_e.top+nr*2/3,Ce-Ze*2/3,Se-nr*2/3,CORNER.TOP_LEFT):new Vector(_e.left+Ze*2/3,_e.top+nr*2/3),this.topRightBorderDoubleInnerBox=Ce>0||Se>0?getCurvePoints(_e.left+Xe,_e.top+nr*2/3,Be-We*2/3,Fe-nr*2/3,CORNER.TOP_RIGHT):new Vector(_e.left+_e.width-We*2/3,_e.top+nr*2/3),this.bottomRightBorderDoubleInnerBox=Ue>0||ke>0?getCurvePoints(_e.left+sr,_e.top+ir,Ue-We*2/3,ke-Ge*2/3,CORNER.BOTTOM_RIGHT):new Vector(_e.left+_e.width-We*2/3,_e.top+_e.height-Ge*2/3),this.bottomLeftBorderDoubleInnerBox=je>0||Ke>0?getCurvePoints(_e.left+Ze*2/3,_e.top+rr,je-Ze*2/3,Ke-Ge*2/3,CORNER.BOTTOM_LEFT):new Vector(_e.left+Ze*2/3,_e.top+_e.height-Ge*2/3),this.topLeftBorderStroke=Ce>0||Se>0?getCurvePoints(_e.left+Ze/2,_e.top+nr/2,Ce-Ze/2,Se-nr/2,CORNER.TOP_LEFT):new Vector(_e.left+Ze/2,_e.top+nr/2),this.topRightBorderStroke=Ce>0||Se>0?getCurvePoints(_e.left+Xe,_e.top+nr/2,Be-We/2,Fe-nr/2,CORNER.TOP_RIGHT):new Vector(_e.left+_e.width-We/2,_e.top+nr/2),this.bottomRightBorderStroke=Ue>0||ke>0?getCurvePoints(_e.left+sr,_e.top+ir,Ue-We/2,ke-Ge/2,CORNER.BOTTOM_RIGHT):new Vector(_e.left+_e.width-We/2,_e.top+_e.height-Ge/2),this.bottomLeftBorderStroke=je>0||Ke>0?getCurvePoints(_e.left+Ze/2,_e.top+rr,je-Ze/2,Ke-Ge/2,CORNER.BOTTOM_LEFT):new Vector(_e.left+Ze/2,_e.top+_e.height-Ge/2),this.topLeftBorderBox=Ce>0||Se>0?getCurvePoints(_e.left,_e.top,Ce,Se,CORNER.TOP_LEFT):new Vector(_e.left,_e.top),this.topRightBorderBox=Be>0||Fe>0?getCurvePoints(_e.left+Xe,_e.top,Be,Fe,CORNER.TOP_RIGHT):new Vector(_e.left+_e.width,_e.top),this.bottomRightBorderBox=Ue>0||ke>0?getCurvePoints(_e.left+sr,_e.top+ir,Ue,ke,CORNER.BOTTOM_RIGHT):new Vector(_e.left+_e.width,_e.top+_e.height),this.bottomLeftBorderBox=je>0||Ke>0?getCurvePoints(_e.left,_e.top+rr,je,Ke,CORNER.BOTTOM_LEFT):new Vector(_e.left,_e.top+_e.height),this.topLeftPaddingBox=Ce>0||Se>0?getCurvePoints(_e.left+Ze,_e.top+nr,Math.max(0,Ce-Ze),Math.max(0,Se-nr),CORNER.TOP_LEFT):new Vector(_e.left+Ze,_e.top+nr),this.topRightPaddingBox=Be>0||Fe>0?getCurvePoints(_e.left+Math.min(Xe,_e.width-We),_e.top+nr,Xe>_e.width+We?0:Math.max(0,Be-We),Math.max(0,Fe-nr),CORNER.TOP_RIGHT):new Vector(_e.left+_e.width-We,_e.top+nr),this.bottomRightPaddingBox=Ue>0||ke>0?getCurvePoints(_e.left+Math.min(sr,_e.width-Ze),_e.top+Math.min(ir,_e.height-Ge),Math.max(0,Ue-We),Math.max(0,ke-Ge),CORNER.BOTTOM_RIGHT):new Vector(_e.left+_e.width-We,_e.top+_e.height-Ge),this.bottomLeftPaddingBox=je>0||Ke>0?getCurvePoints(_e.left+Ze,_e.top+Math.min(rr,_e.height-Ge),Math.max(0,je-Ze),Math.max(0,Ke-Ge),CORNER.BOTTOM_LEFT):new Vector(_e.left+Ze,_e.top+_e.height-Ge),this.topLeftContentBox=Ce>0||Se>0?getCurvePoints(_e.left+Ze+$e,_e.top+nr+or,Math.max(0,Ce-(Ze+$e)),Math.max(0,Se-(nr+or)),CORNER.TOP_LEFT):new Vector(_e.left+Ze+$e,_e.top+nr+or),this.topRightContentBox=Be>0||Fe>0?getCurvePoints(_e.left+Math.min(Xe,_e.width+Ze+$e),_e.top+nr+or,Xe>_e.width+Ze+$e?0:Be-Ze+$e,Fe-(nr+or),CORNER.TOP_RIGHT):new Vector(_e.left+_e.width-(We+He),_e.top+nr+or),this.bottomRightContentBox=Ue>0||ke>0?getCurvePoints(_e.left+Math.min(sr,_e.width-(Ze+$e)),_e.top+Math.min(ir,_e.height+nr+or),Math.max(0,Ue-(We+He)),ke-(Ge+Je),CORNER.BOTTOM_RIGHT):new Vector(_e.left+_e.width-(We+He),_e.top+_e.height-(Ge+Je)),this.bottomLeftContentBox=je>0||Ke>0?getCurvePoints(_e.left+Ze+$e,_e.top+rr,Math.max(0,je-(Ze+$e)),Ke-(Ge+Je),CORNER.BOTTOM_LEFT):new Vector(_e.left+Ze+$e,_e.top+_e.height-(Ge+Je))}return Ee}(),CORNER;(function(Ee){Ee[Ee.TOP_LEFT=0]="TOP_LEFT",Ee[Ee.TOP_RIGHT=1]="TOP_RIGHT",Ee[Ee.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",Ee[Ee.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(CORNER||(CORNER={}));var getCurvePoints=function(Ee,t,Ae,_e,xe){var Ce=4*((Math.sqrt(2)-1)/3),Se=Ae*Ce,Re=_e*Ce,Be=Ee+Ae,Fe=t+_e;switch(xe){case CORNER.TOP_LEFT:return new BezierCurve(new Vector(Ee,Fe),new Vector(Ee,Fe-Re),new Vector(Be-Se,t),new Vector(Be,t));case CORNER.TOP_RIGHT:return new BezierCurve(new Vector(Ee,t),new Vector(Ee+Se,t),new Vector(Be,Fe-Re),new Vector(Be,Fe));case CORNER.BOTTOM_RIGHT:return new BezierCurve(new Vector(Be,t),new Vector(Be,t+Re),new Vector(Ee+Se,Fe),new Vector(Ee,Fe));case CORNER.BOTTOM_LEFT:default:return new BezierCurve(new Vector(Be,Fe),new Vector(Be-Se,Fe),new Vector(Ee,t+Re),new Vector(Ee,t))}},calculateBorderBoxPath=function(Ee){return[Ee.topLeftBorderBox,Ee.topRightBorderBox,Ee.bottomRightBorderBox,Ee.bottomLeftBorderBox]},calculateContentBoxPath=function(Ee){return[Ee.topLeftContentBox,Ee.topRightContentBox,Ee.bottomRightContentBox,Ee.bottomLeftContentBox]},calculatePaddingBoxPath=function(Ee){return[Ee.topLeftPaddingBox,Ee.topRightPaddingBox,Ee.bottomRightPaddingBox,Ee.bottomLeftPaddingBox]},TransformEffect=function(){function Ee(t,Ae,_e){this.offsetX=t,this.offsetY=Ae,this.matrix=_e,this.type=0,this.target=6}return Ee}(),ClipEffect=function(){function Ee(t,Ae){this.path=t,this.target=Ae,this.type=1}return Ee}(),OpacityEffect=function(){function Ee(t){this.opacity=t,this.type=2,this.target=6}return Ee}(),isTransformEffect=function(Ee){return Ee.type===0},isClipEffect=function(Ee){return Ee.type===1},isOpacityEffect=function(Ee){return Ee.type===2},equalPath=function(Ee,t){return Ee.length===t.length?Ee.some(function(Ae,_e){return Ae===t[_e]}):!1},transformPath=function(Ee,t,Ae,_e,xe){return Ee.map(function(Ce,Se){switch(Se){case 0:return Ce.add(t,Ae);case 1:return Ce.add(t+_e,Ae);case 2:return Ce.add(t+_e,Ae+xe);case 3:return Ce.add(t,Ae+xe)}return Ce})},StackingContext=function(){function Ee(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return Ee}(),ElementPaint=function(){function Ee(t,Ae){if(this.container=t,this.parent=Ae,this.effects=[],this.curves=new BoundCurves(this.container),this.container.styles.opacity<1&&this.effects.push(new OpacityEffect(this.container.styles.opacity)),this.container.styles.transform!==null){var _e=this.container.bounds.left+this.container.styles.transformOrigin[0].number,xe=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Ce=this.container.styles.transform;this.effects.push(new TransformEffect(_e,xe,Ce))}if(this.container.styles.overflowX!==0){var Se=calculateBorderBoxPath(this.curves),Re=calculatePaddingBoxPath(this.curves);equalPath(Se,Re)?this.effects.push(new ClipEffect(Se,6)):(this.effects.push(new ClipEffect(Se,2)),this.effects.push(new ClipEffect(Re,4)))}}return Ee.prototype.getEffects=function(t){for(var Ae=[2,3].indexOf(this.container.styles.position)===-1,_e=this.parent,xe=this.effects.slice(0);_e;){var Ce=_e.effects.filter(function(Be){return!isClipEffect(Be)});if(Ae||_e.container.styles.position!==0||!_e.parent){if(xe.unshift.apply(xe,Ce),Ae=[2,3].indexOf(_e.container.styles.position)===-1,_e.container.styles.overflowX!==0){var Se=calculateBorderBoxPath(_e.curves),Re=calculatePaddingBoxPath(_e.curves);equalPath(Se,Re)||xe.unshift(new ClipEffect(Re,6))}}else xe.unshift.apply(xe,Ce);_e=_e.parent}return xe.filter(function(Be){return contains(Be.target,t)})},Ee}(),parseStackTree=function(Ee,t,Ae,_e){Ee.container.elements.forEach(function(xe){var Ce=contains(xe.flags,4),Se=contains(xe.flags,2),Re=new ElementPaint(xe,Ee);contains(xe.styles.display,2048)&&_e.push(Re);var Be=contains(xe.flags,8)?[]:_e;if(Ce||Se){var Fe=Ce||xe.styles.isPositioned()?Ae:t,Ie=new StackingContext(Re);if(xe.styles.isPositioned()||xe.styles.opacity<1||xe.styles.isTransformed()){var Ue=xe.styles.zIndex.order;if(Ue<0){var ke=0;Fe.negativeZIndex.some(function(je,Ke){return Ue>je.element.container.styles.zIndex.order?(ke=Ke,!1):ke>0}),Fe.negativeZIndex.splice(ke,0,Ie)}else if(Ue>0){var Oe=0;Fe.positiveZIndex.some(function(je,Ke){return Ue>=je.element.container.styles.zIndex.order?(Oe=Ke+1,!1):Oe>0}),Fe.positiveZIndex.splice(Oe,0,Ie)}else Fe.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ie)}else xe.styles.isFloating()?Fe.nonPositionedFloats.push(Ie):Fe.nonPositionedInlineLevel.push(Ie);parseStackTree(Re,Ie,Ce?Ie:Ae,Be)}else xe.styles.isInlineLevel()?t.inlineLevel.push(Re):t.nonInlineLevel.push(Re),parseStackTree(Re,t,Ae,Be);contains(xe.flags,8)&&processListItems(xe,Be)})},processListItems=function(Ee,t){for(var Ae=Ee instanceof OLElementContainer?Ee.start:1,_e=Ee instanceof OLElementContainer?Ee.reversed:!1,xe=0;xe<t.length;xe++){var Ce=t[xe];Ce.container instanceof LIElementContainer&&typeof Ce.container.value=="number"&&Ce.container.value!==0&&(Ae=Ce.container.value),Ce.listValue=createCounterText(Ae,Ce.container.styles.listStyleType,!0),Ae+=_e?-1:1}},parseStackingContexts=function(Ee){var t=new ElementPaint(Ee,null),Ae=new StackingContext(t),_e=[];return parseStackTree(t,Ae,Ae,_e),processListItems(t.container,_e),Ae},parsePathForBorder=function(Ee,t){switch(t){case 0:return createPathFromCurves(Ee.topLeftBorderBox,Ee.topLeftPaddingBox,Ee.topRightBorderBox,Ee.topRightPaddingBox);case 1:return createPathFromCurves(Ee.topRightBorderBox,Ee.topRightPaddingBox,Ee.bottomRightBorderBox,Ee.bottomRightPaddingBox);case 2:return createPathFromCurves(Ee.bottomRightBorderBox,Ee.bottomRightPaddingBox,Ee.bottomLeftBorderBox,Ee.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(Ee.bottomLeftBorderBox,Ee.bottomLeftPaddingBox,Ee.topLeftBorderBox,Ee.topLeftPaddingBox)}},parsePathForBorderDoubleOuter=function(Ee,t){switch(t){case 0:return createPathFromCurves(Ee.topLeftBorderBox,Ee.topLeftBorderDoubleOuterBox,Ee.topRightBorderBox,Ee.topRightBorderDoubleOuterBox);case 1:return createPathFromCurves(Ee.topRightBorderBox,Ee.topRightBorderDoubleOuterBox,Ee.bottomRightBorderBox,Ee.bottomRightBorderDoubleOuterBox);case 2:return createPathFromCurves(Ee.bottomRightBorderBox,Ee.bottomRightBorderDoubleOuterBox,Ee.bottomLeftBorderBox,Ee.bottomLeftBorderDoubleOuterBox);case 3:default:return createPathFromCurves(Ee.bottomLeftBorderBox,Ee.bottomLeftBorderDoubleOuterBox,Ee.topLeftBorderBox,Ee.topLeftBorderDoubleOuterBox)}},parsePathForBorderDoubleInner=function(Ee,t){switch(t){case 0:return createPathFromCurves(Ee.topLeftBorderDoubleInnerBox,Ee.topLeftPaddingBox,Ee.topRightBorderDoubleInnerBox,Ee.topRightPaddingBox);case 1:return createPathFromCurves(Ee.topRightBorderDoubleInnerBox,Ee.topRightPaddingBox,Ee.bottomRightBorderDoubleInnerBox,Ee.bottomRightPaddingBox);case 2:return createPathFromCurves(Ee.bottomRightBorderDoubleInnerBox,Ee.bottomRightPaddingBox,Ee.bottomLeftBorderDoubleInnerBox,Ee.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(Ee.bottomLeftBorderDoubleInnerBox,Ee.bottomLeftPaddingBox,Ee.topLeftBorderDoubleInnerBox,Ee.topLeftPaddingBox)}},parsePathForBorderStroke=function(Ee,t){switch(t){case 0:return createStrokePathFromCurves(Ee.topLeftBorderStroke,Ee.topRightBorderStroke);case 1:return createStrokePathFromCurves(Ee.topRightBorderStroke,Ee.bottomRightBorderStroke);case 2:return createStrokePathFromCurves(Ee.bottomRightBorderStroke,Ee.bottomLeftBorderStroke);case 3:default:return createStrokePathFromCurves(Ee.bottomLeftBorderStroke,Ee.topLeftBorderStroke)}},createStrokePathFromCurves=function(Ee,t){var Ae=[];return isBezierCurve(Ee)?Ae.push(Ee.subdivide(.5,!1)):Ae.push(Ee),isBezierCurve(t)?Ae.push(t.subdivide(.5,!0)):Ae.push(t),Ae},createPathFromCurves=function(Ee,t,Ae,_e){var xe=[];return isBezierCurve(Ee)?xe.push(Ee.subdivide(.5,!1)):xe.push(Ee),isBezierCurve(Ae)?xe.push(Ae.subdivide(.5,!0)):xe.push(Ae),isBezierCurve(_e)?xe.push(_e.subdivide(.5,!0).reverse()):xe.push(_e),isBezierCurve(t)?xe.push(t.subdivide(.5,!1).reverse()):xe.push(t),xe},paddingBox=function(Ee){var t=Ee.bounds,Ae=Ee.styles;return t.add(Ae.borderLeftWidth,Ae.borderTopWidth,-(Ae.borderRightWidth+Ae.borderLeftWidth),-(Ae.borderTopWidth+Ae.borderBottomWidth))},contentBox=function(Ee){var t=Ee.styles,Ae=Ee.bounds,_e=getAbsoluteValue(t.paddingLeft,Ae.width),xe=getAbsoluteValue(t.paddingRight,Ae.width),Ce=getAbsoluteValue(t.paddingTop,Ae.width),Se=getAbsoluteValue(t.paddingBottom,Ae.width);return Ae.add(_e+t.borderLeftWidth,Ce+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+_e+xe),-(t.borderTopWidth+t.borderBottomWidth+Ce+Se))},calculateBackgroundPositioningArea=function(Ee,t){return Ee===0?t.bounds:Ee===2?contentBox(t):paddingBox(t)},calculateBackgroundPaintingArea=function(Ee,t){return Ee===0?t.bounds:Ee===2?contentBox(t):paddingBox(t)},calculateBackgroundRendering=function(Ee,t,Ae){var _e=calculateBackgroundPositioningArea(getBackgroundValueForIndex(Ee.styles.backgroundOrigin,t),Ee),xe=calculateBackgroundPaintingArea(getBackgroundValueForIndex(Ee.styles.backgroundClip,t),Ee),Ce=calculateBackgroundSize(getBackgroundValueForIndex(Ee.styles.backgroundSize,t),Ae,_e),Se=Ce[0],Re=Ce[1],Be=getAbsoluteValueForTuple(getBackgroundValueForIndex(Ee.styles.backgroundPosition,t),_e.width-Se,_e.height-Re),Fe=calculateBackgroundRepeatPath(getBackgroundValueForIndex(Ee.styles.backgroundRepeat,t),Be,Ce,_e,xe),Ie=Math.round(_e.left+Be[0]),Ue=Math.round(_e.top+Be[1]);return[Fe,Ie,Ue,Se,Re]},isAuto=function(Ee){return isIdentToken(Ee)&&Ee.value===BACKGROUND_SIZE.AUTO},hasIntrinsicValue=function(Ee){return typeof Ee=="number"},calculateBackgroundSize=function(Ee,t,Ae){var _e=t[0],xe=t[1],Ce=t[2],Se=Ee[0],Re=Ee[1];if(!Se)return[0,0];if(isLengthPercentage(Se)&&Re&&isLengthPercentage(Re))return[getAbsoluteValue(Se,Ae.width),getAbsoluteValue(Re,Ae.height)];var Be=hasIntrinsicValue(Ce);if(isIdentToken(Se)&&(Se.value===BACKGROUND_SIZE.CONTAIN||Se.value===BACKGROUND_SIZE.COVER)){if(hasIntrinsicValue(Ce)){var Fe=Ae.width/Ae.height;return Fe<Ce!=(Se.value===BACKGROUND_SIZE.COVER)?[Ae.width,Ae.width/Ce]:[Ae.height*Ce,Ae.height]}return[Ae.width,Ae.height]}var Ie=hasIntrinsicValue(_e),Ue=hasIntrinsicValue(xe),ke=Ie||Ue;if(isAuto(Se)&&(!Re||isAuto(Re))){if(Ie&&Ue)return[_e,xe];if(!Be&&!ke)return[Ae.width,Ae.height];if(ke&&Be){var Oe=Ie?_e:xe*Ce,je=Ue?xe:_e/Ce;return[Oe,je]}var Ke=Ie?_e:Ae.width,ze=Ue?xe:Ae.height;return[Ke,ze]}if(Be){var Ve=0,Xe=0;return isLengthPercentage(Se)?Ve=getAbsoluteValue(Se,Ae.width):isLengthPercentage(Re)&&(Xe=getAbsoluteValue(Re,Ae.height)),isAuto(Se)?Ve=Xe*Ce:(!Re||isAuto(Re))&&(Xe=Ve/Ce),[Ve,Xe]}var ir=null,sr=null;if(isLengthPercentage(Se)?ir=getAbsoluteValue(Se,Ae.width):Re&&isLengthPercentage(Re)&&(sr=getAbsoluteValue(Re,Ae.height)),ir!==null&&(!Re||isAuto(Re))&&(sr=Ie&&Ue?ir/_e*xe:Ae.height),sr!==null&&isAuto(Se)&&(ir=Ie&&Ue?sr/xe*_e:Ae.width),ir!==null&&sr!==null)return[ir,sr];throw new Error("Unable to calculate background-size for element")},getBackgroundValueForIndex=function(Ee,t){var Ae=Ee[t];return typeof Ae>"u"?Ee[0]:Ae},calculateBackgroundRepeatPath=function(Ee,t,Ae,_e,xe){var Ce=t[0],Se=t[1],Re=Ae[0],Be=Ae[1];switch(Ee){case 2:return[new Vector(Math.round(_e.left),Math.round(_e.top+Se)),new Vector(Math.round(_e.left+_e.width),Math.round(_e.top+Se)),new Vector(Math.round(_e.left+_e.width),Math.round(Be+_e.top+Se)),new Vector(Math.round(_e.left),Math.round(Be+_e.top+Se))];case 3:return[new Vector(Math.round(_e.left+Ce),Math.round(_e.top)),new Vector(Math.round(_e.left+Ce+Re),Math.round(_e.top)),new Vector(Math.round(_e.left+Ce+Re),Math.round(_e.height+_e.top)),new Vector(Math.round(_e.left+Ce),Math.round(_e.height+_e.top))];case 1:return[new Vector(Math.round(_e.left+Ce),Math.round(_e.top+Se)),new Vector(Math.round(_e.left+Ce+Re),Math.round(_e.top+Se)),new Vector(Math.round(_e.left+Ce+Re),Math.round(_e.top+Se+Be)),new Vector(Math.round(_e.left+Ce),Math.round(_e.top+Se+Be))];default:return[new Vector(Math.round(xe.left),Math.round(xe.top)),new Vector(Math.round(xe.left+xe.width),Math.round(xe.top)),new Vector(Math.round(xe.left+xe.width),Math.round(xe.height+xe.top)),new Vector(Math.round(xe.left),Math.round(xe.height+xe.top))]}},SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",SAMPLE_TEXT="Hidden Text",FontMetrics=function(){function Ee(t){this._data={},this._document=t}return Ee.prototype.parseMetrics=function(t,Ae){var _e=this._document.createElement("div"),xe=this._document.createElement("img"),Ce=this._document.createElement("span"),Se=this._document.body;_e.style.visibility="hidden",_e.style.fontFamily=t,_e.style.fontSize=Ae,_e.style.margin="0",_e.style.padding="0",_e.style.whiteSpace="nowrap",Se.appendChild(_e),xe.src=SMALL_IMAGE,xe.width=1,xe.height=1,xe.style.margin="0",xe.style.padding="0",xe.style.verticalAlign="baseline",Ce.style.fontFamily=t,Ce.style.fontSize=Ae,Ce.style.margin="0",Ce.style.padding="0",Ce.appendChild(this._document.createTextNode(SAMPLE_TEXT)),_e.appendChild(Ce),_e.appendChild(xe);var Re=xe.offsetTop-Ce.offsetTop+2;_e.removeChild(Ce),_e.appendChild(this._document.createTextNode(SAMPLE_TEXT)),_e.style.lineHeight="normal",xe.style.verticalAlign="super";var Be=xe.offsetTop-_e.offsetTop+2;return Se.removeChild(_e),{baseline:Re,middle:Be}},Ee.prototype.getMetrics=function(t,Ae){var _e=t+" "+Ae;return typeof this._data[_e]>"u"&&(this._data[_e]=this.parseMetrics(t,Ae)),this._data[_e]},Ee}(),Renderer=function(){function Ee(t,Ae){this.context=t,this.options=Ae}return Ee}(),MASK_OFFSET=1e4,CanvasRenderer=function(Ee){__extends$1(t,Ee);function t(Ae,_e){var xe=Ee.call(this,Ae,_e)||this;return xe._activeEffects=[],xe.canvas=_e.canvas?_e.canvas:document.createElement("canvas"),xe.ctx=xe.canvas.getContext("2d"),_e.canvas||(xe.canvas.width=Math.floor(_e.width*_e.scale),xe.canvas.height=Math.floor(_e.height*_e.scale),xe.canvas.style.width=_e.width+"px",xe.canvas.style.height=_e.height+"px"),xe.fontMetrics=new FontMetrics(document),xe.ctx.scale(xe.options.scale,xe.options.scale),xe.ctx.translate(-_e.x,-_e.y),xe.ctx.textBaseline="bottom",xe._activeEffects=[],xe.context.logger.debug("Canvas renderer initialized ("+_e.width+"x"+_e.height+") with scale "+_e.scale),xe}return t.prototype.applyEffects=function(Ae){for(var _e=this;this._activeEffects.length;)this.popEffect();Ae.forEach(function(xe){return _e.applyEffect(xe)})},t.prototype.applyEffect=function(Ae){this.ctx.save(),isOpacityEffect(Ae)&&(this.ctx.globalAlpha=Ae.opacity),isTransformEffect(Ae)&&(this.ctx.translate(Ae.offsetX,Ae.offsetY),this.ctx.transform(Ae.matrix[0],Ae.matrix[1],Ae.matrix[2],Ae.matrix[3],Ae.matrix[4],Ae.matrix[5]),this.ctx.translate(-Ae.offsetX,-Ae.offsetY)),isClipEffect(Ae)&&(this.path(Ae.path),this.ctx.clip()),this._activeEffects.push(Ae)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(Ae){return __awaiter$2(this,void 0,void 0,function(){var _e;return __generator$1(this,function(xe){switch(xe.label){case 0:return _e=Ae.element.container.styles,_e.isVisible()?[4,this.renderStackContent(Ae)]:[3,2];case 1:xe.sent(),xe.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(Ae){return __awaiter$2(this,void 0,void 0,function(){return __generator$1(this,function(_e){switch(_e.label){case 0:if(contains(Ae.container.flags,16))debugger;return Ae.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(Ae)]:[3,3];case 1:return _e.sent(),[4,this.renderNodeContent(Ae)];case 2:_e.sent(),_e.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(Ae,_e,xe){var Ce=this;if(_e===0)this.ctx.fillText(Ae.text,Ae.bounds.left,Ae.bounds.top+xe);else{var Se=segmentGraphemes(Ae.text);Se.reduce(function(Re,Be){return Ce.ctx.fillText(Be,Re,Ae.bounds.top+xe),Re+Ce.ctx.measureText(Be).width},Ae.bounds.left)}},t.prototype.createFontStyle=function(Ae){var _e=Ae.fontVariant.filter(function(Se){return Se==="normal"||Se==="small-caps"}).join(""),xe=fixIOSSystemFonts(Ae.fontFamily).join(", "),Ce=isDimensionToken(Ae.fontSize)?""+Ae.fontSize.number+Ae.fontSize.unit:Ae.fontSize.number+"px";return[[Ae.fontStyle,_e,Ae.fontWeight,Ce,xe].join(" "),xe,Ce]},t.prototype.renderTextNode=function(Ae,_e){return __awaiter$2(this,void 0,void 0,function(){var xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke=this;return __generator$1(this,function(Oe){return xe=this.createFontStyle(_e),Ce=xe[0],Se=xe[1],Re=xe[2],this.ctx.font=Ce,this.ctx.direction=_e.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Be=this.fontMetrics.getMetrics(Se,Re),Fe=Be.baseline,Ie=Be.middle,Ue=_e.paintOrder,Ae.textBounds.forEach(function(je){Ue.forEach(function(Ke){switch(Ke){case 0:ke.ctx.fillStyle=asString(_e.color),ke.renderTextWithLetterSpacing(je,_e.letterSpacing,Fe);var ze=_e.textShadow;ze.length&&je.text.trim().length&&(ze.slice(0).reverse().forEach(function(Ve){ke.ctx.shadowColor=asString(Ve.color),ke.ctx.shadowOffsetX=Ve.offsetX.number*ke.options.scale,ke.ctx.shadowOffsetY=Ve.offsetY.number*ke.options.scale,ke.ctx.shadowBlur=Ve.blur.number,ke.renderTextWithLetterSpacing(je,_e.letterSpacing,Fe)}),ke.ctx.shadowColor="",ke.ctx.shadowOffsetX=0,ke.ctx.shadowOffsetY=0,ke.ctx.shadowBlur=0),_e.textDecorationLine.length&&(ke.ctx.fillStyle=asString(_e.textDecorationColor||_e.color),_e.textDecorationLine.forEach(function(Ve){switch(Ve){case 1:ke.ctx.fillRect(je.bounds.left,Math.round(je.bounds.top+Fe),je.bounds.width,1);break;case 2:ke.ctx.fillRect(je.bounds.left,Math.round(je.bounds.top),je.bounds.width,1);break;case 3:ke.ctx.fillRect(je.bounds.left,Math.ceil(je.bounds.top+Ie),je.bounds.width,1);break}}));break;case 1:_e.webkitTextStrokeWidth&&je.text.trim().length&&(ke.ctx.strokeStyle=asString(_e.webkitTextStrokeColor),ke.ctx.lineWidth=_e.webkitTextStrokeWidth,ke.ctx.lineJoin=window.chrome?"miter":"round",ke.ctx.strokeText(je.text,je.bounds.left,je.bounds.top+Fe)),ke.ctx.strokeStyle="",ke.ctx.lineWidth=0,ke.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(Ae,_e,xe){if(xe&&Ae.intrinsicWidth>0&&Ae.intrinsicHeight>0){var Ce=contentBox(Ae),Se=calculatePaddingBoxPath(_e);this.path(Se),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(xe,0,0,Ae.intrinsicWidth,Ae.intrinsicHeight,Ce.left,Ce.top,Ce.width,Ce.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(Ae){return __awaiter$2(this,void 0,void 0,function(){var _e,xe,Ce,Se,Re,Be,Xe,Xe,Fe,Ie,Ue,ke,sr,Oe,je,rr,Ke,ze,Ve,Xe,ir,sr,rr;return __generator$1(this,function(nr){switch(nr.label){case 0:this.applyEffects(Ae.getEffects(4)),_e=Ae.container,xe=Ae.curves,Ce=_e.styles,Se=0,Re=_e.textNodes,nr.label=1;case 1:return Se<Re.length?(Be=Re[Se],[4,this.renderTextNode(Be,Ce)]):[3,4];case 2:nr.sent(),nr.label=3;case 3:return Se++,[3,1];case 4:if(!(_e instanceof ImageElementContainer))return[3,8];nr.label=5;case 5:return nr.trys.push([5,7,,8]),[4,this.context.cache.match(_e.src)];case 6:return Xe=nr.sent(),this.renderReplacedElement(_e,xe,Xe),[3,8];case 7:return nr.sent(),this.context.logger.error("Error loading image "+_e.src),[3,8];case 8:if(_e instanceof CanvasElementContainer&&this.renderReplacedElement(_e,xe,_e.canvas),!(_e instanceof SVGElementContainer))return[3,12];nr.label=9;case 9:return nr.trys.push([9,11,,12]),[4,this.context.cache.match(_e.svg)];case 10:return Xe=nr.sent(),this.renderReplacedElement(_e,xe,Xe),[3,12];case 11:return nr.sent(),this.context.logger.error("Error loading svg "+_e.svg.substring(0,255)),[3,12];case 12:return _e instanceof IFrameElementContainer&&_e.tree?(Fe=new t(this.context,{scale:this.options.scale,backgroundColor:_e.backgroundColor,x:0,y:0,width:_e.width,height:_e.height}),[4,Fe.render(_e.tree)]):[3,14];case 13:Ie=nr.sent(),_e.width&&_e.height&&this.ctx.drawImage(Ie,0,0,_e.width,_e.height,_e.bounds.left,_e.bounds.top,_e.bounds.width,_e.bounds.height),nr.label=14;case 14:if(_e instanceof InputElementContainer&&(Ue=Math.min(_e.bounds.width,_e.bounds.height),_e.type===CHECKBOX?_e.checked&&(this.ctx.save(),this.path([new Vector(_e.bounds.left+Ue*.39363,_e.bounds.top+Ue*.79),new Vector(_e.bounds.left+Ue*.16,_e.bounds.top+Ue*.5549),new Vector(_e.bounds.left+Ue*.27347,_e.bounds.top+Ue*.44071),new Vector(_e.bounds.left+Ue*.39694,_e.bounds.top+Ue*.5649),new Vector(_e.bounds.left+Ue*.72983,_e.bounds.top+Ue*.23),new Vector(_e.bounds.left+Ue*.84,_e.bounds.top+Ue*.34085),new Vector(_e.bounds.left+Ue*.39363,_e.bounds.top+Ue*.79)]),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore()):_e.type===RADIO&&_e.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(_e.bounds.left+Ue/2,_e.bounds.top+Ue/2,Ue/4,0,Math.PI*2,!0),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore())),isTextInputElement(_e)&&_e.value.length){switch(ke=this.createFontStyle(Ce),sr=ke[0],Oe=ke[1],je=this.fontMetrics.getMetrics(sr,Oe).baseline,this.ctx.font=sr,this.ctx.fillStyle=asString(Ce.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=canvasTextAlign(_e.styles.textAlign),rr=contentBox(_e),Ke=0,_e.styles.textAlign){case 1:Ke+=rr.width/2;break;case 2:Ke+=rr.width;break}ze=rr.add(Ke,0,0,-rr.height/2+1),this.ctx.save(),this.path([new Vector(rr.left,rr.top),new Vector(rr.left+rr.width,rr.top),new Vector(rr.left+rr.width,rr.top+rr.height),new Vector(rr.left,rr.top+rr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new TextBounds(_e.value,ze),Ce.letterSpacing,je),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!contains(_e.styles.display,2048))return[3,20];if(_e.styles.listStyleImage===null)return[3,19];if(Ve=_e.styles.listStyleImage,Ve.type!==0)return[3,18];Xe=void 0,ir=Ve.url,nr.label=15;case 15:return nr.trys.push([15,17,,18]),[4,this.context.cache.match(ir)];case 16:return Xe=nr.sent(),this.ctx.drawImage(Xe,_e.bounds.left-(Xe.width+10),_e.bounds.top),[3,18];case 17:return nr.sent(),this.context.logger.error("Error loading list-style-image "+ir),[3,18];case 18:return[3,20];case 19:Ae.listValue&&_e.styles.listStyleType!==-1&&(sr=this.createFontStyle(Ce)[0],this.ctx.font=sr,this.ctx.fillStyle=asString(Ce.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",rr=new Bounds(_e.bounds.left,_e.bounds.top+getAbsoluteValue(_e.styles.paddingTop,_e.bounds.width),_e.bounds.width,computeLineHeight(Ce.lineHeight,Ce.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new TextBounds(Ae.listValue,rr),Ce.letterSpacing,computeLineHeight(Ce.lineHeight,Ce.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),nr.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(Ae){return __awaiter$2(this,void 0,void 0,function(){var _e,xe,Ve,Ce,Se,Ve,Re,Be,Ve,Fe,Ie,Ve,Ue,ke,Ve,Oe,je,Ve,Ke,ze,Ve;return __generator$1(this,function(Xe){switch(Xe.label){case 0:if(contains(Ae.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(Ae.element)];case 1:Xe.sent(),_e=0,xe=Ae.negativeZIndex,Xe.label=2;case 2:return _e<xe.length?(Ve=xe[_e],[4,this.renderStack(Ve)]):[3,5];case 3:Xe.sent(),Xe.label=4;case 4:return _e++,[3,2];case 5:return[4,this.renderNodeContent(Ae.element)];case 6:Xe.sent(),Ce=0,Se=Ae.nonInlineLevel,Xe.label=7;case 7:return Ce<Se.length?(Ve=Se[Ce],[4,this.renderNode(Ve)]):[3,10];case 8:Xe.sent(),Xe.label=9;case 9:return Ce++,[3,7];case 10:Re=0,Be=Ae.nonPositionedFloats,Xe.label=11;case 11:return Re<Be.length?(Ve=Be[Re],[4,this.renderStack(Ve)]):[3,14];case 12:Xe.sent(),Xe.label=13;case 13:return Re++,[3,11];case 14:Fe=0,Ie=Ae.nonPositionedInlineLevel,Xe.label=15;case 15:return Fe<Ie.length?(Ve=Ie[Fe],[4,this.renderStack(Ve)]):[3,18];case 16:Xe.sent(),Xe.label=17;case 17:return Fe++,[3,15];case 18:Ue=0,ke=Ae.inlineLevel,Xe.label=19;case 19:return Ue<ke.length?(Ve=ke[Ue],[4,this.renderNode(Ve)]):[3,22];case 20:Xe.sent(),Xe.label=21;case 21:return Ue++,[3,19];case 22:Oe=0,je=Ae.zeroOrAutoZIndexOrTransformedOrOpacity,Xe.label=23;case 23:return Oe<je.length?(Ve=je[Oe],[4,this.renderStack(Ve)]):[3,26];case 24:Xe.sent(),Xe.label=25;case 25:return Oe++,[3,23];case 26:Ke=0,ze=Ae.positiveZIndex,Xe.label=27;case 27:return Ke<ze.length?(Ve=ze[Ke],[4,this.renderStack(Ve)]):[3,30];case 28:Xe.sent(),Xe.label=29;case 29:return Ke++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(Ae){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(Ae.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(Ae){this.ctx.beginPath(),this.formatPath(Ae),this.ctx.closePath()},t.prototype.formatPath=function(Ae){var _e=this;Ae.forEach(function(xe,Ce){var Se=isBezierCurve(xe)?xe.start:xe;Ce===0?_e.ctx.moveTo(Se.x,Se.y):_e.ctx.lineTo(Se.x,Se.y),isBezierCurve(xe)&&_e.ctx.bezierCurveTo(xe.startControl.x,xe.startControl.y,xe.endControl.x,xe.endControl.y,xe.end.x,xe.end.y)})},t.prototype.renderRepeat=function(Ae,_e,xe,Ce){this.path(Ae),this.ctx.fillStyle=_e,this.ctx.translate(xe,Ce),this.ctx.fill(),this.ctx.translate(-xe,-Ce)},t.prototype.resizeImage=function(Ae,_e,xe){var Ce;if(Ae.width===_e&&Ae.height===xe)return Ae;var Se=(Ce=this.canvas.ownerDocument)!==null&&Ce!==void 0?Ce:document,Re=Se.createElement("canvas");Re.width=Math.max(1,_e),Re.height=Math.max(1,xe);var Be=Re.getContext("2d");return Be.drawImage(Ae,0,0,Ae.width,Ae.height,0,0,_e,xe),Re},t.prototype.renderBackgroundImage=function(Ae){return __awaiter$2(this,void 0,void 0,function(){var _e,xe,Ce,Se,Re,Be;return __generator$1(this,function(Fe){switch(Fe.label){case 0:_e=Ae.styles.backgroundImage.length-1,xe=function(Ie){var Ue,ke,Oe,or,vr,ur,$e,mr,Ge,je,or,vr,ur,$e,mr,Ke,ze,Ve,Xe,ir,sr,rr,nr,We,Ge,Ze,or,He,Je,$e,mr,wr,vr,ur,Cr,_r,hr,Sr,ar,tr,lr,pr;return __generator$1(this,function(Er){switch(Er.label){case 0:if(Ie.type!==0)return[3,5];Ue=void 0,ke=Ie.url,Er.label=1;case 1:return Er.trys.push([1,3,,4]),[4,Ce.context.cache.match(ke)];case 2:return Ue=Er.sent(),[3,4];case 3:return Er.sent(),Ce.context.logger.error("Error loading background-image "+ke),[3,4];case 4:return Ue&&(Oe=calculateBackgroundRendering(Ae,_e,[Ue.width,Ue.height,Ue.width/Ue.height]),or=Oe[0],vr=Oe[1],ur=Oe[2],$e=Oe[3],mr=Oe[4],Ge=Ce.ctx.createPattern(Ce.resizeImage(Ue,$e,mr),"repeat"),Ce.renderRepeat(or,Ge,vr,ur)),[3,6];case 5:isLinearGradient(Ie)?(je=calculateBackgroundRendering(Ae,_e,[null,null,null]),or=je[0],vr=je[1],ur=je[2],$e=je[3],mr=je[4],Ke=calculateGradientDirection(Ie.angle,$e,mr),ze=Ke[0],Ve=Ke[1],Xe=Ke[2],ir=Ke[3],sr=Ke[4],rr=document.createElement("canvas"),rr.width=$e,rr.height=mr,nr=rr.getContext("2d"),We=nr.createLinearGradient(Ve,ir,Xe,sr),processColorStops(Ie.stops,ze).forEach(function(Rr){return We.addColorStop(Rr.stop,asString(Rr.color))}),nr.fillStyle=We,nr.fillRect(0,0,$e,mr),$e>0&&mr>0&&(Ge=Ce.ctx.createPattern(rr,"repeat"),Ce.renderRepeat(or,Ge,vr,ur))):isRadialGradient(Ie)&&(Ze=calculateBackgroundRendering(Ae,_e,[null,null,null]),or=Ze[0],He=Ze[1],Je=Ze[2],$e=Ze[3],mr=Ze[4],wr=Ie.position.length===0?[FIFTY_PERCENT]:Ie.position,vr=getAbsoluteValue(wr[0],$e),ur=getAbsoluteValue(wr[wr.length-1],mr),Cr=calculateRadius(Ie,vr,ur,$e,mr),_r=Cr[0],hr=Cr[1],_r>0&&hr>0&&(Sr=Ce.ctx.createRadialGradient(He+vr,Je+ur,0,He+vr,Je+ur,_r),processColorStops(Ie.stops,_r*2).forEach(function(Rr){return Sr.addColorStop(Rr.stop,asString(Rr.color))}),Ce.path(or),Ce.ctx.fillStyle=Sr,_r!==hr?(ar=Ae.bounds.left+.5*Ae.bounds.width,tr=Ae.bounds.top+.5*Ae.bounds.height,lr=hr/_r,pr=1/lr,Ce.ctx.save(),Ce.ctx.translate(ar,tr),Ce.ctx.transform(1,0,0,lr,0,0),Ce.ctx.translate(-ar,-tr),Ce.ctx.fillRect(He,pr*(Je-tr)+tr,$e,mr*pr),Ce.ctx.restore()):Ce.ctx.fill())),Er.label=6;case 6:return _e--,[2]}})},Ce=this,Se=0,Re=Ae.styles.backgroundImage.slice(0).reverse(),Fe.label=1;case 1:return Se<Re.length?(Be=Re[Se],[5,xe(Be)]):[3,4];case 2:Fe.sent(),Fe.label=3;case 3:return Se++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(Ae,_e,xe){return __awaiter$2(this,void 0,void 0,function(){return __generator$1(this,function(Ce){return this.path(parsePathForBorder(xe,_e)),this.ctx.fillStyle=asString(Ae),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(Ae,_e,xe,Ce){return __awaiter$2(this,void 0,void 0,function(){var Se,Re;return __generator$1(this,function(Be){switch(Be.label){case 0:return _e<3?[4,this.renderSolidBorder(Ae,xe,Ce)]:[3,2];case 1:return Be.sent(),[2];case 2:return Se=parsePathForBorderDoubleOuter(Ce,xe),this.path(Se),this.ctx.fillStyle=asString(Ae),this.ctx.fill(),Re=parsePathForBorderDoubleInner(Ce,xe),this.path(Re),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(Ae){return __awaiter$2(this,void 0,void 0,function(){var _e,xe,Ce,Se,Re,Be,Fe,Ie,Ue=this;return __generator$1(this,function(ke){switch(ke.label){case 0:return this.applyEffects(Ae.getEffects(2)),_e=Ae.container.styles,xe=!isTransparent(_e.backgroundColor)||_e.backgroundImage.length,Ce=[{style:_e.borderTopStyle,color:_e.borderTopColor,width:_e.borderTopWidth},{style:_e.borderRightStyle,color:_e.borderRightColor,width:_e.borderRightWidth},{style:_e.borderBottomStyle,color:_e.borderBottomColor,width:_e.borderBottomWidth},{style:_e.borderLeftStyle,color:_e.borderLeftColor,width:_e.borderLeftWidth}],Se=calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(_e.backgroundClip,0),Ae.curves),xe||_e.boxShadow.length?(this.ctx.save(),this.path(Se),this.ctx.clip(),isTransparent(_e.backgroundColor)||(this.ctx.fillStyle=asString(_e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(Ae.container)]):[3,2];case 1:ke.sent(),this.ctx.restore(),_e.boxShadow.slice(0).reverse().forEach(function(Oe){Ue.ctx.save();var je=calculateBorderBoxPath(Ae.curves),Ke=Oe.inset?0:MASK_OFFSET,ze=transformPath(je,-Ke+(Oe.inset?1:-1)*Oe.spread.number,(Oe.inset?1:-1)*Oe.spread.number,Oe.spread.number*(Oe.inset?-2:2),Oe.spread.number*(Oe.inset?-2:2));Oe.inset?(Ue.path(je),Ue.ctx.clip(),Ue.mask(ze)):(Ue.mask(je),Ue.ctx.clip(),Ue.path(ze)),Ue.ctx.shadowOffsetX=Oe.offsetX.number+Ke,Ue.ctx.shadowOffsetY=Oe.offsetY.number,Ue.ctx.shadowColor=asString(Oe.color),Ue.ctx.shadowBlur=Oe.blur.number,Ue.ctx.fillStyle=Oe.inset?asString(Oe.color):"rgba(0,0,0,1)",Ue.ctx.fill(),Ue.ctx.restore()}),ke.label=2;case 2:Re=0,Be=0,Fe=Ce,ke.label=3;case 3:return Be<Fe.length?(Ie=Fe[Be],Ie.style!==0&&!isTransparent(Ie.color)&&Ie.width>0?Ie.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Ie.color,Ie.width,Re,Ae.curves,2)]:[3,11]):[3,13];case 4:return ke.sent(),[3,11];case 5:return Ie.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Ie.color,Ie.width,Re,Ae.curves,3)];case 6:return ke.sent(),[3,11];case 7:return Ie.style!==4?[3,9]:[4,this.renderDoubleBorder(Ie.color,Ie.width,Re,Ae.curves)];case 8:return ke.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ie.color,Re,Ae.curves)];case 10:ke.sent(),ke.label=11;case 11:Re++,ke.label=12;case 12:return Be++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(Ae,_e,xe,Ce,Se){return __awaiter$2(this,void 0,void 0,function(){var Re,Be,Fe,Ie,Ue,ke,Oe,je,Ke,ze,Ve,Xe,ir,sr,rr,nr,rr,nr;return __generator$1(this,function(We){return this.ctx.save(),Re=parsePathForBorderStroke(Ce,xe),Be=parsePathForBorder(Ce,xe),Se===2&&(this.path(Be),this.ctx.clip()),isBezierCurve(Be[0])?(Fe=Be[0].start.x,Ie=Be[0].start.y):(Fe=Be[0].x,Ie=Be[0].y),isBezierCurve(Be[1])?(Ue=Be[1].end.x,ke=Be[1].end.y):(Ue=Be[1].x,ke=Be[1].y),xe===0||xe===2?Oe=Math.abs(Fe-Ue):Oe=Math.abs(Ie-ke),this.ctx.beginPath(),Se===3?this.formatPath(Re):this.formatPath(Be.slice(0,2)),je=_e<3?_e*3:_e*2,Ke=_e<3?_e*2:_e,Se===3&&(je=_e,Ke=_e),ze=!0,Oe<=je*2?ze=!1:Oe<=je*2+Ke?(Ve=Oe/(2*je+Ke),je*=Ve,Ke*=Ve):(Xe=Math.floor((Oe+Ke)/(je+Ke)),ir=(Oe-Xe*je)/(Xe-1),sr=(Oe-(Xe+1)*je)/Xe,Ke=sr<=0||Math.abs(Ke-ir)<Math.abs(Ke-sr)?ir:sr),ze&&(Se===3?this.ctx.setLineDash([0,je+Ke]):this.ctx.setLineDash([je,Ke])),Se===3?(this.ctx.lineCap="round",this.ctx.lineWidth=_e):this.ctx.lineWidth=_e*2+1.1,this.ctx.strokeStyle=asString(Ae),this.ctx.stroke(),this.ctx.setLineDash([]),Se===2&&(isBezierCurve(Be[0])&&(rr=Be[3],nr=Be[0],this.ctx.beginPath(),this.formatPath([new Vector(rr.end.x,rr.end.y),new Vector(nr.start.x,nr.start.y)]),this.ctx.stroke()),isBezierCurve(Be[1])&&(rr=Be[1],nr=Be[2],this.ctx.beginPath(),this.formatPath([new Vector(rr.end.x,rr.end.y),new Vector(nr.start.x,nr.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(Ae){return __awaiter$2(this,void 0,void 0,function(){var _e;return __generator$1(this,function(xe){switch(xe.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),_e=parseStackingContexts(Ae),[4,this.renderStack(_e)];case 1:return xe.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(Renderer),isTextInputElement=function(Ee){return Ee instanceof TextareaElementContainer||Ee instanceof SelectElementContainer?!0:Ee instanceof InputElementContainer&&Ee.type!==RADIO&&Ee.type!==CHECKBOX},calculateBackgroundCurvedPaintingArea=function(Ee,t){switch(Ee){case 0:return calculateBorderBoxPath(t);case 2:return calculateContentBoxPath(t);case 1:default:return calculatePaddingBoxPath(t)}},canvasTextAlign=function(Ee){switch(Ee){case 1:return"center";case 2:return"right";case 0:default:return"left"}},iOSBrokenFonts=["-apple-system","system-ui"],fixIOSSystemFonts=function(Ee){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?Ee.filter(function(t){return iOSBrokenFonts.indexOf(t)===-1}):Ee},ForeignObjectRenderer=function(Ee){__extends$1(t,Ee);function t(Ae,_e){var xe=Ee.call(this,Ae,_e)||this;return xe.canvas=_e.canvas?_e.canvas:document.createElement("canvas"),xe.ctx=xe.canvas.getContext("2d"),xe.options=_e,xe.canvas.width=Math.floor(_e.width*_e.scale),xe.canvas.height=Math.floor(_e.height*_e.scale),xe.canvas.style.width=_e.width+"px",xe.canvas.style.height=_e.height+"px",xe.ctx.scale(xe.options.scale,xe.options.scale),xe.ctx.translate(-_e.x,-_e.y),xe.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+_e.width+"x"+_e.height+" at "+_e.x+","+_e.y+") with scale "+_e.scale),xe}return t.prototype.render=function(Ae){return __awaiter$2(this,void 0,void 0,function(){var _e,xe;return __generator$1(this,function(Ce){switch(Ce.label){case 0:return _e=createForeignObjectSVG(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,Ae),[4,loadSerializedSVG(_e)];case 1:return xe=Ce.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(xe,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(Renderer),loadSerializedSVG=function(Ee){return new Promise(function(t,Ae){var _e=new Image;_e.onload=function(){t(_e)},_e.onerror=Ae,_e.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(Ee))})},Logger=function(){function Ee(t){var Ae=t.id,_e=t.enabled;this.id=Ae,this.enabled=_e,this.start=Date.now()}return Ee.prototype.debug=function(){for(var t=[],Ae=0;Ae<arguments.length;Ae++)t[Ae]=arguments[Ae];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,__spreadArray$1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},Ee.prototype.getTime=function(){return Date.now()-this.start},Ee.prototype.info=function(){for(var t=[],Ae=0;Ae<arguments.length;Ae++)t[Ae]=arguments[Ae];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,__spreadArray$1([this.id,this.getTime()+"ms"],t))},Ee.prototype.warn=function(){for(var t=[],Ae=0;Ae<arguments.length;Ae++)t[Ae]=arguments[Ae];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,__spreadArray$1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},Ee.prototype.error=function(){for(var t=[],Ae=0;Ae<arguments.length;Ae++)t[Ae]=arguments[Ae];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,__spreadArray$1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},Ee.instances={},Ee}(),Context=function(){function Ee(t,Ae){var _e;this.windowBounds=Ae,this.instanceName="#"+Ee.instanceCount++,this.logger=new Logger({id:this.instanceName,enabled:t.logging}),this.cache=(_e=t.cache)!==null&&_e!==void 0?_e:new Cache$1(this,t)}return Ee.instanceCount=1,Ee}(),html2canvas=function(Ee,t){return t===void 0&&(t={}),renderElement(Ee,t)};typeof window<"u"&&CacheStorage.setContext(window);var renderElement=function(Ee,t){return __awaiter$2(void 0,void 0,void 0,function(){var Ae,_e,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke,Oe,je,Ke,ze,Ve,Xe,ir,sr,rr,We,nr,We,Ge,Ze,or,He,Je,$e,mr,wr,vr,ur,Cr,_r,hr,Sr,ar,tr,lr;return __generator$1(this,function(pr){switch(pr.label){case 0:if(!Ee||typeof Ee!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(Ae=Ee.ownerDocument,!Ae)throw new Error("Element is not attached to a Document");if(_e=Ae.defaultView,!_e)throw new Error("Document is not attached to a Window");return xe={allowTaint:(Ge=t.allowTaint)!==null&&Ge!==void 0?Ge:!1,imageTimeout:(Ze=t.imageTimeout)!==null&&Ze!==void 0?Ze:15e3,proxy:t.proxy,useCORS:(or=t.useCORS)!==null&&or!==void 0?or:!1},Ce=__assign$1({logging:(He=t.logging)!==null&&He!==void 0?He:!0,cache:t.cache},xe),Se={windowWidth:(Je=t.windowWidth)!==null&&Je!==void 0?Je:_e.innerWidth,windowHeight:($e=t.windowHeight)!==null&&$e!==void 0?$e:_e.innerHeight,scrollX:(mr=t.scrollX)!==null&&mr!==void 0?mr:_e.pageXOffset,scrollY:(wr=t.scrollY)!==null&&wr!==void 0?wr:_e.pageYOffset},Re=new Bounds(Se.scrollX,Se.scrollY,Se.windowWidth,Se.windowHeight),Be=new Context(Ce,Re),Fe=(vr=t.foreignObjectRendering)!==null&&vr!==void 0?vr:!1,Ie={allowTaint:(ur=t.allowTaint)!==null&&ur!==void 0?ur:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:Fe,copyStyles:Fe},Be.logger.debug("Starting document clone with size "+Re.width+"x"+Re.height+" scrolled to "+-Re.left+","+-Re.top),Ue=new DocumentCloner(Be,Ee,Ie),ke=Ue.clonedReferenceElement,ke?[4,Ue.toIFrame(Ae,Re)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Oe=pr.sent(),je=isBodyElement(ke)||isHTMLElement(ke)?parseDocumentSize(ke.ownerDocument):parseBounds(Be,ke),Ke=je.width,ze=je.height,Ve=je.left,Xe=je.top,ir=parseBackgroundColor(Be,ke,t.backgroundColor),sr={canvas:t.canvas,backgroundColor:ir,scale:(_r=(Cr=t.scale)!==null&&Cr!==void 0?Cr:_e.devicePixelRatio)!==null&&_r!==void 0?_r:1,x:((hr=t.x)!==null&&hr!==void 0?hr:0)+Ve,y:((Sr=t.y)!==null&&Sr!==void 0?Sr:0)+Xe,width:(ar=t.width)!==null&&ar!==void 0?ar:Math.ceil(Ke),height:(tr=t.height)!==null&&tr!==void 0?tr:Math.ceil(ze)},Fe?(Be.logger.debug("Document cloned, using foreign object rendering"),We=new ForeignObjectRenderer(Be,sr),[4,We.render(ke)]):[3,3];case 2:return rr=pr.sent(),[3,5];case 3:return Be.logger.debug("Document cloned, element located at "+Ve+","+Xe+" with size "+Ke+"x"+ze+" using computed rendering"),Be.logger.debug("Starting DOM parsing"),nr=parseTree(Be,ke),ir===nr.styles.backgroundColor&&(nr.styles.backgroundColor=COLORS.TRANSPARENT),Be.logger.debug("Starting renderer for element at "+sr.x+","+sr.y+" with size "+sr.width+"x"+sr.height),We=new CanvasRenderer(Be,sr),[4,We.render(nr)];case 4:rr=pr.sent(),pr.label=5;case 5:return(!((lr=t.removeContainer)!==null&&lr!==void 0)||lr)&&(DocumentCloner.destroy(Oe)||Be.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Be.logger.debug("Finished rendering"),[2,rr]}})})},parseBackgroundColor=function(Ee,t,Ae){var _e=t.ownerDocument,xe=_e.documentElement?parseColor(Ee,getComputedStyle(_e.documentElement).backgroundColor):COLORS.TRANSPARENT,Ce=_e.body?parseColor(Ee,getComputedStyle(_e.body).backgroundColor):COLORS.TRANSPARENT,Se=typeof Ae=="string"?parseColor(Ee,Ae):Ae===null?COLORS.TRANSPARENT:4294967295;return t===_e.documentElement?isTransparent(xe)?isTransparent(Ce)?Se:Ce:xe:Se};const html2canvas_esm=Object.freeze(Object.defineProperty({__proto__:null,default:html2canvas},Symbol.toStringTag,{value:"Module"})),scriptRel="modulepreload",assetsURL=function(Ee){return"/"+Ee},seen={},__vitePreload=function(t,Ae,_e){let xe=Promise.resolve();if(Ae&&Ae.length>0){let Se=function(Fe){return Promise.all(Fe.map(Ie=>Promise.resolve(Ie).then(Ue=>({status:"fulfilled",value:Ue}),Ue=>({status:"rejected",reason:Ue}))))};document.getElementsByTagName("link");const Re=document.querySelector("meta[property=csp-nonce]"),Be=(Re==null?void 0:Re.nonce)||(Re==null?void 0:Re.getAttribute("nonce"));xe=Se(Ae.map(Fe=>{if(Fe=assetsURL(Fe),Fe in seen)return;seen[Fe]=!0;const Ie=Fe.endsWith(".css"),Ue=Ie?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Fe}"]${Ue}`))return;const ke=document.createElement("link");if(ke.rel=Ie?"stylesheet":scriptRel,Ie||(ke.as="script"),ke.crossOrigin="",ke.href=Fe,Be&&ke.setAttribute("nonce",Be),document.head.appendChild(ke),Ie)return new Promise((Oe,je)=>{ke.addEventListener("load",Oe),ke.addEventListener("error",()=>je(new Error(`Unable to preload CSS for ${Fe}`)))})}))}function Ce(Se){const Re=new Event("vite:preloadError",{cancelable:!0});if(Re.payload=Se,window.dispatchEvent(Re),!Re.defaultPrevented)throw Se}return xe.then(Se=>{for(const Re of Se||[])Re.status==="rejected"&&Ce(Re.reason);return t().catch(Ce)})};function _typeof(Ee){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(Ee)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(Ee,t){for(var Ae=new u16(31),_e=0;_e<31;++_e)Ae[_e]=t+=1<<Ee[_e-1];for(var xe=new i32(Ae[30]),_e=1;_e<30;++_e)for(var Ce=Ae[_e];Ce<Ae[_e+1];++Ce)xe[Ce]=Ce-Ae[_e]<<5|_e;return{b:Ae,r:xe}},_a=freb(fleb,2),fl=_a.b,revfl=_a.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(var i$3=0;i$3<32768;++i$3){var x$1=(i$3&43690)>>1|(i$3&21845)<<1;x$1=(x$1&52428)>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>4|(x$1&3855)<<4,rev[i$3]=((x$1&65280)>>8|(x$1&255)<<8)>>1}var hMap=function(Ee,t,Ae){for(var _e=Ee.length,xe=0,Ce=new u16(t);xe<_e;++xe)Ee[xe]&&++Ce[Ee[xe]-1];var Se=new u16(t);for(xe=1;xe<t;++xe)Se[xe]=Se[xe-1]+Ce[xe-1]<<1;var Re;if(Ae){Re=new u16(1<<t);var Be=15-t;for(xe=0;xe<_e;++xe)if(Ee[xe])for(var Fe=xe<<4|Ee[xe],Ie=t-Ee[xe],Ue=Se[Ee[xe]-1]++<<Ie,ke=Ue|(1<<Ie)-1;Ue<=ke;++Ue)Re[rev[Ue]>>Be]=Fe}else for(Re=new u16(_e),xe=0;xe<_e;++xe)Ee[xe]&&(Re[xe]=rev[Se[Ee[xe]-1]++]>>15-Ee[xe]);return Re},flt=new u8(288);for(var i$3=0;i$3<144;++i$3)flt[i$3]=8;for(var i$3=144;i$3<256;++i$3)flt[i$3]=9;for(var i$3=256;i$3<280;++i$3)flt[i$3]=7;for(var i$3=280;i$3<288;++i$3)flt[i$3]=8;var fdt=new u8(32);for(var i$3=0;i$3<32;++i$3)fdt[i$3]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(Ee){for(var t=Ee[0],Ae=1;Ae<Ee.length;++Ae)Ee[Ae]>t&&(t=Ee[Ae]);return t},bits=function(Ee,t,Ae){var _e=t/8|0;return(Ee[_e]|Ee[_e+1]<<8)>>(t&7)&Ae},bits16=function(Ee,t){var Ae=t/8|0;return(Ee[Ae]|Ee[Ae+1]<<8|Ee[Ae+2]<<16)>>(t&7)},shft=function(Ee){return(Ee+7)/8|0},slc=function(Ee,t,Ae){return(Ae==null||Ae>Ee.length)&&(Ae=Ee.length),new u8(Ee.subarray(t,Ae))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(Ee,t,Ae){var _e=new Error(t||ec[Ee]);if(_e.code=Ee,Error.captureStackTrace&&Error.captureStackTrace(_e,err),!Ae)throw _e;return _e},inflt=function(Ee,t,Ae,_e){var xe=Ee.length,Ce=0;if(!xe||t.f&&!t.l)return Ae||new u8(0);var Se=!Ae,Re=Se||t.i!=2,Be=t.i;Se&&(Ae=new u8(xe*3));var Fe=function(zr){var $r=Ae.length;if(zr>$r){var vn=new u8(Math.max($r*2,zr));vn.set(Ae),Ae=vn}},Ie=t.f||0,Ue=t.p||0,ke=t.b||0,Oe=t.l,je=t.d,Ke=t.m,ze=t.n,Ve=xe*8;do{if(!Oe){Ie=bits(Ee,Ue,1);var Xe=bits(Ee,Ue+1,3);if(Ue+=3,Xe)if(Xe==1)Oe=flrm,je=fdrm,Ke=9,ze=5;else if(Xe==2){var nr=bits(Ee,Ue,31)+257,We=bits(Ee,Ue+10,15)+4,Ge=nr+bits(Ee,Ue+5,31)+1;Ue+=14;for(var Ze=new u8(Ge),or=new u8(19),He=0;He<We;++He)or[clim[He]]=bits(Ee,Ue+He*3,7);Ue+=We*3;for(var Je=max(or),$e=(1<<Je)-1,mr=hMap(or,Je,1),He=0;He<Ge;){var wr=mr[bits(Ee,Ue,$e)];Ue+=wr&15;var ir=wr>>4;if(ir<16)Ze[He++]=ir;else{var vr=0,ur=0;for(ir==16?(ur=3+bits(Ee,Ue,3),Ue+=2,vr=Ze[He-1]):ir==17?(ur=3+bits(Ee,Ue,7),Ue+=3):ir==18&&(ur=11+bits(Ee,Ue,127),Ue+=7);ur--;)Ze[He++]=vr}}var Cr=Ze.subarray(0,nr),_r=Ze.subarray(nr);Ke=max(Cr),ze=max(_r),Oe=hMap(Cr,Ke,1),je=hMap(_r,ze,1)}else err(1);else{var ir=shft(Ue)+4,sr=Ee[ir-4]|Ee[ir-3]<<8,rr=ir+sr;if(rr>xe){Be&&err(0);break}Re&&Fe(ke+sr),Ae.set(Ee.subarray(ir,rr),ke),t.b=ke+=sr,t.p=Ue=rr*8,t.f=Ie;continue}if(Ue>Ve){Be&&err(0);break}}Re&&Fe(ke+131072);for(var hr=(1<<Ke)-1,Sr=(1<<ze)-1,ar=Ue;;ar=Ue){var vr=Oe[bits16(Ee,Ue)&hr],tr=vr>>4;if(Ue+=vr&15,Ue>Ve){Be&&err(0);break}if(vr||err(2),tr<256)Ae[ke++]=tr;else if(tr==256){ar=Ue,Oe=null;break}else{var lr=tr-254;if(tr>264){var He=tr-257,pr=fleb[He];lr=bits(Ee,Ue,(1<<pr)-1)+fl[He],Ue+=pr}var Er=je[bits16(Ee,Ue)&Sr],Rr=Er>>4;Er||err(3),Ue+=Er&15;var _r=fd[Rr];if(Rr>3){var pr=fdeb[Rr];_r+=bits16(Ee,Ue)&(1<<pr)-1,Ue+=pr}if(Ue>Ve){Be&&err(0);break}Re&&Fe(ke+131072);var Tr=ke+lr;if(ke<_r){var Ir=Ce-_r,Zr=Math.min(_r,Tr);for(Ir+ke<0&&err(3);ke<Zr;++ke)Ae[ke]=_e[Ir+ke]}for(;ke<Tr;++ke)Ae[ke]=Ae[ke-_r]}}t.l=Oe,t.p=ar,t.b=ke,t.f=Ie,Oe&&(Ie=1,t.m=Ke,t.d=je,t.n=ze)}while(!Ie);return ke!=Ae.length&&Se?slc(Ae,0,ke):Ae.subarray(0,ke)},wbits=function(Ee,t,Ae){Ae<<=t&7;var _e=t/8|0;Ee[_e]|=Ae,Ee[_e+1]|=Ae>>8},wbits16=function(Ee,t,Ae){Ae<<=t&7;var _e=t/8|0;Ee[_e]|=Ae,Ee[_e+1]|=Ae>>8,Ee[_e+2]|=Ae>>16},hTree=function(Ee,t){for(var Ae=[],_e=0;_e<Ee.length;++_e)Ee[_e]&&Ae.push({s:_e,f:Ee[_e]});var xe=Ae.length,Ce=Ae.slice();if(!xe)return{t:et$1,l:0};if(xe==1){var Se=new u8(Ae[0].s+1);return Se[Ae[0].s]=1,{t:Se,l:1}}Ae.sort(function(rr,nr){return rr.f-nr.f}),Ae.push({s:-1,f:25001});var Re=Ae[0],Be=Ae[1],Fe=0,Ie=1,Ue=2;for(Ae[0]={s:-1,f:Re.f+Be.f,l:Re,r:Be};Ie!=xe-1;)Re=Ae[Ae[Fe].f<Ae[Ue].f?Fe++:Ue++],Be=Ae[Fe!=Ie&&Ae[Fe].f<Ae[Ue].f?Fe++:Ue++],Ae[Ie++]={s:-1,f:Re.f+Be.f,l:Re,r:Be};for(var ke=Ce[0].s,_e=1;_e<xe;++_e)Ce[_e].s>ke&&(ke=Ce[_e].s);var Oe=new u16(ke+1),je=ln(Ae[Ie-1],Oe,0);if(je>t){var _e=0,Ke=0,ze=je-t,Ve=1<<ze;for(Ce.sort(function(nr,We){return Oe[We.s]-Oe[nr.s]||nr.f-We.f});_e<xe;++_e){var Xe=Ce[_e].s;if(Oe[Xe]>t)Ke+=Ve-(1<<je-Oe[Xe]),Oe[Xe]=t;else break}for(Ke>>=ze;Ke>0;){var ir=Ce[_e].s;Oe[ir]<t?Ke-=1<<t-Oe[ir]++-1:++_e}for(;_e>=0&&Ke;--_e){var sr=Ce[_e].s;Oe[sr]==t&&(--Oe[sr],++Ke)}je=t}return{t:new u8(Oe),l:je}},ln=function(Ee,t,Ae){return Ee.s==-1?Math.max(ln(Ee.l,t,Ae+1),ln(Ee.r,t,Ae+1)):t[Ee.s]=Ae},lc=function(Ee){for(var t=Ee.length;t&&!Ee[--t];);for(var Ae=new u16(++t),_e=0,xe=Ee[0],Ce=1,Se=function(Be){Ae[_e++]=Be},Re=1;Re<=t;++Re)if(Ee[Re]==xe&&Re!=t)++Ce;else{if(!xe&&Ce>2){for(;Ce>138;Ce-=138)Se(32754);Ce>2&&(Se(Ce>10?Ce-11<<5|28690:Ce-3<<5|12305),Ce=0)}else if(Ce>3){for(Se(xe),--Ce;Ce>6;Ce-=6)Se(8304);Ce>2&&(Se(Ce-3<<5|8208),Ce=0)}for(;Ce--;)Se(xe);Ce=1,xe=Ee[Re]}return{c:Ae.subarray(0,_e),n:t}},clen=function(Ee,t){for(var Ae=0,_e=0;_e<t.length;++_e)Ae+=Ee[_e]*t[_e];return Ae},wfblk=function(Ee,t,Ae){var _e=Ae.length,xe=shft(t+2);Ee[xe]=_e&255,Ee[xe+1]=_e>>8,Ee[xe+2]=Ee[xe]^255,Ee[xe+3]=Ee[xe+1]^255;for(var Ce=0;Ce<_e;++Ce)Ee[xe+Ce+4]=Ae[Ce];return(xe+4+_e)*8},wblk=function(Ee,t,Ae,_e,xe,Ce,Se,Re,Be,Fe,Ie){wbits(t,Ie++,Ae),++xe[256];for(var Ue=hTree(xe,15),ke=Ue.t,Oe=Ue.l,je=hTree(Ce,15),Ke=je.t,ze=je.l,Ve=lc(ke),Xe=Ve.c,ir=Ve.n,sr=lc(Ke),rr=sr.c,nr=sr.n,We=new u16(19),Ge=0;Ge<Xe.length;++Ge)++We[Xe[Ge]&31];for(var Ge=0;Ge<rr.length;++Ge)++We[rr[Ge]&31];for(var Ze=hTree(We,7),or=Ze.t,He=Ze.l,Je=19;Je>4&&!or[clim[Je-1]];--Je);var $e=Fe+5<<3,mr=clen(xe,flt)+clen(Ce,fdt)+Se,wr=clen(xe,ke)+clen(Ce,Ke)+Se+14+3*Je+clen(We,or)+2*We[16]+3*We[17]+7*We[18];if(Be>=0&&$e<=mr&&$e<=wr)return wfblk(t,Ie,Ee.subarray(Be,Be+Fe));var vr,ur,Cr,_r;if(wbits(t,Ie,1+(wr<mr)),Ie+=2,wr<mr){vr=hMap(ke,Oe,0),ur=ke,Cr=hMap(Ke,ze,0),_r=Ke;var hr=hMap(or,He,0);wbits(t,Ie,ir-257),wbits(t,Ie+5,nr-1),wbits(t,Ie+10,Je-4),Ie+=14;for(var Ge=0;Ge<Je;++Ge)wbits(t,Ie+3*Ge,or[clim[Ge]]);Ie+=3*Je;for(var Sr=[Xe,rr],ar=0;ar<2;++ar)for(var tr=Sr[ar],Ge=0;Ge<tr.length;++Ge){var lr=tr[Ge]&31;wbits(t,Ie,hr[lr]),Ie+=or[lr],lr>15&&(wbits(t,Ie,tr[Ge]>>5&127),Ie+=tr[Ge]>>12)}}else vr=flm,ur=flt,Cr=fdm,_r=fdt;for(var Ge=0;Ge<Re;++Ge){var pr=_e[Ge];if(pr>255){var lr=pr>>18&31;wbits16(t,Ie,vr[lr+257]),Ie+=ur[lr+257],lr>7&&(wbits(t,Ie,pr>>23&31),Ie+=fleb[lr]);var Er=pr&31;wbits16(t,Ie,Cr[Er]),Ie+=_r[Er],Er>3&&(wbits16(t,Ie,pr>>5&8191),Ie+=fdeb[Er])}else wbits16(t,Ie,vr[pr]),Ie+=ur[pr]}return wbits16(t,Ie,vr[256]),Ie+ur[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(Ee,t,Ae,_e,xe,Ce){var Se=Ce.z||Ee.length,Re=new u8(_e+Se+5*(1+Math.ceil(Se/7e3))+xe),Be=Re.subarray(_e,Re.length-xe),Fe=Ce.l,Ie=(Ce.r||0)&7;if(t){Ie&&(Be[0]=Ce.r>>3);for(var Ue=deo[t-1],ke=Ue>>13,Oe=Ue&8191,je=(1<<Ae)-1,Ke=Ce.p||new u16(32768),ze=Ce.h||new u16(je+1),Ve=Math.ceil(Ae/3),Xe=2*Ve,ir=function(bn){return(Ee[bn]^Ee[bn+1]<<Ve^Ee[bn+2]<<Xe)&je},sr=new i32(25e3),rr=new u16(288),nr=new u16(32),We=0,Ge=0,Ze=Ce.i||0,or=0,He=Ce.w||0,Je=0;Ze+2<Se;++Ze){var $e=ir(Ze),mr=Ze&32767,wr=ze[$e];if(Ke[mr]=wr,ze[$e]=mr,He<=Ze){var vr=Se-Ze;if((We>7e3||or>24576)&&(vr>423||!Fe)){Ie=wblk(Ee,Be,0,sr,rr,nr,Ge,or,Je,Ze-Je,Ie),or=We=Ge=0,Je=Ze;for(var ur=0;ur<286;++ur)rr[ur]=0;for(var ur=0;ur<30;++ur)nr[ur]=0}var Cr=2,_r=0,hr=Oe,Sr=mr-wr&32767;if(vr>2&&$e==ir(Ze-Sr))for(var ar=Math.min(ke,vr)-1,tr=Math.min(32767,Ze),lr=Math.min(258,vr);Sr<=tr&&--hr&&mr!=wr;){if(Ee[Ze+Cr]==Ee[Ze+Cr-Sr]){for(var pr=0;pr<lr&&Ee[Ze+pr]==Ee[Ze+pr-Sr];++pr);if(pr>Cr){if(Cr=pr,_r=Sr,pr>ar)break;for(var Er=Math.min(Sr,pr-2),Rr=0,ur=0;ur<Er;++ur){var Tr=Ze-Sr+ur&32767,Ir=Ke[Tr],Zr=Tr-Ir&32767;Zr>Rr&&(Rr=Zr,wr=Tr)}}}mr=wr,wr=Ke[mr],Sr+=mr-wr&32767}if(_r){sr[or++]=268435456|revfl[Cr]<<18|revfd[_r];var zr=revfl[Cr]&31,$r=revfd[_r]&31;Ge+=fleb[zr]+fdeb[$r],++rr[257+zr],++nr[$r],He=Ze+Cr,++We}else sr[or++]=Ee[Ze],++rr[Ee[Ze]]}}for(Ze=Math.max(Ze,He);Ze<Se;++Ze)sr[or++]=Ee[Ze],++rr[Ee[Ze]];Ie=wblk(Ee,Be,Fe,sr,rr,nr,Ge,or,Je,Ze-Je,Ie),Fe||(Ce.r=Ie&7|Be[Ie/8|0]<<3,Ie-=7,Ce.h=ze,Ce.p=Ke,Ce.i=Ze,Ce.w=He)}else{for(var Ze=Ce.w||0;Ze<Se+Fe;Ze+=65535){var vn=Ze+65535;vn>=Se&&(Be[Ie/8|0]=Fe,vn=Se),Ie=wfblk(Be,Ie+1,Ee.subarray(Ze,vn))}Ce.i=Se}return slc(Re,0,_e+shft(Ie)+xe)},adler=function(){var Ee=1,t=0;return{p:function(Ae){for(var _e=Ee,xe=t,Ce=Ae.length|0,Se=0;Se!=Ce;){for(var Re=Math.min(Se+2655,Ce);Se<Re;++Se)xe+=_e+=Ae[Se];_e=(_e&65535)+15*(_e>>16),xe=(xe&65535)+15*(xe>>16)}Ee=_e,t=xe},d:function(){return Ee%=65521,t%=65521,(Ee&255)<<24|(Ee&65280)<<8|(t&255)<<8|t>>8}}},dopt=function(Ee,t,Ae,_e,xe){if(!xe&&(xe={l:1},t.dictionary)){var Ce=t.dictionary.subarray(-32768),Se=new u8(Ce.length+Ee.length);Se.set(Ce),Se.set(Ee,Ce.length),Ee=Se,xe.w=Ce.length}return dflt(Ee,t.level==null?6:t.level,t.mem==null?xe.l?Math.ceil(Math.max(8,Math.min(13,Math.log(Ee.length)))*1.5):20:12+t.mem,Ae,_e,xe)},wbytes=function(Ee,t,Ae){for(;Ae;++t)Ee[t]=Ae,Ae>>>=8},zlh=function(Ee,t){var Ae=t.level,_e=Ae==0?0:Ae<6?1:Ae==9?3:2;if(Ee[0]=120,Ee[1]=_e<<6|(t.dictionary&&32),Ee[1]|=31-(Ee[0]<<8|Ee[1])%31,t.dictionary){var xe=adler();xe.p(t.dictionary),wbytes(Ee,2,xe.d())}},zls=function(Ee,t){return((Ee[0]&15)!=8||Ee[0]>>4>7||(Ee[0]<<8|Ee[1])%31)&&err(6,"invalid zlib data"),(Ee[1]>>5&1)==1&&err(6,"invalid zlib data: "+(Ee[1]&32?"need":"unexpected")+" dictionary"),(Ee[1]>>3&4)+2};function zlibSync(Ee,t){t||(t={});var Ae=adler();Ae.p(Ee);var _e=dopt(Ee,t,t.dictionary?6:2,4);return zlh(_e,t),wbytes(_e,_e.length-4,Ae.d()),_e}function unzlibSync(Ee,t){return inflt(Ee.subarray(zls(Ee),-4),{i:2},t,t)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch{}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i$2(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i$2,warn:function(Ee){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i$2.call(null,arguments))},error:function(Ee){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i$2(Ee))}};function o(Ee,t,Ae){var _e=new XMLHttpRequest;_e.open("GET",Ee),_e.responseType="blob",_e.onload=function(){l(_e.response,t,Ae)},_e.onerror=function(){a.error("could not download file")},_e.send()}function s(Ee){var t=new XMLHttpRequest;t.open("HEAD",Ee,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function c(Ee){try{Ee.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ee.dispatchEvent(t)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(Ee,t,Ae){var _e=n.URL||n.webkitURL,xe=document.createElement("a");t=t||Ee.name||"download",xe.download=t,xe.rel="noopener",typeof Ee=="string"?(xe.href=Ee,xe.origin!==location.origin?s(xe.href)?o(Ee,t,Ae):c(xe,xe.target="_blank"):c(xe)):(xe.href=_e.createObjectURL(Ee),setTimeout(function(){_e.revokeObjectURL(xe.href)},4e4),setTimeout(function(){c(xe)},0))}:"msSaveOrOpenBlob"in navigator?function(Ee,t,Ae){if(t=t||Ee.name||"download",typeof Ee=="string")if(s(Ee))o(Ee,t,Ae);else{var _e=document.createElement("a");_e.href=Ee,_e.target="_blank",setTimeout(function(){c(_e)})}else navigator.msSaveOrOpenBlob(function(xe,Ce){return Ce===void 0?Ce={autoBom:!1}:_typeof(Ce)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),Ce={autoBom:!Ce}),Ce.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(xe.type)?new Blob(["\uFEFF",xe],{type:xe.type}):xe}(Ee,Ae),t)}:function(Ee,t,Ae,_e){if((_e=_e||open("","_blank"))&&(_e.document.title=_e.document.body.innerText="downloading..."),typeof Ee=="string")return o(Ee,t,Ae);var xe=Ee.type==="application/octet-stream",Ce=/constructor/i.test(n.HTMLElement)||n.safari,Se=/CriOS\/[\d]+/.test(navigator.userAgent);if((Se||xe&&Ce)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var Re=new FileReader;Re.onloadend=function(){var Ie=Re.result;Ie=Se?Ie:Ie.replace(/^data:[^;]*;/,"data:attachment/file;"),_e?_e.location.href=Ie:location=Ie,_e=null},Re.readAsDataURL(Ee)}else{var Be=n.URL||n.webkitURL,Fe=Be.createObjectURL(Ee);_e?_e.location=Fe:location.href=Fe,_e=null,setTimeout(function(){Be.revokeObjectURL(Fe)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(Ee){var t;Ee=Ee||"",this.ok=!1,Ee.charAt(0)=="#"&&(Ee=Ee.substr(1,6)),Ee={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[Ee=(Ee=Ee.replace(/ /g,"")).toLowerCase()]||Ee;for(var Ae=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Re){return[parseInt(Re[1]),parseInt(Re[2]),parseInt(Re[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Re){return[parseInt(Re[1],16),parseInt(Re[2],16),parseInt(Re[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Re){return[parseInt(Re[1]+Re[1],16),parseInt(Re[2]+Re[2],16),parseInt(Re[3]+Re[3],16)]}}],_e=0;_e<Ae.length;_e++){var xe=Ae[_e].re,Ce=Ae[_e].process,Se=xe.exec(Ee);Se&&(t=Ce(Se),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Re=this.r.toString(16),Be=this.g.toString(16),Fe=this.b.toString(16);return Re.length==1&&(Re="0"+Re),Be.length==1&&(Be="0"+Be),Fe.length==1&&(Fe="0"+Fe),"#"+Re+Be+Fe}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(Ee,t){var Ae=Ee[0],_e=Ee[1],xe=Ee[2],Ce=Ee[3];Ae=g(Ae,_e,xe,Ce,t[0],7,-680876936),Ce=g(Ce,Ae,_e,xe,t[1],12,-389564586),xe=g(xe,Ce,Ae,_e,t[2],17,606105819),_e=g(_e,xe,Ce,Ae,t[3],22,-1044525330),Ae=g(Ae,_e,xe,Ce,t[4],7,-176418897),Ce=g(Ce,Ae,_e,xe,t[5],12,1200080426),xe=g(xe,Ce,Ae,_e,t[6],17,-1473231341),_e=g(_e,xe,Ce,Ae,t[7],22,-45705983),Ae=g(Ae,_e,xe,Ce,t[8],7,1770035416),Ce=g(Ce,Ae,_e,xe,t[9],12,-1958414417),xe=g(xe,Ce,Ae,_e,t[10],17,-42063),_e=g(_e,xe,Ce,Ae,t[11],22,-1990404162),Ae=g(Ae,_e,xe,Ce,t[12],7,1804603682),Ce=g(Ce,Ae,_e,xe,t[13],12,-40341101),xe=g(xe,Ce,Ae,_e,t[14],17,-1502002290),Ae=m(Ae,_e=g(_e,xe,Ce,Ae,t[15],22,1236535329),xe,Ce,t[1],5,-165796510),Ce=m(Ce,Ae,_e,xe,t[6],9,-1069501632),xe=m(xe,Ce,Ae,_e,t[11],14,643717713),_e=m(_e,xe,Ce,Ae,t[0],20,-373897302),Ae=m(Ae,_e,xe,Ce,t[5],5,-701558691),Ce=m(Ce,Ae,_e,xe,t[10],9,38016083),xe=m(xe,Ce,Ae,_e,t[15],14,-660478335),_e=m(_e,xe,Ce,Ae,t[4],20,-405537848),Ae=m(Ae,_e,xe,Ce,t[9],5,568446438),Ce=m(Ce,Ae,_e,xe,t[14],9,-1019803690),xe=m(xe,Ce,Ae,_e,t[3],14,-187363961),_e=m(_e,xe,Ce,Ae,t[8],20,1163531501),Ae=m(Ae,_e,xe,Ce,t[13],5,-1444681467),Ce=m(Ce,Ae,_e,xe,t[2],9,-51403784),xe=m(xe,Ce,Ae,_e,t[7],14,1735328473),Ae=v(Ae,_e=m(_e,xe,Ce,Ae,t[12],20,-1926607734),xe,Ce,t[5],4,-378558),Ce=v(Ce,Ae,_e,xe,t[8],11,-2022574463),xe=v(xe,Ce,Ae,_e,t[11],16,1839030562),_e=v(_e,xe,Ce,Ae,t[14],23,-35309556),Ae=v(Ae,_e,xe,Ce,t[1],4,-1530992060),Ce=v(Ce,Ae,_e,xe,t[4],11,1272893353),xe=v(xe,Ce,Ae,_e,t[7],16,-155497632),_e=v(_e,xe,Ce,Ae,t[10],23,-1094730640),Ae=v(Ae,_e,xe,Ce,t[13],4,681279174),Ce=v(Ce,Ae,_e,xe,t[0],11,-358537222),xe=v(xe,Ce,Ae,_e,t[3],16,-722521979),_e=v(_e,xe,Ce,Ae,t[6],23,76029189),Ae=v(Ae,_e,xe,Ce,t[9],4,-640364487),Ce=v(Ce,Ae,_e,xe,t[12],11,-421815835),xe=v(xe,Ce,Ae,_e,t[15],16,530742520),Ae=b(Ae,_e=v(_e,xe,Ce,Ae,t[2],23,-995338651),xe,Ce,t[0],6,-198630844),Ce=b(Ce,Ae,_e,xe,t[7],10,1126891415),xe=b(xe,Ce,Ae,_e,t[14],15,-1416354905),_e=b(_e,xe,Ce,Ae,t[5],21,-57434055),Ae=b(Ae,_e,xe,Ce,t[12],6,1700485571),Ce=b(Ce,Ae,_e,xe,t[3],10,-1894986606),xe=b(xe,Ce,Ae,_e,t[10],15,-1051523),_e=b(_e,xe,Ce,Ae,t[1],21,-2054922799),Ae=b(Ae,_e,xe,Ce,t[8],6,1873313359),Ce=b(Ce,Ae,_e,xe,t[15],10,-30611744),xe=b(xe,Ce,Ae,_e,t[6],15,-1560198380),_e=b(_e,xe,Ce,Ae,t[13],21,1309151649),Ae=b(Ae,_e,xe,Ce,t[4],6,-145523070),Ce=b(Ce,Ae,_e,xe,t[11],10,-1120210379),xe=b(xe,Ce,Ae,_e,t[2],15,718787259),_e=b(_e,xe,Ce,Ae,t[9],21,-343485551),Ee[0]=_(Ae,Ee[0]),Ee[1]=_(_e,Ee[1]),Ee[2]=_(xe,Ee[2]),Ee[3]=_(Ce,Ee[3])}function p(Ee,t,Ae,_e,xe,Ce){return t=_(_(t,Ee),_(_e,Ce)),_(t<<xe|t>>>32-xe,Ae)}function g(Ee,t,Ae,_e,xe,Ce,Se){return p(t&Ae|~t&_e,Ee,t,xe,Ce,Se)}function m(Ee,t,Ae,_e,xe,Ce,Se){return p(t&_e|Ae&~_e,Ee,t,xe,Ce,Se)}function v(Ee,t,Ae,_e,xe,Ce,Se){return p(t^Ae^_e,Ee,t,xe,Ce,Se)}function b(Ee,t,Ae,_e,xe,Ce,Se){return p(Ae^(t|~_e),Ee,t,xe,Ce,Se)}function y(Ee){var t,Ae=Ee.length,_e=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=Ee.length;t+=64)d(_e,w(Ee.substring(t-64,t)));Ee=Ee.substring(t-64);var xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<Ee.length;t++)xe[t>>2]|=Ee.charCodeAt(t)<<(t%4<<3);if(xe[t>>2]|=128<<(t%4<<3),t>55)for(d(_e,xe),t=0;t<16;t++)xe[t]=0;return xe[14]=8*Ae,d(_e,xe),_e}function w(Ee){var t,Ae=[];for(t=0;t<64;t+=4)Ae[t>>2]=Ee.charCodeAt(t)+(Ee.charCodeAt(t+1)<<8)+(Ee.charCodeAt(t+2)<<16)+(Ee.charCodeAt(t+3)<<24);return Ae}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(Ee){for(var t="",Ae=0;Ae<4;Ae++)t+=N[Ee>>8*Ae+4&15]+N[Ee>>8*Ae&15];return t}function A(Ee){return String.fromCharCode((255&Ee)>>0,(65280&Ee)>>8,(16711680&Ee)>>16,(4278190080&Ee)>>24)}function x(Ee){return y(Ee).map(A).join("")}var S=function(Ee){for(var t=0;t<Ee.length;t++)Ee[t]=L(Ee[t]);return Ee.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(Ee,t){if(S){var Ae=(65535&Ee)+(65535&t);return(Ee>>16)+(t>>16)+(Ae>>16)<<16|65535&Ae}return Ee+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(Ee,t){var Ae,_e,xe,Ce;if(Ee!==Ae){for(var Se=(xe=Ee,Ce=1+(256/Ee.length>>0),new Array(Ce+1).join(xe)),Re=[],Be=0;Be<256;Be++)Re[Be]=Be;var Fe=0;for(Be=0;Be<256;Be++){var Ie=Re[Be];Fe=(Fe+Ie+Se.charCodeAt(Be))%256,Re[Be]=Re[Fe],Re[Fe]=Ie}Ae=Ee,_e=Re}else Re=_e;var Ue=t.length,ke=0,Oe=0,je="";for(Be=0;Be<Ue;Be++)Oe=(Oe+(Ie=Re[ke=(ke+1)%256]))%256,Re[ke]=Re[Oe],Re[Oe]=Ie,Se=Re[(Re[ke]+Re[Oe])%256],je+=String.fromCharCode(t.charCodeAt(Be)^Se);return je}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(Ee,t,Ae,_e){this.v=1,this.r=2;var xe=192;Ee.forEach(function(Re){if(k.perm!==void 0)throw new Error("Invalid permission: "+Re);xe+=k[Re]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var Ce=(t+this.padding).substr(0,32),Se=(Ae+this.padding).substr(0,32);this.O=this.processOwnerPassword(Ce,Se),this.P=-(1+(255^xe)),this.encryptionKey=x(Ce+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(_e)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(Ee){if(/[^\u0000-\u00ff]/.test(Ee))throw new Error("Invalid PDF Name Object: "+Ee+", Only accept ASCII characters.");for(var t="",Ae=Ee.length,_e=0;_e<Ae;_e++){var xe=Ee.charCodeAt(_e);xe<33||xe===35||xe===37||xe===40||xe===41||xe===47||xe===60||xe===62||xe===91||xe===93||xe===123||xe===125||xe>126?t+="#"+("0"+xe.toString(16)).slice(-2):t+=Ee[_e]}return t}function C(Ee){if(_typeof(Ee)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(Ae,_e,xe){if(xe=xe||!1,typeof Ae!="string"||typeof _e!="function"||typeof xe!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(Ae)||(t[Ae]={});var Ce=Math.random().toString(35);return t[Ae][Ce]=[_e,!!xe],Ce},this.unsubscribe=function(Ae){for(var _e in t)if(t[_e][Ae])return delete t[_e][Ae],Object.keys(t[_e]).length===0&&delete t[_e],!0;return!1},this.publish=function(Ae){if(t.hasOwnProperty(Ae)){var _e=Array.prototype.slice.call(arguments,1),xe=[];for(var Ce in t[Ae]){var Se=t[Ae][Ce];try{Se[0].apply(Ee,_e)}catch(Re){n.console&&a.error("jsPDF PubSub Error",Re.message,Re)}Se[1]&&xe.push(Ce)}xe.length&&xe.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function j(Ee){if(!(this instanceof j))return new j(Ee);var t="opacity,stroke-opacity".split(",");for(var Ae in Ee)Ee.hasOwnProperty(Ae)&&t.indexOf(Ae)>=0&&(this[Ae]=Ee[Ae]);this.id="",this.objectNumber=-1}function O(Ee,t){this.gState=Ee,this.matrix=t,this.id="",this.objectNumber=-1}function B(Ee,t,Ae,_e,xe){if(!(this instanceof B))return new B(Ee,t,Ae,_e,xe);this.type=Ee==="axial"?2:3,this.coords=t,this.colors=Ae,O.call(this,_e,xe)}function M(Ee,t,Ae,_e,xe){if(!(this instanceof M))return new M(Ee,t,Ae,_e,xe);this.boundingBox=Ee,this.xStep=t,this.yStep=Ae,this.stream="",this.cloneIndex=0,O.call(this,_e,xe)}function E(Ee){var t,Ae=typeof arguments[0]=="string"?arguments[0]:"p",_e=arguments[1],xe=arguments[2],Ce=arguments[3],Se=[],Re=1,Be=16,Fe="S",Ie=null;_typeof(Ee=Ee||{})==="object"&&(Ae=Ee.orientation,_e=Ee.unit||_e,xe=Ee.format||xe,Ce=Ee.compress||Ee.compressPdf||Ce,(Ie=Ee.encryption||null)!==null&&(Ie.userPassword=Ie.userPassword||"",Ie.ownerPassword=Ie.ownerPassword||"",Ie.userPermissions=Ie.userPermissions||[]),Re=typeof Ee.userUnit=="number"?Math.abs(Ee.userUnit):1,Ee.precision!==void 0&&(t=Ee.precision),Ee.floatPrecision!==void 0&&(Be=Ee.floatPrecision),Fe=Ee.defaultPathOperation||"S"),Se=Ee.filters||(Ce===!0?["FlateEncode"]:Se),_e=_e||"mm",Ae=(""+(Ae||"P")).toLowerCase();var Ue=Ee.putOnlyUsedFonts||!1,ke={},Oe={internal:{},__private__:{}};Oe.__private__.PubSub=C;var je="1.3",Ke=Oe.__private__.getPdfVersion=function(){return je};Oe.__private__.setPdfVersion=function(cr){je=cr};var ze={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Oe.__private__.getPageFormats=function(){return ze};var Ve=Oe.__private__.getPageFormat=function(cr){return ze[cr]};xe=xe||"a4";var Xe={COMPAT:"compat",ADVANCED:"advanced"},ir=Xe.COMPAT;function sr(){this.saveGraphicsState(),Fr(new wn(Nr,0,0,-Nr,0,ha()*Nr).toString()+" cm"),this.setFontSize(this.getFontSize()/Nr),Fe="n",ir=Xe.ADVANCED}function rr(){this.restoreGraphicsState(),Fe="S",ir=Xe.COMPAT}var nr=Oe.__private__.combineFontStyleAndFontWeight=function(cr,kr){if(cr=="bold"&&kr=="normal"||cr=="bold"&&kr==400||cr=="normal"&&kr=="italic"||cr=="bold"&&kr=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return kr&&(cr=kr==400||kr==="normal"?cr==="italic"?"italic":"normal":kr!=700&&kr!=="bold"||cr!=="normal"?(kr==700?"bold":kr)+""+cr:"bold"),cr};Oe.advancedAPI=function(cr){var kr=ir===Xe.COMPAT;return kr&&sr.call(this),typeof cr!="function"||(cr(this),kr&&rr.call(this)),this},Oe.compatAPI=function(cr){var kr=ir===Xe.ADVANCED;return kr&&rr.call(this),typeof cr!="function"||(cr(this),kr&&sr.call(this)),this},Oe.isAdvancedAPI=function(){return ir===Xe.ADVANCED};var We,Ge=function(cr){if(ir!==Xe.ADVANCED)throw new Error(cr+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Ze=Oe.roundToPrecision=Oe.__private__.roundToPrecision=function(cr,kr){var mn=t||kr;if(isNaN(cr)||isNaN(mn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return cr.toFixed(mn).replace(/0+$/,"")};We=Oe.hpf=Oe.__private__.hpf=typeof Be=="number"?function(cr){if(isNaN(cr))throw new Error("Invalid argument passed to jsPDF.hpf");return Ze(cr,Be)}:Be==="smart"?function(cr){if(isNaN(cr))throw new Error("Invalid argument passed to jsPDF.hpf");return Ze(cr,cr>-1&&cr<1?16:5)}:function(cr){if(isNaN(cr))throw new Error("Invalid argument passed to jsPDF.hpf");return Ze(cr,16)};var or=Oe.f2=Oe.__private__.f2=function(cr){if(isNaN(cr))throw new Error("Invalid argument passed to jsPDF.f2");return Ze(cr,2)},He=Oe.__private__.f3=function(cr){if(isNaN(cr))throw new Error("Invalid argument passed to jsPDF.f3");return Ze(cr,3)},Je=Oe.scale=Oe.__private__.scale=function(cr){if(isNaN(cr))throw new Error("Invalid argument passed to jsPDF.scale");return ir===Xe.COMPAT?cr*Nr:ir===Xe.ADVANCED?cr:void 0},$e=function(cr){return ir===Xe.COMPAT?ha()-cr:ir===Xe.ADVANCED?cr:void 0},mr=function(cr){return Je($e(cr))};Oe.__private__.setPrecision=Oe.setPrecision=function(cr){typeof parseInt(cr,10)=="number"&&(t=parseInt(cr,10))};var wr,vr="00000000000000000000000000000000",ur=Oe.__private__.getFileId=function(){return vr},Cr=Oe.__private__.setFileId=function(cr){return vr=cr!==void 0&&/^[a-fA-F0-9]{32}$/.test(cr)?cr.toUpperCase():vr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Ie!==null&&(ps=new I(Ie.userPermissions,Ie.userPassword,Ie.ownerPassword,vr)),vr};Oe.setFileId=function(cr){return Cr(cr),this},Oe.getFileId=function(){return ur()};var _r=Oe.__private__.convertDateToPDFDate=function(cr){var kr=cr.getTimezoneOffset(),mn=kr<0?"+":"-",Tn=Math.floor(Math.abs(kr/60)),Mn=Math.abs(kr%60),ii=[mn,lr(Tn),"'",lr(Mn),"'"].join("");return["D:",cr.getFullYear(),lr(cr.getMonth()+1),lr(cr.getDate()),lr(cr.getHours()),lr(cr.getMinutes()),lr(cr.getSeconds()),ii].join("")},hr=Oe.__private__.convertPDFDateToDate=function(cr){var kr=parseInt(cr.substr(2,4),10),mn=parseInt(cr.substr(6,2),10)-1,Tn=parseInt(cr.substr(8,2),10),Mn=parseInt(cr.substr(10,2),10),ii=parseInt(cr.substr(12,2),10),Ei=parseInt(cr.substr(14,2),10);return new Date(kr,mn,Tn,Mn,ii,Ei,0)},Sr=Oe.__private__.setCreationDate=function(cr){var kr;if(cr===void 0&&(cr=new Date),cr instanceof Date)kr=_r(cr);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(cr))throw new Error("Invalid argument passed to jsPDF.setCreationDate");kr=cr}return wr=kr},ar=Oe.__private__.getCreationDate=function(cr){var kr=wr;return cr==="jsDate"&&(kr=hr(wr)),kr};Oe.setCreationDate=function(cr){return Sr(cr),this},Oe.getCreationDate=function(cr){return ar(cr)};var tr,lr=Oe.__private__.padd2=function(cr){return("0"+parseInt(cr)).slice(-2)},pr=Oe.__private__.padd2Hex=function(cr){return("00"+(cr=cr.toString())).substr(cr.length)},Er=0,Rr=[],Tr=[],Ir=0,Zr=[],zr=[],$r=!1,vn=Tr,bn=function(){Er=0,Ir=0,Tr=[],Rr=[],Zr=[],fi=ui(),yi=ui()};Oe.__private__.setCustomOutputDestination=function(cr){$r=!0,vn=cr};var An=function(cr){$r||(vn=cr)};Oe.__private__.resetCustomOutputDestination=function(){$r=!1,vn=Tr};var Fr=Oe.__private__.out=function(cr){return cr=cr.toString(),Ir+=cr.length+1,vn.push(cr),vn},dn=Oe.__private__.write=function(cr){return Fr(arguments.length===1?cr.toString():Array.prototype.join.call(arguments," "))},Dr=Oe.__private__.getArrayBuffer=function(cr){for(var kr=cr.length,mn=new ArrayBuffer(kr),Tn=new Uint8Array(mn);kr--;)Tn[kr]=cr.charCodeAt(kr);return mn},jr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Oe.__private__.getStandardFonts=function(){return jr};var hn=Ee.fontSize||16;Oe.__private__.setFontSize=Oe.setFontSize=function(cr){return hn=ir===Xe.ADVANCED?cr/Nr:cr,this};var pn,xn=Oe.__private__.getFontSize=Oe.getFontSize=function(){return ir===Xe.COMPAT?hn:hn*Nr},Dn=Ee.R2L||!1;Oe.__private__.setR2L=Oe.setR2L=function(cr){return Dn=cr,this},Oe.__private__.getR2L=Oe.getR2L=function(){return Dn};var On,yn=Oe.__private__.setZoomMode=function(cr){var kr=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(cr))pn=cr;else if(isNaN(cr)){if(kr.indexOf(cr)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+cr+'" is not recognized.');pn=cr}else pn=parseInt(cr,10)};Oe.__private__.getZoomMode=function(){return pn};var Gn,Qn=Oe.__private__.setPageMode=function(cr){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(cr)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+cr+'" is not recognized.');On=cr};Oe.__private__.getPageMode=function(){return On};var di=Oe.__private__.setLayoutMode=function(cr){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(cr)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+cr+'" is not recognized.');Gn=cr};Oe.__private__.getLayoutMode=function(){return Gn},Oe.__private__.setDisplayMode=Oe.setDisplayMode=function(cr,kr,mn){return yn(cr),di(kr),Qn(mn),this};var ni={title:"",subject:"",author:"",keywords:"",creator:""};Oe.__private__.getDocumentProperty=function(cr){if(Object.keys(ni).indexOf(cr)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ni[cr]},Oe.__private__.getDocumentProperties=function(){return ni},Oe.__private__.setDocumentProperties=Oe.setProperties=Oe.setDocumentProperties=function(cr){for(var kr in ni)ni.hasOwnProperty(kr)&&cr[kr]&&(ni[kr]=cr[kr]);return this},Oe.__private__.setDocumentProperty=function(cr,kr){if(Object.keys(ni).indexOf(cr)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ni[cr]=kr};var wi,Nr,In,Kn,si,Kr={},Xr={},br=[],Sn={},vi={},fr={},Lr={},un=null,Pr=0,Yr=[],En=new C(Oe),Zn=Ee.hotfixes||[],Vr={},Mr={},gn=[],wn=function cr(kr,mn,Tn,Mn,ii,Ei){if(!(this instanceof cr))return new cr(kr,mn,Tn,Mn,ii,Ei);isNaN(kr)&&(kr=1),isNaN(mn)&&(mn=0),isNaN(Tn)&&(Tn=0),isNaN(Mn)&&(Mn=1),isNaN(ii)&&(ii=0),isNaN(Ei)&&(Ei=0),this._matrix=[kr,mn,Tn,Mn,ii,Ei]};Object.defineProperty(wn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(cr){this._matrix[0]=cr}}),Object.defineProperty(wn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(cr){this._matrix[1]=cr}}),Object.defineProperty(wn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(cr){this._matrix[2]=cr}}),Object.defineProperty(wn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(cr){this._matrix[3]=cr}}),Object.defineProperty(wn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(cr){this._matrix[4]=cr}}),Object.defineProperty(wn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(cr){this._matrix[5]=cr}}),Object.defineProperty(wn.prototype,"a",{get:function(){return this._matrix[0]},set:function(cr){this._matrix[0]=cr}}),Object.defineProperty(wn.prototype,"b",{get:function(){return this._matrix[1]},set:function(cr){this._matrix[1]=cr}}),Object.defineProperty(wn.prototype,"c",{get:function(){return this._matrix[2]},set:function(cr){this._matrix[2]=cr}}),Object.defineProperty(wn.prototype,"d",{get:function(){return this._matrix[3]},set:function(cr){this._matrix[3]=cr}}),Object.defineProperty(wn.prototype,"e",{get:function(){return this._matrix[4]},set:function(cr){this._matrix[4]=cr}}),Object.defineProperty(wn.prototype,"f",{get:function(){return this._matrix[5]},set:function(cr){this._matrix[5]=cr}}),Object.defineProperty(wn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wn.prototype.join=function(cr){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(We).join(cr)},wn.prototype.multiply=function(cr){var kr=cr.sx*this.sx+cr.shy*this.shx,mn=cr.sx*this.shy+cr.shy*this.sy,Tn=cr.shx*this.sx+cr.sy*this.shx,Mn=cr.shx*this.shy+cr.sy*this.sy,ii=cr.tx*this.sx+cr.ty*this.shx+this.tx,Ei=cr.tx*this.shy+cr.ty*this.sy+this.ty;return new wn(kr,mn,Tn,Mn,ii,Ei)},wn.prototype.decompose=function(){var cr=this.sx,kr=this.shy,mn=this.shx,Tn=this.sy,Mn=this.tx,ii=this.ty,Ei=Math.sqrt(cr*cr+kr*kr),Si=(cr/=Ei)*mn+(kr/=Ei)*Tn;mn-=cr*Si,Tn-=kr*Si;var qe=Math.sqrt(mn*mn+Tn*Tn);return Si/=qe,cr*(Tn/=qe)<kr*(mn/=qe)&&(cr=-cr,kr=-kr,Si=-Si,Ei=-Ei),{scale:new wn(Ei,0,0,qe,0,0),translate:new wn(1,0,0,1,Mn,ii),rotate:new wn(cr,kr,-kr,cr,0,0),skew:new wn(1,0,Si,1,0,0)}},wn.prototype.toString=function(cr){return this.join(" ")},wn.prototype.inversed=function(){var cr=this.sx,kr=this.shy,mn=this.shx,Tn=this.sy,Mn=this.tx,ii=this.ty,Ei=1/(cr*Tn-kr*mn),Si=Tn*Ei,qe=-kr*Ei,gr=-mn*Ei,Br=cr*Ei;return new wn(Si,qe,gr,Br,-Si*Mn-gr*ii,-qe*Mn-Br*ii)},wn.prototype.applyToPoint=function(cr){var kr=cr.x*this.sx+cr.y*this.shx+this.tx,mn=cr.x*this.shy+cr.y*this.sy+this.ty;return new $o(kr,mn)},wn.prototype.applyToRectangle=function(cr){var kr=this.applyToPoint(cr),mn=this.applyToPoint(new $o(cr.x+cr.w,cr.y+cr.h));return new Cl(kr.x,kr.y,mn.x-kr.x,mn.y-kr.y)},wn.prototype.clone=function(){var cr=this.sx,kr=this.shy,mn=this.shx,Tn=this.sy,Mn=this.tx,ii=this.ty;return new wn(cr,kr,mn,Tn,Mn,ii)},Oe.Matrix=wn;var Rn=Oe.matrixMult=function(cr,kr){return kr.multiply(cr)},Nn=new wn(1,0,0,1,0,0);Oe.unitMatrix=Oe.identityMatrix=Nn;var zn=function(cr,kr){if(!vi[cr]){var mn=(kr instanceof B?"Sh":"P")+(Object.keys(Sn).length+1).toString(10);kr.id=mn,vi[cr]=mn,Sn[mn]=kr,En.publish("addPattern",kr)}};Oe.ShadingPattern=B,Oe.TilingPattern=M,Oe.addShadingPattern=function(cr,kr){return Ge("addShadingPattern()"),zn(cr,kr),this},Oe.beginTilingPattern=function(cr){Ge("beginTilingPattern()"),Do(cr.boundingBox[0],cr.boundingBox[1],cr.boundingBox[2]-cr.boundingBox[0],cr.boundingBox[3]-cr.boundingBox[1],cr.matrix)},Oe.endTilingPattern=function(cr,kr){Ge("endTilingPattern()"),kr.stream=zr[tr].join(`
`),zn(cr,kr),En.publish("endTilingPattern",kr),gn.pop().restore()};var ci=Oe.__private__.newObject=function(){var cr=ui();return oi(cr,!0),cr},ui=Oe.__private__.newObjectDeferred=function(){return Er++,Rr[Er]=function(){return Ir},Er},oi=function(cr,kr){return kr=typeof kr=="boolean"&&kr,Rr[cr]=Ir,kr&&Fr(cr+" 0 obj"),cr},Bi=Oe.__private__.newAdditionalObject=function(){var cr={objId:ui(),content:""};return Zr.push(cr),cr},fi=ui(),yi=ui(),bi=Oe.__private__.decodeColorString=function(cr){var kr=cr.split(" ");if(kr.length!==2||kr[1]!=="g"&&kr[1]!=="G")kr.length===5&&(kr[4]==="k"||kr[4]==="K")&&(kr=[(1-kr[0])*(1-kr[3]),(1-kr[1])*(1-kr[3]),(1-kr[2])*(1-kr[3]),"r"]);else{var mn=parseFloat(kr[0]);kr=[mn,mn,mn,"r"]}for(var Tn="#",Mn=0;Mn<3;Mn++)Tn+=("0"+Math.floor(255*parseFloat(kr[Mn])).toString(16)).slice(-2);return Tn},Ci=Oe.__private__.encodeColorString=function(cr){var kr;typeof cr=="string"&&(cr={ch1:cr});var mn=cr.ch1,Tn=cr.ch2,Mn=cr.ch3,ii=cr.ch4,Ei=cr.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof mn=="string"&&mn.charAt(0)!=="#"){var Si=new f(mn);if(Si.ok)mn=Si.toHex();else if(!/^\d*\.?\d*$/.test(mn))throw new Error('Invalid color "'+mn+'" passed to jsPDF.encodeColorString.')}if(typeof mn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(mn)&&(mn="#"+mn[1]+mn[1]+mn[2]+mn[2]+mn[3]+mn[3]),typeof mn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(mn)){var qe=parseInt(mn.substr(1),16);mn=qe>>16&255,Tn=qe>>8&255,Mn=255&qe}if(Tn===void 0||ii===void 0&&mn===Tn&&Tn===Mn)if(typeof mn=="string")kr=mn+" "+Ei[0];else switch(cr.precision){case 2:kr=or(mn/255)+" "+Ei[0];break;case 3:default:kr=He(mn/255)+" "+Ei[0]}else if(ii===void 0||_typeof(ii)==="object"){if(ii&&!isNaN(ii.a)&&ii.a===0)return kr=["1.","1.","1.",Ei[1]].join(" ");if(typeof mn=="string")kr=[mn,Tn,Mn,Ei[1]].join(" ");else switch(cr.precision){case 2:kr=[or(mn/255),or(Tn/255),or(Mn/255),Ei[1]].join(" ");break;default:case 3:kr=[He(mn/255),He(Tn/255),He(Mn/255),Ei[1]].join(" ")}}else if(typeof mn=="string")kr=[mn,Tn,Mn,ii,Ei[2]].join(" ");else switch(cr.precision){case 2:kr=[or(mn),or(Tn),or(Mn),or(ii),Ei[2]].join(" ");break;case 3:default:kr=[He(mn),He(Tn),He(Mn),He(ii),Ei[2]].join(" ")}return kr},Pi=Oe.__private__.getFilters=function(){return Se},Ii=Oe.__private__.putStream=function(cr){var kr=(cr=cr||{}).data||"",mn=cr.filters||Pi(),Tn=cr.alreadyAppliedFilters||[],Mn=cr.addLength1||!1,ii=kr.length,Ei=cr.objectId,Si=function(ki){return ki};if(Ie!==null&&Ei===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Ie!==null&&(Si=ps.encryptor(Ei,0));var qe={};mn===!0&&(mn=["FlateEncode"]);var gr=cr.additionalKeyValues||[],Br=(qe=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(kr,mn):{data:kr,reverseChain:[]}).reverseChain+(Array.isArray(Tn)?Tn.join(" "):Tn.toString());if(qe.data.length!==0&&(gr.push({key:"Length",value:qe.data.length}),Mn===!0&&gr.push({key:"Length1",value:ii})),Br.length!=0)if(Br.split("/").length-1==1)gr.push({key:"Filter",value:Br});else{gr.push({key:"Filter",value:"["+Br+"]"});for(var Gr=0;Gr<gr.length;Gr+=1)if(gr[Gr].key==="DecodeParms"){for(var kn=[],Jn=0;Jn<qe.reverseChain.split("/").length-1;Jn+=1)kn.push("null");kn.push(gr[Gr].value),gr[Gr].value="["+kn.join(" ")+"]"}}Fr("<<");for(var _i=0;_i<gr.length;_i++)Fr("/"+gr[_i].key+" "+gr[_i].value);Fr(">>"),qe.data.length!==0&&(Fr("stream"),Fr(Si(qe.data)),Fr("endstream"))},Li=Oe.__private__.putPage=function(cr){var kr=cr.number,mn=cr.data,Tn=cr.objId,Mn=cr.contentsObjId;oi(Tn,!0),Fr("<</Type /Page"),Fr("/Parent "+cr.rootDictionaryObjId+" 0 R"),Fr("/Resources "+cr.resourceDictionaryObjId+" 0 R"),Fr("/MediaBox ["+parseFloat(We(cr.mediaBox.bottomLeftX))+" "+parseFloat(We(cr.mediaBox.bottomLeftY))+" "+We(cr.mediaBox.topRightX)+" "+We(cr.mediaBox.topRightY)+"]"),cr.cropBox!==null&&Fr("/CropBox ["+We(cr.cropBox.bottomLeftX)+" "+We(cr.cropBox.bottomLeftY)+" "+We(cr.cropBox.topRightX)+" "+We(cr.cropBox.topRightY)+"]"),cr.bleedBox!==null&&Fr("/BleedBox ["+We(cr.bleedBox.bottomLeftX)+" "+We(cr.bleedBox.bottomLeftY)+" "+We(cr.bleedBox.topRightX)+" "+We(cr.bleedBox.topRightY)+"]"),cr.trimBox!==null&&Fr("/TrimBox ["+We(cr.trimBox.bottomLeftX)+" "+We(cr.trimBox.bottomLeftY)+" "+We(cr.trimBox.topRightX)+" "+We(cr.trimBox.topRightY)+"]"),cr.artBox!==null&&Fr("/ArtBox ["+We(cr.artBox.bottomLeftX)+" "+We(cr.artBox.bottomLeftY)+" "+We(cr.artBox.topRightX)+" "+We(cr.artBox.topRightY)+"]"),typeof cr.userUnit=="number"&&cr.userUnit!==1&&Fr("/UserUnit "+cr.userUnit),En.publish("putPage",{objId:Tn,pageContext:Yr[kr],pageNumber:kr,page:mn}),Fr("/Contents "+Mn+" 0 R"),Fr(">>"),Fr("endobj");var ii=mn.join(`
`);return ir===Xe.ADVANCED&&(ii+=`
Q`),oi(Mn,!0),Ii({data:ii,filters:Pi(),objectId:Mn}),Fr("endobj"),Tn},Zi=Oe.__private__.putPages=function(){var cr,kr,mn=[];for(cr=1;cr<=Pr;cr++)Yr[cr].objId=ui(),Yr[cr].contentsObjId=ui();for(cr=1;cr<=Pr;cr++)mn.push(Li({number:cr,data:zr[cr],objId:Yr[cr].objId,contentsObjId:Yr[cr].contentsObjId,mediaBox:Yr[cr].mediaBox,cropBox:Yr[cr].cropBox,bleedBox:Yr[cr].bleedBox,trimBox:Yr[cr].trimBox,artBox:Yr[cr].artBox,userUnit:Yr[cr].userUnit,rootDictionaryObjId:fi,resourceDictionaryObjId:yi}));oi(fi,!0),Fr("<</Type /Pages");var Tn="/Kids [";for(kr=0;kr<Pr;kr++)Tn+=mn[kr]+" 0 R ";Fr(Tn+"]"),Fr("/Count "+Pr),Fr(">>"),Fr("endobj"),En.publish("postPutPages")},Ns=function(cr){En.publish("putFont",{font:cr,out:Fr,newObject:ci,putStream:Ii}),cr.isAlreadyPutted!==!0&&(cr.objectNumber=ci(),Fr("<<"),Fr("/Type /Font"),Fr("/BaseFont /"+F(cr.postScriptName)),Fr("/Subtype /Type1"),typeof cr.encoding=="string"&&Fr("/Encoding /"+cr.encoding),Fr("/FirstChar 32"),Fr("/LastChar 255"),Fr(">>"),Fr("endobj"))},xs=function(){for(var cr in Kr)Kr.hasOwnProperty(cr)&&(Ue===!1||Ue===!0&&ke.hasOwnProperty(cr))&&Ns(Kr[cr])},Rs=function(cr){cr.objectNumber=ci();var kr=[];kr.push({key:"Type",value:"/XObject"}),kr.push({key:"Subtype",value:"/Form"}),kr.push({key:"BBox",value:"["+[We(cr.x),We(cr.y),We(cr.x+cr.width),We(cr.y+cr.height)].join(" ")+"]"}),kr.push({key:"Matrix",value:"["+cr.matrix.toString()+"]"});var mn=cr.pages[1].join(`
`);Ii({data:mn,additionalKeyValues:kr,objectId:cr.objectNumber}),Fr("endobj")},Va=function(){for(var cr in Vr)Vr.hasOwnProperty(cr)&&Rs(Vr[cr])},Yl=function(cr,kr){var mn,Tn=[],Mn=1/(kr-1);for(mn=0;mn<1;mn+=Mn)Tn.push(mn);if(Tn.push(1),cr[0].offset!=0){var ii={offset:0,color:cr[0].color};cr.unshift(ii)}if(cr[cr.length-1].offset!=1){var Ei={offset:1,color:cr[cr.length-1].color};cr.push(Ei)}for(var Si="",qe=0,gr=0;gr<Tn.length;gr++){for(mn=Tn[gr];mn>cr[qe+1].offset;)qe++;var Br=cr[qe].offset,Gr=(mn-Br)/(cr[qe+1].offset-Br),kn=cr[qe].color,Jn=cr[qe+1].color;Si+=pr(Math.round((1-Gr)*kn[0]+Gr*Jn[0]).toString(16))+pr(Math.round((1-Gr)*kn[1]+Gr*Jn[1]).toString(16))+pr(Math.round((1-Gr)*kn[2]+Gr*Jn[2]).toString(16))}return Si.trim()},Wo=function(cr,kr){kr||(kr=21);var mn=ci(),Tn=Yl(cr.colors,kr),Mn=[];Mn.push({key:"FunctionType",value:"0"}),Mn.push({key:"Domain",value:"[0.0 1.0]"}),Mn.push({key:"Size",value:"["+kr+"]"}),Mn.push({key:"BitsPerSample",value:"8"}),Mn.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Mn.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ii({data:Tn,additionalKeyValues:Mn,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:mn}),Fr("endobj"),cr.objectNumber=ci(),Fr("<< /ShadingType "+cr.type),Fr("/ColorSpace /DeviceRGB");var ii="/Coords ["+We(parseFloat(cr.coords[0]))+" "+We(parseFloat(cr.coords[1]))+" ";cr.type===2?ii+=We(parseFloat(cr.coords[2]))+" "+We(parseFloat(cr.coords[3])):ii+=We(parseFloat(cr.coords[2]))+" "+We(parseFloat(cr.coords[3]))+" "+We(parseFloat(cr.coords[4]))+" "+We(parseFloat(cr.coords[5])),Fr(ii+="]"),cr.matrix&&Fr("/Matrix ["+cr.matrix.toString()+"]"),Fr("/Function "+mn+" 0 R"),Fr("/Extend [true true]"),Fr(">>"),Fr("endobj")},PA=function(cr,kr){var mn=ui(),Tn=ci();kr.push({resourcesOid:mn,objectOid:Tn}),cr.objectNumber=Tn;var Mn=[];Mn.push({key:"Type",value:"/Pattern"}),Mn.push({key:"PatternType",value:"1"}),Mn.push({key:"PaintType",value:"1"}),Mn.push({key:"TilingType",value:"1"}),Mn.push({key:"BBox",value:"["+cr.boundingBox.map(We).join(" ")+"]"}),Mn.push({key:"XStep",value:We(cr.xStep)}),Mn.push({key:"YStep",value:We(cr.yStep)}),Mn.push({key:"Resources",value:mn+" 0 R"}),cr.matrix&&Mn.push({key:"Matrix",value:"["+cr.matrix.toString()+"]"}),Ii({data:cr.stream,additionalKeyValues:Mn,objectId:cr.objectNumber}),Fr("endobj")},Ua=function(cr){var kr;for(kr in Sn)Sn.hasOwnProperty(kr)&&(Sn[kr]instanceof B?Wo(Sn[kr]):Sn[kr]instanceof M&&PA(Sn[kr],cr))},La=function(cr){for(var kr in cr.objectNumber=ci(),Fr("<<"),cr)switch(kr){case"opacity":Fr("/ca "+or(cr[kr]));break;case"stroke-opacity":Fr("/CA "+or(cr[kr]))}Fr(">>"),Fr("endobj")},Gs=function(){var cr;for(cr in fr)fr.hasOwnProperty(cr)&&La(fr[cr])},io=function(){for(var cr in Fr("/XObject <<"),Vr)Vr.hasOwnProperty(cr)&&Vr[cr].objectNumber>=0&&Fr("/"+cr+" "+Vr[cr].objectNumber+" 0 R");En.publish("putXobjectDict"),Fr(">>")},FA=function(){ps.oid=ci(),Fr("<<"),Fr("/Filter /Standard"),Fr("/V "+ps.v),Fr("/R "+ps.r),Fr("/U <"+ps.toHexString(ps.U)+">"),Fr("/O <"+ps.toHexString(ps.O)+">"),Fr("/P "+ps.P),Fr(">>"),Fr("endobj")},Qa=function(){for(var cr in Fr("/Font <<"),Kr)Kr.hasOwnProperty(cr)&&(Ue===!1||Ue===!0&&ke.hasOwnProperty(cr))&&Fr("/"+cr+" "+Kr[cr].objectNumber+" 0 R");Fr(">>")},yl=function(){if(Object.keys(Sn).length>0){for(var cr in Fr("/Shading <<"),Sn)Sn.hasOwnProperty(cr)&&Sn[cr]instanceof B&&Sn[cr].objectNumber>=0&&Fr("/"+cr+" "+Sn[cr].objectNumber+" 0 R");En.publish("putShadingPatternDict"),Fr(">>")}},so=function(cr){if(Object.keys(Sn).length>0){for(var kr in Fr("/Pattern <<"),Sn)Sn.hasOwnProperty(kr)&&Sn[kr]instanceof Oe.TilingPattern&&Sn[kr].objectNumber>=0&&Sn[kr].objectNumber<cr&&Fr("/"+kr+" "+Sn[kr].objectNumber+" 0 R");En.publish("putTilingPatternDict"),Fr(">>")}},Jl=function(){if(Object.keys(fr).length>0){var cr;for(cr in Fr("/ExtGState <<"),fr)fr.hasOwnProperty(cr)&&fr[cr].objectNumber>=0&&Fr("/"+cr+" "+fr[cr].objectNumber+" 0 R");En.publish("putGStateDict"),Fr(">>")}},Es=function(cr){oi(cr.resourcesOid,!0),Fr("<<"),Fr("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Qa(),yl(),so(cr.objectOid),Jl(),io(),Fr(">>"),Fr("endobj")},$s=function(){var cr=[];xs(),Gs(),Va(),Ua(cr),En.publish("putResources"),cr.forEach(Es),Es({resourcesOid:yi,objectOid:Number.MAX_SAFE_INTEGER}),En.publish("postPutResources")},El=function(){En.publish("putAdditionalObjects");for(var cr=0;cr<Zr.length;cr++){var kr=Zr[cr];oi(kr.objId,!0),Fr(kr.content),Fr("endobj")}En.publish("postPutAdditionalObjects")},IA=function(cr){Xr[cr.fontName]=Xr[cr.fontName]||{},Xr[cr.fontName][cr.fontStyle]=cr.id},xo=function(cr,kr,mn,Tn,Mn){var ii={id:"F"+(Object.keys(Kr).length+1).toString(10),postScriptName:cr,fontName:kr,fontStyle:mn,encoding:Tn,isStandardFont:Mn||!1,metadata:{}};return En.publish("addFont",{font:ii,instance:this}),Kr[ii.id]=ii,IA(ii),ii.id},Zl=function(cr){for(var kr=0,mn=jr.length;kr<mn;kr++){var Tn=xo.call(this,cr[kr][0],cr[kr][1],cr[kr][2],jr[kr][3],!0);Ue===!1&&(ke[Tn]=!0);var Mn=cr[kr][0].split("-");IA({id:Tn,fontName:Mn[0],fontStyle:Mn[1]||""})}En.publish("addFonts",{fonts:Kr,dictionary:Xr})},ia=function(cr){return cr.foo=function(){try{return cr.apply(this,arguments)}catch(Tn){var kr=Tn.stack||"";~kr.indexOf(" at ")&&(kr=kr.split(" at ")[1]);var mn="Error in function "+kr.split(`
`)[0].split("<")[0]+": "+Tn.message;if(!n.console)throw new Error(mn);n.console.error(mn,Tn),n.alert&&alert(mn)}},cr.foo.bar=cr,cr.foo},_l=function(cr,kr){var mn,Tn,Mn,ii,Ei,Si,qe,gr,Br;if(Mn=(kr=kr||{}).sourceEncoding||"Unicode",Ei=kr.outputEncoding,(kr.autoencode||Ei)&&Kr[wi].metadata&&Kr[wi].metadata[Mn]&&Kr[wi].metadata[Mn].encoding&&(ii=Kr[wi].metadata[Mn].encoding,!Ei&&Kr[wi].encoding&&(Ei=Kr[wi].encoding),!Ei&&ii.codePages&&(Ei=ii.codePages[0]),typeof Ei=="string"&&(Ei=ii[Ei]),Ei)){for(qe=!1,Si=[],mn=0,Tn=cr.length;mn<Tn;mn++)(gr=Ei[cr.charCodeAt(mn)])?Si.push(String.fromCharCode(gr)):Si.push(cr[mn]),Si[mn].charCodeAt(0)>>8&&(qe=!0);cr=Si.join("")}for(mn=cr.length;qe===void 0&&mn!==0;)cr.charCodeAt(mn-1)>>8&&(qe=!0),mn--;if(!qe)return cr;for(Si=kr.noBOM?[]:[254,255],mn=0,Tn=cr.length;mn<Tn;mn++){if((Br=(gr=cr.charCodeAt(mn))>>8)>>8)throw new Error("Character at position "+mn+" of string '"+cr+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Si.push(Br),Si.push(gr-(Br<<8))}return String.fromCharCode.apply(void 0,Si)},ts=Oe.__private__.pdfEscape=Oe.pdfEscape=function(cr,kr){return _l(cr,kr).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sa=Oe.__private__.beginPage=function(cr){zr[++Pr]=[],Yr[Pr]={objId:0,contentsObjId:0,userUnit:Number(Re),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(cr[0]),topRightY:Number(cr[1])}},Ha(Pr),An(zr[tr])},Co=function(cr,kr){var mn,Tn,Mn;switch(Ae=kr||Ae,typeof cr=="string"&&(mn=Ve(cr.toLowerCase()),Array.isArray(mn)&&(Tn=mn[0],Mn=mn[1])),Array.isArray(cr)&&(Tn=cr[0]*Nr,Mn=cr[1]*Nr),isNaN(Tn)&&(Tn=xe[0],Mn=xe[1]),(Tn>14400||Mn>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Tn=Math.min(14400,Tn),Mn=Math.min(14400,Mn)),xe=[Tn,Mn],Ae.substr(0,1)){case"l":Mn>Tn&&(xe=[Mn,Tn]);break;case"p":Tn>Mn&&(xe=[Mn,Tn])}sa(xe),rA(Bo),Fr(aa),nA!==0&&Fr(nA+" J"),Zo!==0&&Fr(Zo+" j"),En.publish("addPage",{pageNumber:Pr})},So=function(cr){cr>0&&cr<=Pr&&(zr.splice(cr,1),Yr.splice(cr,1),Pr--,tr>Pr&&(tr=Pr),this.setPage(tr))},Ha=function(cr){cr>0&&cr<=Pr&&(tr=cr)},os=Oe.__private__.getNumberOfPages=Oe.getNumberOfPages=function(){return zr.length-1},To=function(cr,kr,mn){var Tn,Mn=void 0;return mn=mn||{},cr=cr!==void 0?cr:Kr[wi].fontName,kr=kr!==void 0?kr:Kr[wi].fontStyle,Tn=cr.toLowerCase(),Xr[Tn]!==void 0&&Xr[Tn][kr]!==void 0?Mn=Xr[Tn][kr]:Xr[cr]!==void 0&&Xr[cr][kr]!==void 0?Mn=Xr[cr][kr]:mn.disableWarning===!1&&a.warn("Unable to look up font label for font '"+cr+"', '"+kr+"'. Refer to getFontList() for available fonts."),Mn||mn.noFallback||(Mn=Xr.times[kr])==null&&(Mn=Xr.times.normal),Mn},Ca=Oe.__private__.putInfo=function(){var cr=ci(),kr=function(Tn){return Tn};for(var mn in Ie!==null&&(kr=ps.encryptor(cr,0)),Fr("<<"),Fr("/Producer ("+ts(kr("jsPDF "+E.version))+")"),ni)ni.hasOwnProperty(mn)&&ni[mn]&&Fr("/"+mn.substr(0,1).toUpperCase()+mn.substr(1)+" ("+ts(kr(ni[mn]))+")");Fr("/CreationDate ("+ts(kr(wr))+")"),Fr(">>"),Fr("endobj")},ao=Oe.__private__.putCatalog=function(cr){var kr=(cr=cr||{}).rootDictionaryObjId||fi;switch(ci(),Fr("<<"),Fr("/Type /Catalog"),Fr("/Pages "+kr+" 0 R"),pn||(pn="fullwidth"),pn){case"fullwidth":Fr("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Fr("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Fr("/OpenAction [3 0 R /Fit]");break;case"original":Fr("/OpenAction [3 0 R /XYZ null null 1]");break;default:var mn=""+pn;mn.substr(mn.length-1)==="%"&&(pn=parseInt(pn)/100),typeof pn=="number"&&Fr("/OpenAction [3 0 R /XYZ null null "+or(pn)+"]")}switch(Gn||(Gn="continuous"),Gn){case"continuous":Fr("/PageLayout /OneColumn");break;case"single":Fr("/PageLayout /SinglePage");break;case"two":case"twoleft":Fr("/PageLayout /TwoColumnLeft");break;case"tworight":Fr("/PageLayout /TwoColumnRight")}On&&Fr("/PageMode /"+On),En.publish("putCatalog"),Fr(">>"),Fr("endobj")},DA=Oe.__private__.putTrailer=function(){Fr("trailer"),Fr("<<"),Fr("/Size "+(Er+1)),Fr("/Root "+Er+" 0 R"),Fr("/Info "+(Er-1)+" 0 R"),Ie!==null&&Fr("/Encrypt "+ps.oid+" 0 R"),Fr("/ID [ <"+vr+"> <"+vr+"> ]"),Fr(">>")},$l=Oe.__private__.putHeader=function(){Fr("%PDF-"+je),Fr("%ºß¬à")},eA=Oe.__private__.putXRef=function(){var cr="0000000000";Fr("xref"),Fr("0 "+(Er+1)),Fr("0000000000 65535 f ");for(var kr=1;kr<=Er;kr++)typeof Rr[kr]=="function"?Fr((cr+Rr[kr]()).slice(-10)+" 00000 n "):Rr[kr]!==void 0?Fr((cr+Rr[kr]).slice(-10)+" 00000 n "):Fr("0000000000 00000 n ")},oo=Oe.__private__.buildDocument=function(){bn(),An(Tr),En.publish("buildDocument"),$l(),Zi(),El(),$s(),Ie!==null&&FA(),Ca(),ao();var cr=Ir;return eA(),DA(),Fr("startxref"),Fr(""+cr),Fr("%%EOF"),An(zr[tr]),Tr.join(`
`)},bl=Oe.__private__.getBlob=function(cr){return new Blob([Dr(cr)],{type:"application/pdf"})},lo=Oe.output=Oe.__private__.output=ia(function(cr,kr){switch(typeof(kr=kr||{})=="string"?kr={filename:kr}:kr.filename=kr.filename||"generated.pdf",cr){case void 0:return oo();case"save":Oe.save(kr.filename);break;case"arraybuffer":return Dr(oo());case"blob":return bl(oo());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(bl(oo()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var mn="",Tn=oo();try{mn=h(Tn)}catch{mn=h(unescape(encodeURIComponent(Tn)))}return"data:application/pdf;filename="+kr.filename+";base64,"+mn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Mn="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ii=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';kr.pdfObjectUrl&&(Mn=kr.pdfObjectUrl,ii="");var Ei='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Mn+'"'+ii+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(kr)+");<\/script></body></html>",Si=n.open();return Si!==null&&Si.document.write(Ei),Si}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(kr.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+kr.filename+'" width="500px" height="400px" /></body></html>',gr=n.open();if(gr!==null){gr.document.write(qe);var Br=this;gr.document.documentElement.querySelector("#pdfViewer").onload=function(){gr.document.title=kr.filename,gr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Br.output("bloburl"))}}return gr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",kr)+'"></iframe></body></html>',kn=n.open();if(kn!==null&&(kn.document.write(Gr),kn.document.title=kr.filename),kn||typeof safari>"u")return kn;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",kr);default:return null}}),Ka=function(cr){return Array.isArray(Zn)===!0&&Zn.indexOf(cr)>-1};switch(_e){case"pt":Nr=1;break;case"mm":Nr=72/25.4;break;case"cm":Nr=72/2.54;break;case"in":Nr=72;break;case"px":Nr=Ka("px_scaling")==1?.75:96/72;break;case"pc":case"em":Nr=12;break;case"ex":Nr=6;break;default:if(typeof _e!="number")throw new Error("Invalid unit: "+_e);Nr=_e}var ps=null;Sr(),Cr();var Ao=function(cr){return Ie!==null?ps.encryptor(cr,0):function(kr){return kr}},qa=Oe.__private__.getPageInfo=Oe.getPageInfo=function(cr){if(isNaN(cr)||cr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Yr[cr].objId,pageNumber:cr,pageContext:Yr[cr]}},Oi=Oe.__private__.getPageInfoByObjId=function(cr){if(isNaN(cr)||cr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var kr in Yr)if(Yr[kr].objId===cr)break;return qa(kr)},Ga=Oe.__private__.getCurrentPageInfo=Oe.getCurrentPageInfo=function(){return{objId:Yr[tr].objId,pageNumber:tr,pageContext:Yr[tr]}};Oe.addPage=function(){return Co.apply(this,arguments),this},Oe.setPage=function(){return Ha.apply(this,arguments),An.call(this,zr[tr]),this},Oe.insertPage=function(cr){return this.addPage(),this.movePage(tr,cr),this},Oe.movePage=function(cr,kr){var mn,Tn;if(cr>kr){mn=zr[cr],Tn=Yr[cr];for(var Mn=cr;Mn>kr;Mn--)zr[Mn]=zr[Mn-1],Yr[Mn]=Yr[Mn-1];zr[kr]=mn,Yr[kr]=Tn,this.setPage(kr)}else if(cr<kr){mn=zr[cr],Tn=Yr[cr];for(var ii=cr;ii<kr;ii++)zr[ii]=zr[ii+1],Yr[ii]=Yr[ii+1];zr[kr]=mn,Yr[kr]=Tn,this.setPage(kr)}return this},Oe.deletePage=function(){return So.apply(this,arguments),this},Oe.__private__.text=Oe.text=function(cr,kr,mn,Tn,Mn){var ii,Ei,Si,qe,gr,Br,Gr,kn,Jn,_i=(Tn=Tn||{}).scope||this;if(typeof cr=="number"&&typeof kr=="number"&&(typeof mn=="string"||Array.isArray(mn))){var ki=mn;mn=kr,kr=cr,cr=ki}if(arguments[3]instanceof wn?(Ge("The transform parameter of text() with a Matrix value"),Jn=Mn):(Si=arguments[4],qe=arguments[5],_typeof(Gr=arguments[3])==="object"&&Gr!==null||(typeof Si=="string"&&(qe=Si,Si=null),typeof Gr=="string"&&(qe=Gr,Gr=null),typeof Gr=="number"&&(Si=Gr,Gr=null),Tn={flags:Gr,angle:Si,align:qe})),isNaN(kr)||isNaN(mn)||cr==null)throw new Error("Invalid arguments passed to jsPDF.text");if(cr.length===0)return _i;var Yi="",Hi=!1,ls=typeof Tn.lineHeightFactor=="number"?Tn.lineHeightFactor:Xi,ds=_i.internal.scaleFactor;function Ya(zi){return zi=zi.split("	").join(Array(Tn.TabLen||9).join(" ")),ts(zi,Gr)}function Us(zi){for(var Wi,_s=zi.concat(),Ls=[],Za=_s.length;Za--;)typeof(Wi=_s.shift())=="string"?Ls.push(Wi):Array.isArray(zi)&&(Wi.length===1||Wi[1]===void 0&&Wi[2]===void 0)?Ls.push(Wi[0]):Ls.push([Wi[0],Wi[1],Wi[2]]);return Ls}function Ba(zi,Wi){var _s;if(typeof zi=="string")_s=Wi(zi)[0];else if(Array.isArray(zi)){for(var Ls,Za,Ll=zi.concat(),Ol=[],il=Ll.length;il--;)typeof(Ls=Ll.shift())=="string"?Ol.push(Wi(Ls)[0]):Array.isArray(Ls)&&typeof Ls[0]=="string"&&(Za=Wi(Ls[0],Ls[1],Ls[2]),Ol.push([Za[0],Za[1],Za[2]]));_s=Ol}return _s}var Uo=!1,Tl=!0;if(typeof cr=="string")Uo=!0;else if(Array.isArray(cr)){var OA=cr.concat();Ei=[];for(var iA,zs=OA.length;zs--;)(typeof(iA=OA.shift())!="string"||Array.isArray(iA)&&typeof iA[0]!="string")&&(Tl=!1);Uo=Tl}if(Uo===!1)throw new Error('Type of text must be string or Array. "'+cr+'" is not recognized.');typeof cr=="string"&&(cr=cr.match(/[\r?\n]/)?cr.split(/\r\n|\r|\n/g):[cr]);var Rl=hn/_i.internal.scaleFactor,sA=Rl*(ls-1);switch(Tn.baseline){case"bottom":mn-=sA;break;case"top":mn+=Rl-sA;break;case"hanging":mn+=Rl-2*sA;break;case"middle":mn+=Rl/2-sA}if((Br=Tn.maxWidth||0)>0&&(typeof cr=="string"?cr=_i.splitTextToSize(cr,Br):Object.prototype.toString.call(cr)==="[object Array]"&&(cr=cr.reduce(function(zi,Wi){return zi.concat(_i.splitTextToSize(Wi,Br))},[]))),ii={text:cr,x:kr,y:mn,options:Tn,mutex:{pdfEscape:ts,activeFontKey:wi,fonts:Kr,activeFontSize:hn}},En.publish("preProcessText",ii),cr=ii.text,Si=(Tn=ii.options).angle,!(Jn instanceof wn)&&Si&&typeof Si=="number"){Si*=Math.PI/180,Tn.rotationDirection===0&&(Si=-Si),ir===Xe.ADVANCED&&(Si=-Si);var aA=Math.cos(Si),kA=Math.sin(Si);Jn=new wn(aA,kA,-kA,aA,0,0)}else Si&&Si instanceof wn&&(Jn=Si);ir!==Xe.ADVANCED||Jn||(Jn=Nn),(gr=Tn.charSpace||Jo)!==void 0&&(Yi+=We(Je(gr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(kn=Tn.horizontalScale)!==void 0&&(Yi+=We(100*kn)+` Tz
`),Tn.lang;var Pa=-1,mu=Tn.renderingMode!==void 0?Tn.renderingMode:Tn.stroke,fc=_i.internal.getCurrentPageInfo().pageContext;switch(mu){case 0:case!1:case"fill":Pa=0;break;case 1:case!0:case"stroke":Pa=1;break;case 2:case"fillThenStroke":Pa=2;break;case 3:case"invisible":Pa=3;break;case 4:case"fillAndAddForClipping":Pa=4;break;case 5:case"strokeAndAddPathForClipping":Pa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pa=6;break;case 7:case"addToPathForClipping":Pa=7}var Oc=fc.usedRenderingMode!==void 0?fc.usedRenderingMode:-1;Pa!==-1?Yi+=Pa+` Tr
`:Oc!==-1&&(Yi+=`0 Tr
`),Pa!==-1&&(fc.usedRenderingMode=Pa),qe=Tn.align||"left";var Ja,ea=hn*ls,Bl=_i.internal.pageSize.getWidth(),pc=Kr[wi];gr=Tn.charSpace||Jo,Br=Tn.maxWidth||0,Gr=Object.assign({autoencode:!0,noBOM:!0},Tn.flags);var rl=[],Pl=function(zi){return _i.getStringUnitWidth(zi,{font:pc,charSpace:gr,fontSize:hn,doKerning:!1})*hn/ds};if(Object.prototype.toString.call(cr)==="[object Array]"){var va;Ei=Us(cr),qe!=="left"&&(Ja=Ei.map(Pl));var oa,Fl=0;if(qe==="right"){kr-=Ja[0],cr=[],zs=Ei.length;for(var Fa=0;Fa<zs;Fa++)Fa===0?(oa=ua(kr),va=Vs(mn)):(oa=Je(Fl-Ja[Fa]),va=-ea),cr.push([Ei[Fa],oa,va]),Fl=Ja[Fa]}else if(qe==="center"){kr-=Ja[0]/2,cr=[],zs=Ei.length;for(var fo=0;fo<zs;fo++)fo===0?(oa=ua(kr),va=Vs(mn)):(oa=Je((Fl-Ja[fo])/2),va=-ea),cr.push([Ei[fo],oa,va]),Fl=Ja[fo]}else if(qe==="left"){cr=[],zs=Ei.length;for(var Lo=0;Lo<zs;Lo++)cr.push(Ei[Lo])}else if(qe==="justify"&&pc.encoding==="Identity-H"){cr=[],zs=Ei.length,Br=Br!==0?Br:Bl;for(var po=0,Ps=0;Ps<zs;Ps++)if(va=Ps===0?Vs(mn):-ea,oa=Ps===0?ua(kr):po,Ps<zs-1){var go=Je((Br-Ja[Ps])/(Ei[Ps].split(" ").length-1)),Qs=Ei[Ps].split(" ");cr.push([Qs[0]+" ",oa,va]),po=0;for(var Ia=1;Ia<Qs.length;Ia++){var oA=(Pl(Qs[Ia-1]+" "+Qs[Ia])-Pl(Qs[Ia]))*ds+go;Ia==Qs.length-1?cr.push([Qs[Ia],oA,0]):cr.push([Qs[Ia]+" ",oA,0]),po-=oA}}else cr.push([Ei[Ps],oa,va]);cr.push(["",po,0])}else{if(qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(cr=[],zs=Ei.length,Br=Br!==0?Br:Bl,Ps=0;Ps<zs;Ps++)va=Ps===0?Vs(mn):-ea,oa=Ps===0?ua(kr):0,Ps<zs-1?rl.push(We(Je((Br-Ja[Ps])/(Ei[Ps].split(" ").length-1)))):rl.push(0),cr.push([Ei[Ps],oa,va])}}var Oo=typeof Tn.R2L=="boolean"?Tn.R2L:Dn;Oo===!0&&(cr=Ba(cr,function(zi,Wi,_s){return[zi.split("").reverse().join(""),Wi,_s]})),ii={text:cr,x:kr,y:mn,options:Tn,mutex:{pdfEscape:ts,activeFontKey:wi,fonts:Kr,activeFontSize:hn}},En.publish("postProcessText",ii),cr=ii.text,Hi=ii.mutex.isHex||!1;var MA=Kr[wi].encoding;MA!=="WinAnsiEncoding"&&MA!=="StandardEncoding"||(cr=Ba(cr,function(zi,Wi,_s){return[Ya(zi),Wi,_s]})),Ei=Us(cr),cr=[];for(var Il,Dl,Nl,lA=0,jA=1,Ul=Array.isArray(Ei[0])?jA:lA,nl="",AA=function(zi,Wi,_s){var Ls="";return _s instanceof wn?(_s=typeof Tn.angle=="number"?Rn(_s,new wn(1,0,0,1,zi,Wi)):Rn(new wn(1,0,0,1,zi,Wi),_s),ir===Xe.ADVANCED&&(_s=Rn(new wn(1,0,0,-1,0,0),_s)),Ls=_s.join(" ")+` Tm
`):Ls=We(zi)+" "+We(Wi)+` Td
`,Ls},Fs=0;Fs<Ei.length;Fs++){switch(nl="",Ul){case jA:Nl=(Hi?"<":"(")+Ei[Fs][0]+(Hi?">":")"),Il=parseFloat(Ei[Fs][1]),Dl=parseFloat(Ei[Fs][2]);break;case lA:Nl=(Hi?"<":"(")+Ei[Fs]+(Hi?">":")"),Il=ua(kr),Dl=Vs(mn)}rl!==void 0&&rl[Fs]!==void 0&&(nl=rl[Fs]+` Tw
`),Fs===0?cr.push(nl+AA(Il,Dl,Jn)+Nl):Ul===lA?cr.push(nl+Nl):Ul===jA&&cr.push(nl+AA(Il,Dl,Jn)+Nl)}cr=Ul===lA?cr.join(` Tj
T* `):cr.join(` Tj
`),cr+=` Tj
`;var ka=`BT
/`;return ka+=wi+" "+hn+` Tf
`,ka+=We(hn*ls)+` TL
`,ka+=uo+`
`,ka+=Yi,ka+=cr,Fr(ka+="ET"),ke[wi]=!0,_i};var NA=Oe.__private__.clip=Oe.clip=function(cr){return Fr(cr==="evenodd"?"W*":"W"),this};Oe.clipEvenOdd=function(){return NA("evenodd")},Oe.__private__.discardPath=Oe.discardPath=function(){return Fr("n"),this};var Aa=Oe.__private__.isValidStyle=function(cr){var kr=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(cr)!==-1&&(kr=!0),kr};Oe.__private__.setDefaultPathOperation=Oe.setDefaultPathOperation=function(cr){return Aa(cr)&&(Fe=cr),this};var Sa=Oe.__private__.getStyle=Oe.getStyle=function(cr){var kr=Fe;switch(cr){case"D":case"S":kr="S";break;case"F":kr="f";break;case"FD":case"DF":kr="B";break;case"f":case"f*":case"B":case"B*":kr=cr}return kr},ma=Oe.close=function(){return Fr("h"),this};Oe.stroke=function(){return Fr("S"),this},Oe.fill=function(cr){return za("f",cr),this},Oe.fillEvenOdd=function(cr){return za("f*",cr),this},Oe.fillStroke=function(cr){return za("B",cr),this},Oe.fillStrokeEvenOdd=function(cr){return za("B*",cr),this};var za=function(cr,kr){_typeof(kr)==="object"?co(kr,cr):Fr(cr)},Ta=function(cr){cr===null||ir===Xe.ADVANCED&&cr===void 0||(cr=Sa(cr),Fr(cr))};function Ro(cr,kr,mn,Tn,Mn){var ii=new M(kr||this.boundingBox,mn||this.xStep,Tn||this.yStep,this.gState,Mn||this.matrix);ii.stream=this.stream;var Ei=cr+"$$"+this.cloneIndex+++"$$";return zn(Ei,ii),ii}var co=function(cr,kr){var mn=vi[cr.key],Tn=Sn[mn];if(Tn instanceof B)Fr("q"),Fr(tA(kr)),Tn.gState&&Oe.setGState(Tn.gState),Fr(cr.matrix.toString()+" cm"),Fr("/"+mn+" sh"),Fr("Q");else if(Tn instanceof M){var Mn=new wn(1,0,0,-1,0,ha());cr.matrix&&(Mn=Mn.multiply(cr.matrix||Nn),mn=Ro.call(Tn,cr.key,cr.boundingBox,cr.xStep,cr.yStep,Mn).id),Fr("q"),Fr("/Pattern cs"),Fr("/"+mn+" scn"),Tn.gState&&Oe.setGState(Tn.gState),Fr(kr),Fr("Q")}},tA=function(cr){switch(cr){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ra=Oe.moveTo=function(cr,kr){return Fr(We(Je(cr))+" "+We(mr(kr))+" m"),this},ca=Oe.lineTo=function(cr,kr){return Fr(We(Je(cr))+" "+We(mr(kr))+" l"),this},Wa=Oe.curveTo=function(cr,kr,mn,Tn,Mn,ii){return Fr([We(Je(cr)),We(mr(kr)),We(Je(mn)),We(mr(Tn)),We(Je(Mn)),We(mr(ii)),"c"].join(" ")),this};Oe.__private__.line=Oe.line=function(cr,kr,mn,Tn,Mn){if(isNaN(cr)||isNaN(kr)||isNaN(mn)||isNaN(Tn)||!Aa(Mn))throw new Error("Invalid arguments passed to jsPDF.line");return ir===Xe.COMPAT?this.lines([[mn-cr,Tn-kr]],cr,kr,[1,1],Mn||"S"):this.lines([[mn-cr,Tn-kr]],cr,kr,[1,1]).stroke()},Oe.__private__.lines=Oe.lines=function(cr,kr,mn,Tn,Mn,ii){var Ei,Si,qe,gr,Br,Gr,kn,Jn,_i,ki,Yi,Hi;if(typeof cr=="number"&&(Hi=mn,mn=kr,kr=cr,cr=Hi),Tn=Tn||[1,1],ii=ii||!1,isNaN(kr)||isNaN(mn)||!Array.isArray(cr)||!Array.isArray(Tn)||!Aa(Mn)||typeof ii!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ra(kr,mn),Ei=Tn[0],Si=Tn[1],gr=cr.length,ki=kr,Yi=mn,qe=0;qe<gr;qe++)(Br=cr[qe]).length===2?(ki=Br[0]*Ei+ki,Yi=Br[1]*Si+Yi,ca(ki,Yi)):(Gr=Br[0]*Ei+ki,kn=Br[1]*Si+Yi,Jn=Br[2]*Ei+ki,_i=Br[3]*Si+Yi,ki=Br[4]*Ei+ki,Yi=Br[5]*Si+Yi,Wa(Gr,kn,Jn,_i,ki,Yi));return ii&&ma(),Ta(Mn),this},Oe.path=function(cr){for(var kr=0;kr<cr.length;kr++){var mn=cr[kr],Tn=mn.c;switch(mn.op){case"m":Ra(Tn[0],Tn[1]);break;case"l":ca(Tn[0],Tn[1]);break;case"c":Wa.apply(this,Tn);break;case"h":ma()}}return this},Oe.__private__.rect=Oe.rect=function(cr,kr,mn,Tn,Mn){if(isNaN(cr)||isNaN(kr)||isNaN(mn)||isNaN(Tn)||!Aa(Mn))throw new Error("Invalid arguments passed to jsPDF.rect");return ir===Xe.COMPAT&&(Tn=-Tn),Fr([We(Je(cr)),We(mr(kr)),We(Je(mn)),We(Je(Tn)),"re"].join(" ")),Ta(Mn),this},Oe.__private__.triangle=Oe.triangle=function(cr,kr,mn,Tn,Mn,ii,Ei){if(isNaN(cr)||isNaN(kr)||isNaN(mn)||isNaN(Tn)||isNaN(Mn)||isNaN(ii)||!Aa(Ei))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[mn-cr,Tn-kr],[Mn-mn,ii-Tn],[cr-Mn,kr-ii]],cr,kr,[1,1],Ei,!0),this},Oe.__private__.roundedRect=Oe.roundedRect=function(cr,kr,mn,Tn,Mn,ii,Ei){if(isNaN(cr)||isNaN(kr)||isNaN(mn)||isNaN(Tn)||isNaN(Mn)||isNaN(ii)||!Aa(Ei))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Si=4/3*(Math.SQRT2-1);return Mn=Math.min(Mn,.5*mn),ii=Math.min(ii,.5*Tn),this.lines([[mn-2*Mn,0],[Mn*Si,0,Mn,ii-ii*Si,Mn,ii],[0,Tn-2*ii],[0,ii*Si,-Mn*Si,ii,-Mn,ii],[2*Mn-mn,0],[-Mn*Si,0,-Mn,-ii*Si,-Mn,-ii],[0,2*ii-Tn],[0,-ii*Si,Mn*Si,-ii,Mn,-ii]],cr+Mn,kr,[1,1],Ei,!0),this},Oe.__private__.ellipse=Oe.ellipse=function(cr,kr,mn,Tn,Mn){if(isNaN(cr)||isNaN(kr)||isNaN(mn)||isNaN(Tn)||!Aa(Mn))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ii=4/3*(Math.SQRT2-1)*mn,Ei=4/3*(Math.SQRT2-1)*Tn;return Ra(cr+mn,kr),Wa(cr+mn,kr-Ei,cr+ii,kr-Tn,cr,kr-Tn),Wa(cr-ii,kr-Tn,cr-mn,kr-Ei,cr-mn,kr),Wa(cr-mn,kr+Ei,cr-ii,kr+Tn,cr,kr+Tn),Wa(cr+ii,kr+Tn,cr+mn,kr+Ei,cr+mn,kr),Ta(Mn),this},Oe.__private__.circle=Oe.circle=function(cr,kr,mn,Tn){if(isNaN(cr)||isNaN(kr)||isNaN(mn)||!Aa(Tn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(cr,kr,mn,mn,Tn)},Oe.setFont=function(cr,kr,mn){return mn&&(kr=nr(kr,mn)),wi=To(cr,kr,{disableWarning:!1}),this};var js=Oe.__private__.getFont=Oe.getFont=function(){return Kr[To.apply(Oe,arguments)]};Oe.__private__.getFontList=Oe.getFontList=function(){var cr,kr,mn={};for(cr in Xr)if(Xr.hasOwnProperty(cr))for(kr in mn[cr]=[],Xr[cr])Xr[cr].hasOwnProperty(kr)&&mn[cr].push(kr);return mn},Oe.addFont=function(cr,kr,mn,Tn,Mn){var ii=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ii.indexOf(arguments[3])!==-1?Mn=arguments[3]:arguments[3]&&ii.indexOf(arguments[3])==-1&&(mn=nr(mn,Tn)),Mn=Mn||"Identity-H",xo.call(this,cr,kr,mn,Mn)};var Xi,Bo=Ee.lineWidth||.200025,Xa=Oe.__private__.getLineWidth=Oe.getLineWidth=function(){return Bo},rA=Oe.__private__.setLineWidth=Oe.setLineWidth=function(cr){return Bo=cr,Fr(We(Je(cr))+" w"),this};Oe.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(cr,kr){if(cr=cr||[],kr=kr||0,isNaN(kr)||!Array.isArray(cr))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return cr=cr.map(function(mn){return We(Je(mn))}).join(" "),kr=We(Je(kr)),Fr("["+cr+"] "+kr+" d"),this};var Xo=Oe.__private__.getLineHeight=Oe.getLineHeight=function(){return hn*Xi};Oe.__private__.getLineHeight=Oe.getLineHeight=function(){return hn*Xi};var Yo=Oe.__private__.setLineHeightFactor=Oe.setLineHeightFactor=function(cr){return typeof(cr=cr||1.15)=="number"&&(Xi=cr),this},Oa=Oe.__private__.getLineHeightFactor=Oe.getLineHeightFactor=function(){return Xi};Yo(Ee.lineHeight);var ua=Oe.__private__.getHorizontalCoordinate=function(cr){return Je(cr)},Vs=Oe.__private__.getVerticalCoordinate=function(cr){return ir===Xe.ADVANCED?cr:Yr[tr].mediaBox.topRightY-Yr[tr].mediaBox.bottomLeftY-Je(cr)},UA=Oe.__private__.getHorizontalCoordinateString=Oe.getHorizontalCoordinateString=function(cr){return We(ua(cr))},Po=Oe.__private__.getVerticalCoordinateString=Oe.getVerticalCoordinateString=function(cr){return We(Vs(cr))},aa=Ee.strokeColor||"0 G";Oe.__private__.getStrokeColor=Oe.getDrawColor=function(){return bi(aa)},Oe.__private__.setStrokeColor=Oe.setDrawColor=function(cr,kr,mn,Tn){return aa=Ci({ch1:cr,ch2:kr,ch3:mn,ch4:Tn,pdfColorType:"draw",precision:2}),Fr(aa),this};var Fo=Ee.fillColor||"0 g";Oe.__private__.getFillColor=Oe.getFillColor=function(){return bi(Fo)},Oe.__private__.setFillColor=Oe.setFillColor=function(cr,kr,mn,Tn){return Fo=Ci({ch1:cr,ch2:kr,ch3:mn,ch4:Tn,pdfColorType:"fill",precision:2}),Fr(Fo),this};var uo=Ee.textColor||"0 g",wl=Oe.__private__.getTextColor=Oe.getTextColor=function(){return bi(uo)};Oe.__private__.setTextColor=Oe.setTextColor=function(cr,kr,mn,Tn){return uo=Ci({ch1:cr,ch2:kr,ch3:mn,ch4:Tn,pdfColorType:"text",precision:3}),this};var Jo=Ee.charSpace,xl=Oe.__private__.getCharSpace=Oe.getCharSpace=function(){return parseFloat(Jo||0)};Oe.__private__.setCharSpace=Oe.setCharSpace=function(cr){if(isNaN(cr))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jo=cr,this};var nA=0;Oe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Oe.__private__.setLineCap=Oe.setLineCap=function(cr){var kr=Oe.CapJoinStyles[cr];if(kr===void 0)throw new Error("Line cap style of '"+cr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nA=kr,Fr(kr+" J"),this};var Zo=0;Oe.__private__.setLineJoin=Oe.setLineJoin=function(cr){var kr=Oe.CapJoinStyles[cr];if(kr===void 0)throw new Error("Line join style of '"+cr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zo=kr,Fr(kr+" j"),this},Oe.__private__.setLineMiterLimit=Oe.__private__.setMiterLimit=Oe.setLineMiterLimit=Oe.setMiterLimit=function(cr){if(cr=cr||0,isNaN(cr))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Fr(We(Je(cr))+" M"),this},Oe.GState=j,Oe.setGState=function(cr){(cr=typeof cr=="string"?fr[Lr[cr]]:Io(null,cr)).equals(un)||(Fr("/"+cr.id+" gs"),un=cr)};var Io=function(cr,kr){if(!cr||!Lr[cr]){var mn=!1;for(var Tn in fr)if(fr.hasOwnProperty(Tn)&&fr[Tn].equals(kr)){mn=!0;break}if(mn)kr=fr[Tn];else{var Mn="GS"+(Object.keys(fr).length+1).toString(10);fr[Mn]=kr,kr.id=Mn}return cr&&(Lr[cr]=kr.id),En.publish("addGState",kr),kr}};Oe.addGState=function(cr,kr){return Io(cr,kr),this},Oe.saveGraphicsState=function(){return Fr("q"),br.push({key:wi,size:hn,color:uo}),this},Oe.restoreGraphicsState=function(){Fr("Q");var cr=br.pop();return wi=cr.key,hn=cr.size,uo=cr.color,un=null,this},Oe.setCurrentTransformationMatrix=function(cr){return Fr(cr.toString()+" cm"),this},Oe.comment=function(cr){return Fr("#"+cr),this};var $o=function(cr,kr){var mn=cr||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return mn},set:function(ii){isNaN(ii)||(mn=parseFloat(ii))}});var Tn=kr||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Tn},set:function(ii){isNaN(ii)||(Tn=parseFloat(ii))}});var Mn="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Mn},set:function(ii){Mn=ii.toString()}}),this},Cl=function(cr,kr,mn,Tn){$o.call(this,cr,kr),this.type="rect";var Mn=mn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Mn},set:function(Ei){isNaN(Ei)||(Mn=parseFloat(Ei))}});var ii=Tn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ii},set:function(Ei){isNaN(Ei)||(ii=parseFloat(Ei))}}),this},el=function(){this.page=Pr,this.currentPage=tr,this.pages=zr.slice(0),this.pagesContext=Yr.slice(0),this.x=In,this.y=Kn,this.matrix=si,this.width=No(tr),this.height=ha(tr),this.outputDestination=vn,this.id="",this.objectNumber=-1};el.prototype.restore=function(){Pr=this.page,tr=this.currentPage,Yr=this.pagesContext,zr=this.pages,In=this.x,Kn=this.y,si=this.matrix,tl(tr,this.width),Sl(tr,this.height),vn=this.outputDestination};var Do=function(cr,kr,mn,Tn,Mn){gn.push(new el),Pr=tr=0,zr=[],In=cr,Kn=kr,si=Mn,sa([mn,Tn])},LA=function(cr){if(Mr[cr])gn.pop().restore();else{var kr=new el,mn="Xo"+(Object.keys(Vr).length+1).toString(10);kr.id=mn,Mr[cr]=mn,Vr[mn]=kr,En.publish("addFormObject",kr),gn.pop().restore()}};for(var ho in Oe.beginFormObject=function(cr,kr,mn,Tn,Mn){return Do(cr,kr,mn,Tn,Mn),this},Oe.endFormObject=function(cr){return LA(cr),this},Oe.doFormObject=function(cr,kr){var mn=Vr[Mr[cr]];return Fr("q"),Fr(kr.toString()+" cm"),Fr("/"+mn.id+" Do"),Fr("Q"),this},Oe.getFormObject=function(cr){var kr=Vr[Mr[cr]];return{x:kr.x,y:kr.y,width:kr.width,height:kr.height,matrix:kr.matrix}},Oe.save=function(cr,kr){return cr=cr||"generated.pdf",(kr=kr||{}).returnPromise=kr.returnPromise||!1,kr.returnPromise===!1?(l(bl(oo()),cr),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(mn,Tn){try{var Mn=l(bl(oo()),cr);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),mn(Mn)}catch(ii){Tn(ii.message)}})},E.API)E.API.hasOwnProperty(ho)&&(ho==="events"&&E.API.events.length?function(cr,kr){var mn,Tn,Mn;for(Mn=kr.length-1;Mn!==-1;Mn--)mn=kr[Mn][0],Tn=kr[Mn][1],cr.subscribe.apply(cr,[mn].concat(typeof Tn=="function"?[Tn]:Tn))}(En,E.API.events):Oe[ho]=E.API[ho]);var No=Oe.getPageWidth=function(cr){return(Yr[cr=cr||tr].mediaBox.topRightX-Yr[cr].mediaBox.bottomLeftX)/Nr},tl=Oe.setPageWidth=function(cr,kr){Yr[cr].mediaBox.topRightX=kr*Nr+Yr[cr].mediaBox.bottomLeftX},ha=Oe.getPageHeight=function(cr){return(Yr[cr=cr||tr].mediaBox.topRightY-Yr[cr].mediaBox.bottomLeftY)/Nr},Sl=Oe.setPageHeight=function(cr,kr){Yr[cr].mediaBox.topRightY=kr*Nr+Yr[cr].mediaBox.bottomLeftY};return Oe.internal={pdfEscape:ts,getStyle:Sa,getFont:js,getFontSize:xn,getCharSpace:xl,getTextColor:wl,getLineHeight:Xo,getLineHeightFactor:Oa,getLineWidth:Xa,write:dn,getHorizontalCoordinate:ua,getVerticalCoordinate:Vs,getCoordinateString:UA,getVerticalCoordinateString:Po,collections:{},newObject:ci,newAdditionalObject:Bi,newObjectDeferred:ui,newObjectDeferredBegin:oi,getFilters:Pi,putStream:Ii,events:En,scaleFactor:Nr,pageSize:{getWidth:function(){return No(tr)},setWidth:function(cr){tl(tr,cr)},getHeight:function(){return ha(tr)},setHeight:function(cr){Sl(tr,cr)}},encryptionOptions:Ie,encryption:ps,getEncryptor:Ao,output:lo,getNumberOfPages:os,pages:zr,out:Fr,f2:or,f3:He,getPageInfo:qa,getPageInfoByObjId:Oi,getCurrentPageInfo:Ga,getPDFVersion:Ke,Point:$o,Rectangle:Cl,Matrix:wn,hasHotfix:Ka},Object.defineProperty(Oe.internal.pageSize,"width",{get:function(){return No(tr)},set:function(cr){tl(tr,cr)},enumerable:!0,configurable:!0}),Object.defineProperty(Oe.internal.pageSize,"height",{get:function(){return ha(tr)},set:function(cr){Sl(tr,cr)},enumerable:!0,configurable:!0}),Zl.call(Oe,jr),wi="F1",Co(xe,Ae),En.publish("initialized"),Oe}I.prototype.lsbFirstWord=function(Ee){return String.fromCharCode(Ee>>0&255,Ee>>8&255,Ee>>16&255,Ee>>24&255)},I.prototype.toHexString=function(Ee){return Ee.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(Ee){for(var t=[],Ae=0;Ae<Ee.length;Ae+=2)t.push(String.fromCharCode(parseInt(Ee.substr(Ae,2),16)));return t.join("")},I.prototype.processOwnerPassword=function(Ee,t){return P(x(t).substr(0,5),Ee)},I.prototype.encryptor=function(Ee,t){var Ae=x(this.encryptionKey+String.fromCharCode(255&Ee,Ee>>8&255,Ee>>16&255,255&t,t>>8&255)).substr(0,10);return function(_e){return P(Ae,_e)}},j.prototype.equals=function(Ee){var t,Ae="id,objectNumber,equals";if(!Ee||_typeof(Ee)!==_typeof(this))return!1;var _e=0;for(t in this)if(!(Ae.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!Ee.hasOwnProperty(t)||this[t]!==Ee[t])return!1;_e++}for(t in Ee)Ee.hasOwnProperty(t)&&Ae.indexOf(t)<0&&_e--;return _e===0},E.API={events:[]},E.version="3.0.1";var q=E.API,D=1,R=function(Ee){return Ee.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(Ee){return Ee.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(Ee){return Ee.toFixed(2)},z=function(Ee){return Ee.toFixed(5)};q.__acroform__={};var H=function(Ee,t){Ee.prototype=Object.create(t.prototype),Ee.prototype.constructor=Ee},W=function(Ee){return Ee*D},V=function(Ee){var t=new ut,Ae=At.internal.getHeight(Ee)||0,_e=At.internal.getWidth(Ee)||0;return t.BBox=[0,0,Number(U(_e)),Number(U(Ae))],t},G=q.__acroform__.setBit=function(Ee,t){if(Ee=Ee||0,t=t||0,isNaN(Ee)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return Ee|=1<<t},Y=q.__acroform__.clearBit=function(Ee,t){if(Ee=Ee||0,t=t||0,isNaN(Ee)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return Ee&=~(1<<t)},J=q.__acroform__.getBit=function(Ee,t){if(isNaN(Ee)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(Ee&1<<t)==0?0:1},X=q.__acroform__.getBitForPdf=function(Ee,t){if(isNaN(Ee)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(Ee,t-1)},K=q.__acroform__.setBitForPdf=function(Ee,t){if(isNaN(Ee)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(Ee,t-1)},Z=q.__acroform__.clearBitForPdf=function(Ee,t){if(isNaN(Ee)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(Ee,t-1)},$=q.__acroform__.calculateCoordinates=function(Ee,t){var Ae=t.internal.getHorizontalCoordinate,_e=t.internal.getVerticalCoordinate,xe=Ee[0],Ce=Ee[1],Se=Ee[2],Re=Ee[3],Be={};return Be.lowerLeft_X=Ae(xe)||0,Be.lowerLeft_Y=_e(Ce+Re)||0,Be.upperRight_X=Ae(xe+Se)||0,Be.upperRight_Y=_e(Ce)||0,[Number(U(Be.lowerLeft_X)),Number(U(Be.lowerLeft_Y)),Number(U(Be.upperRight_X)),Number(U(Be.upperRight_Y))]},Q=function(Ee){if(Ee.appearanceStreamContent)return Ee.appearanceStreamContent;if(Ee.V||Ee.DV){var t=[],Ae=Ee._V||Ee.DV,_e=tt(Ee,Ae),xe=Ee.scope.internal.getFont(Ee.fontName,Ee.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(Ee.scope.__private__.encodeColorString(Ee.color)),t.push("/"+xe+" "+U(_e.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(_e.text),t.push("ET"),t.push("Q"),t.push("EMC");var Ce=V(Ee);return Ce.scope=Ee.scope,Ce.stream=t.join(`
`),Ce}},tt=function(Ee,t){var Ae=Ee.fontSize===0?Ee.maxFontSize:Ee.fontSize,_e={text:"",fontSize:""},xe=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");xe=Ee.multiline?xe.map(function(He){return He.split(`
`)}):xe.map(function(He){return[He]});var Ce=Ae,Se=At.internal.getHeight(Ee)||0;Se=Se<0?-Se:Se;var Re=At.internal.getWidth(Ee)||0;Re=Re<0?-Re:Re;var Be=function(He,Je,$e){if(He+1<xe.length){var mr=Je+" "+xe[He+1][0];return et(mr,Ee,$e).width<=Re-4}return!1};Ce++;e:for(;Ce>0;){t="",Ce--;var Fe,Ie,Ue=et("3",Ee,Ce).height,ke=Ee.multiline?Se-Ce:(Se-Ue)/2,Oe=ke+=2,je=0,Ke=0,ze=0;if(Ce<=0){t=`(...) Tj
`,t+="% Width of Text: "+et(t,Ee,Ce=12).width+", FieldWidth:"+Re+`
`;break}for(var Ve="",Xe=0,ir=0;ir<xe.length;ir++)if(xe.hasOwnProperty(ir)){var sr=!1;if(xe[ir].length!==1&&ze!==xe[ir].length-1){if((Ue+2)*(Xe+2)+2>Se)continue e;Ve+=xe[ir][ze],sr=!0,Ke=ir,ir--}else{Ve=(Ve+=xe[ir][ze]+" ").substr(Ve.length-1)==" "?Ve.substr(0,Ve.length-1):Ve;var rr=parseInt(ir),nr=Be(rr,Ve,Ce),We=ir>=xe.length-1;if(nr&&!We){Ve+=" ",ze=0;continue}if(nr||We){if(We)Ke=rr;else if(Ee.multiline&&(Ue+2)*(Xe+2)+2>Se)continue e}else{if(!Ee.multiline||(Ue+2)*(Xe+2)+2>Se)continue e;Ke=rr}}for(var Ge="",Ze=je;Ze<=Ke;Ze++){var or=xe[Ze];if(Ee.multiline){if(Ze===Ke){Ge+=or[ze]+" ",ze=(ze+1)%or.length;continue}if(Ze===je){Ge+=or[or.length-1]+" ";continue}}Ge+=or[0]+" "}switch(Ge=Ge.substr(Ge.length-1)==" "?Ge.substr(0,Ge.length-1):Ge,Ie=et(Ge,Ee,Ce).width,Ee.textAlign){case"right":Fe=Re-Ie-2;break;case"center":Fe=(Re-Ie)/2;break;case"left":default:Fe=2}t+=U(Fe)+" "+U(Oe)+` Td
`,t+="("+R(Ge)+`) Tj
`,t+=-U(Fe)+` 0 Td
`,Oe=-(Ce+2),Ie=0,je=sr?Ke:Ke+1,Xe++,Ve=""}break}return _e.text=t,_e.fontSize=Ce,_e},et=function(Ee,t,Ae){var _e=t.scope.internal.getFont(t.fontName,t.fontStyle),xe=t.scope.getStringUnitWidth(Ee,{font:_e,fontSize:parseFloat(Ae),charSpace:0})*parseFloat(Ae);return{height:t.scope.getStringUnitWidth("3",{font:_e,fontSize:parseFloat(Ae),charSpace:0})*parseFloat(Ae)*1.5,width:xe}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(Ee,t){var Ae={type:"reference",object:Ee};t.internal.getPageInfo(Ee.page).pageContext.annotations.find(function(_e){return _e.type===Ae.type&&_e.object===Ae.object})===void 0&&t.internal.getPageInfo(Ee.page).pageContext.annotations.push(Ae)},it=function(Ee,t){for(var Ae in Ee)if(Ee.hasOwnProperty(Ae)){var _e=Ae,xe=Ee[Ae];t.internal.newObjectDeferredBegin(xe.objId,!0),_typeof(xe)==="object"&&typeof xe.putStream=="function"&&xe.putStream(),delete Ee[_e]}},at=function(Ee,t){if(t.scope=Ee,Ee.internal!==void 0&&(Ee.internal.acroformPlugin===void 0||Ee.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,Ee.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),Ee.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=Ee.internal.scaleFactor,Ee.internal.acroformPlugin.acroFormDictionaryRoot=new ht,Ee.internal.acroformPlugin.acroFormDictionaryRoot.scope=Ee,Ee.internal.acroformPlugin.acroFormDictionaryRoot._eventID=Ee.internal.events.subscribe("postPutResources",function(){(function(Ae){Ae.internal.events.unsubscribe(Ae.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete Ae.internal.acroformPlugin.acroFormDictionaryRoot._eventID,Ae.internal.acroformPlugin.printedOut=!0})(Ee)}),Ee.internal.events.subscribe("buildDocument",function(){(function(Ae){Ae.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var _e=Ae.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var xe in _e)if(_e.hasOwnProperty(xe)){var Ce=_e[xe];Ce.objId=void 0,Ce.hasAnnotation&&nt(Ce,Ae)}})(Ee)}),Ee.internal.events.subscribe("putCatalog",function(){(function(Ae){if(Ae.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");Ae.internal.write("/AcroForm "+Ae.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(Ee)}),Ee.internal.events.subscribe("postPutPages",function(Ae){(function(_e,xe){var Ce=!_e;for(var Se in _e||(xe.internal.newObjectDeferredBegin(xe.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),xe.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),_e=_e||xe.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(_e.hasOwnProperty(Se)){var Re=_e[Se],Be=[],Fe=Re.Rect;if(Re.Rect&&(Re.Rect=$(Re.Rect,xe)),xe.internal.newObjectDeferredBegin(Re.objId,!0),Re.DA=At.createDefaultAppearanceStream(Re),_typeof(Re)==="object"&&typeof Re.getKeyValueListForStream=="function"&&(Be=Re.getKeyValueListForStream()),Re.Rect=Fe,Re.hasAppearanceStream&&!Re.appearanceStreamContent){var Ie=Q(Re);Be.push({key:"AP",value:"<</N "+Ie+">>"}),xe.internal.acroformPlugin.xForms.push(Ie)}if(Re.appearanceStreamContent){var Ue="";for(var ke in Re.appearanceStreamContent)if(Re.appearanceStreamContent.hasOwnProperty(ke)){var Oe=Re.appearanceStreamContent[ke];if(Ue+="/"+ke+" ",Ue+="<<",Object.keys(Oe).length>=1||Array.isArray(Oe)){for(var Se in Oe)if(Oe.hasOwnProperty(Se)){var je=Oe[Se];typeof je=="function"&&(je=je.call(xe,Re)),Ue+="/"+Se+" "+je+" ",xe.internal.acroformPlugin.xForms.indexOf(je)>=0||xe.internal.acroformPlugin.xForms.push(je)}}else typeof(je=Oe)=="function"&&(je=je.call(xe,Re)),Ue+="/"+Se+" "+je,xe.internal.acroformPlugin.xForms.indexOf(je)>=0||xe.internal.acroformPlugin.xForms.push(je);Ue+=">>"}Be.push({key:"AP",value:`<<
`+Ue+">>"})}xe.internal.putStream({additionalKeyValues:Be,objectId:Re.objId}),xe.internal.out("endobj")}Ce&&it(xe.internal.acroformPlugin.xForms,xe)})(Ae,Ee)}),Ee.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(Ee,t,Ae){var _e=function(Se){return Se};if(Array.isArray(Ee)){for(var xe="[",Ce=0;Ce<Ee.length;Ce++)switch(Ce!==0&&(xe+=" "),_typeof(Ee[Ce])){case"boolean":case"number":case"object":xe+=Ee[Ce].toString();break;case"string":Ee[Ce].substr(0,1)!=="/"?(t!==void 0&&Ae&&(_e=Ae.internal.getEncryptor(t)),xe+="("+R(_e(Ee[Ce].toString()))+")"):xe+=Ee[Ce].toString()}return xe+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(Ee,t,Ae){var _e=function(xe){return xe};return t!==void 0&&Ae&&(_e=Ae.internal.getEncryptor(t)),(Ee=Ee||"").toString(),Ee="("+R(_e(Ee))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(Ee){this._objId=Ee}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var Ee=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:Ee,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var Ee=[],t=Object.getOwnPropertyNames(this).filter(function(Ce){return Ce!="content"&&Ce!="appearanceStreamContent"&&Ce!="scope"&&Ce!="objId"&&Ce.substring(0,1)!="_"});for(var Ae in t)if(Object.getOwnPropertyDescriptor(this,t[Ae]).configurable===!1){var _e=t[Ae],xe=this[_e];xe&&(Array.isArray(xe)?Ee.push({key:_e,value:ot(xe,this.objId,this.scope)}):xe instanceof ct?(xe.scope=this.scope,Ee.push({key:_e,value:xe.objId+" 0 R"})):typeof xe!="function"&&Ee.push({key:_e,value:xe}))}return Ee};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var Ee,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(Ae){t=Ae}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(Ae){Ee=Ae.trim()},get:function(){return Ee||null}})};H(ut,ct);var ht=function(){ct.call(this);var Ee,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(Ee){var Ae=function(_e){return _e};return this.scope&&(Ae=this.scope.internal.getEncryptor(this.objId)),"("+R(Ae(Ee))+")"}},set:function(Ae){Ee=Ae}})};H(ht,ct);var lt=function Ee(){ct.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(Ve){if(isNaN(Ve))throw new Error('Invalid value "'+Ve+'" for attribute F supplied.');t=Ve}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X(t,3)},set:function(Ve){Ve?this.F=K(t,3):this.F=Z(t,3)}});var Ae=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return Ae},set:function(Ve){if(isNaN(Ve))throw new Error('Invalid value "'+Ve+'" for attribute Ff supplied.');Ae=Ve}});var _e=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(_e.length!==0)return _e},set:function(Ve){_e=Ve!==void 0?Ve:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[0])?0:_e[0]},set:function(Ve){_e[0]=Ve}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[1])?0:_e[1]},set:function(Ve){_e[1]=Ve}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[2])?0:_e[2]},set:function(Ve){_e[2]=Ve}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[3])?0:_e[3]},set:function(Ve){_e[3]=Ve}});var xe="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return xe},set:function(Ve){switch(Ve){case"/Btn":case"/Tx":case"/Ch":case"/Sig":xe=Ve;break;default:throw new Error('Invalid value "'+Ve+'" for attribute FT supplied.')}}});var Ce=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Ce||Ce.length<1){if(this instanceof yt)return;Ce="FieldObject"+Ee.FieldNum++}var Ve=function(Xe){return Xe};return this.scope&&(Ve=this.scope.internal.getEncryptor(this.objId)),"("+R(Ve(Ce))+")"},set:function(Ve){Ce=Ve.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Ce},set:function(Ve){Ce=Ve}});var Se="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Se},set:function(Ve){Se=Ve}});var Re="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Re},set:function(Ve){Re=Ve}});var Be=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Be},set:function(Ve){Be=Ve}});var Fe=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Fe===void 0?50/D:Fe},set:function(Ve){Fe=Ve}});var Ie="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Ie},set:function(Ve){Ie=Ve}});var Ue="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Ue||this instanceof yt||this instanceof Nt))return st(Ue,this.objId,this.scope)},set:function(Ve){Ve=Ve.toString(),Ue=Ve}});var ke=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(ke)return this instanceof mt?ke:st(ke,this.objId,this.scope)},set:function(Ve){Ve=Ve.toString(),ke=this instanceof mt?Ve:Ve.substr(0,1)==="("?T(Ve.substr(1,Ve.length-2)):T(Ve)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(ke.substr(1,ke.length-1)):ke},set:function(Ve){Ve=Ve.toString(),ke=this instanceof mt?"/"+Ve:Ve}});var Oe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Oe)return Oe},set:function(Ve){this.V=Ve}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Oe)return this instanceof mt?Oe:st(Oe,this.objId,this.scope)},set:function(Ve){Ve=Ve.toString(),Oe=this instanceof mt?Ve:Ve.substr(0,1)==="("?T(Ve.substr(1,Ve.length-2)):T(Ve)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(Oe.substr(1,Oe.length-1)):Oe},set:function(Ve){Ve=Ve.toString(),Oe=this instanceof mt?"/"+Ve:Ve}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var je,Ke=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Ke},set:function(Ve){Ve=!!Ve,Ke=Ve}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(je)return je},set:function(Ve){je=Ve}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,1)},set:function(Ve){Ve?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,2)},set:function(Ve){Ve?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,3)},set:function(Ve){Ve?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var ze=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(ze!==null)return ze},set:function(Ve){if([0,1,2].indexOf(Ve)===-1)throw new Error('Invalid value "'+Ve+'" for attribute Q supplied.');ze=Ve}}),Object.defineProperty(this,"textAlign",{get:function(){var Ve;switch(ze){case 0:default:Ve="left";break;case 1:Ve="center";break;case 2:Ve="right"}return Ve},configurable:!0,enumerable:!0,set:function(Ve){switch(Ve){case"right":case 2:ze=2;break;case"center":case 1:ze=1;break;case"left":case 0:default:ze=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var Ee=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return Ee},set:function(Ae){Ee=Ae}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return Ee},set:function(Ae){Ee=Ae}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(t,this.objId,this.scope)},set:function(Ae){var _e,xe;xe=[],typeof(_e=Ae)=="string"&&(xe=function(Ce,Se,Re){Re||(Re=1);for(var Be,Fe=[];Be=Se.exec(Ce);)Fe.push(Be[Re]);return Fe}(_e,/\((.*?)\)/g)),t=xe}}),this.getOptions=function(){return t},this.setOptions=function(Ae){t=Ae,this.sort&&t.sort()},this.addOption=function(Ae){Ae=(Ae=Ae||"").toString(),t.push(Ae),this.sort&&t.sort()},this.removeOption=function(Ae,_e){for(_e=_e||!1,Ae=(Ae=Ae||"").toString();t.indexOf(Ae)!==-1&&(t.splice(t.indexOf(Ae),1),_e!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,18)},set:function(Ae){Ae?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,19)},set:function(Ae){this.combo===!0&&(Ae?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,20)},set:function(Ae){Ae?(this.Ff=K(this.Ff,20),t.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,22)},set:function(Ae){Ae?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(Ae){Ae?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,27)},set:function(Ae){Ae?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,15)},set:function(Ae){Ae?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,16)},set:function(Ae){Ae?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,17)},set:function(Ae){Ae?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(Ae){Ae?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var Ee,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Ae=function(Ce){return Ce};if(this.scope&&(Ae=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var _e,xe=[];for(_e in xe.push("<<"),t)xe.push("/"+_e+" ("+R(Ae(t[_e]))+")");return xe.push(">>"),xe.join(`
`)}},set:function(Ae){_typeof(Ae)==="object"&&(t=Ae)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(Ae){typeof Ae=="string"&&(t.CA=Ae)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Ee},set:function(Ae){Ee=Ae}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Ee.substr(1,Ee.length-1)},set:function(Ae){Ee="/"+Ae}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var Ee=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return Ee},set:function(t){Ee=t!==void 0?t:[]}})};H(bt,mt);var yt=function(){var Ee,t;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return Ee},set:function(xe){Ee=xe}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(xe){t=xe}});var Ae,_e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var xe=function(Re){return Re};this.scope&&(xe=this.scope.internal.getEncryptor(this.objId));var Ce,Se=[];for(Ce in Se.push("<<"),_e)Se.push("/"+Ce+" ("+R(xe(_e[Ce]))+")");return Se.push(">>"),Se.join(`
`)},set:function(xe){_typeof(xe)==="object"&&(_e=xe)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return _e.CA||""},set:function(xe){typeof xe=="string"&&(_e.CA=xe)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Ae},set:function(xe){Ae=xe}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Ae.substr(1,Ae.length-1)},set:function(xe){Ae="/"+xe}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(Ee){if(!("createAppearanceStream"in Ee)||!("getCA"in Ee))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var Ae=this.Kids[t];Ae.appearanceStreamContent=Ee.createAppearanceStream(Ae.optionName),Ae.caption=Ee.getCA()}},bt.prototype.createOption=function(Ee){var t=new yt;return t.Parent=this,t.optionName=Ee,this.Kids.push(t),xt.call(this.scope,t),t};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,13)},set:function(t){t?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,21)},set:function(t){t?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(t){t?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,24)},set:function(t){t?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,25)},set:function(t){t?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(t){t?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var Ee=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return Ee},set:function(t){Ee=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return Ee},set:function(t){Number.isInteger(t)&&(Ee=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,14)},set:function(Ee){Ee?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(Ee){var t=V(Ee);t.scope=Ee.scope;var Ae=[],_e=Ee.scope.internal.getFont(Ee.fontName,Ee.fontStyle).id,xe=Ee.scope.__private__.encodeColorString(Ee.color),Ce=tt(Ee,Ee.caption);return Ae.push("0.749023 g"),Ae.push("0 0 "+U(At.internal.getWidth(Ee))+" "+U(At.internal.getHeight(Ee))+" re"),Ae.push("f"),Ae.push("BMC"),Ae.push("q"),Ae.push("0 0 1 rg"),Ae.push("/"+_e+" "+U(Ce.fontSize)+" Tf "+xe),Ae.push("BT"),Ae.push(Ce.text),Ae.push("ET"),Ae.push("Q"),Ae.push("EMC"),t.stream=Ae.join(`
`),t},YesNormal:function(Ee){var t=V(Ee);t.scope=Ee.scope;var Ae=Ee.scope.internal.getFont(Ee.fontName,Ee.fontStyle).id,_e=Ee.scope.__private__.encodeColorString(Ee.color),xe=[],Ce=At.internal.getHeight(Ee),Se=At.internal.getWidth(Ee),Re=tt(Ee,Ee.caption);return xe.push("1 g"),xe.push("0 0 "+U(Se)+" "+U(Ce)+" re"),xe.push("f"),xe.push("q"),xe.push("0 0 1 rg"),xe.push("0 0 "+U(Se-1)+" "+U(Ce-1)+" re"),xe.push("W"),xe.push("n"),xe.push("0 g"),xe.push("BT"),xe.push("/"+Ae+" "+U(Re.fontSize)+" Tf "+_e),xe.push(Re.text),xe.push("ET"),xe.push("Q"),t.stream=xe.join(`
`),t},OffPushDown:function(Ee){var t=V(Ee);t.scope=Ee.scope;var Ae=[];return Ae.push("0.749023 g"),Ae.push("0 0 "+U(At.internal.getWidth(Ee))+" "+U(At.internal.getHeight(Ee))+" re"),Ae.push("f"),t.stream=Ae.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(Ee){var t={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return t.N[Ee]=At.RadioButton.Circle.YesNormal,t.D[Ee]=At.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(Ee){var t=V(Ee);t.scope=Ee.scope;var Ae=[],_e=At.internal.getWidth(Ee)<=At.internal.getHeight(Ee)?At.internal.getWidth(Ee)/4:At.internal.getHeight(Ee)/4;_e=Number((.9*_e).toFixed(5));var xe=At.internal.Bezier_C,Ce=Number((_e*xe).toFixed(5));return Ae.push("q"),Ae.push("1 0 0 1 "+z(At.internal.getWidth(Ee)/2)+" "+z(At.internal.getHeight(Ee)/2)+" cm"),Ae.push(_e+" 0 m"),Ae.push(_e+" "+Ce+" "+Ce+" "+_e+" 0 "+_e+" c"),Ae.push("-"+Ce+" "+_e+" -"+_e+" "+Ce+" -"+_e+" 0 c"),Ae.push("-"+_e+" -"+Ce+" -"+Ce+" -"+_e+" 0 -"+_e+" c"),Ae.push(Ce+" -"+_e+" "+_e+" -"+Ce+" "+_e+" 0 c"),Ae.push("f"),Ae.push("Q"),t.stream=Ae.join(`
`),t},YesPushDown:function(Ee){var t=V(Ee);t.scope=Ee.scope;var Ae=[],_e=At.internal.getWidth(Ee)<=At.internal.getHeight(Ee)?At.internal.getWidth(Ee)/4:At.internal.getHeight(Ee)/4;_e=Number((.9*_e).toFixed(5));var xe=Number((2*_e).toFixed(5)),Ce=Number((xe*At.internal.Bezier_C).toFixed(5)),Se=Number((_e*At.internal.Bezier_C).toFixed(5));return Ae.push("0.749023 g"),Ae.push("q"),Ae.push("1 0 0 1 "+z(At.internal.getWidth(Ee)/2)+" "+z(At.internal.getHeight(Ee)/2)+" cm"),Ae.push(xe+" 0 m"),Ae.push(xe+" "+Ce+" "+Ce+" "+xe+" 0 "+xe+" c"),Ae.push("-"+Ce+" "+xe+" -"+xe+" "+Ce+" -"+xe+" 0 c"),Ae.push("-"+xe+" -"+Ce+" -"+Ce+" -"+xe+" 0 -"+xe+" c"),Ae.push(Ce+" -"+xe+" "+xe+" -"+Ce+" "+xe+" 0 c"),Ae.push("f"),Ae.push("Q"),Ae.push("0 g"),Ae.push("q"),Ae.push("1 0 0 1 "+z(At.internal.getWidth(Ee)/2)+" "+z(At.internal.getHeight(Ee)/2)+" cm"),Ae.push(_e+" 0 m"),Ae.push(_e+" "+Se+" "+Se+" "+_e+" 0 "+_e+" c"),Ae.push("-"+Se+" "+_e+" -"+_e+" "+Se+" -"+_e+" 0 c"),Ae.push("-"+_e+" -"+Se+" -"+Se+" -"+_e+" 0 -"+_e+" c"),Ae.push(Se+" -"+_e+" "+_e+" -"+Se+" "+_e+" 0 c"),Ae.push("f"),Ae.push("Q"),t.stream=Ae.join(`
`),t},OffPushDown:function(Ee){var t=V(Ee);t.scope=Ee.scope;var Ae=[],_e=At.internal.getWidth(Ee)<=At.internal.getHeight(Ee)?At.internal.getWidth(Ee)/4:At.internal.getHeight(Ee)/4;_e=Number((.9*_e).toFixed(5));var xe=Number((2*_e).toFixed(5)),Ce=Number((xe*At.internal.Bezier_C).toFixed(5));return Ae.push("0.749023 g"),Ae.push("q"),Ae.push("1 0 0 1 "+z(At.internal.getWidth(Ee)/2)+" "+z(At.internal.getHeight(Ee)/2)+" cm"),Ae.push(xe+" 0 m"),Ae.push(xe+" "+Ce+" "+Ce+" "+xe+" 0 "+xe+" c"),Ae.push("-"+Ce+" "+xe+" -"+xe+" "+Ce+" -"+xe+" 0 c"),Ae.push("-"+xe+" -"+Ce+" -"+Ce+" -"+xe+" 0 -"+xe+" c"),Ae.push(Ce+" -"+xe+" "+xe+" -"+Ce+" "+xe+" 0 c"),Ae.push("f"),Ae.push("Q"),t.stream=Ae.join(`
`),t}},Cross:{createAppearanceStream:function(Ee){var t={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return t.N[Ee]=At.RadioButton.Cross.YesNormal,t.D[Ee]=At.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(Ee){var t=V(Ee);t.scope=Ee.scope;var Ae=[],_e=At.internal.calculateCross(Ee);return Ae.push("q"),Ae.push("1 1 "+U(At.internal.getWidth(Ee)-2)+" "+U(At.internal.getHeight(Ee)-2)+" re"),Ae.push("W"),Ae.push("n"),Ae.push(U(_e.x1.x)+" "+U(_e.x1.y)+" m"),Ae.push(U(_e.x2.x)+" "+U(_e.x2.y)+" l"),Ae.push(U(_e.x4.x)+" "+U(_e.x4.y)+" m"),Ae.push(U(_e.x3.x)+" "+U(_e.x3.y)+" l"),Ae.push("s"),Ae.push("Q"),t.stream=Ae.join(`
`),t},YesPushDown:function(Ee){var t=V(Ee);t.scope=Ee.scope;var Ae=At.internal.calculateCross(Ee),_e=[];return _e.push("0.749023 g"),_e.push("0 0 "+U(At.internal.getWidth(Ee))+" "+U(At.internal.getHeight(Ee))+" re"),_e.push("f"),_e.push("q"),_e.push("1 1 "+U(At.internal.getWidth(Ee)-2)+" "+U(At.internal.getHeight(Ee)-2)+" re"),_e.push("W"),_e.push("n"),_e.push(U(Ae.x1.x)+" "+U(Ae.x1.y)+" m"),_e.push(U(Ae.x2.x)+" "+U(Ae.x2.y)+" l"),_e.push(U(Ae.x4.x)+" "+U(Ae.x4.y)+" m"),_e.push(U(Ae.x3.x)+" "+U(Ae.x3.y)+" l"),_e.push("s"),_e.push("Q"),t.stream=_e.join(`
`),t},OffPushDown:function(Ee){var t=V(Ee);t.scope=Ee.scope;var Ae=[];return Ae.push("0.749023 g"),Ae.push("0 0 "+U(At.internal.getWidth(Ee))+" "+U(At.internal.getHeight(Ee))+" re"),Ae.push("f"),t.stream=Ae.join(`
`),t}}},createDefaultAppearanceStream:function(Ee){var t=Ee.scope.internal.getFont(Ee.fontName,Ee.fontStyle).id,Ae=Ee.scope.__private__.encodeColorString(Ee.color);return"/"+t+" "+Ee.fontSize+" Tf "+Ae}};At.internal={Bezier_C:.551915024494,calculateCross:function(Ee){var t=At.internal.getWidth(Ee),Ae=At.internal.getHeight(Ee),_e=Math.min(t,Ae);return{x1:{x:(t-_e)/2,y:(Ae-_e)/2+_e},x2:{x:(t-_e)/2+_e,y:(Ae-_e)/2},x3:{x:(t-_e)/2,y:(Ae-_e)/2},x4:{x:(t-_e)/2+_e,y:(Ae-_e)/2+_e}}}},At.internal.getWidth=function(Ee){var t=0;return _typeof(Ee)==="object"&&(t=W(Ee.Rect[2])),t},At.internal.getHeight=function(Ee){var t=0;return _typeof(Ee)==="object"&&(t=W(Ee.Rect[3])),t};var xt=q.addField=function(Ee){if(at(this,Ee),!(Ee instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=Ee).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),Ee.page=Ee.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};E.AcroForm;function _t(Ee){return Ee.reduce(function(t,Ae,_e){return t[Ae]=_e,t},{})}(function(Ee){Ee.__addimage__={};var t="UNKNOWN",Ae={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},_e=Ee.__addimage__.getImageFileTypeByImageData=function(He,Je){var $e,mr,wr,vr,ur,Cr=t;if((Je=Je||t)==="RGBA"||He.data!==void 0&&He.data instanceof Uint8ClampedArray&&"height"in He&&"width"in He)return"RGBA";if(nr(He))for(ur in Ae)for(wr=Ae[ur],$e=0;$e<wr.length;$e+=1){for(vr=!0,mr=0;mr<wr[$e].length;mr+=1)if(wr[$e][mr]!==void 0&&wr[$e][mr]!==He[mr]){vr=!1;break}if(vr===!0){Cr=ur;break}}else for(ur in Ae)for(wr=Ae[ur],$e=0;$e<wr.length;$e+=1){for(vr=!0,mr=0;mr<wr[$e].length;mr+=1)if(wr[$e][mr]!==void 0&&wr[$e][mr]!==He.charCodeAt(mr)){vr=!1;break}if(vr===!0){Cr=ur;break}}return Cr===t&&Je!==t&&(Cr=Je),Cr},xe=function He(Je){for(var $e=this.internal.write,mr=this.internal.putStream,wr=(0,this.internal.getFilters)();wr.indexOf("FlateEncode")!==-1;)wr.splice(wr.indexOf("FlateEncode"),1);Je.objectId=this.internal.newObject();var vr=[];if(vr.push({key:"Type",value:"/XObject"}),vr.push({key:"Subtype",value:"/Image"}),vr.push({key:"Width",value:Je.width}),vr.push({key:"Height",value:Je.height}),Je.colorSpace===ze.INDEXED?vr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Je.palette.length/3-1)+" "+("sMask"in Je&&Je.sMask!==void 0?Je.objectId+2:Je.objectId+1)+" 0 R]"}):(vr.push({key:"ColorSpace",value:"/"+Je.colorSpace}),Je.colorSpace===ze.DEVICE_CMYK&&vr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),vr.push({key:"BitsPerComponent",value:Je.bitsPerComponent}),"decodeParameters"in Je&&Je.decodeParameters!==void 0&&vr.push({key:"DecodeParms",value:"<<"+Je.decodeParameters+">>"}),"transparency"in Je&&Array.isArray(Je.transparency)){for(var ur="",Cr=0,_r=Je.transparency.length;Cr<_r;Cr++)ur+=Je.transparency[Cr]+" "+Je.transparency[Cr]+" ";vr.push({key:"Mask",value:"["+ur+"]"})}Je.sMask!==void 0&&vr.push({key:"SMask",value:Je.objectId+1+" 0 R"});var hr=Je.filter!==void 0?["/"+Je.filter]:void 0;if(mr({data:Je.data,additionalKeyValues:vr,alreadyAppliedFilters:hr,objectId:Je.objectId}),$e("endobj"),"sMask"in Je&&Je.sMask!==void 0){var Sr="/Predictor "+Je.predictor+" /Colors 1 /BitsPerComponent "+Je.bitsPerComponent+" /Columns "+Je.width,ar={width:Je.width,height:Je.height,colorSpace:"DeviceGray",bitsPerComponent:Je.bitsPerComponent,decodeParameters:Sr,data:Je.sMask};"filter"in Je&&(ar.filter=Je.filter),He.call(this,ar)}if(Je.colorSpace===ze.INDEXED){var tr=this.internal.newObject();mr({data:Ge(new Uint8Array(Je.palette)),objectId:tr}),$e("endobj")}},Ce=function(){var He=this.internal.collections.addImage_images;for(var Je in He)xe.call(this,He[Je])},Se=function(){var He,Je=this.internal.collections.addImage_images,$e=this.internal.write;for(var mr in Je)$e("/I"+(He=Je[mr]).index,He.objectId,"0","R")},Re=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",Ce),this.internal.events.subscribe("putXobjectDict",Se))},Be=function(){var He=this.internal.collections.addImage_images;return Re.call(this),He},Fe=function(){return Object.keys(this.internal.collections.addImage_images).length},Ie=function(He){return typeof Ee["process"+He.toUpperCase()]=="function"},Ue=function(He){return _typeof(He)==="object"&&He.nodeType===1},ke=function(He,Je){if(He.nodeName==="IMG"&&He.hasAttribute("src")){var $e=""+He.getAttribute("src");if($e.indexOf("data:image/")===0)return u(unescape($e).split("base64,").pop());var mr=Ee.loadFile($e,!0);if(mr!==void 0)return mr}if(He.nodeName==="CANVAS"){if(He.width===0||He.height===0)throw new Error("Given canvas must have data. Canvas width: "+He.width+", height: "+He.height);var wr;switch(Je){case"PNG":wr="image/png";break;case"WEBP":wr="image/webp";break;case"JPEG":case"JPG":default:wr="image/jpeg"}return u(He.toDataURL(wr,1).split("base64,").pop())}},Oe=function(He){var Je=this.internal.collections.addImage_images;if(Je){for(var $e in Je)if(He===Je[$e].alias)return Je[$e]}},je=function(He,Je,$e){return He||Je||(He=-96,Je=-96),He<0&&(He=-1*$e.width*72/He/this.internal.scaleFactor),Je<0&&(Je=-1*$e.height*72/Je/this.internal.scaleFactor),He===0&&(He=Je*$e.width/$e.height),Je===0&&(Je=He*$e.height/$e.width),[He,Je]},Ke=function(He,Je,$e,mr,wr,vr){var ur=je.call(this,$e,mr,wr),Cr=this.internal.getCoordinateString,_r=this.internal.getVerticalCoordinateString,hr=Be.call(this);if($e=ur[0],mr=ur[1],hr[wr.index]=wr,vr){vr*=Math.PI/180;var Sr=Math.cos(vr),ar=Math.sin(vr),tr=function(pr){return pr.toFixed(4)},lr=[tr(Sr),tr(ar),tr(-1*ar),tr(Sr),0,0,"cm"]}this.internal.write("q"),vr?(this.internal.write([1,"0","0",1,Cr(He),_r(Je+mr),"cm"].join(" ")),this.internal.write(lr.join(" ")),this.internal.write([Cr($e),"0","0",Cr(mr),"0","0","cm"].join(" "))):this.internal.write([Cr($e),"0","0",Cr(mr),Cr(He),_r(Je+mr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+wr.index+" Do"),this.internal.write("Q")},ze=Ee.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};Ee.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Ve=Ee.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Xe=Ee.__addimage__.sHashCode=function(He){var Je,$e,mr=0;if(typeof He=="string")for($e=He.length,Je=0;Je<$e;Je++)mr=(mr<<5)-mr+He.charCodeAt(Je),mr|=0;else if(nr(He))for($e=He.byteLength/2,Je=0;Je<$e;Je++)mr=(mr<<5)-mr+He[Je],mr|=0;return mr},ir=Ee.__addimage__.validateStringAsBase64=function(He){(He=He||"").toString().trim();var Je=!0;return He.length===0&&(Je=!1),He.length%4!=0&&(Je=!1),/^[A-Za-z0-9+/]+$/.test(He.substr(0,He.length-2))===!1&&(Je=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(He.substr(-2))===!1&&(Je=!1),Je},sr=Ee.__addimage__.extractImageFromDataUrl=function(He){if(He==null||!(He=He.trim()).startsWith("data:"))return null;var Je=He.indexOf(",");return Je<0?null:He.substring(0,Je).trim().endsWith("base64")?He.substring(Je+1):null},rr=Ee.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};Ee.__addimage__.isArrayBuffer=function(He){return rr()&&He instanceof ArrayBuffer};var nr=Ee.__addimage__.isArrayBufferView=function(He){return rr()&&typeof Uint32Array<"u"&&(He instanceof Int8Array||He instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&He instanceof Uint8ClampedArray||He instanceof Int16Array||He instanceof Uint16Array||He instanceof Int32Array||He instanceof Uint32Array||He instanceof Float32Array||He instanceof Float64Array)},We=Ee.__addimage__.binaryStringToUint8Array=function(He){for(var Je=He.length,$e=new Uint8Array(Je),mr=0;mr<Je;mr++)$e[mr]=He.charCodeAt(mr);return $e},Ge=Ee.__addimage__.arrayBufferToBinaryString=function(He){for(var Je="",$e=nr(He)?He:new Uint8Array(He),mr=0;mr<$e.length;mr+=8192)Je+=String.fromCharCode.apply(null,$e.subarray(mr,mr+8192));return Je};Ee.addImage=function(){var He,Je,$e,mr,wr,vr,ur,Cr,_r;if(typeof arguments[1]=="number"?(Je=t,$e=arguments[1],mr=arguments[2],wr=arguments[3],vr=arguments[4],ur=arguments[5],Cr=arguments[6],_r=arguments[7]):(Je=arguments[1],$e=arguments[2],mr=arguments[3],wr=arguments[4],vr=arguments[5],ur=arguments[6],Cr=arguments[7],_r=arguments[8]),_typeof(He=arguments[0])==="object"&&!Ue(He)&&"imageData"in He){var hr=He;He=hr.imageData,Je=hr.format||Je||t,$e=hr.x||$e||0,mr=hr.y||mr||0,wr=hr.w||hr.width||wr,vr=hr.h||hr.height||vr,ur=hr.alias||ur,Cr=hr.compression||Cr,_r=hr.rotation||hr.angle||_r}var Sr=this.internal.getFilters();if(Cr===void 0&&Sr.indexOf("FlateEncode")!==-1&&(Cr="SLOW"),isNaN($e)||isNaN(mr))throw new Error("Invalid coordinates passed to jsPDF.addImage");Re.call(this);var ar=Ze.call(this,He,Je,ur,Cr);return Ke.call(this,$e,mr,wr,vr,ar,_r),this};var Ze=function(He,Je,$e,mr){var wr,vr,ur;if(typeof He=="string"&&_e(He)===t){He=unescape(He);var Cr=or(He,!1);(Cr!==""||(Cr=Ee.loadFile(He,!0))!==void 0)&&(He=Cr)}if(Ue(He)&&(He=ke(He,Je)),Je=_e(He,Je),!Ie(Je))throw new Error("addImage does not support files of type '"+Je+"', please ensure that a plugin for '"+Je+"' support is added.");if(((ur=$e)==null||ur.length===0)&&($e=function(_r){return typeof _r=="string"||nr(_r)?Xe(_r):nr(_r.data)?Xe(_r.data):null}(He)),(wr=Oe.call(this,$e))||(rr()&&(He instanceof Uint8Array||Je==="RGBA"||(vr=He,He=We(He))),wr=this["process"+Je.toUpperCase()](He,Fe.call(this),$e,function(_r){return _r&&typeof _r=="string"&&(_r=_r.toUpperCase()),_r in Ee.image_compression?_r:Ve.NONE}(mr),vr)),!wr)throw new Error("An unknown error occurred whilst processing the image.");return wr},or=Ee.__addimage__.convertBase64ToBinaryString=function(He,Je){Je=typeof Je!="boolean"||Je;var $e,mr="";if(typeof He=="string"){var wr;$e=(wr=sr(He))!==null&&wr!==void 0?wr:He;try{mr=u($e)}catch(vr){if(Je)throw ir($e)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+vr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return mr};Ee.getImageProperties=function(He){var Je,$e,mr="";if(Ue(He)&&(He=ke(He)),typeof He=="string"&&_e(He)===t&&((mr=or(He,!1))===""&&(mr=Ee.loadFile(He)||""),He=mr),$e=_e(He),!Ie($e))throw new Error("addImage does not support files of type '"+$e+"', please ensure that a plugin for '"+$e+"' support is added.");if(!rr()||He instanceof Uint8Array||(He=We(He)),!(Je=this["process"+$e.toUpperCase()](He)))throw new Error("An unknown error occurred whilst processing the image");return Je.fileType=$e,Je}})(E.API),function(Ee){var t=function(Ae){if(Ae!==void 0&&Ae!="")return!0};E.API.events.push(["addPage",function(Ae){this.internal.getPageInfo(Ae.pageNumber).pageContext.annotations=[]}]),Ee.events.push(["putPage",function(Ae){for(var _e,xe,Ce,Se=this.internal.getCoordinateString,Re=this.internal.getVerticalCoordinateString,Be=this.internal.getPageInfoByObjId(Ae.objId),Fe=Ae.pageContext.annotations,Ie=!1,Ue=0;Ue<Fe.length&&!Ie;Ue++)switch((_e=Fe[Ue]).type){case"link":(t(_e.options.url)||t(_e.options.pageNumber))&&(Ie=!0);break;case"reference":case"text":case"freetext":Ie=!0}if(Ie!=0){this.internal.write("/Annots [");for(var ke=0;ke<Fe.length;ke++){_e=Fe[ke];var Oe=this.internal.pdfEscape,je=this.internal.getEncryptor(Ae.objId);switch(_e.type){case"reference":this.internal.write(" "+_e.object.objId+" 0 R ");break;case"text":var Ke=this.internal.newAdditionalObject(),ze=this.internal.newAdditionalObject(),Ve=this.internal.getEncryptor(Ke.objId),Xe=_e.title||"Note";Ce="<</Type /Annot /Subtype /Text "+(xe="/Rect ["+Se(_e.bounds.x)+" "+Re(_e.bounds.y+_e.bounds.h)+" "+Se(_e.bounds.x+_e.bounds.w)+" "+Re(_e.bounds.y)+"] ")+"/Contents ("+Oe(Ve(_e.contents))+")",Ce+=" /Popup "+ze.objId+" 0 R",Ce+=" /P "+Be.objId+" 0 R",Ce+=" /T ("+Oe(Ve(Xe))+") >>",Ke.content=Ce;var ir=Ke.objId+" 0 R";Ce="<</Type /Annot /Subtype /Popup "+(xe="/Rect ["+Se(_e.bounds.x+30)+" "+Re(_e.bounds.y+_e.bounds.h)+" "+Se(_e.bounds.x+_e.bounds.w+30)+" "+Re(_e.bounds.y)+"] ")+" /Parent "+ir,_e.open&&(Ce+=" /Open true"),Ce+=" >>",ze.content=Ce,this.internal.write(Ke.objId,"0 R",ze.objId,"0 R");break;case"freetext":xe="/Rect ["+Se(_e.bounds.x)+" "+Re(_e.bounds.y)+" "+Se(_e.bounds.x+_e.bounds.w)+" "+Re(_e.bounds.y+_e.bounds.h)+"] ";var sr=_e.color||"#000000";Ce="<</Type /Annot /Subtype /FreeText "+xe+"/Contents ("+Oe(je(_e.contents))+")",Ce+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+sr+")",Ce+=" /Border [0 0 0]",Ce+=" >>",this.internal.write(Ce);break;case"link":if(_e.options.name){var rr=this.annotations._nameMap[_e.options.name];_e.options.pageNumber=rr.page,_e.options.top=rr.y}else _e.options.top||(_e.options.top=0);if(xe="/Rect ["+_e.finalBounds.x+" "+_e.finalBounds.y+" "+_e.finalBounds.w+" "+_e.finalBounds.h+"] ",Ce="",_e.options.url)Ce="<</Type /Annot /Subtype /Link "+xe+"/Border [0 0 0] /A <</S /URI /URI ("+Oe(je(_e.options.url))+") >>";else if(_e.options.pageNumber)switch(Ce="<</Type /Annot /Subtype /Link "+xe+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(_e.options.pageNumber).objId+" 0 R",_e.options.magFactor=_e.options.magFactor||"XYZ",_e.options.magFactor){case"Fit":Ce+=" /Fit]";break;case"FitH":Ce+=" /FitH "+_e.options.top+"]";break;case"FitV":_e.options.left=_e.options.left||0,Ce+=" /FitV "+_e.options.left+"]";break;case"XYZ":default:var nr=Re(_e.options.top);_e.options.left=_e.options.left||0,_e.options.zoom===void 0&&(_e.options.zoom=0),Ce+=" /XYZ "+_e.options.left+" "+nr+" "+_e.options.zoom+"]"}Ce!=""&&(Ce+=" >>",this.internal.write(Ce))}}this.internal.write("]")}}]),Ee.createAnnotation=function(Ae){var _e=this.internal.getCurrentPageInfo();switch(Ae.type){case"link":this.link(Ae.bounds.x,Ae.bounds.y,Ae.bounds.w,Ae.bounds.h,Ae);break;case"text":case"freetext":_e.pageContext.annotations.push(Ae)}},Ee.link=function(Ae,_e,xe,Ce,Se){var Re=this.internal.getCurrentPageInfo(),Be=this.internal.getCoordinateString,Fe=this.internal.getVerticalCoordinateString;Re.pageContext.annotations.push({finalBounds:{x:Be(Ae),y:Fe(_e),w:Be(Ae+xe),h:Fe(_e+Ce)},options:Se,type:"link"})},Ee.textWithLink=function(Ae,_e,xe,Ce){var Se,Re,Be=this.getTextWidth(Ae),Fe=this.internal.getLineHeight()/this.internal.scaleFactor;if(Ce.maxWidth!==void 0){Re=Ce.maxWidth;var Ie=this.splitTextToSize(Ae,Re).length;Se=Math.ceil(Fe*Ie)}else Re=Be,Se=Fe;return this.text(Ae,_e,xe,Ce),xe+=.2*Fe,Ce.align==="center"&&(_e-=Be/2),Ce.align==="right"&&(_e-=Be),this.link(_e,xe-Fe,Re,Se,Ce),Be},Ee.getTextWidth=function(Ae){var _e=this.internal.getFontSize();return this.getStringUnitWidth(Ae)*_e/this.internal.scaleFactor}}(E.API),function(Ee){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},Ae={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},_e={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},xe=[1570,1571,1573,1575];Ee.__arabicParser__={};var Ce=Ee.__arabicParser__.isInArabicSubstitutionA=function(Ke){return t[Ke.charCodeAt(0)]!==void 0},Se=Ee.__arabicParser__.isArabicLetter=function(Ke){return typeof Ke=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Ke)},Re=Ee.__arabicParser__.isArabicEndLetter=function(Ke){return Se(Ke)&&Ce(Ke)&&t[Ke.charCodeAt(0)].length<=2},Be=Ee.__arabicParser__.isArabicAlfLetter=function(Ke){return Se(Ke)&&xe.indexOf(Ke.charCodeAt(0))>=0};Ee.__arabicParser__.arabicLetterHasIsolatedForm=function(Ke){return Se(Ke)&&Ce(Ke)&&t[Ke.charCodeAt(0)].length>=1};var Fe=Ee.__arabicParser__.arabicLetterHasFinalForm=function(Ke){return Se(Ke)&&Ce(Ke)&&t[Ke.charCodeAt(0)].length>=2};Ee.__arabicParser__.arabicLetterHasInitialForm=function(Ke){return Se(Ke)&&Ce(Ke)&&t[Ke.charCodeAt(0)].length>=3};var Ie=Ee.__arabicParser__.arabicLetterHasMedialForm=function(Ke){return Se(Ke)&&Ce(Ke)&&t[Ke.charCodeAt(0)].length==4},Ue=Ee.__arabicParser__.resolveLigatures=function(Ke){var ze=0,Ve=Ae,Xe="",ir=0;for(ze=0;ze<Ke.length;ze+=1)Ve[Ke.charCodeAt(ze)]!==void 0?(ir++,typeof(Ve=Ve[Ke.charCodeAt(ze)])=="number"&&(Xe+=String.fromCharCode(Ve),Ve=Ae,ir=0),ze===Ke.length-1&&(Ve=Ae,Xe+=Ke.charAt(ze-(ir-1)),ze-=ir-1,ir=0)):(Ve=Ae,Xe+=Ke.charAt(ze-ir),ze-=ir,ir=0);return Xe};Ee.__arabicParser__.isArabicDiacritic=function(Ke){return Ke!==void 0&&_e[Ke.charCodeAt(0)]!==void 0};var ke=Ee.__arabicParser__.getCorrectForm=function(Ke,ze,Ve){return Se(Ke)?Ce(Ke)===!1?-1:!Fe(Ke)||!Se(ze)&&!Se(Ve)||!Se(Ve)&&Re(ze)||Re(Ke)&&!Se(ze)||Re(Ke)&&Be(ze)||Re(Ke)&&Re(ze)?0:Ie(Ke)&&Se(ze)&&!Re(ze)&&Se(Ve)&&Fe(Ve)?3:Re(Ke)||!Se(Ve)?1:2:-1},Oe=function(Ke){var ze=0,Ve=0,Xe=0,ir="",sr="",rr="",nr=(Ke=Ke||"").split("\\s+"),We=[];for(ze=0;ze<nr.length;ze+=1){for(We.push(""),Ve=0;Ve<nr[ze].length;Ve+=1)ir=nr[ze][Ve],sr=nr[ze][Ve-1],rr=nr[ze][Ve+1],Se(ir)?(Xe=ke(ir,sr,rr),We[ze]+=Xe!==-1?String.fromCharCode(t[ir.charCodeAt(0)][Xe]):ir):We[ze]+=ir;We[ze]=Ue(We[ze])}return We.join(" ")},je=Ee.__arabicParser__.processArabic=Ee.processArabic=function(){var Ke,ze=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Ve=[];if(Array.isArray(ze)){var Xe=0;for(Ve=[],Xe=0;Xe<ze.length;Xe+=1)Array.isArray(ze[Xe])?Ve.push([Oe(ze[Xe][0]),ze[Xe][1],ze[Xe][2]]):Ve.push([Oe(ze[Xe])]);Ke=Ve}else Ke=Oe(ze);return typeof arguments[0]=="string"?Ke:(arguments[0].text=Ke,arguments[0])};Ee.events.push(["preProcessText",je])}(E.API),E.API.autoPrint=function(Ee){var t;switch((Ee=Ee||{}).variant=Ee.variant||"non-conform",Ee.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(Ee){var t=function(){var Ae=void 0;Object.defineProperty(this,"pdf",{get:function(){return Ae},set:function(Re){Ae=Re}});var _e=150;Object.defineProperty(this,"width",{get:function(){return _e},set:function(Re){_e=isNaN(Re)||Number.isInteger(Re)===!1||Re<0?150:Re,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=_e+1)}});var xe=300;Object.defineProperty(this,"height",{get:function(){return xe},set:function(Re){xe=isNaN(Re)||Number.isInteger(Re)===!1||Re<0?300:Re,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=xe+1)}});var Ce=[];Object.defineProperty(this,"childNodes",{get:function(){return Ce},set:function(Re){Ce=Re}});var Se={};Object.defineProperty(this,"style",{get:function(){return Se},set:function(Re){Se=Re}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(Ae,_e){var xe;if((Ae=Ae||"2d")!=="2d")return null;for(xe in _e)this.pdf.context2d.hasOwnProperty(xe)&&(this.pdf.context2d[xe]=_e[xe]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},Ee.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(E.API),function(Ee){var t={left:0,top:0,bottom:0,right:0},Ae=!1,_e=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),xe.call(this))},xe=function(){this.internal.__cell__.lastCell=new Ce,this.internal.__cell__.pages=1},Ce=function(){var Be=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Be},set:function(Ke){Be=Ke}});var Fe=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Fe},set:function(Ke){Fe=Ke}});var Ie=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Ie},set:function(Ke){Ie=Ke}});var Ue=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Ue},set:function(Ke){Ue=Ke}});var ke=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return ke},set:function(Ke){ke=Ke}});var Oe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Oe},set:function(Ke){Oe=Ke}});var je=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return je},set:function(Ke){je=Ke}}),this};Ce.prototype.clone=function(){return new Ce(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Ce.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},Ee.setHeaderFunction=function(Be){return _e.call(this),this.internal.__cell__.headerFunction=typeof Be=="function"?Be:void 0,this},Ee.getTextDimensions=function(Be,Fe){_e.call(this);var Ie=(Fe=Fe||{}).fontSize||this.getFontSize(),Ue=Fe.font||this.getFont(),ke=Fe.scaleFactor||this.internal.scaleFactor,Oe=0,je=0,Ke=0,ze=this;if(!Array.isArray(Be)&&typeof Be!="string"){if(typeof Be!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Be=String(Be)}var Ve=Fe.maxWidth;Ve>0?typeof Be=="string"?Be=this.splitTextToSize(Be,Ve):Object.prototype.toString.call(Be)==="[object Array]"&&(Be=Be.reduce(function(ir,sr){return ir.concat(ze.splitTextToSize(sr,Ve))},[])):Be=Array.isArray(Be)?Be:[Be];for(var Xe=0;Xe<Be.length;Xe++)Oe<(Ke=this.getStringUnitWidth(Be[Xe],{font:Ue})*Ie)&&(Oe=Ke);return Oe!==0&&(je=Be.length),{w:Oe/=ke,h:Math.max((je*Ie*this.getLineHeightFactor()-Ie*(this.getLineHeightFactor()-1))/ke,0)}},Ee.cellAddPage=function(){_e.call(this),this.addPage();var Be=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new Ce(Be.left,Be.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Se=Ee.cell=function(){var Be;Be=arguments[0]instanceof Ce?arguments[0]:new Ce(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),_e.call(this);var Fe=this.internal.__cell__.lastCell,Ie=this.internal.__cell__.padding,Ue=this.internal.__cell__.margins||t,ke=this.internal.__cell__.tableHeaderRow,Oe=this.internal.__cell__.printHeaders;return Fe.lineNumber!==void 0&&(Fe.lineNumber===Be.lineNumber?(Be.x=(Fe.x||0)+(Fe.width||0),Be.y=Fe.y||0):Fe.y+Fe.height+Be.height+Ue.bottom>this.getPageHeight()?(this.cellAddPage(),Be.y=Ue.top,Oe&&ke&&(this.printHeaderRow(Be.lineNumber,!0),Be.y+=ke[0].height)):Be.y=Fe.y+Fe.height||Be.y),Be.text[0]!==void 0&&(this.rect(Be.x,Be.y,Be.width,Be.height,Ae===!0?"FD":void 0),Be.align==="right"?this.text(Be.text,Be.x+Be.width-Ie,Be.y+Ie,{align:"right",baseline:"top"}):Be.align==="center"?this.text(Be.text,Be.x+Be.width/2,Be.y+Ie,{align:"center",baseline:"top",maxWidth:Be.width-Ie-Ie}):this.text(Be.text,Be.x+Ie,Be.y+Ie,{align:"left",baseline:"top",maxWidth:Be.width-Ie-Ie})),this.internal.__cell__.lastCell=Be,this};Ee.table=function(Be,Fe,Ie,Ue,ke){if(_e.call(this),!Ie)throw new Error("No data for PDF table.");var Oe,je,Ke,ze,Ve=[],Xe=[],ir=[],sr={},rr={},nr=[],We=[],Ge=(ke=ke||{}).autoSize||!1,Ze=ke.printHeaders!==!1,or=ke.css&&ke.css["font-size"]!==void 0?16*ke.css["font-size"]:ke.fontSize||12,He=ke.margins||Object.assign({width:this.getPageWidth()},t),Je=typeof ke.padding=="number"?ke.padding:3,$e=ke.headerBackgroundColor||"#c8c8c8",mr=ke.headerTextColor||"#000";if(xe.call(this),this.internal.__cell__.printHeaders=Ze,this.internal.__cell__.margins=He,this.internal.__cell__.table_font_size=or,this.internal.__cell__.padding=Je,this.internal.__cell__.headerBackgroundColor=$e,this.internal.__cell__.headerTextColor=mr,this.setFontSize(or),Ue==null)Xe=Ve=Object.keys(Ie[0]),ir=Ve.map(function(){return"left"});else if(Array.isArray(Ue)&&_typeof(Ue[0])==="object")for(Ve=Ue.map(function(hr){return hr.name}),Xe=Ue.map(function(hr){return hr.prompt||hr.name||""}),ir=Ue.map(function(hr){return hr.align||"left"}),Oe=0;Oe<Ue.length;Oe+=1)rr[Ue[Oe].name]=Ue[Oe].width*(19.049976/25.4);else Array.isArray(Ue)&&typeof Ue[0]=="string"&&(Xe=Ve=Ue,ir=Ve.map(function(){return"left"}));if(Ge||Array.isArray(Ue)&&typeof Ue[0]=="string")for(Oe=0;Oe<Ve.length;Oe+=1){for(sr[ze=Ve[Oe]]=Ie.map(function(hr){return hr[ze]}),this.setFont(void 0,"bold"),nr.push(this.getTextDimensions(Xe[Oe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),je=sr[ze],this.setFont(void 0,"normal"),Ke=0;Ke<je.length;Ke+=1)nr.push(this.getTextDimensions(je[Ke],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);rr[ze]=Math.max.apply(null,nr)+Je+Je,nr=[]}if(Ze){var wr={};for(Oe=0;Oe<Ve.length;Oe+=1)wr[Ve[Oe]]={},wr[Ve[Oe]].text=Xe[Oe],wr[Ve[Oe]].align=ir[Oe];var vr=Re.call(this,wr,rr);We=Ve.map(function(hr){return new Ce(Be,Fe,rr[hr],vr,wr[hr].text,void 0,wr[hr].align)}),this.setTableHeaderRow(We),this.printHeaderRow(1,!1)}var ur=Ue.reduce(function(hr,Sr){return hr[Sr.name]=Sr.align,hr},{});for(Oe=0;Oe<Ie.length;Oe+=1){"rowStart"in ke&&ke.rowStart instanceof Function&&ke.rowStart({row:Oe,data:Ie[Oe]},this);var Cr=Re.call(this,Ie[Oe],rr);for(Ke=0;Ke<Ve.length;Ke+=1){var _r=Ie[Oe][Ve[Ke]];"cellStart"in ke&&ke.cellStart instanceof Function&&ke.cellStart({row:Oe,col:Ke,data:_r},this),Se.call(this,new Ce(Be,Fe,rr[Ve[Ke]],Cr,_r,Oe+2,ur[Ve[Ke]]))}}return this.internal.__cell__.table_x=Be,this.internal.__cell__.table_y=Fe,this};var Re=function(Be,Fe){var Ie=this.internal.__cell__.padding,Ue=this.internal.__cell__.table_font_size,ke=this.internal.scaleFactor;return Object.keys(Be).map(function(Oe){var je=Be[Oe];return this.splitTextToSize(je.hasOwnProperty("text")?je.text:je,Fe[Oe]-Ie-Ie)},this).map(function(Oe){return this.getLineHeightFactor()*Oe.length*Ue/ke+Ie+Ie},this).reduce(function(Oe,je){return Math.max(Oe,je)},0)};Ee.setTableHeaderRow=function(Be){_e.call(this),this.internal.__cell__.tableHeaderRow=Be},Ee.printHeaderRow=function(Be,Fe){if(_e.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Ie;if(Ae=!0,typeof this.internal.__cell__.headerFunction=="function"){var Ue=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Ce(Ue[0],Ue[1],Ue[2],Ue[3],void 0,-1)}this.setFont(void 0,"bold");for(var ke=[],Oe=0;Oe<this.internal.__cell__.tableHeaderRow.length;Oe+=1){Ie=this.internal.__cell__.tableHeaderRow[Oe].clone(),Fe&&(Ie.y=this.internal.__cell__.margins.top||0,ke.push(Ie)),Ie.lineNumber=Be;var je=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Se.call(this,Ie),this.setTextColor(je)}ke.length>0&&this.setTableHeaderRow(ke),this.setFont(void 0,"normal"),Ae=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(Ee){var t=Ee.family.replace(/"|'/g,"").toLowerCase(),Ae=function(Ce){return Pt[Ce=Ce||"normal"]?Ce:"normal"}(Ee.style),_e=function(Ce){if(!Ce)return 400;if(typeof Ce=="number")return Ce>=100&&Ce<=900&&Ce%100==0?Ce:400;if(/^\d00$/.test(Ce))return parseInt(Ce);switch(Ce){case"bold":return 700;case"normal":default:return 400}}(Ee.weight),xe=function(Ce){return typeof It[Ce=Ce||"normal"]=="number"?Ce:"normal"}(Ee.stretch);return{family:t,style:Ae,weight:_e,stretch:xe,src:Ee.src||[],ref:Ee.ref||{name:t,style:[xe,Ae,_e].join(" ")}}}function Ot(Ee,t,Ae,_e){var xe;for(xe=Ae;xe>=0&&xe<t.length;xe+=_e)if(Ee[t[xe]])return Ee[t[xe]];for(xe=Ae;xe>=0&&xe<t.length;xe-=_e)if(Ee[t[xe]])return Ee[t[xe]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(Ee){return[Ee.stretch,Ee.style,Ee.weight,Ee.family].join(" ")}function qt(Ee,t,Ae){for(var _e=(Ae=Ae||{}).defaultFontFamily||"times",xe=Object.assign({},Bt,Ae.genericFontFamilies||{}),Ce=null,Se=null,Re=0;Re<t.length;++Re)if(xe[(Ce=jt(t[Re])).family]&&(Ce.family=xe[Ce.family]),Ee.hasOwnProperty(Ce.family)){Se=Ee[Ce.family];break}if(!(Se=Se||Ee[_e]))throw new Error("Could not find a font-family for the rule '"+Et(Ce)+"' and default family '"+_e+"'.");if(Se=function(Be,Fe){if(Fe[Be])return Fe[Be];var Ie=It[Be],Ue=Ie<=It.normal?-1:1,ke=Ot(Fe,kt,Ie,Ue);if(!ke)throw new Error("Could not find a matching font-stretch value for "+Be);return ke}(Ce.stretch,Se),Se=function(Be,Fe){if(Fe[Be])return Fe[Be];for(var Ie=Pt[Be],Ue=0;Ue<Ie.length;++Ue)if(Fe[Ie[Ue]])return Fe[Ie[Ue]];throw new Error("Could not find a matching font-style for "+Be)}(Ce.style,Se),!(Se=function(Be,Fe){if(Fe[Be])return Fe[Be];if(Be===400&&Fe[500])return Fe[500];if(Be===500&&Fe[400])return Fe[400];var Ie=Ct[Be],Ue=Ot(Fe,Ft,Ie,Be<400?-1:1);if(!Ue)throw new Error("Could not find a matching font-weight for value "+Be);return Ue}(Ce.weight,Se)))throw new Error("Failed to resolve a font for the rule '"+Et(Ce)+"'.");return Se}function Dt(Ee){return Ee.trimLeft()}function Rt(Ee,t){for(var Ae=0;Ae<Ee.length;){if(Ee.charAt(Ae)===t)return[Ee.substring(0,Ae),Ee.substring(Ae+1)];Ae+=1}return null}function Tt(Ee){var t=Ee.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],Ee.substring(t[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(Ee){var t,Ae,_e,xe,Ce,Se,Re,Be,Fe,Ie=function(ar){return ar=ar||{},this.isStrokeTransparent=ar.isStrokeTransparent||!1,this.strokeOpacity=ar.strokeOpacity||1,this.strokeStyle=ar.strokeStyle||"#000000",this.fillStyle=ar.fillStyle||"#000000",this.isFillTransparent=ar.isFillTransparent||!1,this.fillOpacity=ar.fillOpacity||1,this.font=ar.font||"10px sans-serif",this.textBaseline=ar.textBaseline||"alphabetic",this.textAlign=ar.textAlign||"left",this.lineWidth=ar.lineWidth||1,this.lineJoin=ar.lineJoin||"miter",this.lineCap=ar.lineCap||"butt",this.path=ar.path||[],this.transform=ar.transform!==void 0?ar.transform.clone():new Be,this.globalCompositeOperation=ar.globalCompositeOperation||"normal",this.globalAlpha=ar.globalAlpha||1,this.clip_path=ar.clip_path||[],this.currentPoint=ar.currentPoint||new Se,this.miterLimit=ar.miterLimit||10,this.lastPoint=ar.lastPoint||new Se,this.lineDashOffset=ar.lineDashOffset||0,this.lineDash=ar.lineDash||[],this.margin=ar.margin||[0,0,0,0],this.prevPageLastElemOffset=ar.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ar.ignoreClearRect!="boolean"||ar.ignoreClearRect,this};Ee.events.push(["initialized",function(){this.context2d=new Ue(this),t=this.internal.f2,Ae=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,xe=this.internal.getHorizontalCoordinate,Ce=this.internal.getVerticalCoordinate,Se=this.internal.Point,Re=this.internal.Rectangle,Be=this.internal.Matrix,Fe=new Ie}]);var Ue=function(ar){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var tr=ar;Object.defineProperty(this,"pdf",{get:function(){return tr}});var lr=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return lr},set:function(An){lr=!!An}});var pr=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return pr},set:function(An){pr=!!An}});var Er=0;Object.defineProperty(this,"posX",{get:function(){return Er},set:function(An){isNaN(An)||(Er=An)}});var Rr=0;Object.defineProperty(this,"posY",{get:function(){return Rr},set:function(An){isNaN(An)||(Rr=An)}}),Object.defineProperty(this,"margin",{get:function(){return Fe.margin},set:function(An){var Fr;typeof An=="number"?Fr=[An,An,An,An]:((Fr=new Array(4))[0]=An[0],Fr[1]=An.length>=2?An[1]:Fr[0],Fr[2]=An.length>=3?An[2]:Fr[0],Fr[3]=An.length>=4?An[3]:Fr[1]),Fe.margin=Fr}});var Tr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Tr},set:function(An){Tr=An}});var Ir=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ir},set:function(An){Ir=An}});var Zr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Zr},set:function(An){Zr=An}}),Object.defineProperty(this,"ctx",{get:function(){return Fe},set:function(An){An instanceof Ie&&(Fe=An)}}),Object.defineProperty(this,"path",{get:function(){return Fe.path},set:function(An){Fe.path=An}});var zr=[];Object.defineProperty(this,"ctxStack",{get:function(){return zr},set:function(An){zr=An}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(An){var Fr;Fr=ke(An),this.ctx.fillStyle=Fr.style,this.ctx.isFillTransparent=Fr.a===0,this.ctx.fillOpacity=Fr.a,this.pdf.setFillColor(Fr.r,Fr.g,Fr.b,{a:Fr.a}),this.pdf.setTextColor(Fr.r,Fr.g,Fr.b,{a:Fr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(An){var Fr=ke(An);this.ctx.strokeStyle=Fr.style,this.ctx.isStrokeTransparent=Fr.a===0,this.ctx.strokeOpacity=Fr.a,Fr.a===0?this.pdf.setDrawColor(255,255,255):(Fr.a,this.pdf.setDrawColor(Fr.r,Fr.g,Fr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(An){["butt","round","square"].indexOf(An)!==-1&&(this.ctx.lineCap=An,this.pdf.setLineCap(An))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(An){isNaN(An)||(this.ctx.lineWidth=An,this.pdf.setLineWidth(An))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(An){["bevel","round","miter"].indexOf(An)!==-1&&(this.ctx.lineJoin=An,this.pdf.setLineJoin(An))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(An){isNaN(An)||(this.ctx.miterLimit=An,this.pdf.setMiterLimit(An))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(An){this.ctx.textBaseline=An}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(An){["right","end","center","left","start"].indexOf(An)!==-1&&(this.ctx.textAlign=An)}});var $r=null;function vn(An,Fr){if($r===null){var dn=function(Dr){var jr=[];return Object.keys(Dr).forEach(function(hn){Dr[hn].forEach(function(pn){var xn=null;switch(pn){case"bold":xn={family:hn,weight:"bold"};break;case"italic":xn={family:hn,style:"italic"};break;case"bolditalic":xn={family:hn,weight:"bold",style:"italic"};break;case"":case"normal":xn={family:hn}}xn!==null&&(xn.ref={name:hn,style:pn},jr.push(xn))})}),jr}(An.getFontList());$r=function(Dr){for(var jr={},hn=0;hn<Dr.length;++hn){var pn=jt(Dr[hn]),xn=pn.family,Dn=pn.stretch,On=pn.style,yn=pn.weight;jr[xn]=jr[xn]||{},jr[xn][Dn]=jr[xn][Dn]||{},jr[xn][Dn][On]=jr[xn][Dn][On]||{},jr[xn][Dn][On][yn]=pn}return jr}(dn.concat(Fr))}return $r}var bn=null;Object.defineProperty(this,"fontFaces",{get:function(){return bn},set:function(An){$r=null,bn=An}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(An){var Fr;if(this.ctx.font=An,(Fr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(An))!==null){var dn=Fr[1];Fr[2];var Dr=Fr[3],jr=Fr[4];Fr[5];var hn=Fr[6],pn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(jr)[2];jr=Math.floor(pn==="px"?parseFloat(jr)*this.pdf.internal.scaleFactor:pn==="em"?parseFloat(jr)*this.pdf.getFontSize():parseFloat(jr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(jr);var xn=function(ni){var wi,Nr,In=[],Kn=ni.trim();if(Kn==="")return Wt;if(Kn in Mt)return[Mt[Kn]];for(;Kn!=="";){switch(Nr=null,wi=(Kn=Dt(Kn)).charAt(0)){case'"':case"'":Nr=Rt(Kn.substring(1),wi);break;default:Nr=Tt(Kn)}if(Nr===null||(In.push(Nr[0]),(Kn=Dt(Nr[1]))!==""&&Kn.charAt(0)!==","))return Wt;Kn=Kn.replace(/^,/,"")}return In}(hn);if(this.fontFaces){var Dn=qt(vn(this.pdf,this.fontFaces),xn.map(function(ni){return{family:ni,stretch:"normal",weight:Dr,style:dn}}));this.pdf.setFont(Dn.ref.name,Dn.ref.style)}else{var On="";(Dr==="bold"||parseInt(Dr,10)>=700||dn==="bold")&&(On="bold"),dn==="italic"&&(On+="italic"),On.length===0&&(On="normal");for(var yn="",Gn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qn=0;Qn<xn.length;Qn++){if(this.pdf.internal.getFont(xn[Qn],On,{noFallback:!0,disableWarning:!0})!==void 0){yn=xn[Qn];break}if(On==="bolditalic"&&this.pdf.internal.getFont(xn[Qn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yn=xn[Qn],On="bold";else if(this.pdf.internal.getFont(xn[Qn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yn=xn[Qn],On="normal";break}}if(yn===""){for(var di=0;di<xn.length;di++)if(Gn[xn[di]]){yn=Gn[xn[di]];break}}yn=yn===""?"Times":yn,this.pdf.setFont(yn,On)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(An){this.ctx.globalCompositeOperation=An}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(An){this.ctx.globalAlpha=An}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(An){this.ctx.lineDashOffset=An,Sr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(An){this.ctx.lineDash=An,Sr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(An){this.ctx.ignoreClearRect=!!An}})};Ue.prototype.setLineDash=function(ar){this.lineDash=ar},Ue.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Ue.prototype.fill=function(){sr.call(this,"fill",!1)},Ue.prototype.stroke=function(){sr.call(this,"stroke",!1)},Ue.prototype.beginPath=function(){this.path=[{type:"begin"}]},Ue.prototype.moveTo=function(ar,tr){if(isNaN(ar)||isNaN(tr))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var lr=this.ctx.transform.applyToPoint(new Se(ar,tr));this.path.push({type:"mt",x:lr.x,y:lr.y}),this.ctx.lastPoint=new Se(ar,tr)},Ue.prototype.closePath=function(){var ar=new Se(0,0),tr=0;for(tr=this.path.length-1;tr!==-1;tr--)if(this.path[tr].type==="begin"&&_typeof(this.path[tr+1])==="object"&&typeof this.path[tr+1].x=="number"){ar=new Se(this.path[tr+1].x,this.path[tr+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Se(ar.x,ar.y)},Ue.prototype.lineTo=function(ar,tr){if(isNaN(ar)||isNaN(tr))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var lr=this.ctx.transform.applyToPoint(new Se(ar,tr));this.path.push({type:"lt",x:lr.x,y:lr.y}),this.ctx.lastPoint=new Se(lr.x,lr.y)},Ue.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),sr.call(this,null,!0)},Ue.prototype.quadraticCurveTo=function(ar,tr,lr,pr){if(isNaN(lr)||isNaN(pr)||isNaN(ar)||isNaN(tr))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Er=this.ctx.transform.applyToPoint(new Se(lr,pr)),Rr=this.ctx.transform.applyToPoint(new Se(ar,tr));this.path.push({type:"qct",x1:Rr.x,y1:Rr.y,x:Er.x,y:Er.y}),this.ctx.lastPoint=new Se(Er.x,Er.y)},Ue.prototype.bezierCurveTo=function(ar,tr,lr,pr,Er,Rr){if(isNaN(Er)||isNaN(Rr)||isNaN(ar)||isNaN(tr)||isNaN(lr)||isNaN(pr))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Tr=this.ctx.transform.applyToPoint(new Se(Er,Rr)),Ir=this.ctx.transform.applyToPoint(new Se(ar,tr)),Zr=this.ctx.transform.applyToPoint(new Se(lr,pr));this.path.push({type:"bct",x1:Ir.x,y1:Ir.y,x2:Zr.x,y2:Zr.y,x:Tr.x,y:Tr.y}),this.ctx.lastPoint=new Se(Tr.x,Tr.y)},Ue.prototype.arc=function(ar,tr,lr,pr,Er,Rr){if(isNaN(ar)||isNaN(tr)||isNaN(lr)||isNaN(pr)||isNaN(Er))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Rr=!!Rr,!this.ctx.transform.isIdentity){var Tr=this.ctx.transform.applyToPoint(new Se(ar,tr));ar=Tr.x,tr=Tr.y;var Ir=this.ctx.transform.applyToPoint(new Se(0,lr)),Zr=this.ctx.transform.applyToPoint(new Se(0,0));lr=Math.sqrt(Math.pow(Ir.x-Zr.x,2)+Math.pow(Ir.y-Zr.y,2))}Math.abs(Er-pr)>=2*Math.PI&&(pr=0,Er=2*Math.PI),this.path.push({type:"arc",x:ar,y:tr,radius:lr,startAngle:pr,endAngle:Er,counterclockwise:Rr})},Ue.prototype.arcTo=function(ar,tr,lr,pr,Er){throw new Error("arcTo not implemented.")},Ue.prototype.rect=function(ar,tr,lr,pr){if(isNaN(ar)||isNaN(tr)||isNaN(lr)||isNaN(pr))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ar,tr),this.lineTo(ar+lr,tr),this.lineTo(ar+lr,tr+pr),this.lineTo(ar,tr+pr),this.lineTo(ar,tr),this.lineTo(ar+lr,tr),this.lineTo(ar,tr)},Ue.prototype.fillRect=function(ar,tr,lr,pr){if(isNaN(ar)||isNaN(tr)||isNaN(lr)||isNaN(pr))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Oe.call(this)){var Er={};this.lineCap!=="butt"&&(Er.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Er.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ar,tr,lr,pr),this.fill(),Er.hasOwnProperty("lineCap")&&(this.lineCap=Er.lineCap),Er.hasOwnProperty("lineJoin")&&(this.lineJoin=Er.lineJoin)}},Ue.prototype.strokeRect=function(ar,tr,lr,pr){if(isNaN(ar)||isNaN(tr)||isNaN(lr)||isNaN(pr))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");je.call(this)||(this.beginPath(),this.rect(ar,tr,lr,pr),this.stroke())},Ue.prototype.clearRect=function(ar,tr,lr,pr){if(isNaN(ar)||isNaN(tr)||isNaN(lr)||isNaN(pr))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ar,tr,lr,pr))},Ue.prototype.save=function(ar){ar=typeof ar!="boolean"||ar;for(var tr=this.pdf.internal.getCurrentPageInfo().pageNumber,lr=0;lr<this.pdf.internal.getNumberOfPages();lr++)this.pdf.setPage(lr+1),this.pdf.internal.out("q");if(this.pdf.setPage(tr),ar){this.ctx.fontSize=this.pdf.internal.getFontSize();var pr=new Ie(this.ctx);this.ctxStack.push(this.ctx),this.ctx=pr}},Ue.prototype.restore=function(ar){ar=typeof ar!="boolean"||ar;for(var tr=this.pdf.internal.getCurrentPageInfo().pageNumber,lr=0;lr<this.pdf.internal.getNumberOfPages();lr++)this.pdf.setPage(lr+1),this.pdf.internal.out("Q");this.pdf.setPage(tr),ar&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Ue.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var ke=function(ar){var tr,lr,pr,Er;if(ar.isCanvasGradient===!0&&(ar=ar.getColor()),!ar)return{r:0,g:0,b:0,a:0,style:ar};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ar))tr=0,lr=0,pr=0,Er=0;else{var Rr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ar);if(Rr!==null)tr=parseInt(Rr[1]),lr=parseInt(Rr[2]),pr=parseInt(Rr[3]),Er=1;else if((Rr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ar))!==null)tr=parseInt(Rr[1]),lr=parseInt(Rr[2]),pr=parseInt(Rr[3]),Er=parseFloat(Rr[4]);else{if(Er=1,typeof ar=="string"&&ar.charAt(0)!=="#"){var Tr=new f(ar);ar=Tr.ok?Tr.toHex():"#000000"}ar.length===4?(tr=ar.substring(1,2),tr+=tr,lr=ar.substring(2,3),lr+=lr,pr=ar.substring(3,4),pr+=pr):(tr=ar.substring(1,3),lr=ar.substring(3,5),pr=ar.substring(5,7)),tr=parseInt(tr,16),lr=parseInt(lr,16),pr=parseInt(pr,16)}}return{r:tr,g:lr,b:pr,a:Er,style:ar}},Oe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},je=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Ue.prototype.fillText=function(ar,tr,lr,pr){if(isNaN(tr)||isNaN(lr)||typeof ar!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(pr=isNaN(pr)?void 0:pr,!Oe.call(this)){var Er=Cr(this.ctx.transform.rotation),Rr=this.ctx.transform.scaleX;Je.call(this,{text:ar,x:tr,y:lr,scale:Rr,angle:Er,align:this.textAlign,maxWidth:pr})}},Ue.prototype.strokeText=function(ar,tr,lr,pr){if(isNaN(tr)||isNaN(lr)||typeof ar!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!je.call(this)){pr=isNaN(pr)?void 0:pr;var Er=Cr(this.ctx.transform.rotation),Rr=this.ctx.transform.scaleX;Je.call(this,{text:ar,x:tr,y:lr,scale:Rr,renderingMode:"stroke",angle:Er,align:this.textAlign,maxWidth:pr})}},Ue.prototype.measureText=function(ar){if(typeof ar!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var tr=this.pdf,lr=this.pdf.internal.scaleFactor,pr=tr.internal.getFontSize(),Er=tr.getStringUnitWidth(ar)*pr/tr.internal.scaleFactor,Rr=function(Tr){var Ir=(Tr=Tr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ir}}),this};return new Rr({width:Er*=Math.round(96*lr/72*1e4)/1e4})},Ue.prototype.scale=function(ar,tr){if(isNaN(ar)||isNaN(tr))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var lr=new Be(ar,0,0,tr,0,0);this.ctx.transform=this.ctx.transform.multiply(lr)},Ue.prototype.rotate=function(ar){if(isNaN(ar))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var tr=new Be(Math.cos(ar),Math.sin(ar),-Math.sin(ar),Math.cos(ar),0,0);this.ctx.transform=this.ctx.transform.multiply(tr)},Ue.prototype.translate=function(ar,tr){if(isNaN(ar)||isNaN(tr))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var lr=new Be(1,0,0,1,ar,tr);this.ctx.transform=this.ctx.transform.multiply(lr)},Ue.prototype.transform=function(ar,tr,lr,pr,Er,Rr){if(isNaN(ar)||isNaN(tr)||isNaN(lr)||isNaN(pr)||isNaN(Er)||isNaN(Rr))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Tr=new Be(ar,tr,lr,pr,Er,Rr);this.ctx.transform=this.ctx.transform.multiply(Tr)},Ue.prototype.setTransform=function(ar,tr,lr,pr,Er,Rr){ar=isNaN(ar)?1:ar,tr=isNaN(tr)?0:tr,lr=isNaN(lr)?0:lr,pr=isNaN(pr)?1:pr,Er=isNaN(Er)?0:Er,Rr=isNaN(Rr)?0:Rr,this.ctx.transform=new Be(ar,tr,lr,pr,Er,Rr)};var Ke=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Ue.prototype.drawImage=function(ar,tr,lr,pr,Er,Rr,Tr,Ir,Zr){var zr=this.pdf.getImageProperties(ar),$r=1,vn=1,bn=1,An=1;pr!==void 0&&Ir!==void 0&&(bn=Ir/pr,An=Zr/Er,$r=zr.width/pr*Ir/pr,vn=zr.height/Er*Zr/Er),Rr===void 0&&(Rr=tr,Tr=lr,tr=0,lr=0),pr!==void 0&&Ir===void 0&&(Ir=pr,Zr=Er),pr===void 0&&Ir===void 0&&(Ir=zr.width,Zr=zr.height);for(var Fr,dn=this.ctx.transform.decompose(),Dr=Cr(dn.rotate.shx),jr=new Be,hn=(jr=(jr=(jr=jr.multiply(dn.translate)).multiply(dn.skew)).multiply(dn.scale)).applyToRectangle(new Re(Rr-tr*bn,Tr-lr*An,pr*$r,Er*vn)),pn=ze.call(this,hn),xn=[],Dn=0;Dn<pn.length;Dn+=1)xn.indexOf(pn[Dn])===-1&&xn.push(pn[Dn]);if(ir(xn),this.autoPaging)for(var On=xn[0],yn=xn[xn.length-1],Gn=On;Gn<yn+1;Gn++){this.pdf.setPage(Gn);var Qn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],di=Gn===1?this.posY+this.margin[0]:this.margin[0],ni=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nr=Gn===1?0:ni+(Gn-2)*wi;if(this.ctx.clip_path.length!==0){var In=this.path;Fr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Xe(Fr,this.posX+this.margin[3],-Nr+di+this.ctx.prevPageLastElemOffset),rr.call(this,"fill",!0),this.path=In}var Kn=JSON.parse(JSON.stringify(hn));Kn=Xe([Kn],this.posX+this.margin[3],-Nr+di+this.ctx.prevPageLastElemOffset)[0];var si=(Gn>On||Gn<yn)&&Ke.call(this);si&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qn,wi,null).clip().discardPath()),this.pdf.addImage(ar,"JPEG",Kn.x,Kn.y,Kn.w,Kn.h,null,null,Dr),si&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ar,"JPEG",hn.x,hn.y,hn.w,hn.h,null,null,Dr)};var ze=function(ar,tr,lr){var pr=[];tr=tr||this.pdf.internal.pageSize.width,lr=lr||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Er=this.posY+this.ctx.prevPageLastElemOffset;switch(ar.type){default:case"mt":case"lt":pr.push(Math.floor((ar.y+Er)/lr)+1);break;case"arc":pr.push(Math.floor((ar.y+Er-ar.radius)/lr)+1),pr.push(Math.floor((ar.y+Er+ar.radius)/lr)+1);break;case"qct":var Rr=_r(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ar.x1,ar.y1,ar.x,ar.y);pr.push(Math.floor((Rr.y+Er)/lr)+1),pr.push(Math.floor((Rr.y+Rr.h+Er)/lr)+1);break;case"bct":var Tr=hr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ar.x1,ar.y1,ar.x2,ar.y2,ar.x,ar.y);pr.push(Math.floor((Tr.y+Er)/lr)+1),pr.push(Math.floor((Tr.y+Tr.h+Er)/lr)+1);break;case"rect":pr.push(Math.floor((ar.y+Er)/lr)+1),pr.push(Math.floor((ar.y+ar.h+Er)/lr)+1)}for(var Ir=0;Ir<pr.length;Ir+=1)for(;this.pdf.internal.getNumberOfPages()<pr[Ir];)Ve.call(this);return pr},Ve=function(){var ar=this.fillStyle,tr=this.strokeStyle,lr=this.font,pr=this.lineCap,Er=this.lineWidth,Rr=this.lineJoin;this.pdf.addPage(),this.fillStyle=ar,this.strokeStyle=tr,this.font=lr,this.lineCap=pr,this.lineWidth=Er,this.lineJoin=Rr},Xe=function(ar,tr,lr){for(var pr=0;pr<ar.length;pr++)switch(ar[pr].type){case"bct":ar[pr].x2+=tr,ar[pr].y2+=lr;case"qct":ar[pr].x1+=tr,ar[pr].y1+=lr;case"mt":case"lt":case"arc":default:ar[pr].x+=tr,ar[pr].y+=lr}return ar},ir=function(ar){return ar.sort(function(tr,lr){return tr-lr})},sr=function(ar,tr){for(var lr,pr,Er=this.fillStyle,Rr=this.strokeStyle,Tr=this.lineCap,Ir=this.lineWidth,Zr=Math.abs(Ir*this.ctx.transform.scaleX),zr=this.lineJoin,$r=JSON.parse(JSON.stringify(this.path)),vn=JSON.parse(JSON.stringify(this.path)),bn=[],An=0;An<vn.length;An++)if(vn[An].x!==void 0)for(var Fr=ze.call(this,vn[An]),dn=0;dn<Fr.length;dn+=1)bn.indexOf(Fr[dn])===-1&&bn.push(Fr[dn]);for(var Dr=0;Dr<bn.length;Dr++)for(;this.pdf.internal.getNumberOfPages()<bn[Dr];)Ve.call(this);if(ir(bn),this.autoPaging)for(var jr=bn[0],hn=bn[bn.length-1],pn=jr;pn<hn+1;pn++){this.pdf.setPage(pn),this.fillStyle=Er,this.strokeStyle=Rr,this.lineCap=Tr,this.lineWidth=Zr,this.lineJoin=zr;var xn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dn=pn===1?this.posY+this.margin[0]:this.margin[0],On=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Gn=pn===1?0:On+(pn-2)*yn;if(this.ctx.clip_path.length!==0){var Qn=this.path;lr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Xe(lr,this.posX+this.margin[3],-Gn+Dn+this.ctx.prevPageLastElemOffset),rr.call(this,ar,!0),this.path=Qn}if(pr=JSON.parse(JSON.stringify($r)),this.path=Xe(pr,this.posX+this.margin[3],-Gn+Dn+this.ctx.prevPageLastElemOffset),tr===!1||pn===0){var di=(pn>jr||pn<hn)&&Ke.call(this);di&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xn,yn,null).clip().discardPath()),rr.call(this,ar,tr),di&&this.pdf.restoreGraphicsState()}this.lineWidth=Ir}else this.lineWidth=Zr,rr.call(this,ar,tr),this.lineWidth=Ir;this.path=$r},rr=function(ar,tr){if((ar!=="stroke"||tr||!je.call(this))&&(ar==="stroke"||tr||!Oe.call(this))){for(var lr,pr,Er=[],Rr=this.path,Tr=0;Tr<Rr.length;Tr++){var Ir=Rr[Tr];switch(Ir.type){case"begin":Er.push({begin:!0});break;case"close":Er.push({close:!0});break;case"mt":Er.push({start:Ir,deltas:[],abs:[]});break;case"lt":var Zr=Er.length;if(Rr[Tr-1]&&!isNaN(Rr[Tr-1].x)&&(lr=[Ir.x-Rr[Tr-1].x,Ir.y-Rr[Tr-1].y],Zr>0)){for(;Zr>=0;Zr--)if(Er[Zr-1].close!==!0&&Er[Zr-1].begin!==!0){Er[Zr-1].deltas.push(lr),Er[Zr-1].abs.push(Ir);break}}break;case"bct":lr=[Ir.x1-Rr[Tr-1].x,Ir.y1-Rr[Tr-1].y,Ir.x2-Rr[Tr-1].x,Ir.y2-Rr[Tr-1].y,Ir.x-Rr[Tr-1].x,Ir.y-Rr[Tr-1].y],Er[Er.length-1].deltas.push(lr);break;case"qct":var zr=Rr[Tr-1].x+2/3*(Ir.x1-Rr[Tr-1].x),$r=Rr[Tr-1].y+2/3*(Ir.y1-Rr[Tr-1].y),vn=Ir.x+2/3*(Ir.x1-Ir.x),bn=Ir.y+2/3*(Ir.y1-Ir.y),An=Ir.x,Fr=Ir.y;lr=[zr-Rr[Tr-1].x,$r-Rr[Tr-1].y,vn-Rr[Tr-1].x,bn-Rr[Tr-1].y,An-Rr[Tr-1].x,Fr-Rr[Tr-1].y],Er[Er.length-1].deltas.push(lr);break;case"arc":Er.push({deltas:[],abs:[],arc:!0}),Array.isArray(Er[Er.length-1].abs)&&Er[Er.length-1].abs.push(Ir)}}pr=tr?null:ar==="stroke"?"stroke":"fill";for(var dn=!1,Dr=0;Dr<Er.length;Dr++)if(Er[Dr].arc)for(var jr=Er[Dr].abs,hn=0;hn<jr.length;hn++){var pn=jr[hn];pn.type==="arc"?Ge.call(this,pn.x,pn.y,pn.radius,pn.startAngle,pn.endAngle,pn.counterclockwise,void 0,tr,!dn):$e.call(this,pn.x,pn.y),dn=!0}else if(Er[Dr].close===!0)this.pdf.internal.out("h"),dn=!1;else if(Er[Dr].begin!==!0){var xn=Er[Dr].start.x,Dn=Er[Dr].start.y;mr.call(this,Er[Dr].deltas,xn,Dn),dn=!0}pr&&Ze.call(this,pr),tr&&or.call(this)}},nr=function(ar){var tr=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,lr=tr*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ar-lr;case"top":return ar+tr-lr;case"hanging":return ar+tr-2*lr;case"middle":return ar+tr/2-lr;case"ideographic":return ar;case"alphabetic":default:return ar}},We=function(ar){return ar+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Ue.prototype.createLinearGradient=function(){var ar=function(){};return ar.colorStops=[],ar.addColorStop=function(tr,lr){this.colorStops.push([tr,lr])},ar.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ar.isCanvasGradient=!0,ar},Ue.prototype.createPattern=function(){return this.createLinearGradient()},Ue.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Ge=function(ar,tr,lr,pr,Er,Rr,Tr,Ir,Zr){for(var zr=vr.call(this,lr,pr,Er,Rr),$r=0;$r<zr.length;$r++){var vn=zr[$r];$r===0&&(Zr?He.call(this,vn.x1+ar,vn.y1+tr):$e.call(this,vn.x1+ar,vn.y1+tr)),wr.call(this,ar,tr,vn.x2,vn.y2,vn.x3,vn.y3,vn.x4,vn.y4)}Ir?or.call(this):Ze.call(this,Tr)},Ze=function(ar){switch(ar){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},or=function(){this.pdf.clip(),this.pdf.discardPath()},He=function(ar,tr){this.pdf.internal.out(Ae(ar)+" "+_e(tr)+" m")},Je=function(ar){var tr;switch(ar.align){case"right":case"end":tr="right";break;case"center":tr="center";break;case"left":case"start":default:tr="left"}var lr=this.pdf.getTextDimensions(ar.text),pr=nr.call(this,ar.y),Er=We.call(this,pr)-lr.h,Rr=this.ctx.transform.applyToPoint(new Se(ar.x,pr)),Tr=this.ctx.transform.decompose(),Ir=new Be;Ir=(Ir=(Ir=Ir.multiply(Tr.translate)).multiply(Tr.skew)).multiply(Tr.scale);for(var Zr,zr,$r,vn=this.ctx.transform.applyToRectangle(new Re(ar.x,pr,lr.w,lr.h)),bn=Ir.applyToRectangle(new Re(ar.x,Er,lr.w,lr.h)),An=ze.call(this,bn),Fr=[],dn=0;dn<An.length;dn+=1)Fr.indexOf(An[dn])===-1&&Fr.push(An[dn]);if(ir(Fr),this.autoPaging)for(var Dr=Fr[0],jr=Fr[Fr.length-1],hn=Dr;hn<jr+1;hn++){this.pdf.setPage(hn);var pn=hn===1?this.posY+this.margin[0]:this.margin[0],xn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dn=this.pdf.internal.pageSize.height-this.margin[2],On=Dn-this.margin[0],yn=this.pdf.internal.pageSize.width-this.margin[1],Gn=yn-this.margin[3],Qn=hn===1?0:xn+(hn-2)*On;if(this.ctx.clip_path.length!==0){var di=this.path;Zr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Xe(Zr,this.posX+this.margin[3],-1*Qn+pn),rr.call(this,"fill",!0),this.path=di}var ni=Xe([JSON.parse(JSON.stringify(bn))],this.posX+this.margin[3],-Qn+pn+this.ctx.prevPageLastElemOffset)[0];ar.scale>=.01&&(zr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(zr*ar.scale),$r=this.lineWidth,this.lineWidth=$r*ar.scale);var wi=this.autoPaging!=="text";if(wi||ni.y+ni.h<=Dn){if(wi||ni.y>=pn&&ni.x<=yn){var Nr=wi?ar.text:this.pdf.splitTextToSize(ar.text,ar.maxWidth||yn-ni.x)[0],In=Xe([JSON.parse(JSON.stringify(vn))],this.posX+this.margin[3],-Qn+pn+this.ctx.prevPageLastElemOffset)[0],Kn=wi&&(hn>Dr||hn<jr)&&Ke.call(this);Kn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gn,On,null).clip().discardPath()),this.pdf.text(Nr,In.x,In.y,{angle:ar.angle,align:tr,renderingMode:ar.renderingMode}),Kn&&this.pdf.restoreGraphicsState()}}else ni.y<Dn&&(this.ctx.prevPageLastElemOffset+=Dn-ni.y);ar.scale>=.01&&(this.pdf.setFontSize(zr),this.lineWidth=$r)}else ar.scale>=.01&&(zr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(zr*ar.scale),$r=this.lineWidth,this.lineWidth=$r*ar.scale),this.pdf.text(ar.text,Rr.x+this.posX,Rr.y+this.posY,{angle:ar.angle,align:tr,renderingMode:ar.renderingMode,maxWidth:ar.maxWidth}),ar.scale>=.01&&(this.pdf.setFontSize(zr),this.lineWidth=$r)},$e=function(ar,tr,lr,pr){lr=lr||0,pr=pr||0,this.pdf.internal.out(Ae(ar+lr)+" "+_e(tr+pr)+" l")},mr=function(ar,tr,lr){return this.pdf.lines(ar,tr,lr,null,null)},wr=function(ar,tr,lr,pr,Er,Rr,Tr,Ir){this.pdf.internal.out([t(xe(lr+ar)),t(Ce(pr+tr)),t(xe(Er+ar)),t(Ce(Rr+tr)),t(xe(Tr+ar)),t(Ce(Ir+tr)),"c"].join(" "))},vr=function(ar,tr,lr,pr){for(var Er=2*Math.PI,Rr=Math.PI/2;tr>lr;)tr-=Er;var Tr=Math.abs(lr-tr);Tr<Er&&pr&&(Tr=Er-Tr);for(var Ir=[],Zr=pr?-1:1,zr=tr;Tr>1e-5;){var $r=zr+Zr*Math.min(Tr,Rr);Ir.push(ur.call(this,ar,zr,$r)),Tr-=Math.abs($r-zr),zr=$r}return Ir},ur=function(ar,tr,lr){var pr=(lr-tr)/2,Er=ar*Math.cos(pr),Rr=ar*Math.sin(pr),Tr=Er,Ir=-Rr,Zr=Tr*Tr+Ir*Ir,zr=Zr+Tr*Er+Ir*Rr,$r=4/3*(Math.sqrt(2*Zr*zr)-zr)/(Tr*Rr-Ir*Er),vn=Tr-$r*Ir,bn=Ir+$r*Tr,An=vn,Fr=-bn,dn=pr+tr,Dr=Math.cos(dn),jr=Math.sin(dn);return{x1:ar*Math.cos(tr),y1:ar*Math.sin(tr),x2:vn*Dr-bn*jr,y2:vn*jr+bn*Dr,x3:An*Dr-Fr*jr,y3:An*jr+Fr*Dr,x4:ar*Math.cos(lr),y4:ar*Math.sin(lr)}},Cr=function(ar){return 180*ar/Math.PI},_r=function(ar,tr,lr,pr,Er,Rr){var Tr=ar+.5*(lr-ar),Ir=tr+.5*(pr-tr),Zr=Er+.5*(lr-Er),zr=Rr+.5*(pr-Rr),$r=Math.min(ar,Er,Tr,Zr),vn=Math.max(ar,Er,Tr,Zr),bn=Math.min(tr,Rr,Ir,zr),An=Math.max(tr,Rr,Ir,zr);return new Re($r,bn,vn-$r,An-bn)},hr=function(ar,tr,lr,pr,Er,Rr,Tr,Ir){var Zr,zr,$r,vn,bn,An,Fr,dn,Dr,jr,hn,pn,xn,Dn,On=lr-ar,yn=pr-tr,Gn=Er-lr,Qn=Rr-pr,di=Tr-Er,ni=Ir-Rr;for(zr=0;zr<41;zr++)Dr=(Fr=($r=ar+(Zr=zr/40)*On)+Zr*((bn=lr+Zr*Gn)-$r))+Zr*(bn+Zr*(Er+Zr*di-bn)-Fr),jr=(dn=(vn=tr+Zr*yn)+Zr*((An=pr+Zr*Qn)-vn))+Zr*(An+Zr*(Rr+Zr*ni-An)-dn),zr==0?(hn=Dr,pn=jr,xn=Dr,Dn=jr):(hn=Math.min(hn,Dr),pn=Math.min(pn,jr),xn=Math.max(xn,Dr),Dn=Math.max(Dn,jr));return new Re(Math.round(hn),Math.round(pn),Math.round(xn-hn),Math.round(Dn-pn))},Sr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ar,tr,lr=(ar=this.ctx.lineDash,tr=this.ctx.lineDashOffset,JSON.stringify({lineDash:ar,lineDashOffset:tr}));this.prevLineDash!==lr&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=lr)}}})(E.API),function(Ee){var t=function(Ce){var Se,Re,Be,Fe,Ie,Ue,ke,Oe,je,Ke;for(Re=[],Be=0,Fe=(Ce+=Se="\0\0\0\0".slice(Ce.length%4||4)).length;Fe>Be;Be+=4)(Ie=(Ce.charCodeAt(Be)<<24)+(Ce.charCodeAt(Be+1)<<16)+(Ce.charCodeAt(Be+2)<<8)+Ce.charCodeAt(Be+3))!==0?(Ue=(Ie=((Ie=((Ie=((Ie=(Ie-(Ke=Ie%85))/85)-(je=Ie%85))/85)-(Oe=Ie%85))/85)-(ke=Ie%85))/85)%85,Re.push(Ue+33,ke+33,Oe+33,je+33,Ke+33)):Re.push(122);return function(ze,Ve){for(var Xe=Ve;Xe>0;Xe--)ze.pop()}(Re,Se.length),String.fromCharCode.apply(String,Re)+"~>"},Ae=function(Ce){var Se,Re,Be,Fe,Ie,Ue=String,ke="length",Oe=255,je="charCodeAt",Ke="slice",ze="replace";for(Ce[Ke](-2),Ce=Ce[Ke](0,-2)[ze](/\s/g,"")[ze]("z","!!!!!"),Be=[],Fe=0,Ie=(Ce+=Se="uuuuu"[Ke](Ce[ke]%5||5))[ke];Ie>Fe;Fe+=5)Re=52200625*(Ce[je](Fe)-33)+614125*(Ce[je](Fe+1)-33)+7225*(Ce[je](Fe+2)-33)+85*(Ce[je](Fe+3)-33)+(Ce[je](Fe+4)-33),Be.push(Oe&Re>>24,Oe&Re>>16,Oe&Re>>8,Oe&Re);return function(Ve,Xe){for(var ir=Xe;ir>0;ir--)Ve.pop()}(Be,Se[ke]),Ue.fromCharCode.apply(Ue,Be)},_e=function(Ce){var Se=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Ce=Ce.replace(/\s/g,"")).indexOf(">")!==-1&&(Ce=Ce.substr(0,Ce.indexOf(">"))),Ce.length%2&&(Ce+="0"),Se.test(Ce)===!1)return"";for(var Re="",Be=0;Be<Ce.length;Be+=2)Re+=String.fromCharCode("0x"+(Ce[Be]+Ce[Be+1]));return Re},xe=function(Ce){for(var Se=new Uint8Array(Ce.length),Re=Ce.length;Re--;)Se[Re]=Ce.charCodeAt(Re);return Ce=(Se=zlibSync(Se)).reduce(function(Be,Fe){return Be+String.fromCharCode(Fe)},"")};Ee.processDataByFilters=function(Ce,Se){var Re=0,Be=Ce||"",Fe=[];for(typeof(Se=Se||[])=="string"&&(Se=[Se]),Re=0;Re<Se.length;Re+=1)switch(Se[Re]){case"ASCII85Decode":case"/ASCII85Decode":Be=Ae(Be),Fe.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Be=t(Be),Fe.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Be=_e(Be),Fe.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Be=Be.split("").map(function(Ie){return("0"+Ie.charCodeAt().toString(16)).slice(-2)}).join("")+">",Fe.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Be=xe(Be),Fe.push("/FlateDecode");break;default:throw new Error('The filter: "'+Se[Re]+'" is not implemented')}return{data:Be,reverseChain:Fe.reverse().join(" ")}}}(E.API),function(Ee){Ee.loadFile=function(t,Ae,_e){return function(xe,Ce,Se){Ce=Ce!==!1,Se=typeof Se=="function"?Se:function(){};var Re=void 0;try{Re=function(Be,Fe,Ie){var Ue=new XMLHttpRequest,ke=0,Oe=function(je){var Ke=je.length,ze=[],Ve=String.fromCharCode;for(ke=0;ke<Ke;ke+=1)ze.push(Ve(255&je.charCodeAt(ke)));return ze.join("")};if(Ue.open("GET",Be,!Fe),Ue.overrideMimeType("text/plain; charset=x-user-defined"),Fe===!1&&(Ue.onload=function(){Ue.status===200?Ie(Oe(this.responseText)):Ie(void 0)}),Ue.send(null),Fe&&Ue.status===200)return Oe(Ue.responseText)}(xe,Ce,Se)}catch{}return Re}(t,Ae,_e)},Ee.loadImageFile=Ee.loadFile}(E.API),function(Ee){function t(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>Promise.resolve().then(()=>html2canvas_esm),[])).catch(function(Se){return Promise.reject(new Error("Could not load html2canvas: "+Se))}).then(function(Se){return Se.default?Se.default:Se})}function Ae(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(Se){return Promise.reject(new Error("Could not load dompurify: "+Se))}).then(function(Se){return Se.default?Se.default:Se})}var _e=function(Se){var Re=_typeof(Se);return Re==="undefined"?"undefined":Re==="string"||Se instanceof String?"string":Re==="number"||Se instanceof Number?"number":Re==="function"||Se instanceof Function?"function":Se&&Se.constructor===Array?"array":Se&&Se.nodeType===1?"element":Re==="object"?"object":"unknown"},xe=function(Se,Re){var Be=document.createElement(Se);for(var Fe in Re.className&&(Be.className=Re.className),Re.innerHTML&&Re.dompurify&&(Be.innerHTML=Re.dompurify.sanitize(Re.innerHTML)),Re.style)Be.style[Fe]=Re.style[Fe];return Be},Ce=function Se(Re){var Be=Object.assign(Se.convert(Promise.resolve()),JSON.parse(JSON.stringify(Se.template))),Fe=Se.convert(Promise.resolve(),Be);return Fe=(Fe=Fe.setProgress(1,Se,1,[Se])).set(Re)};(Ce.prototype=Object.create(Promise.prototype)).constructor=Ce,Ce.convert=function(Se,Re){return Se.__proto__=Re||Ce.prototype,Se},Ce.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Ce.prototype.from=function(Se,Re){return this.then(function(){switch(Re=Re||function(Be){switch(_e(Be)){case"string":return"string";case"element":return Be.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(Se)){case"string":return this.then(Ae).then(function(Be){return this.set({src:xe("div",{innerHTML:Se,dompurify:Be})})});case"element":return this.set({src:Se});case"canvas":return this.set({canvas:Se});case"img":return this.set({img:Se});default:return this.error("Unknown source type.")}})},Ce.prototype.to=function(Se){switch(Se){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Ce.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var Se={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Re=function Be(Fe,Ie){for(var Ue=Fe.nodeType===3?document.createTextNode(Fe.nodeValue):Fe.cloneNode(!1),ke=Fe.firstChild;ke;ke=ke.nextSibling)Ie!==!0&&ke.nodeType===1&&ke.nodeName==="SCRIPT"||Ue.appendChild(Be(ke,Ie));return Fe.nodeType===1&&(Fe.nodeName==="CANVAS"?(Ue.width=Fe.width,Ue.height=Fe.height,Ue.getContext("2d").drawImage(Fe,0,0)):Fe.nodeName!=="TEXTAREA"&&Fe.nodeName!=="SELECT"||(Ue.value=Fe.value),Ue.addEventListener("load",function(){Ue.scrollTop=Fe.scrollTop,Ue.scrollLeft=Fe.scrollLeft},!0)),Ue}(this.prop.src,this.opt.html2canvas.javascriptEnabled);Re.tagName==="BODY"&&(Se.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=xe("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=xe("div",{className:"html2pdf__container",style:Se}),this.prop.container.appendChild(Re),this.prop.container.firstChild.appendChild(xe("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Ce.prototype.toCanvas=function(){var Se=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Se).then(t).then(function(Re){var Be=Object.assign({},this.opt.html2canvas);return delete Be.onrendered,Re(this.prop.container,Be)}).then(function(Re){(this.opt.html2canvas.onrendered||function(){})(Re),this.prop.canvas=Re,document.body.removeChild(this.prop.overlay)})},Ce.prototype.toContext2d=function(){var Se=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Se).then(t).then(function(Re){var Be=this.opt.jsPDF,Fe=this.opt.fontFaces,Ie=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Ue=Object.assign({async:!0,allowTaint:!0,scale:Ie,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Ue.onrendered,Be.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Be.context2d.posX=this.opt.x,Be.context2d.posY=this.opt.y,Be.context2d.margin=this.opt.margin,Be.context2d.fontFaces=Fe,Fe)for(var ke=0;ke<Fe.length;++ke){var Oe=Fe[ke],je=Oe.src.find(function(Ke){return Ke.format==="truetype"});je&&Be.addFont(je.url,Oe.ref.name,Oe.ref.style)}return Ue.windowHeight=Ue.windowHeight||0,Ue.windowHeight=Ue.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Ue.windowHeight,Be.context2d.save(!0),Re(this.prop.container,Ue)}).then(function(Re){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Re),this.prop.canvas=Re,document.body.removeChild(this.prop.overlay)})},Ce.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var Se=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Se})},Ce.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Ce.prototype.output=function(Se,Re,Be){return(Be=Be||"pdf").toLowerCase()==="img"||Be.toLowerCase()==="image"?this.outputImg(Se,Re):this.outputPdf(Se,Re)},Ce.prototype.outputPdf=function(Se,Re){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Se,Re)})},Ce.prototype.outputImg=function(Se){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Se){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Se+'" is not supported.'}})},Ce.prototype.save=function(Se){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Se?{filename:Se}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Ce.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Ce.prototype.set=function(Se){if(_e(Se)!=="object")return this;var Re=Object.keys(Se||{}).map(function(Be){if(Be in Ce.template.prop)return function(){this.prop[Be]=Se[Be]};switch(Be){case"margin":return this.setMargin.bind(this,Se.margin);case"jsPDF":return function(){return this.opt.jsPDF=Se.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Se.pageSize);default:return function(){this.opt[Be]=Se[Be]}}},this);return this.then(function(){return this.thenList(Re)})},Ce.prototype.get=function(Se,Re){return this.then(function(){var Be=Se in Ce.template.prop?this.prop[Se]:this.opt[Se];return Re?Re(Be):Be})},Ce.prototype.setMargin=function(Se){return this.then(function(){switch(_e(Se)){case"number":Se=[Se,Se,Se,Se];case"array":if(Se.length===2&&(Se=[Se[0],Se[1],Se[0],Se[1]]),Se.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Se}).then(this.setPageSize)},Ce.prototype.setPageSize=function(Se){function Re(Be,Fe){return Math.floor(Be*Fe/72*96)}return this.then(function(){(Se=Se||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Se.inner={width:Se.width-this.opt.margin[1]-this.opt.margin[3],height:Se.height-this.opt.margin[0]-this.opt.margin[2]},Se.inner.px={width:Re(Se.inner.width,Se.k),height:Re(Se.inner.height,Se.k)},Se.inner.ratio=Se.inner.height/Se.inner.width),this.prop.pageSize=Se})},Ce.prototype.setProgress=function(Se,Re,Be,Fe){return Se!=null&&(this.progress.val=Se),Re!=null&&(this.progress.state=Re),Be!=null&&(this.progress.n=Be),Fe!=null&&(this.progress.stack=Fe),this.progress.ratio=this.progress.val/this.progress.state,this},Ce.prototype.updateProgress=function(Se,Re,Be,Fe){return this.setProgress(Se?this.progress.val+Se:null,Re||null,Be?this.progress.n+Be:null,Fe?this.progress.stack.concat(Fe):null)},Ce.prototype.then=function(Se,Re){var Be=this;return this.thenCore(Se,Re,function(Fe,Ie){return Be.updateProgress(null,null,1,[Fe]),Promise.prototype.then.call(this,function(Ue){return Be.updateProgress(null,Fe),Ue}).then(Fe,Ie).then(function(Ue){return Be.updateProgress(1),Ue})})},Ce.prototype.thenCore=function(Se,Re,Be){Be=Be||Promise.prototype.then,Se&&(Se=Se.bind(this)),Re&&(Re=Re.bind(this));var Fe=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:Ce.convert(Object.assign({},this),Promise.prototype),Ie=Be.call(Fe,Se,Re);return Ce.convert(Ie,this.__proto__)},Ce.prototype.thenExternal=function(Se,Re){return Promise.prototype.then.call(this,Se,Re)},Ce.prototype.thenList=function(Se){var Re=this;return Se.forEach(function(Be){Re=Re.thenCore(Be)}),Re},Ce.prototype.catch=function(Se){Se&&(Se=Se.bind(this));var Re=Promise.prototype.catch.call(this,Se);return Ce.convert(Re,this)},Ce.prototype.catchExternal=function(Se){return Promise.prototype.catch.call(this,Se)},Ce.prototype.error=function(Se){return this.then(function(){throw new Error(Se)})},Ce.prototype.using=Ce.prototype.set,Ce.prototype.saveAs=Ce.prototype.save,Ce.prototype.export=Ce.prototype.output,Ce.prototype.run=Ce.prototype.then,E.getPageSize=function(Se,Re,Be){if(_typeof(Se)==="object"){var Fe=Se;Se=Fe.orientation,Re=Fe.unit||Re,Be=Fe.format||Be}Re=Re||"mm",Be=Be||"a4",Se=(""+(Se||"P")).toLowerCase();var Ie,Ue=(""+Be).toLowerCase(),ke={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Re){case"pt":Ie=1;break;case"mm":Ie=72/25.4;break;case"cm":Ie=72/2.54;break;case"in":Ie=72;break;case"px":Ie=.75;break;case"pc":case"em":Ie=12;break;case"ex":Ie=6;break;default:throw"Invalid unit: "+Re}var Oe,je=0,Ke=0;if(ke.hasOwnProperty(Ue))je=ke[Ue][1]/Ie,Ke=ke[Ue][0]/Ie;else try{je=Be[1],Ke=Be[0]}catch{throw new Error("Invalid format: "+Be)}if(Se==="p"||Se==="portrait")Se="p",Ke>je&&(Oe=Ke,Ke=je,je=Oe);else{if(Se!=="l"&&Se!=="landscape")throw"Invalid orientation: "+Se;Se="l",je>Ke&&(Oe=Ke,Ke=je,je=Oe)}return{width:Ke,height:je,unit:Re,k:Ie,orientation:Se}},Ee.html=function(Se,Re){(Re=Re||{}).callback=Re.callback||function(){},Re.html2canvas=Re.html2canvas||{},Re.html2canvas.canvas=Re.html2canvas.canvas||this.canvas,Re.jsPDF=Re.jsPDF||this,Re.fontFaces=Re.fontFaces?Re.fontFaces.map(jt):null;var Be=new Ce(Re);return Re.worker?Be:Be.from(Se).doCallback()}}(E.API),E.API.addJS=function(Ee){return Ht=Ee,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(Ee){var t;Ee.events.push(["postPutResources",function(){var Ae=this,_e=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var xe=Ae.outline.render().split(/\r\n/),Ce=0;Ce<xe.length;Ce++){var Se=xe[Ce],Re=_e.exec(Se);if(Re!=null){var Be=Re[1];Ae.internal.newObjectDeferredBegin(Be,!1)}Ae.internal.write(Se)}if(this.outline.createNamedDestinations){var Fe=this.internal.pages.length,Ie=[];for(Ce=0;Ce<Fe;Ce++){var Ue=Ae.internal.newObject();Ie.push(Ue);var ke=Ae.internal.getPageInfo(Ce+1);Ae.internal.write("<< /D["+ke.objId+" 0 R /XYZ null null null]>> endobj")}var Oe=Ae.internal.newObject();for(Ae.internal.write("<< /Names [ "),Ce=0;Ce<Ie.length;Ce++)Ae.internal.write("(page_"+(Ce+1)+")"+Ie[Ce]+" 0 R");Ae.internal.write(" ] >>","endobj"),t=Ae.internal.newObject(),Ae.internal.write("<< /Dests "+Oe+" 0 R"),Ae.internal.write(">>","endobj")}}]),Ee.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),Ee.events.push(["initialized",function(){var Ae=this;Ae.outline={createNamedDestinations:!1,root:{children:[]}},Ae.outline.add=function(_e,xe,Ce){var Se={title:xe,options:Ce,children:[]};return _e==null&&(_e=this.root),_e.children.push(Se),Se},Ae.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=Ae,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},Ae.outline.genIds_r=function(_e){_e.id=Ae.internal.newObjectDeferred();for(var xe=0;xe<_e.children.length;xe++)this.genIds_r(_e.children[xe])},Ae.outline.renderRoot=function(_e){this.objStart(_e),this.line("/Type /Outlines"),_e.children.length>0&&(this.line("/First "+this.makeRef(_e.children[0])),this.line("/Last "+this.makeRef(_e.children[_e.children.length-1]))),this.line("/Count "+this.count_r({count:0},_e)),this.objEnd()},Ae.outline.renderItems=function(_e){for(var xe=this.ctx.pdf.internal.getVerticalCoordinateString,Ce=0;Ce<_e.children.length;Ce++){var Se=_e.children[Ce];this.objStart(Se),this.line("/Title "+this.makeString(Se.title)),this.line("/Parent "+this.makeRef(_e)),Ce>0&&this.line("/Prev "+this.makeRef(_e.children[Ce-1])),Ce<_e.children.length-1&&this.line("/Next "+this.makeRef(_e.children[Ce+1])),Se.children.length>0&&(this.line("/First "+this.makeRef(Se.children[0])),this.line("/Last "+this.makeRef(Se.children[Se.children.length-1])));var Re=this.count=this.count_r({count:0},Se);if(Re>0&&this.line("/Count "+Re),Se.options&&Se.options.pageNumber){var Be=Ae.internal.getPageInfo(Se.options.pageNumber);this.line("/Dest ["+Be.objId+" 0 R /XYZ 0 "+xe(0)+" 0]")}this.objEnd()}for(var Fe=0;Fe<_e.children.length;Fe++)this.renderItems(_e.children[Fe])},Ae.outline.line=function(_e){this.ctx.val+=_e+`\r
`},Ae.outline.makeRef=function(_e){return _e.id+" 0 R"},Ae.outline.makeString=function(_e){return"("+Ae.internal.pdfEscape(_e)+")"},Ae.outline.objStart=function(_e){this.ctx.val+=`\r
`+_e.id+` 0 obj\r
<<\r
`},Ae.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},Ae.outline.count_r=function(_e,xe){for(var Ce=0;Ce<xe.children.length;Ce++)_e.count++,this.count_r(_e,xe.children[Ce]);return _e.count}}])}(E.API),function(Ee){var t=[192,193,194,195,196,197,198,199];Ee.processJPEG=function(Ae,_e,xe,Ce,Se,Re){var Be,Fe=this.decode.DCT_DECODE,Ie=null;if(typeof Ae=="string"||this.__addimage__.isArrayBuffer(Ae)||this.__addimage__.isArrayBufferView(Ae)){switch(Ae=Se||Ae,Ae=this.__addimage__.isArrayBuffer(Ae)?new Uint8Array(Ae):Ae,(Be=function(Ue){for(var ke,Oe=256*Ue.charCodeAt(4)+Ue.charCodeAt(5),je=Ue.length,Ke={width:0,height:0,numcomponents:1},ze=4;ze<je;ze+=2){if(ze+=Oe,t.indexOf(Ue.charCodeAt(ze+1))!==-1){ke=256*Ue.charCodeAt(ze+5)+Ue.charCodeAt(ze+6),Ke={width:256*Ue.charCodeAt(ze+7)+Ue.charCodeAt(ze+8),height:ke,numcomponents:Ue.charCodeAt(ze+9)};break}Oe=256*Ue.charCodeAt(ze+2)+Ue.charCodeAt(ze+3)}return Ke}(Ae=this.__addimage__.isArrayBufferView(Ae)?this.__addimage__.arrayBufferToBinaryString(Ae):Ae)).numcomponents){case 1:Re=this.color_spaces.DEVICE_GRAY;break;case 4:Re=this.color_spaces.DEVICE_CMYK;break;case 3:Re=this.color_spaces.DEVICE_RGB}Ie={data:Ae,width:Be.width,height:Be.height,colorSpace:Re,bitsPerComponent:8,filter:Fe,index:_e,alias:xe}}return Ie}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var Ee,t,Ae;function _e(Ce){var Se,Re,Be,Fe,Ie,Ue,ke,Oe,je,Ke,ze,Ve,Xe,ir;for(this.data=Ce,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},Ue=null;;){switch(Se=this.readUInt32(),je=(function(){var sr,rr;for(rr=[],sr=0;sr<4;++sr)rr.push(String.fromCharCode(this.data[this.pos++]));return rr}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(Se);break;case"fcTL":Ue&&this.animation.frames.push(Ue),this.pos+=4,Ue={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},Ie=this.readUInt16(),Fe=this.readUInt16()||100,Ue.delay=1e3*Ie/Fe,Ue.disposeOp=this.data[this.pos++],Ue.blendOp=this.data[this.pos++],Ue.data=[];break;case"IDAT":case"fdAT":for(je==="fdAT"&&(this.pos+=4,Se-=4),Ce=(Ue!=null?Ue.data:void 0)||this.imgData,Ve=0;0<=Se?Ve<Se:Ve>Se;0<=Se?++Ve:--Ve)Ce.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(Be=this.palette.length/3,this.transparency.indexed=this.read(Se),this.transparency.indexed.length>Be)throw new Error("More transparent colors than palette size");if((Ke=Be-this.transparency.indexed.length)>0)for(Xe=0;0<=Ke?Xe<Ke:Xe>Ke;0<=Ke?++Xe:--Xe)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(Se)[0];break;case 2:this.transparency.rgb=this.read(Se)}break;case"tEXt":ke=(ze=this.read(Se)).indexOf(0),Oe=String.fromCharCode.apply(String,ze.slice(0,ke)),this.text[Oe]=String.fromCharCode.apply(String,ze.slice(ke+1));break;case"IEND":return Ue&&this.animation.frames.push(Ue),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(ir=this.colorType)===4||ir===6,Re=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*Re,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=Se}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}_e.prototype.read=function(Ce){var Se,Re;for(Re=[],Se=0;0<=Ce?Se<Ce:Se>Ce;0<=Ce?++Se:--Se)Re.push(this.data[this.pos++]);return Re},_e.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},_e.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},_e.prototype.decodePixels=function(Ce){var Se=this.pixelBitlength/8,Re=new Uint8Array(this.width*this.height*Se),Be=0,Fe=this;if(Ce==null&&(Ce=this.imgData),Ce.length===0)return new Uint8Array(0);function Ie(Ue,ke,Oe,je){var Ke,ze,Ve,Xe,ir,sr,rr,nr,We,Ge,Ze,or,He,Je,$e,mr,wr,vr,ur,Cr,_r,hr=Math.ceil((Fe.width-Ue)/Oe),Sr=Math.ceil((Fe.height-ke)/je),ar=Fe.width==hr&&Fe.height==Sr;for(Je=Se*hr,or=ar?Re:new Uint8Array(Je*Sr),sr=Ce.length,He=0,ze=0;He<Sr&&Be<sr;){switch(Ce[Be++]){case 0:for(Xe=wr=0;wr<Je;Xe=wr+=1)or[ze++]=Ce[Be++];break;case 1:for(Xe=vr=0;vr<Je;Xe=vr+=1)Ke=Ce[Be++],ir=Xe<Se?0:or[ze-Se],or[ze++]=(Ke+ir)%256;break;case 2:for(Xe=ur=0;ur<Je;Xe=ur+=1)Ke=Ce[Be++],Ve=(Xe-Xe%Se)/Se,$e=He&&or[(He-1)*Je+Ve*Se+Xe%Se],or[ze++]=($e+Ke)%256;break;case 3:for(Xe=Cr=0;Cr<Je;Xe=Cr+=1)Ke=Ce[Be++],Ve=(Xe-Xe%Se)/Se,ir=Xe<Se?0:or[ze-Se],$e=He&&or[(He-1)*Je+Ve*Se+Xe%Se],or[ze++]=(Ke+Math.floor((ir+$e)/2))%256;break;case 4:for(Xe=_r=0;_r<Je;Xe=_r+=1)Ke=Ce[Be++],Ve=(Xe-Xe%Se)/Se,ir=Xe<Se?0:or[ze-Se],He===0?$e=mr=0:($e=or[(He-1)*Je+Ve*Se+Xe%Se],mr=Ve&&or[(He-1)*Je+(Ve-1)*Se+Xe%Se]),rr=ir+$e-mr,nr=Math.abs(rr-ir),Ge=Math.abs(rr-$e),Ze=Math.abs(rr-mr),We=nr<=Ge&&nr<=Ze?ir:Ge<=Ze?$e:mr,or[ze++]=(Ke+We)%256;break;default:throw new Error("Invalid filter algorithm: "+Ce[Be-1])}if(!ar){var tr=((ke+He*je)*Fe.width+Ue)*Se,lr=He*Je;for(Xe=0;Xe<hr;Xe+=1){for(var pr=0;pr<Se;pr+=1)Re[tr++]=or[lr++];tr+=(Oe-1)*Se}}He++}}return Ce=unzlibSync(Ce),Fe.interlaceMethod==1?(Ie(0,0,8,8),Ie(4,0,8,8),Ie(0,4,4,8),Ie(2,0,4,4),Ie(0,2,2,4),Ie(1,0,2,2),Ie(0,1,1,2)):Ie(0,0,1,1),Re},_e.prototype.decodePalette=function(){var Ce,Se,Re,Be,Fe,Ie,Ue,ke,Oe;for(Re=this.palette,Ie=this.transparency.indexed||[],Fe=new Uint8Array((Ie.length||0)+Re.length),Be=0,Ce=0,Se=Ue=0,ke=Re.length;Ue<ke;Se=Ue+=3)Fe[Be++]=Re[Se],Fe[Be++]=Re[Se+1],Fe[Be++]=Re[Se+2],Fe[Be++]=(Oe=Ie[Ce++])!=null?Oe:255;return Fe},_e.prototype.copyToImageData=function(Ce,Se){var Re,Be,Fe,Ie,Ue,ke,Oe,je,Ke,ze,Ve;if(Be=this.colors,Ke=null,Re=this.hasAlphaChannel,this.palette.length&&(Ke=(Ve=this._decodedPalette)!=null?Ve:this._decodedPalette=this.decodePalette(),Be=4,Re=!0),je=(Fe=Ce.data||Ce).length,Ue=Ke||Se,Ie=ke=0,Be===1)for(;Ie<je;)Oe=Ke?4*Se[Ie/4]:ke,ze=Ue[Oe++],Fe[Ie++]=ze,Fe[Ie++]=ze,Fe[Ie++]=ze,Fe[Ie++]=Re?Ue[Oe++]:255,ke=Oe;else for(;Ie<je;)Oe=Ke?4*Se[Ie/4]:ke,Fe[Ie++]=Ue[Oe++],Fe[Ie++]=Ue[Oe++],Fe[Ie++]=Ue[Oe++],Fe[Ie++]=Re?Ue[Oe++]:255,ke=Oe},_e.prototype.decode=function(){var Ce;return Ce=new Uint8Array(this.width*this.height*4),this.copyToImageData(Ce,this.decodePixels()),Ce};var xe=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{t=n.document.createElement("canvas"),Ae=t.getContext("2d")}catch{return!1}return!0}return!1};return xe(),Ee=function(Ce){var Se;if(xe()===!0)return Ae.width=Ce.width,Ae.height=Ce.height,Ae.clearRect(0,0,Ce.width,Ce.height),Ae.putImageData(Ce,0,0),(Se=new Image).src=t.toDataURL(),Se;throw new Error("This method requires a Browser with Canvas-capability.")},_e.prototype.decodeFrames=function(Ce){var Se,Re,Be,Fe,Ie,Ue,ke,Oe;if(this.animation){for(Oe=[],Re=Ie=0,Ue=(ke=this.animation.frames).length;Ie<Ue;Re=++Ie)Se=ke[Re],Be=Ce.createImageData(Se.width,Se.height),Fe=this.decodePixels(new Uint8Array(Se.data)),this.copyToImageData(Be,Fe),Se.imageData=Be,Oe.push(Se.image=Ee(Be));return Oe}},_e.prototype.renderFrame=function(Ce,Se){var Re,Be,Fe;return Re=(Be=this.animation.frames)[Se],Fe=Be[Se-1],Se===0&&Ce.clearRect(0,0,this.width,this.height),(Fe!=null?Fe.disposeOp:void 0)===1?Ce.clearRect(Fe.xOffset,Fe.yOffset,Fe.width,Fe.height):(Fe!=null?Fe.disposeOp:void 0)===2&&Ce.putImageData(Fe.imageData,Fe.xOffset,Fe.yOffset),Re.blendOp===0&&Ce.clearRect(Re.xOffset,Re.yOffset,Re.width,Re.height),Ce.drawImage(Re.image,Re.xOffset,Re.yOffset)},_e.prototype.animate=function(Ce){var Se,Re,Be,Fe,Ie,Ue,ke=this;return Re=0,Ue=this.animation,Fe=Ue.numFrames,Be=Ue.frames,Ie=Ue.numPlays,(Se=function(){var Oe,je;if(Oe=Re++%Fe,je=Be[Oe],ke.renderFrame(Ce,Oe),Fe>1&&Re/Fe<Ie)return ke.animation._timeout=setTimeout(Se,je.delay)})()},_e.prototype.stopAnimation=function(){var Ce;return clearTimeout((Ce=this.animation)!=null?Ce._timeout:void 0)},_e.prototype.render=function(Ce){var Se,Re;return Ce._png&&Ce._png.stopAnimation(),Ce._png=this,Ce.width=this.width,Ce.height=this.height,Se=Ce.getContext("2d"),this.animation?(this.decodeFrames(Se),this.animate(Se)):(Re=Se.createImageData(this.width,this.height),this.copyToImageData(Re,this.decodePixels()),Se.putImageData(Re,0,0))},_e}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(Ee){var t=0;if(Ee[t++]!==71||Ee[t++]!==73||Ee[t++]!==70||Ee[t++]!==56||(Ee[t++]+1&253)!=56||Ee[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var Ae=Ee[t++]|Ee[t++]<<8,_e=Ee[t++]|Ee[t++]<<8,xe=Ee[t++],Ce=xe>>7,Se=1<<(7&xe)+1;Ee[t++],Ee[t++];var Re=null,Be=null;Ce&&(Re=t,Be=Se,t+=3*Se);var Fe=!0,Ie=[],Ue=0,ke=null,Oe=0,je=null;for(this.width=Ae,this.height=_e;Fe&&t<Ee.length;)switch(Ee[t++]){case 33:switch(Ee[t++]){case 255:if(Ee[t]!==11||Ee[t+1]==78&&Ee[t+2]==69&&Ee[t+3]==84&&Ee[t+4]==83&&Ee[t+5]==67&&Ee[t+6]==65&&Ee[t+7]==80&&Ee[t+8]==69&&Ee[t+9]==50&&Ee[t+10]==46&&Ee[t+11]==48&&Ee[t+12]==3&&Ee[t+13]==1&&Ee[t+16]==0)t+=14,je=Ee[t++]|Ee[t++]<<8,t++;else for(t+=12;;){if(!((He=Ee[t++])>=0))throw Error("Invalid block size");if(He===0)break;t+=He}break;case 249:if(Ee[t++]!==4||Ee[t+4]!==0)throw new Error("Invalid graphics extension block.");var Ke=Ee[t++];Ue=Ee[t++]|Ee[t++]<<8,ke=Ee[t++],(1&Ke)==0&&(ke=null),Oe=Ke>>2&7,t++;break;case 254:for(;;){if(!((He=Ee[t++])>=0))throw Error("Invalid block size");if(He===0)break;t+=He}break;default:throw new Error("Unknown graphic control label: 0x"+Ee[t-1].toString(16))}break;case 44:var ze=Ee[t++]|Ee[t++]<<8,Ve=Ee[t++]|Ee[t++]<<8,Xe=Ee[t++]|Ee[t++]<<8,ir=Ee[t++]|Ee[t++]<<8,sr=Ee[t++],rr=sr>>6&1,nr=1<<(7&sr)+1,We=Re,Ge=Be,Ze=!1;sr>>7&&(Ze=!0,We=t,Ge=nr,t+=3*nr);var or=t;for(t++;;){var He;if(!((He=Ee[t++])>=0))throw Error("Invalid block size");if(He===0)break;t+=He}Ie.push({x:ze,y:Ve,width:Xe,height:ir,has_local_palette:Ze,palette_offset:We,palette_size:Ge,data_offset:or,data_length:t-or,transparent_index:ke,interlaced:!!rr,delay:Ue,disposal:Oe});break;case 59:Fe=!1;break;default:throw new Error("Unknown gif block: 0x"+Ee[t-1].toString(16))}this.numFrames=function(){return Ie.length},this.loopCount=function(){return je},this.frameInfo=function(Je){if(Je<0||Je>=Ie.length)throw new Error("Frame index out of range.");return Ie[Je]},this.decodeAndBlitFrameBGRA=function(Je,$e){var mr=this.frameInfo(Je),wr=mr.width*mr.height,vr=new Uint8Array(wr);$t(Ee,mr.data_offset,vr,wr);var ur=mr.palette_offset,Cr=mr.transparent_index;Cr===null&&(Cr=256);var _r=mr.width,hr=Ae-_r,Sr=_r,ar=4*(mr.y*Ae+mr.x),tr=4*((mr.y+mr.height)*Ae+mr.x),lr=ar,pr=4*hr;mr.interlaced===!0&&(pr+=4*Ae*7);for(var Er=8,Rr=0,Tr=vr.length;Rr<Tr;++Rr){var Ir=vr[Rr];if(Sr===0&&(Sr=_r,(lr+=pr)>=tr&&(pr=4*hr+4*Ae*(Er-1),lr=ar+(_r+hr)*(Er<<1),Er>>=1)),Ir===Cr)lr+=4;else{var Zr=Ee[ur+3*Ir],zr=Ee[ur+3*Ir+1],$r=Ee[ur+3*Ir+2];$e[lr++]=$r,$e[lr++]=zr,$e[lr++]=Zr,$e[lr++]=255}--Sr}},this.decodeAndBlitFrameRGBA=function(Je,$e){var mr=this.frameInfo(Je),wr=mr.width*mr.height,vr=new Uint8Array(wr);$t(Ee,mr.data_offset,vr,wr);var ur=mr.palette_offset,Cr=mr.transparent_index;Cr===null&&(Cr=256);var _r=mr.width,hr=Ae-_r,Sr=_r,ar=4*(mr.y*Ae+mr.x),tr=4*((mr.y+mr.height)*Ae+mr.x),lr=ar,pr=4*hr;mr.interlaced===!0&&(pr+=4*Ae*7);for(var Er=8,Rr=0,Tr=vr.length;Rr<Tr;++Rr){var Ir=vr[Rr];if(Sr===0&&(Sr=_r,(lr+=pr)>=tr&&(pr=4*hr+4*Ae*(Er-1),lr=ar+(_r+hr)*(Er<<1),Er>>=1)),Ir===Cr)lr+=4;else{var Zr=Ee[ur+3*Ir],zr=Ee[ur+3*Ir+1],$r=Ee[ur+3*Ir+2];$e[lr++]=Zr,$e[lr++]=zr,$e[lr++]=$r,$e[lr++]=255}--Sr}}}function $t(Ee,t,Ae,_e){for(var xe=Ee[t++],Ce=1<<xe,Se=Ce+1,Re=Se+1,Be=xe+1,Fe=(1<<Be)-1,Ie=0,Ue=0,ke=0,Oe=Ee[t++],je=new Int32Array(4096),Ke=null;;){for(;Ie<16&&Oe!==0;)Ue|=Ee[t++]<<Ie,Ie+=8,Oe===1?Oe=Ee[t++]:--Oe;if(Ie<Be)break;var ze=Ue&Fe;if(Ue>>=Be,Ie-=Be,ze!==Ce){if(ze===Se)break;for(var Ve=ze<Re?ze:Ke,Xe=0,ir=Ve;ir>Ce;)ir=je[ir]>>8,++Xe;var sr=ir;if(ke+Xe+(Ve!==ze?1:0)>_e)return void a.log("Warning, gif stream longer than expected.");Ae[ke++]=sr;var rr=ke+=Xe;for(Ve!==ze&&(Ae[ke++]=sr),ir=Ve;Xe--;)ir=je[ir],Ae[--rr]=255&ir,ir>>=8;Ke!==null&&Re<4096&&(je[Re++]=Ke<<8|sr,Re>=Fe+1&&Be<12&&(++Be,Fe=Fe<<1|1)),Ke=ze}else Re=Se+1,Fe=(1<<(Be=xe+1))-1,Ke=null}return ke!==_e&&a.log("Warning, gif stream shorter than expected."),Ae}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(Ee){var t,Ae,_e,xe,Ce,Se=Math.floor,Re=new Array(64),Be=new Array(64),Fe=new Array(64),Ie=new Array(64),Ue=new Array(65535),ke=new Array(65535),Oe=new Array(64),je=new Array(64),Ke=[],ze=0,Ve=7,Xe=new Array(64),ir=new Array(64),sr=new Array(64),rr=new Array(256),nr=new Array(2048),We=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ge=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Ze=[0,1,2,3,4,5,6,7,8,9,10,11],or=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],He=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Je=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$e=[0,1,2,3,4,5,6,7,8,9,10,11],mr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],wr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function vr(ar,tr){for(var lr=0,pr=0,Er=new Array,Rr=1;Rr<=16;Rr++){for(var Tr=1;Tr<=ar[Rr];Tr++)Er[tr[pr]]=[],Er[tr[pr]][0]=lr,Er[tr[pr]][1]=Rr,pr++,lr++;lr*=2}return Er}function ur(ar){for(var tr=ar[0],lr=ar[1]-1;lr>=0;)tr&1<<lr&&(ze|=1<<Ve),lr--,--Ve<0&&(ze==255?(Cr(255),Cr(0)):Cr(ze),Ve=7,ze=0)}function Cr(ar){Ke.push(ar)}function _r(ar){Cr(ar>>8&255),Cr(255&ar)}function hr(ar,tr,lr,pr,Er){for(var Rr,Tr=Er[0],Ir=Er[240],Zr=function(jr,hn){var pn,xn,Dn,On,yn,Gn,Qn,di,ni,wi,Nr=0;for(ni=0;ni<8;++ni){pn=jr[Nr],xn=jr[Nr+1],Dn=jr[Nr+2],On=jr[Nr+3],yn=jr[Nr+4],Gn=jr[Nr+5],Qn=jr[Nr+6];var In=pn+(di=jr[Nr+7]),Kn=pn-di,si=xn+Qn,Kr=xn-Qn,Xr=Dn+Gn,br=Dn-Gn,Sn=On+yn,vi=On-yn,fr=In+Sn,Lr=In-Sn,un=si+Xr,Pr=si-Xr;jr[Nr]=fr+un,jr[Nr+4]=fr-un;var Yr=.707106781*(Pr+Lr);jr[Nr+2]=Lr+Yr,jr[Nr+6]=Lr-Yr;var En=.382683433*((fr=vi+br)-(Pr=Kr+Kn)),Zn=.5411961*fr+En,Vr=1.306562965*Pr+En,Mr=.707106781*(un=br+Kr),gn=Kn+Mr,wn=Kn-Mr;jr[Nr+5]=wn+Zn,jr[Nr+3]=wn-Zn,jr[Nr+1]=gn+Vr,jr[Nr+7]=gn-Vr,Nr+=8}for(Nr=0,ni=0;ni<8;++ni){pn=jr[Nr],xn=jr[Nr+8],Dn=jr[Nr+16],On=jr[Nr+24],yn=jr[Nr+32],Gn=jr[Nr+40],Qn=jr[Nr+48];var Rn=pn+(di=jr[Nr+56]),Nn=pn-di,zn=xn+Qn,ci=xn-Qn,ui=Dn+Gn,oi=Dn-Gn,Bi=On+yn,fi=On-yn,yi=Rn+Bi,bi=Rn-Bi,Ci=zn+ui,Pi=zn-ui;jr[Nr]=yi+Ci,jr[Nr+32]=yi-Ci;var Ii=.707106781*(Pi+bi);jr[Nr+16]=bi+Ii,jr[Nr+48]=bi-Ii;var Li=.382683433*((yi=fi+oi)-(Pi=ci+Nn)),Zi=.5411961*yi+Li,Ns=1.306562965*Pi+Li,xs=.707106781*(Ci=oi+ci),Rs=Nn+xs,Va=Nn-xs;jr[Nr+40]=Va+Zi,jr[Nr+24]=Va-Zi,jr[Nr+8]=Rs+Ns,jr[Nr+56]=Rs-Ns,Nr++}for(ni=0;ni<64;++ni)wi=jr[ni]*hn[ni],Oe[ni]=wi>0?wi+.5|0:wi-.5|0;return Oe}(ar,tr),zr=0;zr<64;++zr)je[We[zr]]=Zr[zr];var $r=je[0]-lr;lr=je[0],$r==0?ur(pr[0]):(ur(pr[ke[Rr=32767+$r]]),ur(Ue[Rr]));for(var vn=63;vn>0&&je[vn]==0;)vn--;if(vn==0)return ur(Tr),lr;for(var bn,An=1;An<=vn;){for(var Fr=An;je[An]==0&&An<=vn;)++An;var dn=An-Fr;if(dn>=16){bn=dn>>4;for(var Dr=1;Dr<=bn;++Dr)ur(Ir);dn&=15}Rr=32767+je[An],ur(Er[(dn<<4)+ke[Rr]]),ur(Ue[Rr]),An++}return vn!=63&&ur(Tr),lr}function Sr(ar){ar=Math.min(Math.max(ar,1),100),Ce!=ar&&(function(tr){for(var lr=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],pr=0;pr<64;pr++){var Er=Se((lr[pr]*tr+50)/100);Er=Math.min(Math.max(Er,1),255),Re[We[pr]]=Er}for(var Rr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Tr=0;Tr<64;Tr++){var Ir=Se((Rr[Tr]*tr+50)/100);Ir=Math.min(Math.max(Ir,1),255),Be[We[Tr]]=Ir}for(var Zr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],zr=0,$r=0;$r<8;$r++)for(var vn=0;vn<8;vn++)Fe[zr]=1/(Re[We[zr]]*Zr[$r]*Zr[vn]*8),Ie[zr]=1/(Be[We[zr]]*Zr[$r]*Zr[vn]*8),zr++}(ar<50?Math.floor(5e3/ar):Math.floor(200-2*ar)),Ce=ar)}this.encode=function(ar,tr){tr&&Sr(tr),Ke=new Array,ze=0,Ve=7,_r(65496),_r(65504),_r(16),Cr(74),Cr(70),Cr(73),Cr(70),Cr(0),Cr(1),Cr(1),Cr(0),_r(1),_r(1),Cr(0),Cr(0),function(){_r(65499),_r(132),Cr(0);for(var xn=0;xn<64;xn++)Cr(Re[xn]);Cr(1);for(var Dn=0;Dn<64;Dn++)Cr(Be[Dn])}(),function(xn,Dn){_r(65472),_r(17),Cr(8),_r(Dn),_r(xn),Cr(3),Cr(1),Cr(17),Cr(0),Cr(2),Cr(17),Cr(1),Cr(3),Cr(17),Cr(1)}(ar.width,ar.height),function(){_r(65476),_r(418),Cr(0);for(var xn=0;xn<16;xn++)Cr(Ge[xn+1]);for(var Dn=0;Dn<=11;Dn++)Cr(Ze[Dn]);Cr(16);for(var On=0;On<16;On++)Cr(or[On+1]);for(var yn=0;yn<=161;yn++)Cr(He[yn]);Cr(1);for(var Gn=0;Gn<16;Gn++)Cr(Je[Gn+1]);for(var Qn=0;Qn<=11;Qn++)Cr($e[Qn]);Cr(17);for(var di=0;di<16;di++)Cr(mr[di+1]);for(var ni=0;ni<=161;ni++)Cr(wr[ni])}(),_r(65498),_r(12),Cr(3),Cr(1),Cr(0),Cr(2),Cr(17),Cr(3),Cr(17),Cr(0),Cr(63),Cr(0);var lr=0,pr=0,Er=0;ze=0,Ve=7,this.encode.displayName="_encode_";for(var Rr,Tr,Ir,Zr,zr,$r,vn,bn,An,Fr=ar.data,dn=ar.width,Dr=ar.height,jr=4*dn,hn=0;hn<Dr;){for(Rr=0;Rr<jr;){for(zr=jr*hn+Rr,vn=-1,bn=0,An=0;An<64;An++)$r=zr+(bn=An>>3)*jr+(vn=4*(7&An)),hn+bn>=Dr&&($r-=jr*(hn+1+bn-Dr)),Rr+vn>=jr&&($r-=Rr+vn-jr+4),Tr=Fr[$r++],Ir=Fr[$r++],Zr=Fr[$r++],Xe[An]=(nr[Tr]+nr[Ir+256>>0]+nr[Zr+512>>0]>>16)-128,ir[An]=(nr[Tr+768>>0]+nr[Ir+1024>>0]+nr[Zr+1280>>0]>>16)-128,sr[An]=(nr[Tr+1280>>0]+nr[Ir+1536>>0]+nr[Zr+1792>>0]>>16)-128;lr=hr(Xe,Fe,lr,t,_e),pr=hr(ir,Ie,pr,Ae,xe),Er=hr(sr,Ie,Er,Ae,xe),Rr+=32}hn+=8}if(Ve>=0){var pn=[];pn[1]=Ve+1,pn[0]=(1<<Ve+1)-1,ur(pn)}return _r(65497),new Uint8Array(Ke)},Ee=Ee||50,function(){for(var ar=String.fromCharCode,tr=0;tr<256;tr++)rr[tr]=ar(tr)}(),t=vr(Ge,Ze),Ae=vr(Je,$e),_e=vr(or,He),xe=vr(mr,wr),function(){for(var ar=1,tr=2,lr=1;lr<=15;lr++){for(var pr=ar;pr<tr;pr++)ke[32767+pr]=lr,Ue[32767+pr]=[],Ue[32767+pr][1]=lr,Ue[32767+pr][0]=pr;for(var Er=-(tr-1);Er<=-ar;Er++)ke[32767+Er]=lr,Ue[32767+Er]=[],Ue[32767+Er][1]=lr,Ue[32767+Er][0]=tr-1+Er;ar<<=1,tr<<=1}}(),function(){for(var ar=0;ar<256;ar++)nr[ar]=19595*ar,nr[ar+256>>0]=38470*ar,nr[ar+512>>0]=7471*ar+32768,nr[ar+768>>0]=-11059*ar,nr[ar+1024>>0]=-21709*ar,nr[ar+1280>>0]=32768*ar+8421375,nr[ar+1536>>0]=-27439*ar,nr[ar+1792>>0]=-5329*ar}(),Sr(Ee)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(Ee,t){if(this.pos=0,this.buffer=Ee,this.datav=new DataView(Ee.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(Ee){function t(Ge){if(!Ge)throw Error("assert :P")}function Ae(Ge,Ze,or){for(var He=0;4>He;He++)if(Ge[Ze+He]!=or.charCodeAt(He))return!0;return!1}function _e(Ge,Ze,or,He,Je){for(var $e=0;$e<Je;$e++)Ge[Ze+$e]=or[He+$e]}function xe(Ge,Ze,or,He){for(var Je=0;Je<He;Je++)Ge[Ze+Je]=or}function Ce(Ge){return new Int32Array(Ge)}function Se(Ge,Ze){for(var or=[],He=0;He<Ge;He++)or.push(new Ze);return or}function Re(Ge,Ze){var or=[];return function He(Je,$e,mr){for(var wr=mr[$e],vr=0;vr<wr&&(Je.push(mr.length>$e+1?[]:new Ze),!(mr.length<$e+1));vr++)He(Je[vr],$e+1,mr)}(or,0,Ge),or}var Be=function(){var Ge=this;function Ze(Qe,er){for(var dr=1<<er-1>>>0;Qe&dr;)dr>>>=1;return dr?(Qe&dr-1)+dr:Qe}function or(Qe,er,dr,xr,Or){t(!(xr%dr));do Qe[er+(xr-=dr)]=Or;while(0<xr)}function He(Qe,er,dr,xr,Or){if(t(2328>=Or),512>=Or)var Qr=Ce(512);else if((Qr=Ce(Or))==null)return 0;return function(Hr,qr,Jr,fn,Pn,Yn){var Wn,jn,pi=qr,ri=1<<Jr,Fn=Ce(16),Ln=Ce(16);for(t(Pn!=0),t(fn!=null),t(Hr!=null),t(0<Jr),jn=0;jn<Pn;++jn){if(15<fn[jn])return 0;++Fn[fn[jn]]}if(Fn[0]==Pn)return 0;for(Ln[1]=0,Wn=1;15>Wn;++Wn){if(Fn[Wn]>1<<Wn)return 0;Ln[Wn+1]=Ln[Wn]+Fn[Wn]}for(jn=0;jn<Pn;++jn)Wn=fn[jn],0<fn[jn]&&(Yn[Ln[Wn]++]=jn);if(Ln[15]==1)return(fn=new Je).g=0,fn.value=Yn[0],or(Hr,pi,1,ri,fn),ri;var ai,gi=-1,Ai=ri-1,Ri=0,xi=1,Di=1,Ti=1<<Jr;for(jn=0,Wn=1,Pn=2;Wn<=Jr;++Wn,Pn<<=1){if(xi+=Di<<=1,0>(Di-=Fn[Wn]))return 0;for(;0<Fn[Wn];--Fn[Wn])(fn=new Je).g=Wn,fn.value=Yn[jn++],or(Hr,pi+Ri,Pn,Ti,fn),Ri=Ze(Ri,Wn)}for(Wn=Jr+1,Pn=2;15>=Wn;++Wn,Pn<<=1){if(xi+=Di<<=1,0>(Di-=Fn[Wn]))return 0;for(;0<Fn[Wn];--Fn[Wn]){if(fn=new Je,(Ri&Ai)!=gi){for(pi+=Ti,ai=1<<(gi=Wn)-Jr;15>gi&&!(0>=(ai-=Fn[gi]));)++gi,ai<<=1;ri+=Ti=1<<(ai=gi-Jr),Hr[qr+(gi=Ri&Ai)].g=ai+Jr,Hr[qr+gi].value=pi-qr-gi}fn.g=Wn-Jr,fn.value=Yn[jn++],or(Hr,pi+(Ri>>Jr),Pn,Ti,fn),Ri=Ze(Ri,Wn)}}return xi!=2*Ln[15]-1?0:ri}(Qe,er,dr,xr,Or,Qr)}function Je(){this.value=this.g=0}function $e(){this.value=this.g=0}function mr(){this.G=Se(5,Je),this.H=Ce(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Se(zs,$e)}function wr(Qe,er,dr,xr){t(Qe!=null),t(er!=null),t(2147483648>xr),Qe.Ca=254,Qe.I=0,Qe.b=-8,Qe.Ka=0,Qe.oa=er,Qe.pa=dr,Qe.Jd=er,Qe.Yc=dr+xr,Qe.Zc=4<=xr?dr+xr-4+1:dr,Rr(Qe)}function vr(Qe,er){for(var dr=0;0<er--;)dr|=Ir(Qe,128)<<er;return dr}function ur(Qe,er){var dr=vr(Qe,er);return Tr(Qe)?-dr:dr}function Cr(Qe,er,dr,xr){var Or,Qr=0;for(t(Qe!=null),t(er!=null),t(4294967288>xr),Qe.Sb=xr,Qe.Ra=0,Qe.u=0,Qe.h=0,4<xr&&(xr=4),Or=0;Or<xr;++Or)Qr+=er[dr+Or]<<8*Or;Qe.Ra=Qr,Qe.bb=xr,Qe.oa=er,Qe.pa=dr}function _r(Qe){for(;8<=Qe.u&&Qe.bb<Qe.Sb;)Qe.Ra>>>=8,Qe.Ra+=Qe.oa[Qe.pa+Qe.bb]<<aA-8>>>0,++Qe.bb,Qe.u-=8;lr(Qe)&&(Qe.h=1,Qe.u=0)}function hr(Qe,er){if(t(0<=er),!Qe.h&&er<=sA){var dr=tr(Qe)&Rl[er];return Qe.u+=er,_r(Qe),dr}return Qe.h=1,Qe.u=0}function Sr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ar(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function tr(Qe){return Qe.Ra>>>(Qe.u&aA-1)>>>0}function lr(Qe){return t(Qe.bb<=Qe.Sb),Qe.h||Qe.bb==Qe.Sb&&Qe.u>aA}function pr(Qe,er){Qe.u=er,Qe.h=lr(Qe)}function Er(Qe){Qe.u>=kA&&(t(Qe.u>=kA),_r(Qe))}function Rr(Qe){t(Qe!=null&&Qe.oa!=null),Qe.pa<Qe.Zc?(Qe.I=(Qe.oa[Qe.pa++]|Qe.I<<8)>>>0,Qe.b+=8):(t(Qe!=null&&Qe.oa!=null),Qe.pa<Qe.Yc?(Qe.b+=8,Qe.I=Qe.oa[Qe.pa++]|Qe.I<<8):Qe.Ka?Qe.b=0:(Qe.I<<=8,Qe.b+=8,Qe.Ka=1))}function Tr(Qe){return vr(Qe,1)}function Ir(Qe,er){var dr=Qe.Ca;0>Qe.b&&Rr(Qe);var xr=Qe.b,Or=dr*er>>>8,Qr=(Qe.I>>>xr>Or)+0;for(Qr?(dr-=Or,Qe.I-=Or+1<<xr>>>0):dr=Or+1,xr=dr,Or=0;256<=xr;)Or+=8,xr>>=8;return xr=7^Or+Pa[xr],Qe.b-=xr,Qe.Ca=(dr<<xr)-1,Qr}function Zr(Qe,er,dr){Qe[er+0]=dr>>24&255,Qe[er+1]=dr>>16&255,Qe[er+2]=dr>>8&255,Qe[er+3]=dr>>0&255}function zr(Qe,er){return Qe[er+0]<<0|Qe[er+1]<<8}function $r(Qe,er){return zr(Qe,er)|Qe[er+2]<<16}function vn(Qe,er){return zr(Qe,er)|zr(Qe,er+2)<<16}function bn(Qe,er){var dr=1<<er;return t(Qe!=null),t(0<er),Qe.X=Ce(dr),Qe.X==null?0:(Qe.Mb=32-er,Qe.Xa=er,1)}function An(Qe,er){t(Qe!=null),t(er!=null),t(Qe.Xa==er.Xa),_e(er.X,0,Qe.X,0,1<<er.Xa)}function Fr(){this.X=[],this.Xa=this.Mb=0}function dn(Qe,er,dr,xr){t(dr!=null),t(xr!=null);var Or=dr[0],Qr=xr[0];return Or==0&&(Or=(Qe*Qr+er/2)/er),Qr==0&&(Qr=(er*Or+Qe/2)/Qe),0>=Or||0>=Qr?0:(dr[0]=Or,xr[0]=Qr,1)}function Dr(Qe,er){return Qe+(1<<er)-1>>>er}function jr(Qe,er){return((4278255360&Qe)+(4278255360&er)>>>0&4278255360)+((16711935&Qe)+(16711935&er)>>>0&16711935)>>>0}function hn(Qe,er){Ge[er]=function(dr,xr,Or,Qr,Hr,qr,Jr){var fn;for(fn=0;fn<Hr;++fn){var Pn=Ge[Qe](qr[Jr+fn-1],Or,Qr+fn);qr[Jr+fn]=jr(dr[xr+fn],Pn)}}}function pn(){this.ud=this.hd=this.jd=0}function xn(Qe,er){return((4278124286&(Qe^er))>>>1)+(Qe&er)>>>0}function Dn(Qe){return 0<=Qe&&256>Qe?Qe:0>Qe?0:255<Qe?255:void 0}function On(Qe,er){return Dn(Qe+(Qe-er+.5>>1))}function yn(Qe,er,dr){return Math.abs(er-dr)-Math.abs(Qe-dr)}function Gn(Qe,er,dr,xr,Or,Qr,Hr){for(xr=Qr[Hr-1],dr=0;dr<Or;++dr)Qr[Hr+dr]=xr=jr(Qe[er+dr],xr)}function Qn(Qe,er,dr,xr,Or){var Qr;for(Qr=0;Qr<dr;++Qr){var Hr=Qe[er+Qr],qr=Hr>>8&255,Jr=16711935&(Jr=(Jr=16711935&Hr)+((qr<<16)+qr));xr[Or+Qr]=(4278255360&Hr)+Jr>>>0}}function di(Qe,er){er.jd=Qe>>0&255,er.hd=Qe>>8&255,er.ud=Qe>>16&255}function ni(Qe,er,dr,xr,Or,Qr){var Hr;for(Hr=0;Hr<xr;++Hr){var qr=er[dr+Hr],Jr=qr>>>8,fn=qr,Pn=255&(Pn=(Pn=qr>>>16)+((Qe.jd<<24>>24)*(Jr<<24>>24)>>>5));fn=255&(fn=(fn=fn+((Qe.hd<<24>>24)*(Jr<<24>>24)>>>5))+((Qe.ud<<24>>24)*(Pn<<24>>24)>>>5)),Or[Qr+Hr]=(4278255360&qr)+(Pn<<16)+fn}}function wi(Qe,er,dr,xr,Or){Ge[er]=function(Qr,Hr,qr,Jr,fn,Pn,Yn,Wn,jn){for(Jr=Yn;Jr<Wn;++Jr)for(Yn=0;Yn<jn;++Yn)fn[Pn++]=Or(qr[xr(Qr[Hr++])])},Ge[Qe]=function(Qr,Hr,qr,Jr,fn,Pn,Yn){var Wn=8>>Qr.b,jn=Qr.Ea,pi=Qr.K[0],ri=Qr.w;if(8>Wn)for(Qr=(1<<Qr.b)-1,ri=(1<<Wn)-1;Hr<qr;++Hr){var Fn,Ln=0;for(Fn=0;Fn<jn;++Fn)Fn&Qr||(Ln=xr(Jr[fn++])),Pn[Yn++]=Or(pi[Ln&ri]),Ln>>=Wn}else Ge["VP8LMapColor"+dr](Jr,fn,pi,ri,Pn,Yn,Hr,qr,jn)}}function Nr(Qe,er,dr,xr,Or){for(dr=er+dr;er<dr;){var Qr=Qe[er++];xr[Or++]=Qr>>16&255,xr[Or++]=Qr>>8&255,xr[Or++]=Qr>>0&255}}function In(Qe,er,dr,xr,Or){for(dr=er+dr;er<dr;){var Qr=Qe[er++];xr[Or++]=Qr>>16&255,xr[Or++]=Qr>>8&255,xr[Or++]=Qr>>0&255,xr[Or++]=Qr>>24&255}}function Kn(Qe,er,dr,xr,Or){for(dr=er+dr;er<dr;){var Qr=(Hr=Qe[er++])>>16&240|Hr>>12&15,Hr=Hr>>0&240|Hr>>28&15;xr[Or++]=Qr,xr[Or++]=Hr}}function si(Qe,er,dr,xr,Or){for(dr=er+dr;er<dr;){var Qr=(Hr=Qe[er++])>>16&248|Hr>>13&7,Hr=Hr>>5&224|Hr>>3&31;xr[Or++]=Qr,xr[Or++]=Hr}}function Kr(Qe,er,dr,xr,Or){for(dr=er+dr;er<dr;){var Qr=Qe[er++];xr[Or++]=Qr>>0&255,xr[Or++]=Qr>>8&255,xr[Or++]=Qr>>16&255}}function Xr(Qe,er,dr,xr,Or,Qr){if(Qr==0)for(dr=er+dr;er<dr;)Zr(xr,((Qr=Qe[er++])[0]>>24|Qr[1]>>8&65280|Qr[2]<<8&16711680|Qr[3]<<24)>>>0),Or+=32;else _e(xr,Or,Qe,er,dr)}function br(Qe,er){Ge[er][0]=Ge[Qe+"0"],Ge[er][1]=Ge[Qe+"1"],Ge[er][2]=Ge[Qe+"2"],Ge[er][3]=Ge[Qe+"3"],Ge[er][4]=Ge[Qe+"4"],Ge[er][5]=Ge[Qe+"5"],Ge[er][6]=Ge[Qe+"6"],Ge[er][7]=Ge[Qe+"7"],Ge[er][8]=Ge[Qe+"8"],Ge[er][9]=Ge[Qe+"9"],Ge[er][10]=Ge[Qe+"10"],Ge[er][11]=Ge[Qe+"11"],Ge[er][12]=Ge[Qe+"12"],Ge[er][13]=Ge[Qe+"13"],Ge[er][14]=Ge[Qe+"0"],Ge[er][15]=Ge[Qe+"0"]}function Sn(Qe){return Qe==mc||Qe==kl||Qe==al||Qe==QA}function vi(){this.eb=[],this.size=this.A=this.fb=0}function fr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Lr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new vi,this.f.kb=new fr,this.sd=null}function un(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Pr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yr(Qe){return alert("todo:WebPSamplerProcessPlane"),Qe.T}function En(Qe,er){var dr=Qe.T,xr=er.ba.f.RGBA,Or=xr.eb,Qr=xr.fb+Qe.ka*xr.A,Hr=ra[er.ba.S],qr=Qe.y,Jr=Qe.O,fn=Qe.f,Pn=Qe.N,Yn=Qe.ea,Wn=Qe.W,jn=er.cc,pi=er.dc,ri=er.Mc,Fn=er.Nc,Ln=Qe.ka,ai=Qe.ka+Qe.T,gi=Qe.U,Ai=gi+1>>1;for(Ln==0?Hr(qr,Jr,null,null,fn,Pn,Yn,Wn,fn,Pn,Yn,Wn,Or,Qr,null,null,gi):(Hr(er.ec,er.fc,qr,Jr,jn,pi,ri,Fn,fn,Pn,Yn,Wn,Or,Qr-xr.A,Or,Qr,gi),++dr);Ln+2<ai;Ln+=2)jn=fn,pi=Pn,ri=Yn,Fn=Wn,Pn+=Qe.Rc,Wn+=Qe.Rc,Qr+=2*xr.A,Hr(qr,(Jr+=2*Qe.fa)-Qe.fa,qr,Jr,jn,pi,ri,Fn,fn,Pn,Yn,Wn,Or,Qr-xr.A,Or,Qr,gi);return Jr+=Qe.fa,Qe.j+ai<Qe.o?(_e(er.ec,er.fc,qr,Jr,gi),_e(er.cc,er.dc,fn,Pn,Ai),_e(er.Mc,er.Nc,Yn,Wn,Ai),dr--):1&ai||Hr(qr,Jr,null,null,fn,Pn,Yn,Wn,fn,Pn,Yn,Wn,Or,Qr+xr.A,null,null,gi),dr}function Zn(Qe,er,dr){var xr=Qe.F,Or=[Qe.J];if(xr!=null){var Qr=Qe.U,Hr=er.ba.S,qr=Hr==uA||Hr==al;er=er.ba.f.RGBA;var Jr=[0],fn=Qe.ka;Jr[0]=Qe.T,Qe.Kb&&(fn==0?--Jr[0]:(--fn,Or[0]-=Qe.width),Qe.j+Qe.ka+Qe.T==Qe.o&&(Jr[0]=Qe.o-Qe.j-fn));var Pn=er.eb;fn=er.fb+fn*er.A,Qe=Wi(xr,Or[0],Qe.width,Qr,Jr,Pn,fn+(qr?0:3),er.A),t(dr==Jr),Qe&&Sn(Hr)&&ka(Pn,fn,qr,Qr,Jr,er.A)}return 0}function Vr(Qe){var er=Qe.ma,dr=er.ba.S,xr=11>dr,Or=dr==VA||dr==gc||dr==uA||dr==sl||dr==12||Sn(dr);if(er.memory=null,er.Ib=null,er.Jb=null,er.Nd=null,!Tl(er.Oa,Qe,Or?11:12))return 0;if(Or&&Sn(dr)&&Ei(),Qe.da)alert("todo:use_scaling");else{if(xr){if(er.Ib=Yr,Qe.Kb){if(dr=Qe.U+1>>1,er.memory=Ce(Qe.U+2*dr),er.memory==null)return 0;er.ec=er.memory,er.fc=0,er.cc=er.ec,er.dc=er.fc+Qe.U,er.Mc=er.cc,er.Nc=er.dc+dr,er.Ib=En,Ei()}}else alert("todo:EmitYUV");Or&&(er.Jb=Zn,xr&&Mn())}if(xr&&!hh){for(Qe=0;256>Qe;++Qe)wd[Qe]=89858*(Qe-128)+Xs>>Qo,Ec[Qe]=-22014*(Qe-128)+Xs,yu[Qe]=-45773*(Qe-128),Ys[Qe]=113618*(Qe-128)+Xs>>Qo;for(Qe=Vl;Qe<Kc;++Qe)er=76283*(Qe-16)+Xs>>Qo,_c[Qe-Vl]=ls(er,255),Eu[Qe-Vl]=ls(er+8>>4,15);hh=1}return 1}function Mr(Qe){var er=Qe.ma,dr=Qe.U,xr=Qe.T;return t(!(1&Qe.ka)),0>=dr||0>=xr?0:(dr=er.Ib(Qe,er),er.Jb!=null&&er.Jb(Qe,er,dr),er.Dc+=dr,1)}function gn(Qe){Qe.ma.memory=null}function wn(Qe,er,dr,xr){return hr(Qe,8)!=47?0:(er[0]=hr(Qe,14)+1,dr[0]=hr(Qe,14)+1,xr[0]=hr(Qe,1),hr(Qe,3)!=0?0:!Qe.h)}function Rn(Qe,er){if(4>Qe)return Qe+1;var dr=Qe-2>>1;return(2+(1&Qe)<<dr)+hr(er,dr)+1}function Nn(Qe,er){return 120<er?er-120:1<=(dr=((dr=ll[er-1])>>4)*Qe+(8-(15&dr)))?dr:1;var dr}function zn(Qe,er,dr){var xr=tr(dr),Or=Qe[er+=255&xr].g-8;return 0<Or&&(pr(dr,dr.u+8),xr=tr(dr),er+=Qe[er].value,er+=xr&(1<<Or)-1),pr(dr,dr.u+Qe[er].g),Qe[er].value}function ci(Qe,er,dr){return dr.g+=Qe.g,dr.value+=Qe.value<<er>>>0,t(8>=dr.g),Qe.g}function ui(Qe,er,dr){var xr=Qe.xc;return t((er=xr==0?0:Qe.vc[Qe.md*(dr>>xr)+(er>>xr)])<Qe.Wb),Qe.Ya[er]}function oi(Qe,er,dr,xr){var Or=Qe.ab,Qr=Qe.c*er,Hr=Qe.C;er=Hr+er;var qr=dr,Jr=xr;for(xr=Qe.Ta,dr=Qe.Ua;0<Or--;){var fn=Qe.gc[Or],Pn=Hr,Yn=er,Wn=qr,jn=Jr,pi=(Jr=xr,qr=dr,fn.Ea);switch(t(Pn<Yn),t(Yn<=fn.nc),fn.hc){case 2:Oc(Wn,jn,(Yn-Pn)*pi,Jr,qr);break;case 0:var ri=Pn,Fn=Yn,Ln=Jr,ai=qr,gi=(Ti=fn).Ea;ri==0&&(mu(Wn,jn,null,null,1,Ln,ai),Gn(Wn,jn+1,0,0,gi-1,Ln,ai+1),jn+=gi,ai+=gi,++ri);for(var Ai=1<<Ti.b,Ri=Ai-1,xi=Dr(gi,Ti.b),Di=Ti.K,Ti=Ti.w+(ri>>Ti.b)*xi;ri<Fn;){var ns=Di,As=Ti,Gi=1;for(fc(Wn,jn,Ln,ai-gi,1,Ln,ai);Gi<gi;){var qi=(Gi&~Ri)+Ai;qi>gi&&(qi=gi),(0,rl[ns[As++]>>8&15])(Wn,jn+ +Gi,Ln,ai+Gi-gi,qi-Gi,Ln,ai+Gi),Gi=qi}jn+=gi,ai+=gi,++ri&Ri||(Ti+=xi)}Yn!=fn.nc&&_e(Jr,qr-pi,Jr,qr+(Yn-Pn-1)*pi,pi);break;case 1:for(pi=Wn,Fn=jn,gi=(Wn=fn.Ea)-(ai=Wn&~(Ln=(jn=1<<fn.b)-1)),ri=Dr(Wn,fn.b),Ai=fn.K,fn=fn.w+(Pn>>fn.b)*ri;Pn<Yn;){for(Ri=Ai,xi=fn,Di=new pn,Ti=Fn+ai,ns=Fn+Wn;Fn<Ti;)di(Ri[xi++],Di),Pl(Di,pi,Fn,jn,Jr,qr),Fn+=jn,qr+=jn;Fn<ns&&(di(Ri[xi++],Di),Pl(Di,pi,Fn,gi,Jr,qr),Fn+=gi,qr+=gi),++Pn&Ln||(fn+=ri)}break;case 3:if(Wn==Jr&&jn==qr&&0<fn.b){for(Fn=Jr,Wn=pi=qr+(Yn-Pn)*pi-(ai=(Yn-Pn)*Dr(fn.Ea,fn.b)),jn=Jr,Ln=qr,ri=[],ai=(gi=ai)-1;0<=ai;--ai)ri[ai]=jn[Ln+ai];for(ai=gi-1;0<=ai;--ai)Fn[Wn+ai]=ri[ai];Ja(fn,Pn,Yn,Jr,pi,Jr,qr)}else Ja(fn,Pn,Yn,Wn,jn,Jr,qr)}qr=xr,Jr=dr}Jr!=dr&&_e(xr,dr,qr,Jr,Qr)}function Bi(Qe,er){var dr=Qe.V,xr=Qe.Ba+Qe.c*Qe.C,Or=er-Qe.C;if(t(er<=Qe.l.o),t(16>=Or),0<Or){var Qr=Qe.l,Hr=Qe.Ta,qr=Qe.Ua,Jr=Qr.width;if(oi(Qe,Or,dr,xr),Or=qr=[qr],t((dr=Qe.C)<(xr=er)),t(Qr.v<Qr.va),xr>Qr.o&&(xr=Qr.o),dr<Qr.j){var fn=Qr.j-dr;dr=Qr.j,Or[0]+=fn*Jr}if(dr>=xr?dr=0:(Or[0]+=4*Qr.v,Qr.ka=dr-Qr.j,Qr.U=Qr.va-Qr.v,Qr.T=xr-dr,dr=1),dr){if(qr=qr[0],11>(dr=Qe.ca).S){var Pn=dr.f.RGBA,Yn=(xr=dr.S,Or=Qr.U,Qr=Qr.T,fn=Pn.eb,Pn.A),Wn=Qr;for(Pn=Pn.fb+Qe.Ma*Pn.A;0<Wn--;){var jn=Hr,pi=qr,ri=Or,Fn=fn,Ln=Pn;switch(xr){case da:va(jn,pi,ri,Fn,Ln);break;case VA:oa(jn,pi,ri,Fn,Ln);break;case mc:oa(jn,pi,ri,Fn,Ln),ka(Fn,Ln,0,ri,1,0);break;case ko:fo(jn,pi,ri,Fn,Ln);break;case gc:Xr(jn,pi,ri,Fn,Ln,1);break;case kl:Xr(jn,pi,ri,Fn,Ln,1),ka(Fn,Ln,0,ri,1,0);break;case uA:Xr(jn,pi,ri,Fn,Ln,0);break;case al:Xr(jn,pi,ri,Fn,Ln,0),ka(Fn,Ln,1,ri,1,0);break;case sl:Fl(jn,pi,ri,Fn,Ln);break;case QA:Fl(jn,pi,ri,Fn,Ln),zi(Fn,Ln,ri,1,0);break;case Mc:Fa(jn,pi,ri,Fn,Ln);break;default:t(0)}qr+=Jr,Pn+=Yn}Qe.Ma+=Qr}else alert("todo:EmitRescaledRowsYUVA");t(Qe.Ma<=dr.height)}}Qe.C=er,t(Qe.C<=Qe.i)}function fi(Qe){var er;if(0<Qe.ua)return 0;for(er=0;er<Qe.Wb;++er){var dr=Qe.Ya[er].G,xr=Qe.Ya[er].H;if(0<dr[1][xr[1]+0].g||0<dr[2][xr[2]+0].g||0<dr[3][xr[3]+0].g)return 0}return 1}function yi(Qe,er,dr,xr,Or,Qr){if(Qe.Z!=0){var Hr=Qe.qd,qr=Qe.rd;for(t(jo[Qe.Z]!=null);er<dr;++er)jo[Qe.Z](Hr,qr,xr,Or,xr,Or,Qr),Hr=xr,qr=Or,Or+=Qr;Qe.qd=Hr,Qe.rd=qr}}function bi(Qe,er){var dr=Qe.l.ma,xr=dr.Z==0||dr.Z==1?Qe.l.j:Qe.C;if(xr=Qe.C<xr?xr:Qe.C,t(er<=Qe.l.o),er>xr){var Or=Qe.l.width,Qr=dr.ca,Hr=dr.tb+Or*xr,qr=Qe.V,Jr=Qe.Ba+Qe.c*xr,fn=Qe.gc;t(Qe.ab==1),t(fn[0].hc==3),Bl(fn[0],xr,er,qr,Jr,Qr,Hr),yi(dr,xr,er,Qr,Hr,Or)}Qe.C=Qe.Ma=er}function Ci(Qe,er,dr,xr,Or,Qr,Hr){var qr=Qe.$/xr,Jr=Qe.$%xr,fn=Qe.m,Pn=Qe.s,Yn=dr+Qe.$,Wn=Yn;Or=dr+xr*Or;var jn=dr+xr*Qr,pi=280+Pn.ua,ri=Qe.Pb?qr:16777216,Fn=0<Pn.ua?Pn.Wa:null,Ln=Pn.wc,ai=Yn<jn?ui(Pn,Jr,qr):null;t(Qe.C<Qr),t(jn<=Or);var gi=!1;e:for(;;){for(;gi||Yn<jn;){var Ai=0;if(qr>=ri){var Ri=Yn-dr;t((ri=Qe).Pb),ri.wd=ri.m,ri.xd=Ri,0<ri.s.ua&&An(ri.s.Wa,ri.s.vb),ri=qr+Ah}if(Jr&Ln||(ai=ui(Pn,Jr,qr)),t(ai!=null),ai.Qb&&(er[Yn]=ai.qb,gi=!0),!gi)if(Er(fn),ai.jc){Ai=fn,Ri=er;var xi=Yn,Di=ai.pd[tr(Ai)&zs-1];t(ai.jc),256>Di.g?(pr(Ai,Ai.u+Di.g),Ri[xi]=Di.value,Ai=0):(pr(Ai,Ai.u+Di.g-256),t(256<=Di.value),Ai=Di.value),Ai==0&&(gi=!0)}else Ai=zn(ai.G[0],ai.H[0],fn);if(fn.h)break;if(gi||256>Ai){if(!gi)if(ai.nd)er[Yn]=(ai.qb|Ai<<8)>>>0;else{if(Er(fn),gi=zn(ai.G[1],ai.H[1],fn),Er(fn),Ri=zn(ai.G[2],ai.H[2],fn),xi=zn(ai.G[3],ai.H[3],fn),fn.h)break;er[Yn]=(xi<<24|gi<<16|Ai<<8|Ri)>>>0}if(gi=!1,++Yn,++Jr>=xr&&(Jr=0,++qr,Hr!=null&&qr<=Qr&&!(qr%16)&&Hr(Qe,qr),Fn!=null))for(;Wn<Yn;)Ai=er[Wn++],Fn.X[(506832829*Ai&4294967295)>>>Fn.Mb]=Ai}else if(280>Ai){if(Ai=Rn(Ai-256,fn),Ri=zn(ai.G[4],ai.H[4],fn),Er(fn),Ri=Nn(xr,Ri=Rn(Ri,fn)),fn.h)break;if(Yn-dr<Ri||Or-Yn<Ai)break e;for(xi=0;xi<Ai;++xi)er[Yn+xi]=er[Yn+xi-Ri];for(Yn+=Ai,Jr+=Ai;Jr>=xr;)Jr-=xr,++qr,Hr!=null&&qr<=Qr&&!(qr%16)&&Hr(Qe,qr);if(t(Yn<=Or),Jr&Ln&&(ai=ui(Pn,Jr,qr)),Fn!=null)for(;Wn<Yn;)Ai=er[Wn++],Fn.X[(506832829*Ai&4294967295)>>>Fn.Mb]=Ai}else{if(!(Ai<pi))break e;for(gi=Ai-280,t(Fn!=null);Wn<Yn;)Ai=er[Wn++],Fn.X[(506832829*Ai&4294967295)>>>Fn.Mb]=Ai;Ai=Yn,t(!(gi>>>(Ri=Fn).Xa)),er[Ai]=Ri.X[gi],gi=!0}gi||t(fn.h==lr(fn))}if(Qe.Pb&&fn.h&&Yn<Or)t(Qe.m.h),Qe.a=5,Qe.m=Qe.wd,Qe.$=Qe.xd,0<Qe.s.ua&&An(Qe.s.vb,Qe.s.Wa);else{if(fn.h)break e;Hr!=null&&Hr(Qe,qr>Qr?Qr:qr),Qe.a=0,Qe.$=Yn-dr}return 1}return Qe.a=3,0}function Pi(Qe){t(Qe!=null),Qe.vc=null,Qe.yc=null,Qe.Ya=null;var er=Qe.Wa;er!=null&&(er.X=null),Qe.vb=null,t(Qe!=null)}function Ii(){var Qe=new LA;return Qe==null?null:(Qe.a=0,Qe.xb=HA,br("Predictor","VP8LPredictors"),br("Predictor","VP8LPredictors_C"),br("PredictorAdd","VP8LPredictorsAdd"),br("PredictorAdd","VP8LPredictorsAdd_C"),Oc=Qn,Pl=ni,va=Nr,oa=In,Fl=Kn,Fa=si,fo=Kr,Ge.VP8LMapColor32b=ea,Ge.VP8LMapColor8b=pc,Qe)}function Li(Qe,er,dr,xr,Or){var Qr=1,Hr=[Qe],qr=[er],Jr=xr.m,fn=xr.s,Pn=null,Yn=0;e:for(;;){if(dr)for(;Qr&&hr(Jr,1);){var Wn=Hr,jn=qr,pi=xr,ri=1,Fn=pi.m,Ln=pi.gc[pi.ab],ai=hr(Fn,2);if(pi.Oc&1<<ai)Qr=0;else{switch(pi.Oc|=1<<ai,Ln.hc=ai,Ln.Ea=Wn[0],Ln.nc=jn[0],Ln.K=[null],++pi.ab,t(4>=pi.ab),ai){case 0:case 1:Ln.b=hr(Fn,3)+2,ri=Li(Dr(Ln.Ea,Ln.b),Dr(Ln.nc,Ln.b),0,pi,Ln.K),Ln.K=Ln.K[0];break;case 3:var gi,Ai=hr(Fn,8)+1,Ri=16<Ai?0:4<Ai?1:2<Ai?2:3;if(Wn[0]=Dr(Ln.Ea,Ri),Ln.b=Ri,gi=ri=Li(Ai,1,0,pi,Ln.K)){var xi,Di=Ai,Ti=Ln,ns=1<<(8>>Ti.b),As=Ce(ns);if(As==null)gi=0;else{var Gi=Ti.K[0],qi=Ti.w;for(As[0]=Ti.K[0][0],xi=1;xi<1*Di;++xi)As[xi]=jr(Gi[qi+xi],As[xi-1]);for(;xi<4*ns;++xi)As[xi]=0;Ti.K[0]=null,Ti.K[0]=As,gi=1}}ri=gi;break;case 2:break;default:t(0)}Qr=ri}}if(Hr=Hr[0],qr=qr[0],Qr&&hr(Jr,1)&&!(Qr=1<=(Yn=hr(Jr,4))&&11>=Yn)){xr.a=3;break e}var fs;if(fs=Qr)t:{var cs,Ki,gs,Ui=xr,Vi=Hr,rs=qr,is=Yn,na=dr,Js=Ui.m,Os=Ui.s,ks=[null],Hs=1,to=0,us=dA[is];r:for(;;){if(na&&hr(Js,1)){var Ks=hr(Js,3)+2,mo=Dr(Vi,Ks),Ql=Dr(rs,Ks),gA=mo*Ql;if(!Li(mo,Ql,0,Ui,ks))break r;for(ks=ks[0],Os.xc=Ks,cs=0;cs<gA;++cs){var Hl=ks[cs]>>8&65535;ks[cs]=Hl,Hl>=Hs&&(Hs=Hl+1)}}if(Js.h)break r;for(Ki=0;5>Ki;++Ki){var Ss=Ma[Ki];!Ki&&0<is&&(Ss+=1<<is),to<Ss&&(to=Ss)}var bc=Se(Hs*us,Je),qc=Hs,Ea=Se(qc,mr);if(Ea==null)var Bs=null;else t(65536>=qc),Bs=Ea;var mA=Ce(to);if(Bs==null||mA==null||bc==null){Ui.a=1;break r}var Kl=bc;for(cs=gs=0;cs<Hs;++cs){var Da=Bs[cs],ql=Da.G,Na=Da.H,wc=0,qA=1,Gc=0;for(Ki=0;5>Ki;++Ki){Ss=Ma[Ki],ql[Ki]=Kl,Na[Ki]=gs,!Ki&&0<is&&(Ss+=1<<is);i:{var xc,zc=Ss,Cc=Ui,GA=mA,ph=Kl,gh=gs,Sc=0,hl=Cc.m,Cd=hr(hl,1);if(xe(GA,0,0,zc),Cd){var mh=hr(hl,1)+1,vh=hr(hl,1),_u=hr(hl,vh==0?1:8);GA[_u]=1,mh==2&&(GA[_u=hr(hl,8)]=1);var zA=1}else{var bu=Ce(19),wu=hr(hl,4)+4;if(19<wu){Cc.a=3;var Tc=0;break i}for(xc=0;xc<wu;++xc)bu[ol[xc]]=hr(hl,3);var Wc=void 0,WA=void 0,yh=Cc,Eh=bu,dl=zc,Rc=GA,Xc=0,vo=yh.m,XA=8,xu=Se(128,Je);n:for(;He(xu,0,7,Eh,19);){if(hr(vo,1)){var _h=2+2*hr(vo,3);if((Wc=2+hr(vo,_h))>dl)break n}else Wc=dl;for(WA=0;WA<dl&&Wc--;){Er(vo);var Cu=xu[0+(127&tr(vo))];pr(vo,vo.u+Cu.g);var vA=Cu.value;if(16>vA)Rc[WA++]=vA,vA!=0&&(XA=vA);else{var bh=vA==16,Su=vA-16,Tu=eo[Su],Ru=hr(vo,jc[Su])+Tu;if(WA+Ru>dl)break n;for(var wh=bh?XA:0;0<Ru--;)Rc[WA++]=wh}}Xc=1;break n}Xc||(yh.a=3),zA=Xc}(zA=zA&&!hl.h)&&(Sc=He(ph,gh,8,GA,zc)),zA&&Sc!=0?Tc=Sc:(Cc.a=3,Tc=0)}if(Tc==0)break r;if(qA&&hA[Ki]==1&&(qA=Kl[gs].g==0),wc+=Kl[gs].g,gs+=Tc,3>=Ki){var yA,Yc=mA[0];for(yA=1;yA<Ss;++yA)mA[yA]>Yc&&(Yc=mA[yA]);Gc+=Yc}}if(Da.nd=qA,Da.Qb=0,qA&&(Da.qb=(ql[3][Na[3]+0].value<<24|ql[1][Na[1]+0].value<<16|ql[2][Na[2]+0].value)>>>0,wc==0&&256>ql[0][Na[0]+0].value&&(Da.Qb=1,Da.qb+=ql[0][Na[0]+0].value<<8)),Da.jc=!Da.Qb&&6>Gc,Da.jc){var Bc,pl=Da;for(Bc=0;Bc<zs;++Bc){var Ho=Bc,gl=pl.pd[Ho],Pc=pl.G[0][pl.H[0]+Ho];256<=Pc.value?(gl.g=Pc.g+256,gl.value=Pc.value):(gl.g=0,gl.value=0,Ho>>=ci(Pc,8,gl),Ho>>=ci(pl.G[1][pl.H[1]+Ho],16,gl),Ho>>=ci(pl.G[2][pl.H[2]+Ho],0,gl),ci(pl.G[3][pl.H[3]+Ho],24,gl))}}}Os.vc=ks,Os.Wb=Hs,Os.Ya=Bs,Os.yc=bc,fs=1;break t}fs=0}if(!(Qr=fs)){xr.a=3;break e}if(0<Yn){if(fn.ua=1<<Yn,!bn(fn.Wa,Yn)){xr.a=1,Qr=0;break e}}else fn.ua=0;var Fc=xr,Bu=Hr,xh=qr,Pu=Fc.s,Fu=Pu.xc;if(Fc.c=Bu,Fc.i=xh,Pu.md=Dr(Bu,Fu),Pu.wc=Fu==0?-1:(1<<Fu)-1,dr){xr.xb=uh;break e}if((Pn=Ce(Hr*qr))==null){xr.a=1,Qr=0;break e}Qr=(Qr=Ci(xr,Pn,0,Hr,qr,qr,null))&&!Jr.h;break e}return Qr?(Or!=null?Or[0]=Pn:(t(Pn==null),t(dr)),xr.$=0,dr||Pi(fn)):Pi(fn),Qr}function Zi(Qe,er){var dr=Qe.c*Qe.i,xr=dr+er+16*er;return t(Qe.c<=er),Qe.V=Ce(xr),Qe.V==null?(Qe.Ta=null,Qe.Ua=0,Qe.a=1,0):(Qe.Ta=Qe.V,Qe.Ua=Qe.Ba+dr+er,1)}function Ns(Qe,er){var dr=Qe.C,xr=er-dr,Or=Qe.V,Qr=Qe.Ba+Qe.c*dr;for(t(er<=Qe.l.o);0<xr;){var Hr=16<xr?16:xr,qr=Qe.l.ma,Jr=Qe.l.width,fn=Jr*Hr,Pn=qr.ca,Yn=qr.tb+Jr*dr,Wn=Qe.Ta,jn=Qe.Ua;oi(Qe,Hr,Or,Qr),_s(Wn,jn,Pn,Yn,fn),yi(qr,dr,dr+Hr,Pn,Yn,Jr),xr-=Hr,Or+=Hr*Qe.c,dr+=Hr}t(dr==er),Qe.C=Qe.Ma=er}function xs(){this.ub=this.yd=this.td=this.Rb=0}function Rs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Va(){this.Fb=this.Bb=this.Cb=0,this.Zb=Ce(4),this.Lb=Ce(4)}function Yl(){this.Yb=function(){var Qe=[];return function er(dr,xr,Or){for(var Qr=Or[xr],Hr=0;Hr<Qr&&(dr.push(Or.length>xr+1?[]:0),!(Or.length<xr+1));Hr++)er(dr[Hr],xr+1,Or)}(Qe,0,[3,11]),Qe}()}function Wo(){this.jb=Ce(3),this.Wc=Re([4,8],Yl),this.Xc=Re([4,17],Yl)}function PA(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Ce(4),this.od=new Ce(4)}function Ua(){this.ld=this.La=this.dd=this.tc=0}function La(){this.Na=this.la=0}function Gs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function io(){this.ad=Ce(384),this.Za=0,this.Ob=Ce(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function FA(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ua),this.Y=0,this.ya=Array(new io),this.aa=0,this.l=new so}function Qa(){this.y=Ce(16),this.f=Ce(8),this.ea=Ce(8)}function yl(){this.cb=this.a=0,this.sc="",this.m=new Sr,this.Od=new xs,this.Kc=new Rs,this.ed=new PA,this.Qa=new Va,this.Ic=this.$c=this.Aa=0,this.D=new FA,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Se(8,Sr),this.ia=0,this.pb=Se(4,Gs),this.Pa=new Wo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qa),this.Hd=0,this.rb=Array(new La),this.sb=0,this.wa=Array(new Ua),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new io),this.L=this.aa=0,this.gd=Re([4,2],Ua),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function so(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Jl(){var Qe=new yl;return Qe!=null&&(Qe.a=0,Qe.sc="OK",Qe.cb=0,Qe.Xb=0,Ws||(Ws=IA)),Qe}function Es(Qe,er,dr){return Qe.a==0&&(Qe.a=er,Qe.sc=dr,Qe.cb=0),0}function $s(Qe,er,dr){return 3<=dr&&Qe[er+0]==157&&Qe[er+1]==1&&Qe[er+2]==42}function El(Qe,er){if(Qe==null)return 0;if(Qe.a=0,Qe.sc="OK",er==null)return Es(Qe,2,"null VP8Io passed to VP8GetHeaders()");var dr=er.data,xr=er.w,Or=er.ha;if(4>Or)return Es(Qe,7,"Truncated header.");var Qr=dr[xr+0]|dr[xr+1]<<8|dr[xr+2]<<16,Hr=Qe.Od;if(Hr.Rb=!(1&Qr),Hr.td=Qr>>1&7,Hr.yd=Qr>>4&1,Hr.ub=Qr>>5,3<Hr.td)return Es(Qe,3,"Incorrect keyframe parameters.");if(!Hr.yd)return Es(Qe,4,"Frame not displayable.");xr+=3,Or-=3;var qr=Qe.Kc;if(Hr.Rb){if(7>Or)return Es(Qe,7,"cannot parse picture header");if(!$s(dr,xr,Or))return Es(Qe,3,"Bad code word");qr.c=16383&(dr[xr+4]<<8|dr[xr+3]),qr.Td=dr[xr+4]>>6,qr.i=16383&(dr[xr+6]<<8|dr[xr+5]),qr.Ud=dr[xr+6]>>6,xr+=7,Or-=7,Qe.za=qr.c+15>>4,Qe.Ub=qr.i+15>>4,er.width=qr.c,er.height=qr.i,er.Da=0,er.j=0,er.v=0,er.va=er.width,er.o=er.height,er.da=0,er.ib=er.width,er.hb=er.height,er.U=er.width,er.T=er.height,xe((Qr=Qe.Pa).jb,0,255,Qr.jb.length),t((Qr=Qe.Qa)!=null),Qr.Cb=0,Qr.Bb=0,Qr.Fb=1,xe(Qr.Zb,0,0,Qr.Zb.length),xe(Qr.Lb,0,0,Qr.Lb)}if(Hr.ub>Or)return Es(Qe,7,"bad partition length");wr(Qr=Qe.m,dr,xr,Hr.ub),xr+=Hr.ub,Or-=Hr.ub,Hr.Rb&&(qr.Ld=Tr(Qr),qr.Kd=Tr(Qr)),qr=Qe.Qa;var Jr,fn=Qe.Pa;if(t(Qr!=null),t(qr!=null),qr.Cb=Tr(Qr),qr.Cb){if(qr.Bb=Tr(Qr),Tr(Qr)){for(qr.Fb=Tr(Qr),Jr=0;4>Jr;++Jr)qr.Zb[Jr]=Tr(Qr)?ur(Qr,7):0;for(Jr=0;4>Jr;++Jr)qr.Lb[Jr]=Tr(Qr)?ur(Qr,6):0}if(qr.Bb)for(Jr=0;3>Jr;++Jr)fn.jb[Jr]=Tr(Qr)?vr(Qr,8):255}else qr.Bb=0;if(Qr.Ka)return Es(Qe,3,"cannot parse segment header");if((qr=Qe.ed).zd=Tr(Qr),qr.Tb=vr(Qr,6),qr.wb=vr(Qr,3),qr.Pc=Tr(Qr),qr.Pc&&Tr(Qr)){for(fn=0;4>fn;++fn)Tr(Qr)&&(qr.vd[fn]=ur(Qr,6));for(fn=0;4>fn;++fn)Tr(Qr)&&(qr.od[fn]=ur(Qr,6))}if(Qe.L=qr.Tb==0?0:qr.zd?1:2,Qr.Ka)return Es(Qe,3,"cannot parse filter header");var Pn=Or;if(Or=Jr=xr,xr=Jr+Pn,qr=Pn,Qe.Xb=(1<<vr(Qe.m,2))-1,Pn<3*(fn=Qe.Xb))dr=7;else{for(Jr+=3*fn,qr-=3*fn,Pn=0;Pn<fn;++Pn){var Yn=dr[Or+0]|dr[Or+1]<<8|dr[Or+2]<<16;Yn>qr&&(Yn=qr),wr(Qe.Jc[+Pn],dr,Jr,Yn),Jr+=Yn,qr-=Yn,Or+=3}wr(Qe.Jc[+fn],dr,Jr,qr),dr=Jr<xr?0:5}if(dr!=0)return Es(Qe,dr,"cannot parse partitions");for(dr=vr(Jr=Qe.m,7),Or=Tr(Jr)?ur(Jr,4):0,xr=Tr(Jr)?ur(Jr,4):0,qr=Tr(Jr)?ur(Jr,4):0,fn=Tr(Jr)?ur(Jr,4):0,Jr=Tr(Jr)?ur(Jr,4):0,Pn=Qe.Qa,Yn=0;4>Yn;++Yn){if(Pn.Cb){var Wn=Pn.Zb[Yn];Pn.Fb||(Wn+=dr)}else{if(0<Yn){Qe.pb[Yn]=Qe.pb[0];continue}Wn=dr}var jn=Qe.pb[Yn];jn.Sc[0]=vc[ls(Wn+Or,127)],jn.Sc[1]=yc[ls(Wn+0,127)],jn.Eb[0]=2*vc[ls(Wn+xr,127)],jn.Eb[1]=101581*yc[ls(Wn+qr,127)]>>16,8>jn.Eb[1]&&(jn.Eb[1]=8),jn.Qc[0]=vc[ls(Wn+fn,117)],jn.Qc[1]=yc[ls(Wn+Jr,127)],jn.lc=Wn+Jr}if(!Hr.Rb)return Es(Qe,4,"Not a key frame.");for(Tr(Qr),Hr=Qe.Pa,dr=0;4>dr;++dr){for(Or=0;8>Or;++Or)for(xr=0;3>xr;++xr)for(qr=0;11>qr;++qr)fn=Ir(Qr,fA[dr][Or][xr][qr])?vr(Qr,8):Mo[dr][Or][xr][qr],Hr.Wc[dr][Or].Yb[xr][qr]=fn;for(Or=0;17>Or;++Or)Hr.Xc[dr][Or]=Hr.Wc[dr][ch[Or]]}return Qe.kc=Tr(Qr),Qe.kc&&(Qe.Bd=vr(Qr,8)),Qe.cb=1}function IA(Qe,er,dr,xr,Or,Qr,Hr){var qr=er[Or].Yb[dr];for(dr=0;16>Or;++Or){if(!Ir(Qe,qr[dr+0]))return Or;for(;!Ir(Qe,qr[dr+1]);)if(qr=er[++Or].Yb[0],dr=0,Or==16)return 16;var Jr=er[Or+1].Yb;if(Ir(Qe,qr[dr+2])){var fn=Qe,Pn=0;if(Ir(fn,(Wn=qr)[(Yn=dr)+3]))if(Ir(fn,Wn[Yn+6])){for(qr=0,Yn=2*(Pn=Ir(fn,Wn[Yn+8]))+(Wn=Ir(fn,Wn[Yn+9+Pn])),Pn=0,Wn=Is[Yn];Wn[qr];++qr)Pn+=Pn+Ir(fn,Wn[qr]);Pn+=3+(8<<Yn)}else Ir(fn,Wn[Yn+7])?(Pn=7+2*Ir(fn,165),Pn+=Ir(fn,145)):Pn=5+Ir(fn,159);else Pn=Ir(fn,Wn[Yn+4])?3+Ir(fn,Wn[Yn+5]):2;qr=Jr[2]}else Pn=1,qr=Jr[1];Jr=Hr+as[Or],0>(fn=Qe).b&&Rr(fn);var Yn,Wn=fn.b,jn=(Yn=fn.Ca>>1)-(fn.I>>Wn)>>31;--fn.b,fn.Ca+=jn,fn.Ca|=1,fn.I-=(Yn+1&jn)<<Wn,Qr[Jr]=((Pn^jn)-jn)*xr[(0<Or)+0]}return 16}function xo(Qe){var er=Qe.rb[Qe.sb-1];er.la=0,er.Na=0,xe(Qe.zc,0,0,Qe.zc.length),Qe.ja=0}function Zl(Qe,er){if(Qe==null)return 0;if(er==null)return Es(Qe,2,"NULL VP8Io parameter in VP8Decode().");if(!Qe.cb&&!El(Qe,er))return 0;if(t(Qe.cb),er.ac==null||er.ac(er)){er.ob&&(Qe.L=0);var dr=ul[Qe.L];if(Qe.L==2?(Qe.yb=0,Qe.zb=0):(Qe.yb=er.v-dr>>4,Qe.zb=er.j-dr>>4,0>Qe.yb&&(Qe.yb=0),0>Qe.zb&&(Qe.zb=0)),Qe.Va=er.o+15+dr>>4,Qe.Hb=er.va+15+dr>>4,Qe.Hb>Qe.za&&(Qe.Hb=Qe.za),Qe.Va>Qe.Ub&&(Qe.Va=Qe.Ub),0<Qe.L){var xr=Qe.ed;for(dr=0;4>dr;++dr){var Or;if(Qe.Qa.Cb){var Qr=Qe.Qa.Lb[dr];Qe.Qa.Fb||(Qr+=xr.Tb)}else Qr=xr.Tb;for(Or=0;1>=Or;++Or){var Hr=Qe.gd[dr][Or],qr=Qr;if(xr.Pc&&(qr+=xr.vd[0],Or&&(qr+=xr.od[0])),0<(qr=0>qr?0:63<qr?63:qr)){var Jr=qr;0<xr.wb&&(Jr=4<xr.wb?Jr>>2:Jr>>1)>9-xr.wb&&(Jr=9-xr.wb),1>Jr&&(Jr=1),Hr.dd=Jr,Hr.tc=2*qr+Jr,Hr.ld=40<=qr?2:15<=qr?1:0}else Hr.tc=0;Hr.La=Or}}}dr=0}else Es(Qe,6,"Frame setup failed"),dr=Qe.a;if(dr=dr==0){if(dr){Qe.$c=0,0<Qe.Aa||(Qe.Ic=dh);e:{dr=Qe.Ic,xr=4*(Jr=Qe.za);var fn=32*Jr,Pn=Jr+1,Yn=0<Qe.L?Jr*(0<Qe.Aa?2:1):0,Wn=(Qe.Aa==2?2:1)*Jr;if((Hr=xr+832+(Or=3*(16*dr+ul[Qe.L])/2*fn)+(Qr=Qe.Fa!=null&&0<Qe.Fa.length?Qe.Kc.c*Qe.Kc.i:0))!=Hr)dr=0;else{if(Hr>Qe.Vb){if(Qe.Vb=0,Qe.Ec=Ce(Hr),Qe.Fc=0,Qe.Ec==null){dr=Es(Qe,1,"no memory during frame initialization.");break e}Qe.Vb=Hr}Hr=Qe.Ec,qr=Qe.Fc,Qe.Ac=Hr,Qe.Bc=qr,qr+=xr,Qe.Gd=Se(fn,Qa),Qe.Hd=0,Qe.rb=Se(Pn+1,La),Qe.sb=1,Qe.wa=Yn?Se(Yn,Ua):null,Qe.Y=0,Qe.D.Nb=0,Qe.D.wa=Qe.wa,Qe.D.Y=Qe.Y,0<Qe.Aa&&(Qe.D.Y+=Jr),t(!0),Qe.oc=Hr,Qe.pc=qr,qr+=832,Qe.ya=Se(Wn,io),Qe.aa=0,Qe.D.ya=Qe.ya,Qe.D.aa=Qe.aa,Qe.Aa==2&&(Qe.D.aa+=Jr),Qe.R=16*Jr,Qe.B=8*Jr,Jr=(fn=ul[Qe.L])*Qe.R,fn=fn/2*Qe.B,Qe.sa=Hr,Qe.ta=qr+Jr,Qe.qa=Qe.sa,Qe.ra=Qe.ta+16*dr*Qe.R+fn,Qe.Ha=Qe.qa,Qe.Ia=Qe.ra+8*dr*Qe.B+fn,Qe.$c=0,qr+=Or,Qe.mb=Qr?Hr:null,Qe.nb=Qr?qr:null,t(qr+Qr<=Qe.Fc+Qe.Vb),xo(Qe),xe(Qe.Ac,Qe.Bc,0,xr),dr=1}}if(dr){if(er.ka=0,er.y=Qe.sa,er.O=Qe.ta,er.f=Qe.qa,er.N=Qe.ra,er.ea=Qe.Ha,er.Vd=Qe.Ia,er.fa=Qe.R,er.Rc=Qe.B,er.F=null,er.J=0,!il){for(dr=-255;255>=dr;++dr)Ls[255+dr]=0>dr?-dr:dr;for(dr=-1020;1020>=dr;++dr)Za[1020+dr]=-128>dr?-128:127<dr?127:dr;for(dr=-112;112>=dr;++dr)Ll[112+dr]=-16>dr?-16:15<dr?15:dr;for(dr=-255;510>=dr;++dr)Ol[255+dr]=0>dr?0:255<dr?255:dr;il=1}Lo=Ca,po=So,go=Ha,Qs=os,Ia=To,Ps=Co,oA=Fo,Oo=uo,MA=xl,Il=nA,Dl=wl,Nl=Jo,lA=Zo,jA=Io,Ul=Oa,nl=ua,AA=Vs,Fs=UA,ya[0]=Aa,ya[1]=DA,ya[2]=Ga,ya[3]=NA,ya[4]=Sa,ya[5]=za,ya[6]=ma,ya[7]=Ta,ya[8]=co,ya[9]=Ro,Al[0]=Ka,Al[1]=eA,Al[2]=oo,Al[3]=bl,Al[4]=ps,Al[5]=Ao,Al[6]=qa,ja[0]=Wa,ja[1]=$l,ja[2]=tA,ja[3]=Ra,ja[4]=Xi,ja[5]=js,ja[6]=Bo,dr=1}else dr=0}dr&&(dr=function(jn,pi){for(jn.M=0;jn.M<jn.Va;++jn.M){var ri,Fn=jn.Jc[jn.M&jn.Xb],Ln=jn.m,ai=jn;for(ri=0;ri<ai.za;++ri){var gi=Ln,Ai=ai,Ri=Ai.Ac,xi=Ai.Bc+4*ri,Di=Ai.zc,Ti=Ai.ya[Ai.aa+ri];if(Ai.Qa.Bb?Ti.$b=Ir(gi,Ai.Pa.jb[0])?2+Ir(gi,Ai.Pa.jb[2]):Ir(gi,Ai.Pa.jb[1]):Ti.$b=0,Ai.kc&&(Ti.Ad=Ir(gi,Ai.Bd)),Ti.Za=!Ir(gi,145)+0,Ti.Za){var ns=Ti.Ob,As=0;for(Ai=0;4>Ai;++Ai){var Gi,qi=Di[0+Ai];for(Gi=0;4>Gi;++Gi){qi=vu[Ri[xi+Gi]][qi];for(var fs=Ml[Ir(gi,qi[0])];0<fs;)fs=Ml[2*fs+Ir(gi,qi[fs])];qi=-fs,Ri[xi+Gi]=qi}_e(ns,As,Ri,xi,4),As+=4,Di[0+Ai]=qi}}else qi=Ir(gi,156)?Ir(gi,128)?1:3:Ir(gi,163)?2:0,Ti.Ob[0]=qi,xe(Ri,xi,qi,4),xe(Di,0,qi,4);Ti.Dd=Ir(gi,142)?Ir(gi,114)?Ir(gi,183)?1:3:2:0}if(ai.m.Ka)return Es(jn,7,"Premature end-of-partition0 encountered.");for(;jn.ja<jn.za;++jn.ja){if(ai=Fn,gi=(Ln=jn).rb[Ln.sb-1],Ri=Ln.rb[Ln.sb+Ln.ja],ri=Ln.ya[Ln.aa+Ln.ja],xi=Ln.kc?ri.Ad:0)gi.la=Ri.la=0,ri.Za||(gi.Na=Ri.Na=0),ri.Hc=0,ri.Gc=0,ri.ia=0;else{var cs,Ki;if(gi=Ri,Ri=ai,xi=Ln.Pa.Xc,Di=Ln.ya[Ln.aa+Ln.ja],Ti=Ln.pb[Di.$b],Ai=Di.ad,ns=0,As=Ln.rb[Ln.sb-1],qi=Gi=0,xe(Ai,ns,0,384),Di.Za)var gs=0,Ui=xi[3];else{fs=Ce(16);var Vi=gi.Na+As.Na;if(Vi=Ws(Ri,xi[1],Vi,Ti.Eb,0,fs,0),gi.Na=As.Na=(0<Vi)+0,1<Vi)Lo(fs,0,Ai,ns);else{var rs=fs[0]+3>>3;for(fs=0;256>fs;fs+=16)Ai[ns+fs]=rs}gs=1,Ui=xi[0]}var is=15&gi.la,na=15&As.la;for(fs=0;4>fs;++fs){var Js=1&na;for(rs=Ki=0;4>rs;++rs)is=is>>1|(Js=(Vi=Ws(Ri,Ui,Vi=Js+(1&is),Ti.Sc,gs,Ai,ns))>gs)<<7,Ki=Ki<<2|(3<Vi?3:1<Vi?2:Ai[ns+0]!=0),ns+=16;is>>=4,na=na>>1|Js<<7,Gi=(Gi<<8|Ki)>>>0}for(Ui=is,gs=na>>4,cs=0;4>cs;cs+=2){for(Ki=0,is=gi.la>>4+cs,na=As.la>>4+cs,fs=0;2>fs;++fs){for(Js=1&na,rs=0;2>rs;++rs)Vi=Js+(1&is),is=is>>1|(Js=0<(Vi=Ws(Ri,xi[2],Vi,Ti.Qc,0,Ai,ns)))<<3,Ki=Ki<<2|(3<Vi?3:1<Vi?2:Ai[ns+0]!=0),ns+=16;is>>=2,na=na>>1|Js<<5}qi|=Ki<<4*cs,Ui|=is<<4<<cs,gs|=(240&na)<<cs}gi.la=Ui,As.la=gs,Di.Hc=Gi,Di.Gc=qi,Di.ia=43690&qi?0:Ti.ia,xi=!(Gi|qi)}if(0<Ln.L&&(Ln.wa[Ln.Y+Ln.ja]=Ln.gd[ri.$b][ri.Za],Ln.wa[Ln.Y+Ln.ja].La|=!xi),ai.Ka)return Es(jn,7,"Premature end-of-file encountered.")}if(xo(jn),Ln=pi,ai=1,ri=(Fn=jn).D,gi=0<Fn.L&&Fn.M>=Fn.zb&&Fn.M<=Fn.Va,Fn.Aa==0)e:{if(ri.M=Fn.M,ri.uc=gi,Ba(Fn,ri),ai=1,ri=(Ki=Fn.D).Nb,gi=(qi=ul[Fn.L])*Fn.R,Ri=qi/2*Fn.B,fs=16*ri*Fn.R,rs=8*ri*Fn.B,xi=Fn.sa,Di=Fn.ta-gi+fs,Ti=Fn.qa,Ai=Fn.ra-Ri+rs,ns=Fn.Ha,As=Fn.Ia-Ri+rs,na=(is=Ki.M)==0,Gi=is>=Fn.Va-1,Fn.Aa==2&&Ba(Fn,Ki),Ki.uc)for(Js=(Vi=Fn).D.M,t(Vi.D.uc),Ki=Vi.yb;Ki<Vi.Hb;++Ki){gs=Ki,Ui=Js;var Os=(ks=(Ss=Vi).D).Nb;cs=Ss.R;var ks=ks.wa[ks.Y+gs],Hs=Ss.sa,to=Ss.ta+16*Os*cs+16*gs,us=ks.dd,Ks=ks.tc;if(Ks!=0)if(t(3<=Ks),Ss.L==1)0<gs&&nl(Hs,to,cs,Ks+4),ks.La&&Fs(Hs,to,cs,Ks),0<Ui&&Ul(Hs,to,cs,Ks+4),ks.La&&AA(Hs,to,cs,Ks);else{var mo=Ss.B,Ql=Ss.qa,gA=Ss.ra+8*Os*mo+8*gs,Hl=Ss.Ha,Ss=Ss.Ia+8*Os*mo+8*gs;Os=ks.ld,0<gs&&(Oo(Hs,to,cs,Ks+4,us,Os),Il(Ql,gA,Hl,Ss,mo,Ks+4,us,Os)),ks.La&&(Nl(Hs,to,cs,Ks,us,Os),jA(Ql,gA,Hl,Ss,mo,Ks,us,Os)),0<Ui&&(oA(Hs,to,cs,Ks+4,us,Os),MA(Ql,gA,Hl,Ss,mo,Ks+4,us,Os)),ks.La&&(Dl(Hs,to,cs,Ks,us,Os),lA(Ql,gA,Hl,Ss,mo,Ks,us,Os))}}if(Fn.ia&&alert("todo:DitherRow"),Ln.put!=null){if(Ki=16*is,is=16*(is+1),na?(Ln.y=Fn.sa,Ln.O=Fn.ta+fs,Ln.f=Fn.qa,Ln.N=Fn.ra+rs,Ln.ea=Fn.Ha,Ln.W=Fn.Ia+rs):(Ki-=qi,Ln.y=xi,Ln.O=Di,Ln.f=Ti,Ln.N=Ai,Ln.ea=ns,Ln.W=As),Gi||(is-=qi),is>Ln.o&&(is=Ln.o),Ln.F=null,Ln.J=null,Fn.Fa!=null&&0<Fn.Fa.length&&Ki<is&&(Ln.J=Sl(Fn,Ln,Ki,is-Ki),Ln.F=Fn.mb,Ln.F==null&&Ln.F.length==0)){ai=Es(Fn,3,"Could not decode alpha data.");break e}Ki<Ln.j&&(qi=Ln.j-Ki,Ki=Ln.j,t(!(1&qi)),Ln.O+=Fn.R*qi,Ln.N+=Fn.B*(qi>>1),Ln.W+=Fn.B*(qi>>1),Ln.F!=null&&(Ln.J+=Ln.width*qi)),Ki<is&&(Ln.O+=Ln.v,Ln.N+=Ln.v>>1,Ln.W+=Ln.v>>1,Ln.F!=null&&(Ln.J+=Ln.v),Ln.ka=Ki-Ln.j,Ln.U=Ln.va-Ln.v,Ln.T=is-Ki,ai=Ln.put(Ln))}ri+1!=Fn.Ic||Gi||(_e(Fn.sa,Fn.ta-gi,xi,Di+16*Fn.R,gi),_e(Fn.qa,Fn.ra-Ri,Ti,Ai+8*Fn.B,Ri),_e(Fn.Ha,Fn.Ia-Ri,ns,As+8*Fn.B,Ri))}if(!ai)return Es(jn,6,"Output aborted.")}return 1}(Qe,er)),er.bc!=null&&er.bc(er),dr&=1}return dr?(Qe.cb=0,dr):0}function ia(Qe,er,dr,xr,Or){Or=Qe[er+dr+32*xr]+(Or>>3),Qe[er+dr+32*xr]=-256&Or?0>Or?0:255:Or}function _l(Qe,er,dr,xr,Or,Qr){ia(Qe,er,0,dr,xr+Or),ia(Qe,er,1,dr,xr+Qr),ia(Qe,er,2,dr,xr-Qr),ia(Qe,er,3,dr,xr-Or)}function ts(Qe){return(20091*Qe>>16)+Qe}function sa(Qe,er,dr,xr){var Or,Qr=0,Hr=Ce(16);for(Or=0;4>Or;++Or){var qr=Qe[er+0]+Qe[er+8],Jr=Qe[er+0]-Qe[er+8],fn=(35468*Qe[er+4]>>16)-ts(Qe[er+12]),Pn=ts(Qe[er+4])+(35468*Qe[er+12]>>16);Hr[Qr+0]=qr+Pn,Hr[Qr+1]=Jr+fn,Hr[Qr+2]=Jr-fn,Hr[Qr+3]=qr-Pn,Qr+=4,er++}for(Or=Qr=0;4>Or;++Or)qr=(Qe=Hr[Qr+0]+4)+Hr[Qr+8],Jr=Qe-Hr[Qr+8],fn=(35468*Hr[Qr+4]>>16)-ts(Hr[Qr+12]),ia(dr,xr,0,0,qr+(Pn=ts(Hr[Qr+4])+(35468*Hr[Qr+12]>>16))),ia(dr,xr,1,0,Jr+fn),ia(dr,xr,2,0,Jr-fn),ia(dr,xr,3,0,qr-Pn),Qr++,xr+=32}function Co(Qe,er,dr,xr){var Or=Qe[er+0]+4,Qr=35468*Qe[er+4]>>16,Hr=ts(Qe[er+4]),qr=35468*Qe[er+1]>>16;_l(dr,xr,0,Or+Hr,Qe=ts(Qe[er+1]),qr),_l(dr,xr,1,Or+Qr,Qe,qr),_l(dr,xr,2,Or-Qr,Qe,qr),_l(dr,xr,3,Or-Hr,Qe,qr)}function So(Qe,er,dr,xr,Or){sa(Qe,er,dr,xr),Or&&sa(Qe,er+16,dr,xr+4)}function Ha(Qe,er,dr,xr){po(Qe,er+0,dr,xr,1),po(Qe,er+32,dr,xr+128,1)}function os(Qe,er,dr,xr){var Or;for(Qe=Qe[er+0]+4,Or=0;4>Or;++Or)for(er=0;4>er;++er)ia(dr,xr,er,Or,Qe)}function To(Qe,er,dr,xr){Qe[er+0]&&Qs(Qe,er+0,dr,xr),Qe[er+16]&&Qs(Qe,er+16,dr,xr+4),Qe[er+32]&&Qs(Qe,er+32,dr,xr+128),Qe[er+48]&&Qs(Qe,er+48,dr,xr+128+4)}function Ca(Qe,er,dr,xr){var Or,Qr=Ce(16);for(Or=0;4>Or;++Or){var Hr=Qe[er+0+Or]+Qe[er+12+Or],qr=Qe[er+4+Or]+Qe[er+8+Or],Jr=Qe[er+4+Or]-Qe[er+8+Or],fn=Qe[er+0+Or]-Qe[er+12+Or];Qr[0+Or]=Hr+qr,Qr[8+Or]=Hr-qr,Qr[4+Or]=fn+Jr,Qr[12+Or]=fn-Jr}for(Or=0;4>Or;++Or)Hr=(Qe=Qr[0+4*Or]+3)+Qr[3+4*Or],qr=Qr[1+4*Or]+Qr[2+4*Or],Jr=Qr[1+4*Or]-Qr[2+4*Or],fn=Qe-Qr[3+4*Or],dr[xr+0]=Hr+qr>>3,dr[xr+16]=fn+Jr>>3,dr[xr+32]=Hr-qr>>3,dr[xr+48]=fn-Jr>>3,xr+=64}function ao(Qe,er,dr){var xr,Or=er-32,Qr=ta,Hr=255-Qe[Or-1];for(xr=0;xr<dr;++xr){var qr,Jr=Qr,fn=Hr+Qe[er-1];for(qr=0;qr<dr;++qr)Qe[er+qr]=Jr[fn+Qe[Or+qr]];er+=32}}function DA(Qe,er){ao(Qe,er,4)}function $l(Qe,er){ao(Qe,er,8)}function eA(Qe,er){ao(Qe,er,16)}function oo(Qe,er){var dr;for(dr=0;16>dr;++dr)_e(Qe,er+32*dr,Qe,er-32,16)}function bl(Qe,er){var dr;for(dr=16;0<dr;--dr)xe(Qe,er,Qe[er-1],16),er+=32}function lo(Qe,er,dr){var xr;for(xr=0;16>xr;++xr)xe(er,dr+32*xr,Qe,16)}function Ka(Qe,er){var dr,xr=16;for(dr=0;16>dr;++dr)xr+=Qe[er-1+32*dr]+Qe[er+dr-32];lo(xr>>5,Qe,er)}function ps(Qe,er){var dr,xr=8;for(dr=0;16>dr;++dr)xr+=Qe[er-1+32*dr];lo(xr>>4,Qe,er)}function Ao(Qe,er){var dr,xr=8;for(dr=0;16>dr;++dr)xr+=Qe[er+dr-32];lo(xr>>4,Qe,er)}function qa(Qe,er){lo(128,Qe,er)}function Oi(Qe,er,dr){return Qe+2*er+dr+2>>2}function Ga(Qe,er){var dr,xr=er-32;for(xr=new Uint8Array([Oi(Qe[xr-1],Qe[xr+0],Qe[xr+1]),Oi(Qe[xr+0],Qe[xr+1],Qe[xr+2]),Oi(Qe[xr+1],Qe[xr+2],Qe[xr+3]),Oi(Qe[xr+2],Qe[xr+3],Qe[xr+4])]),dr=0;4>dr;++dr)_e(Qe,er+32*dr,xr,0,xr.length)}function NA(Qe,er){var dr=Qe[er-1],xr=Qe[er-1+32],Or=Qe[er-1+64],Qr=Qe[er-1+96];Zr(Qe,er+0,16843009*Oi(Qe[er-1-32],dr,xr)),Zr(Qe,er+32,16843009*Oi(dr,xr,Or)),Zr(Qe,er+64,16843009*Oi(xr,Or,Qr)),Zr(Qe,er+96,16843009*Oi(Or,Qr,Qr))}function Aa(Qe,er){var dr,xr=4;for(dr=0;4>dr;++dr)xr+=Qe[er+dr-32]+Qe[er-1+32*dr];for(xr>>=3,dr=0;4>dr;++dr)xe(Qe,er+32*dr,xr,4)}function Sa(Qe,er){var dr=Qe[er-1+0],xr=Qe[er-1+32],Or=Qe[er-1+64],Qr=Qe[er-1-32],Hr=Qe[er+0-32],qr=Qe[er+1-32],Jr=Qe[er+2-32],fn=Qe[er+3-32];Qe[er+0+96]=Oi(xr,Or,Qe[er-1+96]),Qe[er+1+96]=Qe[er+0+64]=Oi(dr,xr,Or),Qe[er+2+96]=Qe[er+1+64]=Qe[er+0+32]=Oi(Qr,dr,xr),Qe[er+3+96]=Qe[er+2+64]=Qe[er+1+32]=Qe[er+0+0]=Oi(Hr,Qr,dr),Qe[er+3+64]=Qe[er+2+32]=Qe[er+1+0]=Oi(qr,Hr,Qr),Qe[er+3+32]=Qe[er+2+0]=Oi(Jr,qr,Hr),Qe[er+3+0]=Oi(fn,Jr,qr)}function ma(Qe,er){var dr=Qe[er+1-32],xr=Qe[er+2-32],Or=Qe[er+3-32],Qr=Qe[er+4-32],Hr=Qe[er+5-32],qr=Qe[er+6-32],Jr=Qe[er+7-32];Qe[er+0+0]=Oi(Qe[er+0-32],dr,xr),Qe[er+1+0]=Qe[er+0+32]=Oi(dr,xr,Or),Qe[er+2+0]=Qe[er+1+32]=Qe[er+0+64]=Oi(xr,Or,Qr),Qe[er+3+0]=Qe[er+2+32]=Qe[er+1+64]=Qe[er+0+96]=Oi(Or,Qr,Hr),Qe[er+3+32]=Qe[er+2+64]=Qe[er+1+96]=Oi(Qr,Hr,qr),Qe[er+3+64]=Qe[er+2+96]=Oi(Hr,qr,Jr),Qe[er+3+96]=Oi(qr,Jr,Jr)}function za(Qe,er){var dr=Qe[er-1+0],xr=Qe[er-1+32],Or=Qe[er-1+64],Qr=Qe[er-1-32],Hr=Qe[er+0-32],qr=Qe[er+1-32],Jr=Qe[er+2-32],fn=Qe[er+3-32];Qe[er+0+0]=Qe[er+1+64]=Qr+Hr+1>>1,Qe[er+1+0]=Qe[er+2+64]=Hr+qr+1>>1,Qe[er+2+0]=Qe[er+3+64]=qr+Jr+1>>1,Qe[er+3+0]=Jr+fn+1>>1,Qe[er+0+96]=Oi(Or,xr,dr),Qe[er+0+64]=Oi(xr,dr,Qr),Qe[er+0+32]=Qe[er+1+96]=Oi(dr,Qr,Hr),Qe[er+1+32]=Qe[er+2+96]=Oi(Qr,Hr,qr),Qe[er+2+32]=Qe[er+3+96]=Oi(Hr,qr,Jr),Qe[er+3+32]=Oi(qr,Jr,fn)}function Ta(Qe,er){var dr=Qe[er+0-32],xr=Qe[er+1-32],Or=Qe[er+2-32],Qr=Qe[er+3-32],Hr=Qe[er+4-32],qr=Qe[er+5-32],Jr=Qe[er+6-32],fn=Qe[er+7-32];Qe[er+0+0]=dr+xr+1>>1,Qe[er+1+0]=Qe[er+0+64]=xr+Or+1>>1,Qe[er+2+0]=Qe[er+1+64]=Or+Qr+1>>1,Qe[er+3+0]=Qe[er+2+64]=Qr+Hr+1>>1,Qe[er+0+32]=Oi(dr,xr,Or),Qe[er+1+32]=Qe[er+0+96]=Oi(xr,Or,Qr),Qe[er+2+32]=Qe[er+1+96]=Oi(Or,Qr,Hr),Qe[er+3+32]=Qe[er+2+96]=Oi(Qr,Hr,qr),Qe[er+3+64]=Oi(Hr,qr,Jr),Qe[er+3+96]=Oi(qr,Jr,fn)}function Ro(Qe,er){var dr=Qe[er-1+0],xr=Qe[er-1+32],Or=Qe[er-1+64],Qr=Qe[er-1+96];Qe[er+0+0]=dr+xr+1>>1,Qe[er+2+0]=Qe[er+0+32]=xr+Or+1>>1,Qe[er+2+32]=Qe[er+0+64]=Or+Qr+1>>1,Qe[er+1+0]=Oi(dr,xr,Or),Qe[er+3+0]=Qe[er+1+32]=Oi(xr,Or,Qr),Qe[er+3+32]=Qe[er+1+64]=Oi(Or,Qr,Qr),Qe[er+3+64]=Qe[er+2+64]=Qe[er+0+96]=Qe[er+1+96]=Qe[er+2+96]=Qe[er+3+96]=Qr}function co(Qe,er){var dr=Qe[er-1+0],xr=Qe[er-1+32],Or=Qe[er-1+64],Qr=Qe[er-1+96],Hr=Qe[er-1-32],qr=Qe[er+0-32],Jr=Qe[er+1-32],fn=Qe[er+2-32];Qe[er+0+0]=Qe[er+2+32]=dr+Hr+1>>1,Qe[er+0+32]=Qe[er+2+64]=xr+dr+1>>1,Qe[er+0+64]=Qe[er+2+96]=Or+xr+1>>1,Qe[er+0+96]=Qr+Or+1>>1,Qe[er+3+0]=Oi(qr,Jr,fn),Qe[er+2+0]=Oi(Hr,qr,Jr),Qe[er+1+0]=Qe[er+3+32]=Oi(dr,Hr,qr),Qe[er+1+32]=Qe[er+3+64]=Oi(xr,dr,Hr),Qe[er+1+64]=Qe[er+3+96]=Oi(Or,xr,dr),Qe[er+1+96]=Oi(Qr,Or,xr)}function tA(Qe,er){var dr;for(dr=0;8>dr;++dr)_e(Qe,er+32*dr,Qe,er-32,8)}function Ra(Qe,er){var dr;for(dr=0;8>dr;++dr)xe(Qe,er,Qe[er-1],8),er+=32}function ca(Qe,er,dr){var xr;for(xr=0;8>xr;++xr)xe(er,dr+32*xr,Qe,8)}function Wa(Qe,er){var dr,xr=8;for(dr=0;8>dr;++dr)xr+=Qe[er+dr-32]+Qe[er-1+32*dr];ca(xr>>4,Qe,er)}function js(Qe,er){var dr,xr=4;for(dr=0;8>dr;++dr)xr+=Qe[er+dr-32];ca(xr>>3,Qe,er)}function Xi(Qe,er){var dr,xr=4;for(dr=0;8>dr;++dr)xr+=Qe[er-1+32*dr];ca(xr>>3,Qe,er)}function Bo(Qe,er){ca(128,Qe,er)}function Xa(Qe,er,dr){var xr=Qe[er-dr],Or=Qe[er+0],Qr=3*(Or-xr)+kc[1020+Qe[er-2*dr]-Qe[er+dr]],Hr=cA[112+(Qr+4>>3)];Qe[er-dr]=ta[255+xr+cA[112+(Qr+3>>3)]],Qe[er+0]=ta[255+Or-Hr]}function rA(Qe,er,dr,xr){var Or=Qe[er+0],Qr=Qe[er+dr];return $a[255+Qe[er-2*dr]-Qe[er-dr]]>xr||$a[255+Qr-Or]>xr}function Xo(Qe,er,dr,xr){return 4*$a[255+Qe[er-dr]-Qe[er+0]]+$a[255+Qe[er-2*dr]-Qe[er+dr]]<=xr}function Yo(Qe,er,dr,xr,Or){var Qr=Qe[er-3*dr],Hr=Qe[er-2*dr],qr=Qe[er-dr],Jr=Qe[er+0],fn=Qe[er+dr],Pn=Qe[er+2*dr],Yn=Qe[er+3*dr];return 4*$a[255+qr-Jr]+$a[255+Hr-fn]>xr?0:$a[255+Qe[er-4*dr]-Qr]<=Or&&$a[255+Qr-Hr]<=Or&&$a[255+Hr-qr]<=Or&&$a[255+Yn-Pn]<=Or&&$a[255+Pn-fn]<=Or&&$a[255+fn-Jr]<=Or}function Oa(Qe,er,dr,xr){var Or=2*xr+1;for(xr=0;16>xr;++xr)Xo(Qe,er+xr,dr,Or)&&Xa(Qe,er+xr,dr)}function ua(Qe,er,dr,xr){var Or=2*xr+1;for(xr=0;16>xr;++xr)Xo(Qe,er+xr*dr,1,Or)&&Xa(Qe,er+xr*dr,1)}function Vs(Qe,er,dr,xr){var Or;for(Or=3;0<Or;--Or)Oa(Qe,er+=4*dr,dr,xr)}function UA(Qe,er,dr,xr){var Or;for(Or=3;0<Or;--Or)ua(Qe,er+=4,dr,xr)}function Po(Qe,er,dr,xr,Or,Qr,Hr,qr){for(Qr=2*Qr+1;0<Or--;){if(Yo(Qe,er,dr,Qr,Hr))if(rA(Qe,er,dr,qr))Xa(Qe,er,dr);else{var Jr=Qe,fn=er,Pn=dr,Yn=Jr[fn-2*Pn],Wn=Jr[fn-Pn],jn=Jr[fn+0],pi=Jr[fn+Pn],ri=Jr[fn+2*Pn],Fn=27*(ai=kc[1020+3*(jn-Wn)+kc[1020+Yn-pi]])+63>>7,Ln=18*ai+63>>7,ai=9*ai+63>>7;Jr[fn-3*Pn]=ta[255+Jr[fn-3*Pn]+ai],Jr[fn-2*Pn]=ta[255+Yn+Ln],Jr[fn-Pn]=ta[255+Wn+Fn],Jr[fn+0]=ta[255+jn-Fn],Jr[fn+Pn]=ta[255+pi-Ln],Jr[fn+2*Pn]=ta[255+ri-ai]}er+=xr}}function aa(Qe,er,dr,xr,Or,Qr,Hr,qr){for(Qr=2*Qr+1;0<Or--;){if(Yo(Qe,er,dr,Qr,Hr))if(rA(Qe,er,dr,qr))Xa(Qe,er,dr);else{var Jr=Qe,fn=er,Pn=dr,Yn=Jr[fn-Pn],Wn=Jr[fn+0],jn=Jr[fn+Pn],pi=cA[112+((ri=3*(Wn-Yn))+4>>3)],ri=cA[112+(ri+3>>3)],Fn=pi+1>>1;Jr[fn-2*Pn]=ta[255+Jr[fn-2*Pn]+Fn],Jr[fn-Pn]=ta[255+Yn+ri],Jr[fn+0]=ta[255+Wn-pi],Jr[fn+Pn]=ta[255+jn-Fn]}er+=xr}}function Fo(Qe,er,dr,xr,Or,Qr){Po(Qe,er,dr,1,16,xr,Or,Qr)}function uo(Qe,er,dr,xr,Or,Qr){Po(Qe,er,1,dr,16,xr,Or,Qr)}function wl(Qe,er,dr,xr,Or,Qr){var Hr;for(Hr=3;0<Hr;--Hr)aa(Qe,er+=4*dr,dr,1,16,xr,Or,Qr)}function Jo(Qe,er,dr,xr,Or,Qr){var Hr;for(Hr=3;0<Hr;--Hr)aa(Qe,er+=4,1,dr,16,xr,Or,Qr)}function xl(Qe,er,dr,xr,Or,Qr,Hr,qr){Po(Qe,er,Or,1,8,Qr,Hr,qr),Po(dr,xr,Or,1,8,Qr,Hr,qr)}function nA(Qe,er,dr,xr,Or,Qr,Hr,qr){Po(Qe,er,1,Or,8,Qr,Hr,qr),Po(dr,xr,1,Or,8,Qr,Hr,qr)}function Zo(Qe,er,dr,xr,Or,Qr,Hr,qr){aa(Qe,er+4*Or,Or,1,8,Qr,Hr,qr),aa(dr,xr+4*Or,Or,1,8,Qr,Hr,qr)}function Io(Qe,er,dr,xr,Or,Qr,Hr,qr){aa(Qe,er+4,1,Or,8,Qr,Hr,qr),aa(dr,xr+4,1,Or,8,Qr,Hr,qr)}function $o(){this.ba=new Lr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Pr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Cl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function el(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Do(){this.ua=0,this.Wa=new Fr,this.vb=new Fr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new mr,this.yc=new Je}function LA(){this.xb=this.a=0,this.l=new so,this.ca=new Lr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ar,this.Pb=0,this.wd=new ar,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Do,this.ab=0,this.gc=Se(4,el),this.Oc=0}function ho(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new so,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function No(Qe,er,dr,xr,Or,Qr,Hr){for(Qe=Qe==null?0:Qe[er+0],er=0;er<Hr;++er)Or[Qr+er]=Qe+dr[xr+er]&255,Qe=Or[Qr+er]}function tl(Qe,er,dr,xr,Or,Qr,Hr){var qr;if(Qe==null)No(null,null,dr,xr,Or,Qr,Hr);else for(qr=0;qr<Hr;++qr)Or[Qr+qr]=Qe[er+qr]+dr[xr+qr]&255}function ha(Qe,er,dr,xr,Or,Qr,Hr){if(Qe==null)No(null,null,dr,xr,Or,Qr,Hr);else{var qr,Jr=Qe[er+0],fn=Jr,Pn=Jr;for(qr=0;qr<Hr;++qr)fn=Pn+(Jr=Qe[er+qr])-fn,Pn=dr[xr+qr]+(-256&fn?0>fn?0:255:fn)&255,fn=Jr,Or[Qr+qr]=Pn}}function Sl(Qe,er,dr,xr){var Or=er.width,Qr=er.o;if(t(Qe!=null&&er!=null),0>dr||0>=xr||dr+xr>Qr)return null;if(!Qe.Cc){if(Qe.ga==null){var Hr;if(Qe.ga=new ho,(Hr=Qe.ga==null)||(Hr=er.width*er.o,t(Qe.Gb.length==0),Qe.Gb=Ce(Hr),Qe.Uc=0,Qe.Gb==null?Hr=0:(Qe.mb=Qe.Gb,Qe.nb=Qe.Uc,Qe.rc=null,Hr=1),Hr=!Hr),!Hr){Hr=Qe.ga;var qr=Qe.Fa,Jr=Qe.P,fn=Qe.qc,Pn=Qe.mb,Yn=Qe.nb,Wn=Jr+1,jn=fn-1,pi=Hr.l;if(t(qr!=null&&Pn!=null&&er!=null),jo[0]=null,jo[1]=No,jo[2]=tl,jo[3]=ha,Hr.ca=Pn,Hr.tb=Yn,Hr.c=er.width,Hr.i=er.height,t(0<Hr.c&&0<Hr.i),1>=fn)er=0;else if(Hr.$a=qr[Jr+0]>>0&3,Hr.Z=qr[Jr+0]>>2&3,Hr.Lc=qr[Jr+0]>>4&3,Jr=qr[Jr+0]>>6&3,0>Hr.$a||1<Hr.$a||4<=Hr.Z||1<Hr.Lc||Jr)er=0;else if(pi.put=Mr,pi.ac=Vr,pi.bc=gn,pi.ma=Hr,pi.width=er.width,pi.height=er.height,pi.Da=er.Da,pi.v=er.v,pi.va=er.va,pi.j=er.j,pi.o=er.o,Hr.$a)e:{t(Hr.$a==1),er=Ii();t:for(;;){if(er==null){er=0;break e}if(t(Hr!=null),Hr.mc=er,er.c=Hr.c,er.i=Hr.i,er.l=Hr.l,er.l.ma=Hr,er.l.width=Hr.c,er.l.height=Hr.i,er.a=0,Cr(er.m,qr,Wn,jn),!Li(Hr.c,Hr.i,1,er,null)||(er.ab==1&&er.gc[0].hc==3&&fi(er.s)?(Hr.ic=1,qr=er.c*er.i,er.Ta=null,er.Ua=0,er.V=Ce(qr),er.Ba=0,er.V==null?(er.a=1,er=0):er=1):(Hr.ic=0,er=Zi(er,Hr.c)),!er))break t;er=1;break e}Hr.mc=null,er=0}else er=jn>=Hr.c*Hr.i;Hr=!er}if(Hr)return null;Qe.ga.Lc!=1?Qe.Ga=0:xr=Qr-dr}t(Qe.ga!=null),t(dr+xr<=Qr);e:{if(er=(qr=Qe.ga).c,Qr=qr.l.o,qr.$a==0){if(Wn=Qe.rc,jn=Qe.Vc,pi=Qe.Fa,Jr=Qe.P+1+dr*er,fn=Qe.mb,Pn=Qe.nb+dr*er,t(Jr<=Qe.P+Qe.qc),qr.Z!=0)for(t(jo[qr.Z]!=null),Hr=0;Hr<xr;++Hr)jo[qr.Z](Wn,jn,pi,Jr,fn,Pn,er),Wn=fn,jn=Pn,Pn+=er,Jr+=er;else for(Hr=0;Hr<xr;++Hr)_e(fn,Pn,pi,Jr,er),Wn=fn,jn=Pn,Pn+=er,Jr+=er;Qe.rc=Wn,Qe.Vc=jn}else{if(t(qr.mc!=null),er=dr+xr,t((Hr=qr.mc)!=null),t(er<=Hr.i),Hr.C>=er)er=1;else if(qr.ic||Mn(),qr.ic){qr=Hr.V,Wn=Hr.Ba,jn=Hr.c;var ri=Hr.i,Fn=(pi=1,Jr=Hr.$/jn,fn=Hr.$%jn,Pn=Hr.m,Yn=Hr.s,Hr.$),Ln=jn*ri,ai=jn*er,gi=Yn.wc,Ai=Fn<ai?ui(Yn,fn,Jr):null;t(Fn<=Ln),t(er<=ri),t(fi(Yn));t:for(;;){for(;!Pn.h&&Fn<ai;){if(fn&gi||(Ai=ui(Yn,fn,Jr)),t(Ai!=null),Er(Pn),256>(ri=zn(Ai.G[0],Ai.H[0],Pn)))qr[Wn+Fn]=ri,++Fn,++fn>=jn&&(fn=0,++Jr<=er&&!(Jr%16)&&bi(Hr,Jr));else{if(!(280>ri)){pi=0;break t}ri=Rn(ri-256,Pn);var Ri,xi=zn(Ai.G[4],Ai.H[4],Pn);if(Er(Pn),!(Fn>=(xi=Nn(jn,xi=Rn(xi,Pn)))&&Ln-Fn>=ri)){pi=0;break t}for(Ri=0;Ri<ri;++Ri)qr[Wn+Fn+Ri]=qr[Wn+Fn+Ri-xi];for(Fn+=ri,fn+=ri;fn>=jn;)fn-=jn,++Jr<=er&&!(Jr%16)&&bi(Hr,Jr);Fn<ai&&fn&gi&&(Ai=ui(Yn,fn,Jr))}t(Pn.h==lr(Pn))}bi(Hr,Jr>er?er:Jr);break t}!pi||Pn.h&&Fn<Ln?(pi=0,Hr.a=Pn.h?5:3):Hr.$=Fn,er=pi}else er=Ci(Hr,Hr.V,Hr.Ba,Hr.c,Hr.i,er,Ns);if(!er){xr=0;break e}}dr+xr>=Qr&&(Qe.Cc=1),xr=1}if(!xr)return null;if(Qe.Cc&&((xr=Qe.ga)!=null&&(xr.mc=null),Qe.ga=null,0<Qe.Ga))return alert("todo:WebPDequantizeLevels"),null}return Qe.nb+dr*Or}function cr(Qe,er,dr,xr,Or,Qr){for(;0<Or--;){var Hr,qr=Qe,Jr=er+(dr?1:0),fn=Qe,Pn=er+(dr?0:3);for(Hr=0;Hr<xr;++Hr){var Yn=fn[Pn+4*Hr];Yn!=255&&(Yn*=32897,qr[Jr+4*Hr+0]=qr[Jr+4*Hr+0]*Yn>>23,qr[Jr+4*Hr+1]=qr[Jr+4*Hr+1]*Yn>>23,qr[Jr+4*Hr+2]=qr[Jr+4*Hr+2]*Yn>>23)}er+=Qr}}function kr(Qe,er,dr,xr,Or){for(;0<xr--;){var Qr;for(Qr=0;Qr<dr;++Qr){var Hr=Qe[er+2*Qr+0],qr=15&(fn=Qe[er+2*Qr+1]),Jr=4369*qr,fn=(240&fn|fn>>4)*Jr>>16;Qe[er+2*Qr+0]=(240&Hr|Hr>>4)*Jr>>16&240|(15&Hr|Hr<<4)*Jr>>16>>4&15,Qe[er+2*Qr+1]=240&fn|qr}er+=Or}}function mn(Qe,er,dr,xr,Or,Qr,Hr,qr){var Jr,fn,Pn=255;for(fn=0;fn<Or;++fn){for(Jr=0;Jr<xr;++Jr){var Yn=Qe[er+Jr];Qr[Hr+4*Jr]=Yn,Pn&=Yn}er+=dr,Hr+=qr}return Pn!=255}function Tn(Qe,er,dr,xr,Or){var Qr;for(Qr=0;Qr<Or;++Qr)dr[xr+Qr]=Qe[er+Qr]>>8}function Mn(){ka=cr,zi=kr,Wi=mn,_s=Tn}function ii(Qe,er,dr){Ge[Qe]=function(xr,Or,Qr,Hr,qr,Jr,fn,Pn,Yn,Wn,jn,pi,ri,Fn,Ln,ai,gi){var Ai,Ri=gi-1>>1,xi=qr[Jr+0]|fn[Pn+0]<<16,Di=Yn[Wn+0]|jn[pi+0]<<16;t(xr!=null);var Ti=3*xi+Di+131074>>2;for(er(xr[Or+0],255&Ti,Ti>>16,ri,Fn),Qr!=null&&(Ti=3*Di+xi+131074>>2,er(Qr[Hr+0],255&Ti,Ti>>16,Ln,ai)),Ai=1;Ai<=Ri;++Ai){var ns=qr[Jr+Ai]|fn[Pn+Ai]<<16,As=Yn[Wn+Ai]|jn[pi+Ai]<<16,Gi=xi+ns+Di+As+524296,qi=Gi+2*(ns+Di)>>3;Ti=qi+xi>>1,xi=(Gi=Gi+2*(xi+As)>>3)+ns>>1,er(xr[Or+2*Ai-1],255&Ti,Ti>>16,ri,Fn+(2*Ai-1)*dr),er(xr[Or+2*Ai-0],255&xi,xi>>16,ri,Fn+(2*Ai-0)*dr),Qr!=null&&(Ti=Gi+Di>>1,xi=qi+As>>1,er(Qr[Hr+2*Ai-1],255&Ti,Ti>>16,Ln,ai+(2*Ai-1)*dr),er(Qr[Hr+2*Ai+0],255&xi,xi>>16,Ln,ai+(2*Ai+0)*dr)),xi=ns,Di=As}1&gi||(Ti=3*xi+Di+131074>>2,er(xr[Or+gi-1],255&Ti,Ti>>16,ri,Fn+(gi-1)*dr),Qr!=null&&(Ti=3*Di+xi+131074>>2,er(Qr[Hr+gi-1],255&Ti,Ti>>16,Ln,ai+(gi-1)*dr)))}}function Ei(){ra[da]=cl,ra[VA]=Vo,ra[ko]=jl,ra[gc]=Vc,ra[uA]=Qc,ra[sl]=KA,ra[Mc]=Hc,ra[mc]=Vo,ra[kl]=Vc,ra[al]=Qc,ra[QA]=KA}function Si(Qe){return Qe&-16384?0>Qe?0:255:Qe>>bd}function qe(Qe,er){return Si((19077*Qe>>8)+(26149*er>>8)-14234)}function gr(Qe,er,dr){return Si((19077*Qe>>8)-(6419*er>>8)-(13320*dr>>8)+8708)}function Br(Qe,er){return Si((19077*Qe>>8)+(33050*er>>8)-17685)}function Gr(Qe,er,dr,xr,Or){xr[Or+0]=qe(Qe,dr),xr[Or+1]=gr(Qe,er,dr),xr[Or+2]=Br(Qe,er)}function kn(Qe,er,dr,xr,Or){xr[Or+0]=Br(Qe,er),xr[Or+1]=gr(Qe,er,dr),xr[Or+2]=qe(Qe,dr)}function Jn(Qe,er,dr,xr,Or){var Qr=gr(Qe,er,dr);er=Qr<<3&224|Br(Qe,er)>>3,xr[Or+0]=248&qe(Qe,dr)|Qr>>5,xr[Or+1]=er}function _i(Qe,er,dr,xr,Or){var Qr=240&Br(Qe,er)|15;xr[Or+0]=240&qe(Qe,dr)|gr(Qe,er,dr)>>4,xr[Or+1]=Qr}function ki(Qe,er,dr,xr,Or){xr[Or+0]=255,Gr(Qe,er,dr,xr,Or+1)}function Yi(Qe,er,dr,xr,Or){kn(Qe,er,dr,xr,Or),xr[Or+3]=255}function Hi(Qe,er,dr,xr,Or){Gr(Qe,er,dr,xr,Or),xr[Or+3]=255}function ls(Qe,er){return 0>Qe?0:Qe>er?er:Qe}function ds(Qe,er,dr){Ge[Qe]=function(xr,Or,Qr,Hr,qr,Jr,fn,Pn,Yn){for(var Wn=Pn+(-2&Yn)*dr;Pn!=Wn;)er(xr[Or+0],Qr[Hr+0],qr[Jr+0],fn,Pn),er(xr[Or+1],Qr[Hr+0],qr[Jr+0],fn,Pn+dr),Or+=2,++Hr,++Jr,Pn+=2*dr;1&Yn&&er(xr[Or+0],Qr[Hr+0],qr[Jr+0],fn,Pn)}}function Ya(Qe,er,dr){return dr==0?Qe==0?er==0?6:5:er==0?4:0:dr}function Us(Qe,er,dr,xr,Or){switch(Qe>>>30){case 3:po(er,dr,xr,Or,0);break;case 2:Ps(er,dr,xr,Or);break;case 1:Qs(er,dr,xr,Or)}}function Ba(Qe,er){var dr,xr,Or=er.M,Qr=er.Nb,Hr=Qe.oc,qr=Qe.pc+40,Jr=Qe.oc,fn=Qe.pc+584,Pn=Qe.oc,Yn=Qe.pc+600;for(dr=0;16>dr;++dr)Hr[qr+32*dr-1]=129;for(dr=0;8>dr;++dr)Jr[fn+32*dr-1]=129,Pn[Yn+32*dr-1]=129;for(0<Or?Hr[qr-1-32]=Jr[fn-1-32]=Pn[Yn-1-32]=129:(xe(Hr,qr-32-1,127,21),xe(Jr,fn-32-1,127,9),xe(Pn,Yn-32-1,127,9)),xr=0;xr<Qe.za;++xr){var Wn=er.ya[er.aa+xr];if(0<xr){for(dr=-1;16>dr;++dr)_e(Hr,qr+32*dr-4,Hr,qr+32*dr+12,4);for(dr=-1;8>dr;++dr)_e(Jr,fn+32*dr-4,Jr,fn+32*dr+4,4),_e(Pn,Yn+32*dr-4,Pn,Yn+32*dr+4,4)}var jn=Qe.Gd,pi=Qe.Hd+xr,ri=Wn.ad,Fn=Wn.Hc;if(0<Or&&(_e(Hr,qr-32,jn[pi].y,0,16),_e(Jr,fn-32,jn[pi].f,0,8),_e(Pn,Yn-32,jn[pi].ea,0,8)),Wn.Za){var Ln=Hr,ai=qr-32+16;for(0<Or&&(xr>=Qe.za-1?xe(Ln,ai,jn[pi].y[15],4):_e(Ln,ai,jn[pi+1].y,0,4)),dr=0;4>dr;dr++)Ln[ai+128+dr]=Ln[ai+256+dr]=Ln[ai+384+dr]=Ln[ai+0+dr];for(dr=0;16>dr;++dr,Fn<<=2)Ln=Hr,ai=qr+pA[dr],ya[Wn.Ob[dr]](Ln,ai),Us(Fn,ri,16*+dr,Ln,ai)}else if(Ln=Ya(xr,Or,Wn.Ob[0]),Al[Ln](Hr,qr),Fn!=0)for(dr=0;16>dr;++dr,Fn<<=2)Us(Fn,ri,16*+dr,Hr,qr+pA[dr]);for(dr=Wn.Gc,Ln=Ya(xr,Or,Wn.Dd),ja[Ln](Jr,fn),ja[Ln](Pn,Yn),Fn=ri,Ln=Jr,ai=fn,255&(Wn=dr>>0)&&(170&Wn?go(Fn,256,Ln,ai):Ia(Fn,256,Ln,ai)),Wn=Pn,Fn=Yn,255&(dr>>=8)&&(170&dr?go(ri,320,Wn,Fn):Ia(ri,320,Wn,Fn)),Or<Qe.Ub-1&&(_e(jn[pi].y,0,Hr,qr+480,16),_e(jn[pi].f,0,Jr,fn+224,8),_e(jn[pi].ea,0,Pn,Yn+224,8)),dr=8*Qr*Qe.B,jn=Qe.sa,pi=Qe.ta+16*xr+16*Qr*Qe.R,ri=Qe.qa,Wn=Qe.ra+8*xr+dr,Fn=Qe.Ha,Ln=Qe.Ia+8*xr+dr,dr=0;16>dr;++dr)_e(jn,pi+dr*Qe.R,Hr,qr+32*dr,16);for(dr=0;8>dr;++dr)_e(ri,Wn+dr*Qe.B,Jr,fn+32*dr,8),_e(Fn,Ln+dr*Qe.B,Pn,Yn+32*dr,8)}}function Uo(Qe,er,dr,xr,Or,Qr,Hr,qr,Jr){var fn=[0],Pn=[0],Yn=0,Wn=Jr!=null?Jr.kd:0,jn=Jr??new Cl;if(Qe==null||12>dr)return 7;jn.data=Qe,jn.w=er,jn.ha=dr,er=[er],dr=[dr],jn.gb=[jn.gb];e:{var pi=er,ri=dr,Fn=jn.gb;if(t(Qe!=null),t(ri!=null),t(Fn!=null),Fn[0]=0,12<=ri[0]&&!Ae(Qe,pi[0],"RIFF")){if(Ae(Qe,pi[0]+8,"WEBP")){Fn=3;break e}var Ln=vn(Qe,pi[0]+4);if(12>Ln||4294967286<Ln){Fn=3;break e}if(Wn&&Ln>ri[0]-8){Fn=7;break e}Fn[0]=Ln,pi[0]+=12,ri[0]-=12}Fn=0}if(Fn!=0)return Fn;for(Ln=0<jn.gb[0],dr=dr[0];;){e:{var ai=Qe;ri=er,Fn=dr;var gi=fn,Ai=Pn,Ri=pi=[0];if((Ti=Yn=[Yn])[0]=0,8>Fn[0])Fn=7;else{if(!Ae(ai,ri[0],"VP8X")){if(vn(ai,ri[0]+4)!=10){Fn=3;break e}if(18>Fn[0]){Fn=7;break e}var xi=vn(ai,ri[0]+8),Di=1+$r(ai,ri[0]+12);if(2147483648<=Di*(ai=1+$r(ai,ri[0]+15))){Fn=3;break e}Ri!=null&&(Ri[0]=xi),gi!=null&&(gi[0]=Di),Ai!=null&&(Ai[0]=ai),ri[0]+=18,Fn[0]-=18,Ti[0]=1}Fn=0}}if(Yn=Yn[0],pi=pi[0],Fn!=0)return Fn;if(ri=!!(2&pi),!Ln&&Yn)return 3;if(Qr!=null&&(Qr[0]=!!(16&pi)),Hr!=null&&(Hr[0]=ri),qr!=null&&(qr[0]=0),Hr=fn[0],pi=Pn[0],Yn&&ri&&Jr==null){Fn=0;break}if(4>dr){Fn=7;break}if(Ln&&Yn||!Ln&&!Yn&&!Ae(Qe,er[0],"ALPH")){dr=[dr],jn.na=[jn.na],jn.P=[jn.P],jn.Sa=[jn.Sa];e:{xi=Qe,Fn=er,Ln=dr;var Ti=jn.gb;gi=jn.na,Ai=jn.P,Ri=jn.Sa,Di=22,t(xi!=null),t(Ln!=null),ai=Fn[0];var ns=Ln[0];for(t(gi!=null),t(Ri!=null),gi[0]=null,Ai[0]=null,Ri[0]=0;;){if(Fn[0]=ai,Ln[0]=ns,8>ns){Fn=7;break e}var As=vn(xi,ai+4);if(4294967286<As){Fn=3;break e}var Gi=8+As+1&-2;if(Di+=Gi,0<Ti&&Di>Ti){Fn=3;break e}if(!Ae(xi,ai,"VP8 ")||!Ae(xi,ai,"VP8L")){Fn=0;break e}if(ns[0]<Gi){Fn=7;break e}Ae(xi,ai,"ALPH")||(gi[0]=xi,Ai[0]=ai+8,Ri[0]=As),ai+=Gi,ns-=Gi}}if(dr=dr[0],jn.na=jn.na[0],jn.P=jn.P[0],jn.Sa=jn.Sa[0],Fn!=0)break}dr=[dr],jn.Ja=[jn.Ja],jn.xa=[jn.xa];e:if(Ti=Qe,Fn=er,Ln=dr,gi=jn.gb[0],Ai=jn.Ja,Ri=jn.xa,xi=Fn[0],ai=!Ae(Ti,xi,"VP8 "),Di=!Ae(Ti,xi,"VP8L"),t(Ti!=null),t(Ln!=null),t(Ai!=null),t(Ri!=null),8>Ln[0])Fn=7;else{if(ai||Di){if(Ti=vn(Ti,xi+4),12<=gi&&Ti>gi-12){Fn=3;break e}if(Wn&&Ti>Ln[0]-8){Fn=7;break e}Ai[0]=Ti,Fn[0]+=8,Ln[0]-=8,Ri[0]=Di}else Ri[0]=5<=Ln[0]&&Ti[xi+0]==47&&!(Ti[xi+4]>>5),Ai[0]=Ln[0];Fn=0}if(dr=dr[0],jn.Ja=jn.Ja[0],jn.xa=jn.xa[0],er=er[0],Fn!=0)break;if(4294967286<jn.Ja)return 3;if(qr==null||ri||(qr[0]=jn.xa?2:1),Hr=[Hr],pi=[pi],jn.xa){if(5>dr){Fn=7;break}qr=Hr,Wn=pi,ri=Qr,Qe==null||5>dr?Qe=0:5<=dr&&Qe[er+0]==47&&!(Qe[er+4]>>5)?(Ln=[0],Ti=[0],gi=[0],Cr(Ai=new ar,Qe,er,dr),wn(Ai,Ln,Ti,gi)?(qr!=null&&(qr[0]=Ln[0]),Wn!=null&&(Wn[0]=Ti[0]),ri!=null&&(ri[0]=gi[0]),Qe=1):Qe=0):Qe=0}else{if(10>dr){Fn=7;break}qr=pi,Qe==null||10>dr||!$s(Qe,er+3,dr-3)?Qe=0:(Wn=Qe[er+0]|Qe[er+1]<<8|Qe[er+2]<<16,ri=16383&(Qe[er+7]<<8|Qe[er+6]),Qe=16383&(Qe[er+9]<<8|Qe[er+8]),1&Wn||3<(Wn>>1&7)||!(Wn>>4&1)||Wn>>5>=jn.Ja||!ri||!Qe?Qe=0:(Hr&&(Hr[0]=ri),qr&&(qr[0]=Qe),Qe=1))}if(!Qe||(Hr=Hr[0],pi=pi[0],Yn&&(fn[0]!=Hr||Pn[0]!=pi)))return 3;Jr!=null&&(Jr[0]=jn,Jr.offset=er-Jr.w,t(4294967286>er-Jr.w),t(Jr.offset==Jr.ha-dr));break}return Fn==0||Fn==7&&Yn&&Jr==null?(Qr!=null&&(Qr[0]|=jn.na!=null&&0<jn.na.length),xr!=null&&(xr[0]=Hr),Or!=null&&(Or[0]=pi),0):Fn}function Tl(Qe,er,dr){var xr=er.width,Or=er.height,Qr=0,Hr=0,qr=xr,Jr=Or;if(er.Da=Qe!=null&&0<Qe.Da,er.Da&&(qr=Qe.cd,Jr=Qe.bd,Qr=Qe.v,Hr=Qe.j,11>dr||(Qr&=-2,Hr&=-2),0>Qr||0>Hr||0>=qr||0>=Jr||Qr+qr>xr||Hr+Jr>Or))return 0;if(er.v=Qr,er.j=Hr,er.va=Qr+qr,er.o=Hr+Jr,er.U=qr,er.T=Jr,er.da=Qe!=null&&0<Qe.da,er.da){if(!dn(qr,Jr,dr=[Qe.ib],Qr=[Qe.hb]))return 0;er.ib=dr[0],er.hb=Qr[0]}return er.ob=Qe!=null&&Qe.ob,er.Kb=Qe==null||!Qe.Sd,er.da&&(er.ob=er.ib<3*xr/4&&er.hb<3*Or/4,er.Kb=0),1}function OA(Qe){if(Qe==null)return 2;if(11>Qe.S){var er=Qe.f.RGBA;er.fb+=(Qe.height-1)*er.A,er.A=-er.A}else er=Qe.f.kb,Qe=Qe.height,er.O+=(Qe-1)*er.fa,er.fa=-er.fa,er.N+=(Qe-1>>1)*er.Ab,er.Ab=-er.Ab,er.W+=(Qe-1>>1)*er.Db,er.Db=-er.Db,er.F!=null&&(er.J+=(Qe-1)*er.lb,er.lb=-er.lb);return 0}function iA(Qe,er,dr,xr){if(xr==null||0>=Qe||0>=er)return 2;if(dr!=null){if(dr.Da){var Or=dr.cd,Qr=dr.bd,Hr=-2&dr.v,qr=-2&dr.j;if(0>Hr||0>qr||0>=Or||0>=Qr||Hr+Or>Qe||qr+Qr>er)return 2;Qe=Or,er=Qr}if(dr.da){if(!dn(Qe,er,Or=[dr.ib],Qr=[dr.hb]))return 2;Qe=Or[0],er=Qr[0]}}xr.width=Qe,xr.height=er;e:{var Jr=xr.width,fn=xr.height;if(Qe=xr.S,0>=Jr||0>=fn||!(Qe>=da&&13>Qe))Qe=2;else{if(0>=xr.Rd&&xr.sd==null){Hr=Qr=Or=er=0;var Pn=(qr=Jr*fh[Qe])*fn;if(11>Qe||(Qr=(fn+1)/2*(er=(Jr+1)/2),Qe==12&&(Hr=(Or=Jr)*fn)),(fn=Ce(Pn+2*Qr+Hr))==null){Qe=1;break e}xr.sd=fn,11>Qe?((Jr=xr.f.RGBA).eb=fn,Jr.fb=0,Jr.A=qr,Jr.size=Pn):((Jr=xr.f.kb).y=fn,Jr.O=0,Jr.fa=qr,Jr.Fd=Pn,Jr.f=fn,Jr.N=0+Pn,Jr.Ab=er,Jr.Cd=Qr,Jr.ea=fn,Jr.W=0+Pn+Qr,Jr.Db=er,Jr.Ed=Qr,Qe==12&&(Jr.F=fn,Jr.J=0+Pn+2*Qr),Jr.Tc=Hr,Jr.lb=Or)}if(er=1,Or=xr.S,Qr=xr.width,Hr=xr.height,Or>=da&&13>Or)if(11>Or)Qe=xr.f.RGBA,er&=(qr=Math.abs(Qe.A))*(Hr-1)+Qr<=Qe.size,er&=qr>=Qr*fh[Or],er&=Qe.eb!=null;else{Qe=xr.f.kb,qr=(Qr+1)/2,Pn=(Hr+1)/2,Jr=Math.abs(Qe.fa),fn=Math.abs(Qe.Ab);var Yn=Math.abs(Qe.Db),Wn=Math.abs(Qe.lb),jn=Wn*(Hr-1)+Qr;er&=Jr*(Hr-1)+Qr<=Qe.Fd,er&=fn*(Pn-1)+qr<=Qe.Cd,er=(er&=Yn*(Pn-1)+qr<=Qe.Ed)&Jr>=Qr&fn>=qr&Yn>=qr,er&=Qe.y!=null,er&=Qe.f!=null,er&=Qe.ea!=null,Or==12&&(er&=Wn>=Qr,er&=jn<=Qe.Tc,er&=Qe.F!=null)}else er=0;Qe=er?0:2}}return Qe!=0||dr!=null&&dr.fd&&(Qe=OA(xr)),Qe}var zs=64,Rl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],sA=24,aA=32,kA=8,Pa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];hn("Predictor0","PredictorAdd0"),Ge.Predictor0=function(){return 4278190080},Ge.Predictor1=function(Qe){return Qe},Ge.Predictor2=function(Qe,er,dr){return er[dr+0]},Ge.Predictor3=function(Qe,er,dr){return er[dr+1]},Ge.Predictor4=function(Qe,er,dr){return er[dr-1]},Ge.Predictor5=function(Qe,er,dr){return xn(xn(Qe,er[dr+1]),er[dr+0])},Ge.Predictor6=function(Qe,er,dr){return xn(Qe,er[dr-1])},Ge.Predictor7=function(Qe,er,dr){return xn(Qe,er[dr+0])},Ge.Predictor8=function(Qe,er,dr){return xn(er[dr-1],er[dr+0])},Ge.Predictor9=function(Qe,er,dr){return xn(er[dr+0],er[dr+1])},Ge.Predictor10=function(Qe,er,dr){return xn(xn(Qe,er[dr-1]),xn(er[dr+0],er[dr+1]))},Ge.Predictor11=function(Qe,er,dr){var xr=er[dr+0];return 0>=yn(xr>>24&255,Qe>>24&255,(er=er[dr-1])>>24&255)+yn(xr>>16&255,Qe>>16&255,er>>16&255)+yn(xr>>8&255,Qe>>8&255,er>>8&255)+yn(255&xr,255&Qe,255&er)?xr:Qe},Ge.Predictor12=function(Qe,er,dr){var xr=er[dr+0];return(Dn((Qe>>24&255)+(xr>>24&255)-((er=er[dr-1])>>24&255))<<24|Dn((Qe>>16&255)+(xr>>16&255)-(er>>16&255))<<16|Dn((Qe>>8&255)+(xr>>8&255)-(er>>8&255))<<8|Dn((255&Qe)+(255&xr)-(255&er)))>>>0},Ge.Predictor13=function(Qe,er,dr){var xr=er[dr-1];return(On((Qe=xn(Qe,er[dr+0]))>>24&255,xr>>24&255)<<24|On(Qe>>16&255,xr>>16&255)<<16|On(Qe>>8&255,xr>>8&255)<<8|On(Qe>>0&255,xr>>0&255))>>>0};var mu=Ge.PredictorAdd0;Ge.PredictorAdd1=Gn,hn("Predictor2","PredictorAdd2"),hn("Predictor3","PredictorAdd3"),hn("Predictor4","PredictorAdd4"),hn("Predictor5","PredictorAdd5"),hn("Predictor6","PredictorAdd6"),hn("Predictor7","PredictorAdd7"),hn("Predictor8","PredictorAdd8"),hn("Predictor9","PredictorAdd9"),hn("Predictor10","PredictorAdd10"),hn("Predictor11","PredictorAdd11"),hn("Predictor12","PredictorAdd12"),hn("Predictor13","PredictorAdd13");var fc=Ge.PredictorAdd2;wi("ColorIndexInverseTransform","MapARGB","32b",function(Qe){return Qe>>8&255},function(Qe){return Qe}),wi("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(Qe){return Qe},function(Qe){return Qe>>8&255});var Oc,Ja=Ge.ColorIndexInverseTransform,ea=Ge.MapARGB,Bl=Ge.VP8LColorIndexInverseTransformAlpha,pc=Ge.MapAlpha,rl=Ge.VP8LPredictorsAdd=[];rl.length=16,(Ge.VP8LPredictors=[]).length=16,(Ge.VP8LPredictorsAdd_C=[]).length=16,(Ge.VP8LPredictors_C=[]).length=16;var Pl,va,oa,Fl,Fa,fo,Lo,po,Ps,go,Qs,Ia,oA,Oo,MA,Il,Dl,Nl,lA,jA,Ul,nl,AA,Fs,ka,zi,Wi,_s,Ls=Ce(511),Za=Ce(2041),Ll=Ce(225),Ol=Ce(767),il=0,kc=Za,cA=Ll,ta=Ol,$a=Ls,da=0,VA=1,ko=2,gc=3,uA=4,sl=5,Mc=6,mc=7,kl=8,al=9,QA=10,jc=[2,3,7],eo=[3,3,11],Ma=[280,256,256,256,40],hA=[0,1,1,1,0],ol=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ll=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],dA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ah=8,vc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],yc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ws=null,Is=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],as=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ml=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Mo=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ch=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Al=[],ya=[],ja=[],uh=1,HA=2,jo=[],ra=[];ii("UpsampleRgbLinePair",Gr,3),ii("UpsampleBgrLinePair",kn,3),ii("UpsampleRgbaLinePair",Hi,4),ii("UpsampleBgraLinePair",Yi,4),ii("UpsampleArgbLinePair",ki,4),ii("UpsampleRgba4444LinePair",_i,2),ii("UpsampleRgb565LinePair",Jn,2);var cl=Ge.UpsampleRgbLinePair,jl=Ge.UpsampleBgrLinePair,Vo=Ge.UpsampleRgbaLinePair,Vc=Ge.UpsampleBgraLinePair,Qc=Ge.UpsampleArgbLinePair,KA=Ge.UpsampleRgba4444LinePair,Hc=Ge.UpsampleRgb565LinePair,Qo=16,Xs=1<<Qo-1,Vl=-227,Kc=482,bd=6,hh=0,wd=Ce(256),Ys=Ce(256),yu=Ce(256),Ec=Ce(256),_c=Ce(Kc-Vl),Eu=Ce(Kc-Vl);ds("YuvToRgbRow",Gr,3),ds("YuvToBgrRow",kn,3),ds("YuvToRgbaRow",Hi,4),ds("YuvToBgraRow",Yi,4),ds("YuvToArgbRow",ki,4),ds("YuvToRgba4444Row",_i,2),ds("YuvToRgb565Row",Jn,2);var pA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ul=[0,2,8],xd=[8,7,6,4,4,2,2,2,1,1,1,1],dh=1;this.WebPDecodeRGBA=function(Qe,er,dr,xr,Or){var Qr=VA,Hr=new $o,qr=new Lr;Hr.ba=qr,qr.S=Qr,qr.width=[qr.width],qr.height=[qr.height];var Jr=qr.width,fn=qr.height,Pn=new un;if(Pn==null||Qe==null)var Yn=2;else t(Pn!=null),Yn=Uo(Qe,er,dr,Pn.width,Pn.height,Pn.Pd,Pn.Qd,Pn.format,null);if(Yn!=0?Jr=0:(Jr!=null&&(Jr[0]=Pn.width[0]),fn!=null&&(fn[0]=Pn.height[0]),Jr=1),Jr){qr.width=qr.width[0],qr.height=qr.height[0],xr!=null&&(xr[0]=qr.width),Or!=null&&(Or[0]=qr.height);e:{if(xr=new so,(Or=new Cl).data=Qe,Or.w=er,Or.ha=dr,Or.kd=1,er=[0],t(Or!=null),((Qe=Uo(Or.data,Or.w,Or.ha,null,null,null,er,null,Or))==0||Qe==7)&&er[0]&&(Qe=4),(er=Qe)==0){if(t(Hr!=null),xr.data=Or.data,xr.w=Or.w+Or.offset,xr.ha=Or.ha-Or.offset,xr.put=Mr,xr.ac=Vr,xr.bc=gn,xr.ma=Hr,Or.xa){if((Qe=Ii())==null){Hr=1;break e}if(function(Wn,jn){var pi=[0],ri=[0],Fn=[0];t:for(;;){if(Wn==null)return 0;if(jn==null)return Wn.a=2,0;if(Wn.l=jn,Wn.a=0,Cr(Wn.m,jn.data,jn.w,jn.ha),!wn(Wn.m,pi,ri,Fn)){Wn.a=3;break t}if(Wn.xb=HA,jn.width=pi[0],jn.height=ri[0],!Li(pi[0],ri[0],1,Wn,null))break t;return 1}return t(Wn.a!=0),0}(Qe,xr)){if(xr=(er=iA(xr.width,xr.height,Hr.Oa,Hr.ba))==0){t:{xr=Qe;r:for(;;){if(xr==null){xr=0;break t}if(t(xr.s.yc!=null),t(xr.s.Ya!=null),t(0<xr.s.Wb),t((dr=xr.l)!=null),t((Or=dr.ma)!=null),xr.xb!=0){if(xr.ca=Or.ba,xr.tb=Or.tb,t(xr.ca!=null),!Tl(Or.Oa,dr,gc)){xr.a=2;break r}if(!Zi(xr,dr.width)||dr.da)break r;if((dr.da||Sn(xr.ca.S))&&Mn(),11>xr.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),xr.ca.f.kb.F!=null&&Mn()),xr.Pb&&0<xr.s.ua&&xr.s.vb.X==null&&!bn(xr.s.vb,xr.s.Wa.Xa)){xr.a=1;break r}xr.xb=0}if(!Ci(xr,xr.V,xr.Ba,xr.c,xr.i,dr.o,Bi))break r;Or.Dc=xr.Ma,xr=1;break t}t(xr.a!=0),xr=0}xr=!xr}xr&&(er=Qe.a)}else er=Qe.a}else{if((Qe=new Jl)==null){Hr=1;break e}if(Qe.Fa=Or.na,Qe.P=Or.P,Qe.qc=Or.Sa,El(Qe,xr)){if((er=iA(xr.width,xr.height,Hr.Oa,Hr.ba))==0){if(Qe.Aa=0,dr=Hr.Oa,t((Or=Qe)!=null),dr!=null){if(0<(Jr=0>(Jr=dr.Md)?0:100<Jr?255:255*Jr/100)){for(fn=Pn=0;4>fn;++fn)12>(Yn=Or.pb[fn]).lc&&(Yn.ia=Jr*xd[0>Yn.lc?0:Yn.lc]>>3),Pn|=Yn.ia;Pn&&(alert("todo:VP8InitRandom"),Or.ia=1)}Or.Ga=dr.Id,100<Or.Ga?Or.Ga=100:0>Or.Ga&&(Or.Ga=0)}Zl(Qe,xr)||(er=Qe.a)}}else er=Qe.a}er==0&&Hr.Oa!=null&&Hr.Oa.fd&&(er=OA(Hr.ba))}Hr=er}Qr=Hr!=0?null:11>Qr?qr.f.RGBA.eb:qr.f.kb.y}else Qr=null;return Qr};var fh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Fe(Ge,Ze){for(var or="",He=0;He<4;He++)or+=String.fromCharCode(Ge[Ze++]);return or}function Ie(Ge,Ze){return(Ge[Ze+0]<<0|Ge[Ze+1]<<8|Ge[Ze+2]<<16)>>>0}function Ue(Ge,Ze){return(Ge[Ze+0]<<0|Ge[Ze+1]<<8|Ge[Ze+2]<<16|Ge[Ze+3]<<24)>>>0}new Be;var ke=[0],Oe=[0],je=[],Ke=new Be,ze=Ee,Ve=function(Ge,Ze){var or={},He=0,Je=!1,$e=0,mr=0;if(or.frames=[],!function(tr,lr,pr,Er){for(var Rr=0;Rr<Er;Rr++)if(tr[lr+Rr]!=pr.charCodeAt(Rr))return!0;return!1}(Ge,Ze,"RIFF",4)){for(Ue(Ge,Ze+=4),Ze+=8;Ze<Ge.length;){var wr=Fe(Ge,Ze),vr=Ue(Ge,Ze+=4);Ze+=4;var ur=vr+(1&vr);switch(wr){case"VP8 ":case"VP8L":or.frames[He]===void 0&&(or.frames[He]={}),(hr=or.frames[He]).src_off=Je?mr:Ze-8,hr.src_size=$e+vr+8,He++,Je&&(Je=!1,$e=0,mr=0);break;case"VP8X":(hr=or.header={}).feature_flags=Ge[Ze];var Cr=Ze+4;hr.canvas_width=1+Ie(Ge,Cr),Cr+=3,hr.canvas_height=1+Ie(Ge,Cr),Cr+=3;break;case"ALPH":Je=!0,$e=ur+8,mr=Ze-8;break;case"ANIM":(hr=or.header).bgcolor=Ue(Ge,Ze),Cr=Ze+4,hr.loop_count=(Sr=Ge)[(ar=Cr)+0]<<0|Sr[ar+1]<<8,Cr+=2;break;case"ANMF":var _r,hr;(hr=or.frames[He]={}).offset_x=2*Ie(Ge,Ze),Ze+=3,hr.offset_y=2*Ie(Ge,Ze),Ze+=3,hr.width=1+Ie(Ge,Ze),Ze+=3,hr.height=1+Ie(Ge,Ze),Ze+=3,hr.duration=Ie(Ge,Ze),Ze+=3,_r=Ge[Ze++],hr.dispose=1&_r,hr.blend=_r>>1&1}wr!="ANMF"&&(Ze+=ur)}var Sr,ar;return or}}(ze,0);Ve.response=ze,Ve.rgbaoutput=!0,Ve.dataurl=!1;var Xe=Ve.header?Ve.header:null,ir=Ve.frames?Ve.frames:null;if(Xe){Xe.loop_counter=Xe.loop_count,ke=[Xe.canvas_height],Oe=[Xe.canvas_width];for(var sr=0;sr<ir.length&&ir[sr].blend!=0;sr++);}var rr=ir[0],nr=Ke.WebPDecodeRGBA(ze,rr.src_off,rr.src_size,Oe,ke);rr.rgba=nr,rr.imgwidth=Oe[0],rr.imgheight=ke[0];for(var We=0;We<Oe[0]*ke[0]*4;We++)je[We]=nr[We];return this.width=Oe,this.height=ke,this.data=je,this}(function(Ee){var t=function(){return typeof zlibSync=="function"},Ae=function(ke,Oe,je,Ke){var ze=4,Ve=Se;switch(Ke){case Ee.image_compression.FAST:ze=1,Ve=Ce;break;case Ee.image_compression.MEDIUM:ze=6,Ve=Re;break;case Ee.image_compression.SLOW:ze=9,Ve=Be}ke=_e(ke,Oe,je,Ve);var Xe=zlibSync(ke,{level:ze});return Ee.__addimage__.arrayBufferToBinaryString(Xe)},_e=function(ke,Oe,je,Ke){for(var ze,Ve,Xe,ir=ke.length/Oe,sr=new Uint8Array(ke.length+ir),rr=Ie(),nr=0;nr<ir;nr+=1){if(Xe=nr*Oe,ze=ke.subarray(Xe,Xe+Oe),Ke)sr.set(Ke(ze,je,Ve),Xe+nr);else{for(var We,Ge=rr.length,Ze=[];We<Ge;We+=1)Ze[We]=rr[We](ze,je,Ve);var or=Ue(Ze.concat());sr.set(Ze[or],Xe+nr)}Ve=ze}return sr},xe=function(ke){var Oe=Array.apply([],ke);return Oe.unshift(0),Oe},Ce=function(ke,Oe){var je,Ke=[],ze=ke.length;Ke[0]=1;for(var Ve=0;Ve<ze;Ve+=1)je=ke[Ve-Oe]||0,Ke[Ve+1]=ke[Ve]-je+256&255;return Ke},Se=function(ke,Oe,je){var Ke,ze=[],Ve=ke.length;ze[0]=2;for(var Xe=0;Xe<Ve;Xe+=1)Ke=je&&je[Xe]||0,ze[Xe+1]=ke[Xe]-Ke+256&255;return ze},Re=function(ke,Oe,je){var Ke,ze,Ve=[],Xe=ke.length;Ve[0]=3;for(var ir=0;ir<Xe;ir+=1)Ke=ke[ir-Oe]||0,ze=je&&je[ir]||0,Ve[ir+1]=ke[ir]+256-(Ke+ze>>>1)&255;return Ve},Be=function(ke,Oe,je){var Ke,ze,Ve,Xe,ir=[],sr=ke.length;ir[0]=4;for(var rr=0;rr<sr;rr+=1)Ke=ke[rr-Oe]||0,ze=je&&je[rr]||0,Ve=je&&je[rr-Oe]||0,Xe=Fe(Ke,ze,Ve),ir[rr+1]=ke[rr]-Xe+256&255;return ir},Fe=function(ke,Oe,je){if(ke===Oe&&Oe===je)return ke;var Ke=Math.abs(Oe-je),ze=Math.abs(ke-je),Ve=Math.abs(ke+Oe-je-je);return Ke<=ze&&Ke<=Ve?ke:ze<=Ve?Oe:je},Ie=function(){return[xe,Ce,Se,Re,Be]},Ue=function(ke){var Oe=ke.map(function(je){return je.reduce(function(Ke,ze){return Ke+Math.abs(ze)},0)});return Oe.indexOf(Math.min.apply(null,Oe))};Ee.processPNG=function(ke,Oe,je,Ke){var ze,Ve,Xe,ir,sr,rr,nr,We,Ge,Ze,or,He,Je,$e,mr,wr=this.decode.FLATE_DECODE,vr="";if(this.__addimage__.isArrayBuffer(ke)&&(ke=new Uint8Array(ke)),this.__addimage__.isArrayBufferView(ke)){if(ke=(Xe=new Kt(ke)).imgData,Ve=Xe.bits,ze=Xe.colorSpace,sr=Xe.colors,[4,6].indexOf(Xe.colorType)!==-1){if(Xe.bits===8){Ge=(We=Xe.pixelBitlength==32?new Uint32Array(Xe.decodePixels().buffer):Xe.pixelBitlength==16?new Uint16Array(Xe.decodePixels().buffer):new Uint8Array(Xe.decodePixels().buffer)).length,or=new Uint8Array(Ge*Xe.colors),Ze=new Uint8Array(Ge);var ur,Cr=Xe.pixelBitlength-Xe.bits;for($e=0,mr=0;$e<Ge;$e++){for(Je=We[$e],ur=0;ur<Cr;)or[mr++]=Je>>>ur&255,ur+=Xe.bits;Ze[$e]=Je>>>ur&255}}if(Xe.bits===16){Ge=(We=new Uint32Array(Xe.decodePixels().buffer)).length,or=new Uint8Array(Ge*(32/Xe.pixelBitlength)*Xe.colors),Ze=new Uint8Array(Ge*(32/Xe.pixelBitlength)),He=Xe.colors>1,$e=0,mr=0;for(var _r=0;$e<Ge;)Je=We[$e++],or[mr++]=Je>>>0&255,He&&(or[mr++]=Je>>>16&255,Je=We[$e++],or[mr++]=Je>>>0&255),Ze[_r++]=Je>>>16&255;Ve=8}Ke!==Ee.image_compression.NONE&&t()?(ke=Ae(or,Xe.width*Xe.colors,Xe.colors,Ke),nr=Ae(Ze,Xe.width,1,Ke)):(ke=or,nr=Ze,wr=void 0)}if(Xe.colorType===3&&(ze=this.color_spaces.INDEXED,rr=Xe.palette,Xe.transparency.indexed)){var hr=Xe.transparency.indexed,Sr=0;for($e=0,Ge=hr.length;$e<Ge;++$e)Sr+=hr[$e];if((Sr/=255)===Ge-1&&hr.indexOf(0)!==-1)ir=[hr.indexOf(0)];else if(Sr!==Ge){for(We=Xe.decodePixels(),Ze=new Uint8Array(We.length),$e=0,Ge=We.length;$e<Ge;$e++)Ze[$e]=hr[We[$e]];nr=Ae(Ze,Xe.width,1)}}var ar=function(tr){var lr;switch(tr){case Ee.image_compression.FAST:lr=11;break;case Ee.image_compression.MEDIUM:lr=13;break;case Ee.image_compression.SLOW:lr=14;break;default:lr=12}return lr}(Ke);return wr===this.decode.FLATE_DECODE&&(vr="/Predictor "+ar+" "),vr+="/Colors "+sr+" /BitsPerComponent "+Ve+" /Columns "+Xe.width,(this.__addimage__.isArrayBuffer(ke)||this.__addimage__.isArrayBufferView(ke))&&(ke=this.__addimage__.arrayBufferToBinaryString(ke)),(nr&&this.__addimage__.isArrayBuffer(nr)||this.__addimage__.isArrayBufferView(nr))&&(nr=this.__addimage__.arrayBufferToBinaryString(nr)),{alias:je,data:ke,index:Oe,filter:wr,decodeParameters:vr,transparency:ir,palette:rr,sMask:nr,predictor:ar,width:Xe.width,height:Xe.height,bitsPerComponent:Ve,colorSpace:ze}}}})(E.API),function(Ee){Ee.processGIF89A=function(t,Ae,_e,xe){var Ce=new Zt(t),Se=Ce.width,Re=Ce.height,Be=[];Ce.decodeAndBlitFrameRGBA(0,Be);var Fe={data:Be,width:Se,height:Re},Ie=new Qt(100).encode(Fe,100);return Ee.processJPEG.call(this,Ie,Ae,_e,xe)},Ee.processGIF87A=Ee.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var Ee=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(Ee);for(var t=0;t<Ee;t++){var Ae=this.datav.getUint8(this.pos++,!0),_e=this.datav.getUint8(this.pos++,!0),xe=this.datav.getUint8(this.pos++,!0),Ce=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:xe,green:_e,blue:Ae,quad:Ce}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var Ee="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[Ee]()}catch(Ae){a.log("bit decode error:"+Ae)}},te.prototype.bit1=function(){var Ee,t=Math.ceil(this.width/8),Ae=t%4;for(Ee=this.height-1;Ee>=0;Ee--){for(var _e=this.bottom_up?Ee:this.height-1-Ee,xe=0;xe<t;xe++)for(var Ce=this.datav.getUint8(this.pos++,!0),Se=_e*this.width*4+8*xe*4,Re=0;Re<8&&8*xe+Re<this.width;Re++){var Be=this.palette[Ce>>7-Re&1];this.data[Se+4*Re]=Be.blue,this.data[Se+4*Re+1]=Be.green,this.data[Se+4*Re+2]=Be.red,this.data[Se+4*Re+3]=255}Ae!==0&&(this.pos+=4-Ae)}},te.prototype.bit4=function(){for(var Ee=Math.ceil(this.width/2),t=Ee%4,Ae=this.height-1;Ae>=0;Ae--){for(var _e=this.bottom_up?Ae:this.height-1-Ae,xe=0;xe<Ee;xe++){var Ce=this.datav.getUint8(this.pos++,!0),Se=_e*this.width*4+2*xe*4,Re=Ce>>4,Be=15&Ce,Fe=this.palette[Re];if(this.data[Se]=Fe.blue,this.data[Se+1]=Fe.green,this.data[Se+2]=Fe.red,this.data[Se+3]=255,2*xe+1>=this.width)break;Fe=this.palette[Be],this.data[Se+4]=Fe.blue,this.data[Se+4+1]=Fe.green,this.data[Se+4+2]=Fe.red,this.data[Se+4+3]=255}t!==0&&(this.pos+=4-t)}},te.prototype.bit8=function(){for(var Ee=this.width%4,t=this.height-1;t>=0;t--){for(var Ae=this.bottom_up?t:this.height-1-t,_e=0;_e<this.width;_e++){var xe=this.datav.getUint8(this.pos++,!0),Ce=Ae*this.width*4+4*_e;if(xe<this.palette.length){var Se=this.palette[xe];this.data[Ce]=Se.red,this.data[Ce+1]=Se.green,this.data[Ce+2]=Se.blue,this.data[Ce+3]=255}else this.data[Ce]=255,this.data[Ce+1]=255,this.data[Ce+2]=255,this.data[Ce+3]=255}Ee!==0&&(this.pos+=4-Ee)}},te.prototype.bit15=function(){for(var Ee=this.width%3,t=parseInt("11111",2),Ae=this.height-1;Ae>=0;Ae--){for(var _e=this.bottom_up?Ae:this.height-1-Ae,xe=0;xe<this.width;xe++){var Ce=this.datav.getUint16(this.pos,!0);this.pos+=2;var Se=(Ce&t)/t*255|0,Re=(Ce>>5&t)/t*255|0,Be=(Ce>>10&t)/t*255|0,Fe=Ce>>15?255:0,Ie=_e*this.width*4+4*xe;this.data[Ie]=Be,this.data[Ie+1]=Re,this.data[Ie+2]=Se,this.data[Ie+3]=Fe}this.pos+=Ee}},te.prototype.bit16=function(){for(var Ee=this.width%3,t=parseInt("11111",2),Ae=parseInt("111111",2),_e=this.height-1;_e>=0;_e--){for(var xe=this.bottom_up?_e:this.height-1-_e,Ce=0;Ce<this.width;Ce++){var Se=this.datav.getUint16(this.pos,!0);this.pos+=2;var Re=(Se&t)/t*255|0,Be=(Se>>5&Ae)/Ae*255|0,Fe=(Se>>11)/t*255|0,Ie=xe*this.width*4+4*Ce;this.data[Ie]=Fe,this.data[Ie+1]=Be,this.data[Ie+2]=Re,this.data[Ie+3]=255}this.pos+=Ee}},te.prototype.bit24=function(){for(var Ee=this.height-1;Ee>=0;Ee--){for(var t=this.bottom_up?Ee:this.height-1-Ee,Ae=0;Ae<this.width;Ae++){var _e=this.datav.getUint8(this.pos++,!0),xe=this.datav.getUint8(this.pos++,!0),Ce=this.datav.getUint8(this.pos++,!0),Se=t*this.width*4+4*Ae;this.data[Se]=Ce,this.data[Se+1]=xe,this.data[Se+2]=_e,this.data[Se+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var Ee=this.height-1;Ee>=0;Ee--)for(var t=this.bottom_up?Ee:this.height-1-Ee,Ae=0;Ae<this.width;Ae++){var _e=this.datav.getUint8(this.pos++,!0),xe=this.datav.getUint8(this.pos++,!0),Ce=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0),Re=t*this.width*4+4*Ae;this.data[Re]=Ce,this.data[Re+1]=xe,this.data[Re+2]=_e,this.data[Re+3]=Se}},te.prototype.getData=function(){return this.data},function(Ee){Ee.processBMP=function(t,Ae,_e,xe){var Ce=new te(t,!1),Se=Ce.width,Re=Ce.height,Be={data:Ce.getData(),width:Se,height:Re},Fe=new Qt(100).encode(Be,100);return Ee.processJPEG.call(this,Fe,Ae,_e,xe)}}(E.API),ee.prototype.getData=function(){return this.data},function(Ee){Ee.processWEBP=function(t,Ae,_e,xe){var Ce=new ee(t),Se=Ce.width,Re=Ce.height,Be={data:Ce.getData(),width:Se,height:Re},Fe=new Qt(100).encode(Be,100);return Ee.processJPEG.call(this,Fe,Ae,_e,xe)}}(E.API),E.API.processRGBA=function(Ee,t,Ae){for(var _e=Ee.data,xe=_e.length,Ce=new Uint8Array(xe/4*3),Se=new Uint8Array(xe/4),Re=0,Be=0,Fe=0;Fe<xe;Fe+=4){var Ie=_e[Fe],Ue=_e[Fe+1],ke=_e[Fe+2],Oe=_e[Fe+3];Ce[Re++]=Ie,Ce[Re++]=Ue,Ce[Re++]=ke,Se[Be++]=Oe}var je=this.__addimage__.arrayBufferToBinaryString(Ce);return{alpha:this.__addimage__.arrayBufferToBinaryString(Se),data:je,index:t,alias:Ae,colorSpace:"DeviceRGB",bitsPerComponent:8,width:Ee.width,height:Ee.height}},E.API.setLanguage=function(Ee){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[Ee]!==void 0&&(this.internal.languageSettings.languageCode=Ee,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(Ee,t){var Ae,_e,xe=(t=t||{}).font||this.internal.getFont(),Ce=t.fontSize||this.internal.getFontSize(),Se=t.charSpace||this.internal.getCharSpace(),Re=t.widths?t.widths:xe.metadata.Unicode.widths,Be=Re.fof?Re.fof:1,Fe=t.kerning?t.kerning:xe.metadata.Unicode.kerning,Ie=Fe.fof?Fe.fof:1,Ue=t.doKerning!==!1,ke=0,Oe=Ee.length,je=0,Ke=Re[0]||Be,ze=[];for(Ae=0;Ae<Oe;Ae++)_e=Ee.charCodeAt(Ae),typeof xe.metadata.widthOfString=="function"?ze.push((xe.metadata.widthOfGlyph(xe.metadata.characterToGlyph(_e))+Se*(1e3/Ce)||0)/1e3):(ke=Ue&&_typeof(Fe[_e])==="object"&&!isNaN(parseInt(Fe[_e][je],10))?Fe[_e][je]/Ie:0,ze.push((Re[_e]||Ke)/Be+ke)),je=_e;return ze},Yt=Vt.getStringUnitWidth=function(Ee,t){var Ae=(t=t||{}).fontSize||this.internal.getFontSize(),_e=t.font||this.internal.getFont(),xe=t.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(Ee=Vt.processArabic(Ee)),typeof _e.metadata.widthOfString=="function"?_e.metadata.widthOfString(Ee,Ae,xe)/Ae:Gt.apply(this,arguments).reduce(function(Ce,Se){return Ce+Se},0)},Jt=function(Ee,t,Ae,_e){for(var xe=[],Ce=0,Se=Ee.length,Re=0;Ce!==Se&&Re+t[Ce]<Ae;)Re+=t[Ce],Ce++;xe.push(Ee.slice(0,Ce));var Be=Ce;for(Re=0;Ce!==Se;)Re+t[Ce]>_e&&(xe.push(Ee.slice(Be,Ce)),Re=0,Be=Ce),Re+=t[Ce],Ce++;return Be!==Ce&&xe.push(Ee.slice(Be,Ce)),xe},Xt=function(Ee,t,Ae){Ae||(Ae={});var _e,xe,Ce,Se,Re,Be,Fe,Ie=[],Ue=[Ie],ke=Ae.textIndent||0,Oe=0,je=0,Ke=Ee.split(" "),ze=Gt.apply(this,[" ",Ae])[0];if(Be=Ae.lineIndent===-1?Ke[0].length+2:Ae.lineIndent||0){var Ve=Array(Be).join(" "),Xe=[];Ke.map(function(sr){(sr=sr.split(/\s*\n/)).length>1?Xe=Xe.concat(sr.map(function(rr,nr){return(nr&&rr.length?`
`:"")+rr})):Xe.push(sr[0])}),Ke=Xe,Be=Yt.apply(this,[Ve,Ae])}for(Ce=0,Se=Ke.length;Ce<Se;Ce++){var ir=0;if(_e=Ke[Ce],Be&&_e[0]==`
`&&(_e=_e.substr(1),ir=1),ke+Oe+(je=(xe=Gt.apply(this,[_e,Ae])).reduce(function(sr,rr){return sr+rr},0))>t||ir){if(je>t){for(Re=Jt.apply(this,[_e,xe,t-(ke+Oe),t]),Ie.push(Re.shift()),Ie=[Re.pop()];Re.length;)Ue.push([Re.shift()]);je=xe.slice(_e.length-(Ie[0]?Ie[0].length:0)).reduce(function(sr,rr){return sr+rr},0)}else Ie=[_e];Ue.push(Ie),ke=je+Be,Oe=ze}else Ie.push(_e),ke+=Oe+je,Oe=ze}return Fe=Be?function(sr,rr){return(rr?Ve:"")+sr.join(" ")}:function(sr){return sr.join(" ")},Ue.map(Fe)},Vt.splitTextToSize=function(Ee,t,Ae){var _e,xe=(Ae=Ae||{}).fontSize||this.internal.getFontSize(),Ce=(function(Ie){if(Ie.widths&&Ie.kerning)return{widths:Ie.widths,kerning:Ie.kerning};var Ue=this.internal.getFont(Ie.fontName,Ie.fontStyle);return Ue.metadata.Unicode?{widths:Ue.metadata.Unicode.widths||{0:1},kerning:Ue.metadata.Unicode.kerning||{}}:{font:Ue.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,Ae);_e=Array.isArray(Ee)?Ee:String(Ee).split(/\r?\n/);var Se=1*this.internal.scaleFactor*t/xe;Ce.textIndent=Ae.textIndent?1*Ae.textIndent*this.internal.scaleFactor/xe:0,Ce.lineIndent=Ae.lineIndent;var Re,Be,Fe=[];for(Re=0,Be=_e.length;Re<Be;Re++)Fe=Fe.concat(Xt.apply(this,[_e[Re],Se,Ce]));return Fe},function(Ee){Ee.__fontmetrics__=Ee.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",Ae={},_e={},xe=0;xe<t.length;xe++)Ae[t[xe]]="0123456789abcdef"[xe],_e["0123456789abcdef"[xe]]=t[xe];var Ce=function(Ue){return"0x"+parseInt(Ue,10).toString(16)},Se=Ee.__fontmetrics__.compress=function(Ue){var ke,Oe,je,Ke,ze=["{"];for(var Ve in Ue){if(ke=Ue[Ve],isNaN(parseInt(Ve,10))?Oe="'"+Ve+"'":(Ve=parseInt(Ve,10),Oe=(Oe=Ce(Ve).slice(2)).slice(0,-1)+_e[Oe.slice(-1)]),typeof ke=="number")ke<0?(je=Ce(ke).slice(3),Ke="-"):(je=Ce(ke).slice(2),Ke=""),je=Ke+je.slice(0,-1)+_e[je.slice(-1)];else{if(_typeof(ke)!=="object")throw new Error("Don't know what to do with value type "+_typeof(ke)+".");je=Se(ke)}ze.push(Oe+je)}return ze.push("}"),ze.join("")},Re=Ee.__fontmetrics__.uncompress=function(Ue){if(typeof Ue!="string")throw new Error("Invalid argument passed to uncompress.");for(var ke,Oe,je,Ke,ze={},Ve=1,Xe=ze,ir=[],sr="",rr="",nr=Ue.length-1,We=1;We<nr;We+=1)(Ke=Ue[We])=="'"?ke?(je=ke.join(""),ke=void 0):ke=[]:ke?ke.push(Ke):Ke=="{"?(ir.push([Xe,je]),Xe={},je=void 0):Ke=="}"?((Oe=ir.pop())[0][Oe[1]]=Xe,je=void 0,Xe=Oe[0]):Ke=="-"?Ve=-1:je===void 0?Ae.hasOwnProperty(Ke)?(sr+=Ae[Ke],je=parseInt(sr,16)*Ve,Ve=1,sr=""):sr+=Ke:Ae.hasOwnProperty(Ke)?(rr+=Ae[Ke],Xe[je]=parseInt(rr,16)*Ve,Ve=1,je=void 0,rr=""):rr+=Ke;return ze},Be={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Re("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Fe={Unicode:{Courier:Be,"Courier-Bold":Be,"Courier-BoldOblique":Be,"Courier-Oblique":Be,Helvetica:Be,"Helvetica-Bold":Be,"Helvetica-BoldOblique":Be,"Helvetica-Oblique":Be,"Times-Roman":Be,"Times-Bold":Be,"Times-BoldItalic":Be,"Times-Italic":Be}},Ie={Unicode:{"Courier-Oblique":Re("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Re("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Re("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Re("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Re("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Re("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Re("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Re("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Re("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Re("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Re("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Re("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Re("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Re("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};Ee.events.push(["addFont",function(Ue){var ke=Ue.font,Oe=Ie.Unicode[ke.postScriptName];Oe&&(ke.metadata.Unicode={},ke.metadata.Unicode.widths=Oe.widths,ke.metadata.Unicode.kerning=Oe.kerning);var je=Fe.Unicode[ke.postScriptName];je&&(ke.metadata.Unicode.encoding=je,ke.encoding=je.codePages[0])}])}(E.API),function(Ee){var t=function(Ae){for(var _e=Ae.length,xe=new Uint8Array(_e),Ce=0;Ce<_e;Ce++)xe[Ce]=Ae.charCodeAt(Ce);return xe};Ee.API.events.push(["addFont",function(Ae){var _e=void 0,xe=Ae.font,Ce=Ae.instance;if(!xe.isStandardFont){if(Ce===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+xe.postScriptName+"').");if(typeof(_e=Ce.existsFileInVFS(xe.postScriptName)===!1?Ce.loadFile(xe.postScriptName):Ce.getFileFromVFS(xe.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+xe.postScriptName+"').");(function(Se,Re){Re=/^\x00\x01\x00\x00/.test(Re)?t(Re):t(u(Re)),Se.metadata=Ee.API.TTFFont.open(Re),Se.metadata.Unicode=Se.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Se.metadata.glyIdsUsed=[0]})(xe,_e)}}])}(E),function(Ee){function t(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es-m7zfQ-3r.js"),[])).catch(function(Ae){return Promise.reject(new Error("Could not load canvg: "+Ae))}).then(function(Ae){return Ae.default?Ae.default:Ae})}E.API.addSvgAsImage=function(Ae,_e,xe,Ce,Se,Re,Be,Fe){if(isNaN(_e)||isNaN(xe))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Ce)||isNaN(Se))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Ie=document.createElement("canvas");Ie.width=Ce,Ie.height=Se;var Ue=Ie.getContext("2d");Ue.fillStyle="#fff",Ue.fillRect(0,0,Ie.width,Ie.height);var ke={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},Oe=this;return t().then(function(je){return je.fromString(Ue,Ae,ke)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(je){return je.render(ke)}).then(function(){Oe.addImage(Ie.toDataURL("image/jpeg",1),_e,xe,Ce,Se,Be,Fe)})}}(),E.API.putTotalPages=function(Ee){var t,Ae=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(Ee,"g"),Ae=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(Ee,this.internal.getFont()),"g"),Ae=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var _e=1;_e<=this.internal.getNumberOfPages();_e++)for(var xe=0;xe<this.internal.pages[_e].length;xe++)this.internal.pages[_e][xe]=this.internal.pages[_e][xe].replace(t,Ae);return this},E.API.viewerPreferences=function(Ee,t){var Ae;Ee=Ee||{},t=t||!1;var _e,xe,Ce,Se={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Re=Object.keys(Se),Be=[],Fe=0,Ie=0,Ue=0;function ke(je,Ke){var ze,Ve=!1;for(ze=0;ze<je.length;ze+=1)je[ze]===Ke&&(Ve=!0);return Ve}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Se)),this.internal.viewerpreferences.isSubscribed=!1),Ae=this.internal.viewerpreferences.configuration,Ee==="reset"||t===!0){var Oe=Re.length;for(Ue=0;Ue<Oe;Ue+=1)Ae[Re[Ue]].value=Ae[Re[Ue]].defaultValue,Ae[Re[Ue]].explicitSet=!1}if(_typeof(Ee)==="object"){for(xe in Ee)if(Ce=Ee[xe],ke(Re,xe)&&Ce!==void 0){if(Ae[xe].type==="boolean"&&typeof Ce=="boolean")Ae[xe].value=Ce;else if(Ae[xe].type==="name"&&ke(Ae[xe].valueSet,Ce))Ae[xe].value=Ce;else if(Ae[xe].type==="integer"&&Number.isInteger(Ce))Ae[xe].value=Ce;else if(Ae[xe].type==="array"){for(Fe=0;Fe<Ce.length;Fe+=1)if(_e=!0,Ce[Fe].length===1&&typeof Ce[Fe][0]=="number")Be.push(String(Ce[Fe]-1));else if(Ce[Fe].length>1){for(Ie=0;Ie<Ce[Fe].length;Ie+=1)typeof Ce[Fe][Ie]!="number"&&(_e=!1);_e===!0&&Be.push([Ce[Fe][0]-1,Ce[Fe][1]-1].join(" "))}Ae[xe].value="["+Be.join(" ")+"]"}else Ae[xe].value=Ae[xe].defaultValue;Ae[xe].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var je,Ke=[];for(je in Ae)Ae[je].explicitSet===!0&&(Ae[je].type==="name"?Ke.push("/"+je+" /"+Ae[je].value):Ke.push("/"+je+" "+Ae[je].value));Ke.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Ke.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=Ae,this},function(Ee){var t=function(){var _e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',xe=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Ce=unescape(encodeURIComponent(_e)),Se=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Re=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Be=unescape(encodeURIComponent("</x:xmpmeta>")),Fe=Ce.length+Se.length+Re.length+xe.length+Be.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Fe+" >>"),this.internal.write("stream"),this.internal.write(xe+Ce+Se+Re+Be),this.internal.write("endstream"),this.internal.write("endobj")},Ae=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};Ee.addMetadata=function(_e,xe){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:_e,namespaceuri:xe||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",Ae),this.internal.events.subscribe("postPutResources",t)),this}}(E.API),function(Ee){var t=Ee.API,Ae=t.pdfEscape16=function(Ce,Se){for(var Re,Be=Se.metadata.Unicode.widths,Fe=["","0","00","000","0000"],Ie=[""],Ue=0,ke=Ce.length;Ue<ke;++Ue){if(Re=Se.metadata.characterToGlyph(Ce.charCodeAt(Ue)),Se.metadata.glyIdsUsed.push(Re),Se.metadata.toUnicode[Re]=Ce.charCodeAt(Ue),Be.indexOf(Re)==-1&&(Be.push(Re),Be.push([parseInt(Se.metadata.widthOfGlyph(Re),10)])),Re=="0")return Ie.join("");Re=Re.toString(16),Ie.push(Fe[4-Re.length],Re)}return Ie.join("")},_e=function(Ce){var Se,Re,Be,Fe,Ie,Ue,ke;for(Ie=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Be=[],Ue=0,ke=(Re=Object.keys(Ce).sort(function(Oe,je){return Oe-je})).length;Ue<ke;Ue++)Se=Re[Ue],Be.length>=100&&(Ie+=`
`+Be.length+` beginbfchar
`+Be.join(`
`)+`
endbfchar`,Be=[]),Ce[Se]!==void 0&&Ce[Se]!==null&&typeof Ce[Se].toString=="function"&&(Fe=("0000"+Ce[Se].toString(16)).slice(-4),Se=("0000"+(+Se).toString(16)).slice(-4),Be.push("<"+Se+"><"+Fe+">"));return Be.length&&(Ie+=`
`+Be.length+` beginbfchar
`+Be.join(`
`)+`
endbfchar
`),Ie+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(Ce){(function(Se){var Re=Se.font,Be=Se.out,Fe=Se.newObject,Ie=Se.putStream;if(Re.metadata instanceof Ee.API.TTFFont&&Re.encoding==="Identity-H"){for(var Ue=Re.metadata.Unicode.widths,ke=Re.metadata.subset.encode(Re.metadata.glyIdsUsed,1),Oe="",je=0;je<ke.length;je++)Oe+=String.fromCharCode(ke[je]);var Ke=Fe();Ie({data:Oe,addLength1:!0,objectId:Ke}),Be("endobj");var ze=Fe();Ie({data:_e(Re.metadata.toUnicode),addLength1:!0,objectId:ze}),Be("endobj");var Ve=Fe();Be("<<"),Be("/Type /FontDescriptor"),Be("/FontName /"+F(Re.fontName)),Be("/FontFile2 "+Ke+" 0 R"),Be("/FontBBox "+Ee.API.PDFObject.convert(Re.metadata.bbox)),Be("/Flags "+Re.metadata.flags),Be("/StemV "+Re.metadata.stemV),Be("/ItalicAngle "+Re.metadata.italicAngle),Be("/Ascent "+Re.metadata.ascender),Be("/Descent "+Re.metadata.decender),Be("/CapHeight "+Re.metadata.capHeight),Be(">>"),Be("endobj");var Xe=Fe();Be("<<"),Be("/Type /Font"),Be("/BaseFont /"+F(Re.fontName)),Be("/FontDescriptor "+Ve+" 0 R"),Be("/W "+Ee.API.PDFObject.convert(Ue)),Be("/CIDToGIDMap /Identity"),Be("/DW 1000"),Be("/Subtype /CIDFontType2"),Be("/CIDSystemInfo"),Be("<<"),Be("/Supplement 0"),Be("/Registry (Adobe)"),Be("/Ordering ("+Re.encoding+")"),Be(">>"),Be(">>"),Be("endobj"),Re.objectNumber=Fe(),Be("<<"),Be("/Type /Font"),Be("/Subtype /Type0"),Be("/ToUnicode "+ze+" 0 R"),Be("/BaseFont /"+F(Re.fontName)),Be("/Encoding /"+Re.encoding),Be("/DescendantFonts ["+Xe+" 0 R]"),Be(">>"),Be("endobj"),Re.isAlreadyPutted=!0}})(Ce)}]),t.events.push(["putFont",function(Ce){(function(Se){var Re=Se.font,Be=Se.out,Fe=Se.newObject,Ie=Se.putStream;if(Re.metadata instanceof Ee.API.TTFFont&&Re.encoding==="WinAnsiEncoding"){for(var Ue=Re.metadata.rawData,ke="",Oe=0;Oe<Ue.length;Oe++)ke+=String.fromCharCode(Ue[Oe]);var je=Fe();Ie({data:ke,addLength1:!0,objectId:je}),Be("endobj");var Ke=Fe();Ie({data:_e(Re.metadata.toUnicode),addLength1:!0,objectId:Ke}),Be("endobj");var ze=Fe();Be("<<"),Be("/Descent "+Re.metadata.decender),Be("/CapHeight "+Re.metadata.capHeight),Be("/StemV "+Re.metadata.stemV),Be("/Type /FontDescriptor"),Be("/FontFile2 "+je+" 0 R"),Be("/Flags 96"),Be("/FontBBox "+Ee.API.PDFObject.convert(Re.metadata.bbox)),Be("/FontName /"+F(Re.fontName)),Be("/ItalicAngle "+Re.metadata.italicAngle),Be("/Ascent "+Re.metadata.ascender),Be(">>"),Be("endobj"),Re.objectNumber=Fe();for(var Ve=0;Ve<Re.metadata.hmtx.widths.length;Ve++)Re.metadata.hmtx.widths[Ve]=parseInt(Re.metadata.hmtx.widths[Ve]*(1e3/Re.metadata.head.unitsPerEm));Be("<</Subtype/TrueType/Type/Font/ToUnicode "+Ke+" 0 R/BaseFont/"+F(Re.fontName)+"/FontDescriptor "+ze+" 0 R/Encoding/"+Re.encoding+" /FirstChar 29 /LastChar 255 /Widths "+Ee.API.PDFObject.convert(Re.metadata.hmtx.widths)+">>"),Be("endobj"),Re.isAlreadyPutted=!0}})(Ce)}]);var xe=function(Ce){var Se,Re=Ce.text||"",Be=Ce.x,Fe=Ce.y,Ie=Ce.options||{},Ue=Ce.mutex||{},ke=Ue.pdfEscape,Oe=Ue.activeFontKey,je=Ue.fonts,Ke=Oe,ze="",Ve=0,Xe="",ir=je[Ke].encoding;if(je[Ke].encoding!=="Identity-H")return{text:Re,x:Be,y:Fe,options:Ie,mutex:Ue};for(Xe=Re,Ke=Oe,Array.isArray(Re)&&(Xe=Re[0]),Ve=0;Ve<Xe.length;Ve+=1)je[Ke].metadata.hasOwnProperty("cmap")&&(Se=je[Ke].metadata.cmap.unicode.codeMap[Xe[Ve].charCodeAt(0)]),Se||Xe[Ve].charCodeAt(0)<256&&je[Ke].metadata.hasOwnProperty("Unicode")?ze+=Xe[Ve]:ze+="";var sr="";return parseInt(Ke.slice(1))<14||ir==="WinAnsiEncoding"?sr=ke(ze,Ke).split("").map(function(rr){return rr.charCodeAt(0).toString(16)}).join(""):ir==="Identity-H"&&(sr=Ae(ze,je[Ke])),Ue.isHex=!0,{text:sr,x:Be,y:Fe,options:Ie,mutex:Ue}};t.events.push(["postProcessText",function(Ce){var Se=Ce.text||"",Re=[],Be={text:Se,x:Ce.x,y:Ce.y,options:Ce.options,mutex:Ce.mutex};if(Array.isArray(Se)){var Fe=0;for(Fe=0;Fe<Se.length;Fe+=1)Array.isArray(Se[Fe])&&Se[Fe].length===3?Re.push([xe(Object.assign({},Be,{text:Se[Fe][0]})).text,Se[Fe][1],Se[Fe][2]]):Re.push(xe(Object.assign({},Be,{text:Se[Fe]})).text);Ce.text=Re}else Ce.text=xe(Object.assign({},Be,{text:Se})).text}])}(E),function(Ee){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};Ee.existsFileInVFS=function(Ae){return t.call(this),this.internal.vFS[Ae]!==void 0},Ee.addFileToVFS=function(Ae,_e){return t.call(this),this.internal.vFS[Ae]=_e,this},Ee.getFileFromVFS=function(Ae){return t.call(this),this.internal.vFS[Ae]!==void 0?this.internal.vFS[Ae]:null}}(E.API),function(Ee){Ee.__bidiEngine__=Ee.prototype.__bidiEngine__=function(_e){var xe,Ce,Se,Re,Be,Fe,Ie,Ue=t,ke=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Oe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],je={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Ke={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},ze=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],Ve=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Xe=!1,ir=0;this.__bidiEngine__={};var sr=function(He){var Je=He.charCodeAt(),$e=Je>>8,mr=Ke[$e];return mr!==void 0?Ue[256*mr+(255&Je)]:$e===252||$e===253?"AL":Ve.test($e)?"L":$e===8?"R":"N"},rr=function(He){for(var Je,$e=0;$e<He.length;$e++){if((Je=sr(He.charAt($e)))==="L")return!1;if(Je==="R")return!0}return!1},nr=function(He,Je,$e,mr){var wr,vr,ur,Cr,_r=Je[mr];switch(_r){case"L":case"R":Xe=!1;break;case"N":case"AN":break;case"EN":Xe&&(_r="AN");break;case"AL":Xe=!0,_r="R";break;case"WS":_r="N";break;case"CS":mr<1||mr+1>=Je.length||(wr=$e[mr-1])!=="EN"&&wr!=="AN"||(vr=Je[mr+1])!=="EN"&&vr!=="AN"?_r="N":Xe&&(vr="AN"),_r=vr===wr?vr:"N";break;case"ES":_r=(wr=mr>0?$e[mr-1]:"B")==="EN"&&mr+1<Je.length&&Je[mr+1]==="EN"?"EN":"N";break;case"ET":if(mr>0&&$e[mr-1]==="EN"){_r="EN";break}if(Xe){_r="N";break}for(ur=mr+1,Cr=Je.length;ur<Cr&&Je[ur]==="ET";)ur++;_r=ur<Cr&&Je[ur]==="EN"?"EN":"N";break;case"NSM":if(Se&&!Re){for(Cr=Je.length,ur=mr+1;ur<Cr&&Je[ur]==="NSM";)ur++;if(ur<Cr){var hr=He[mr],Sr=hr>=1425&&hr<=2303||hr===64286;if(wr=Je[ur],Sr&&(wr==="R"||wr==="AL")){_r="R";break}}}_r=mr<1||(wr=Je[mr-1])==="B"?"N":$e[mr-1];break;case"B":Xe=!1,xe=!0,_r=ir;break;case"S":Ce=!0,_r="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Xe=!1;break;case"BN":_r="N"}return _r},We=function(He,Je,$e){var mr=He.split("");return $e&&Ge(mr,$e,{hiLevel:ir}),mr.reverse(),Je&&Je.reverse(),mr.join("")},Ge=function(He,Je,$e){var mr,wr,vr,ur,Cr,_r=-1,hr=He.length,Sr=0,ar=[],tr=ir?Oe:ke,lr=[];for(Xe=!1,xe=!1,Ce=!1,wr=0;wr<hr;wr++)lr[wr]=sr(He[wr]);for(vr=0;vr<hr;vr++){if(Cr=Sr,ar[vr]=nr(He,lr,ar,vr),mr=240&(Sr=tr[Cr][je[ar[vr]]]),Sr&=15,Je[vr]=ur=tr[Sr][5],mr>0)if(mr===16){for(wr=_r;wr<vr;wr++)Je[wr]=1;_r=-1}else _r=-1;if(tr[Sr][6])_r===-1&&(_r=vr);else if(_r>-1){for(wr=_r;wr<vr;wr++)Je[wr]=ur;_r=-1}lr[vr]==="B"&&(Je[vr]=0),$e.hiLevel|=ur}Ce&&function(pr,Er,Rr){for(var Tr=0;Tr<Rr;Tr++)if(pr[Tr]==="S"){Er[Tr]=ir;for(var Ir=Tr-1;Ir>=0&&pr[Ir]==="WS";Ir--)Er[Ir]=ir}}(lr,Je,hr)},Ze=function(He,Je,$e,mr,wr){if(!(wr.hiLevel<He)){if(He===1&&ir===1&&!xe)return Je.reverse(),void($e&&$e.reverse());for(var vr,ur,Cr,_r,hr=Je.length,Sr=0;Sr<hr;){if(mr[Sr]>=He){for(Cr=Sr+1;Cr<hr&&mr[Cr]>=He;)Cr++;for(_r=Sr,ur=Cr-1;_r<ur;_r++,ur--)vr=Je[_r],Je[_r]=Je[ur],Je[ur]=vr,$e&&(vr=$e[_r],$e[_r]=$e[ur],$e[ur]=vr);Sr=Cr}Sr++}}},or=function(He,Je,$e){var mr=He.split(""),wr={hiLevel:ir};return $e||($e=[]),Ge(mr,$e,wr),function(vr,ur,Cr){if(Cr.hiLevel!==0&&Ie)for(var _r,hr=0;hr<vr.length;hr++)ur[hr]===1&&(_r=ze.indexOf(vr[hr]))>=0&&(vr[hr]=ze[_r+1])}(mr,$e,wr),Ze(2,mr,Je,$e,wr),Ze(1,mr,Je,$e,wr),mr.join("")};return this.__bidiEngine__.doBidiReorder=function(He,Je,$e){if(function(wr,vr){if(vr)for(var ur=0;ur<wr.length;ur++)vr[ur]=ur;Re===void 0&&(Re=rr(wr)),Fe===void 0&&(Fe=rr(wr))}(He,Je),Se||!Be||Fe)if(Se&&Be&&Re^Fe)ir=Re?1:0,He=We(He,Je,$e);else if(!Se&&Be&&Fe)ir=Re?1:0,He=or(He,Je,$e),He=We(He,Je);else if(!Se||Re||Be||Fe){if(Se&&!Be&&Re^Fe)He=We(He,Je),Re?(ir=0,He=or(He,Je,$e)):(ir=1,He=or(He,Je,$e),He=We(He,Je));else if(Se&&Re&&!Be&&Fe)ir=1,He=or(He,Je,$e),He=We(He,Je);else if(!Se&&!Be&&Re^Fe){var mr=Ie;Re?(ir=1,He=or(He,Je,$e),ir=0,Ie=!1,He=or(He,Je,$e),Ie=mr):(ir=0,He=or(He,Je,$e),He=We(He,Je),ir=1,Ie=!1,He=or(He,Je,$e),Ie=mr,He=We(He,Je))}}else ir=0,He=or(He,Je,$e);else ir=Re?1:0,He=or(He,Je,$e);return He},this.__bidiEngine__.setOptions=function(He){He&&(Se=He.isInputVisual,Be=He.isOutputVisual,Re=He.isInputRtl,Fe=He.isOutputRtl,Ie=He.isSymmetricSwapping)},this.__bidiEngine__.setOptions(_e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],Ae=new Ee.__bidiEngine__({isInputVisual:!0});Ee.API.events.push(["postProcessText",function(_e){var xe=_e.text;_e.x,_e.y;var Ce=_e.options||{};_e.mutex,Ce.lang;var Se=[];if(Ce.isInputVisual=typeof Ce.isInputVisual!="boolean"||Ce.isInputVisual,Ae.setOptions(Ce),Object.prototype.toString.call(xe)==="[object Array]"){var Re=0;for(Se=[],Re=0;Re<xe.length;Re+=1)Object.prototype.toString.call(xe[Re])==="[object Array]"?Se.push([Ae.doBidiReorder(xe[Re][0]),xe[Re][1],xe[Re][2]]):Se.push([Ae.doBidiReorder(xe[Re])]);_e.text=Se}else _e.text=Ae.doBidiReorder(xe);Ae.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function Ee(t){var Ae;if(this.rawData=t,Ae=this.contents=new ne(t),this.contents.pos=4,Ae.readString(4)==="ttcf")throw new Error("TTCF not supported.");Ae.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return Ee.open=function(t){return new Ee(t)},Ee.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},Ee.prototype.registerTTF=function(){var t,Ae,_e,xe,Ce;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Se,Re,Be,Fe;for(Fe=[],Se=0,Re=(Be=this.bbox).length;Se<Re;Se++)t=Be[Se],Fe.push(Math.round(t*this.scaleFactor));return Fe}).call(this),this.stemV=0,this.post.exists?(_e=255&(xe=this.post.italic_angle),(32768&(Ae=xe>>16))!=0&&(Ae=-(1+(65535^Ae))),this.italicAngle=+(Ae+"."+_e)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(Ce=this.familyClass)===1||Ce===2||Ce===3||Ce===4||Ce===5||Ce===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},Ee.prototype.characterToGlyph=function(t){var Ae;return((Ae=this.cmap.unicode)!=null?Ae.codeMap[t]:void 0)||0},Ee.prototype.widthOfGlyph=function(t){var Ae;return Ae=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*Ae},Ee.prototype.widthOfString=function(t,Ae,_e){var xe,Ce,Se,Re;for(Se=0,Ce=0,Re=(t=""+t).length;0<=Re?Ce<Re:Ce>Re;Ce=0<=Re?++Ce:--Ce)xe=t.charCodeAt(Ce),Se+=this.widthOfGlyph(this.characterToGlyph(xe))+_e*(1e3/Ae)||0;return Se*(Ae/1e3)},Ee.prototype.lineHeight=function(t,Ae){var _e;return Ae==null&&(Ae=!1),_e=Ae?this.lineGap:0,(this.ascender+_e-this.decender)/1e3*t},Ee}();var re,ne=function(){function Ee(t){this.data=t??[],this.pos=0,this.length=this.data.length}return Ee.prototype.readByte=function(){return this.data[this.pos++]},Ee.prototype.writeByte=function(t){return this.data[this.pos++]=t},Ee.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},Ee.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},Ee.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},Ee.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},Ee.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},Ee.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},Ee.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},Ee.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},Ee.prototype.readString=function(t){var Ae,_e;for(_e=[],Ae=0;0<=t?Ae<t:Ae>t;Ae=0<=t?++Ae:--Ae)_e[Ae]=String.fromCharCode(this.readByte());return _e.join("")},Ee.prototype.writeString=function(t){var Ae,_e,xe;for(xe=[],Ae=0,_e=t.length;0<=_e?Ae<_e:Ae>_e;Ae=0<=_e?++Ae:--Ae)xe.push(this.writeByte(t.charCodeAt(Ae)));return xe},Ee.prototype.readShort=function(){return this.readInt16()},Ee.prototype.writeShort=function(t){return this.writeInt16(t)},Ee.prototype.readLongLong=function(){var t,Ae,_e,xe,Ce,Se,Re,Be;return t=this.readByte(),Ae=this.readByte(),_e=this.readByte(),xe=this.readByte(),Ce=this.readByte(),Se=this.readByte(),Re=this.readByte(),Be=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^Ae)+1099511627776*(255^_e)+4294967296*(255^xe)+16777216*(255^Ce)+65536*(255^Se)+256*(255^Re)+(255^Be)+1):72057594037927940*t+281474976710656*Ae+1099511627776*_e+4294967296*xe+16777216*Ce+65536*Se+256*Re+Be},Ee.prototype.writeLongLong=function(t){var Ae,_e;return Ae=Math.floor(t/4294967296),_e=4294967295&t,this.writeByte(Ae>>24&255),this.writeByte(Ae>>16&255),this.writeByte(Ae>>8&255),this.writeByte(255&Ae),this.writeByte(_e>>24&255),this.writeByte(_e>>16&255),this.writeByte(_e>>8&255),this.writeByte(255&_e)},Ee.prototype.readInt=function(){return this.readInt32()},Ee.prototype.writeInt=function(t){return this.writeInt32(t)},Ee.prototype.read=function(t){var Ae,_e;for(Ae=[],_e=0;0<=t?_e<t:_e>t;_e=0<=t?++_e:--_e)Ae.push(this.readByte());return Ae},Ee.prototype.write=function(t){var Ae,_e,xe,Ce;for(Ce=[],_e=0,xe=t.length;_e<xe;_e++)Ae=t[_e],Ce.push(this.writeByte(Ae));return Ce},Ee}(),ie=function(){var Ee;function t(Ae){var _e,xe,Ce;for(this.scalarType=Ae.readInt(),this.tableCount=Ae.readShort(),this.searchRange=Ae.readShort(),this.entrySelector=Ae.readShort(),this.rangeShift=Ae.readShort(),this.tables={},xe=0,Ce=this.tableCount;0<=Ce?xe<Ce:xe>Ce;xe=0<=Ce?++xe:--xe)_e={tag:Ae.readString(4),checksum:Ae.readInt(),offset:Ae.readInt(),length:Ae.readInt()},this.tables[_e.tag]=_e}return t.prototype.encode=function(Ae){var _e,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke,Oe,je,Ke;for(Ke in Oe=Object.keys(Ae).length,Be=Math.log(2),Ue=16*Math.floor(Math.log(Oe)/Be),Se=Math.floor(Ue/Be),Ie=16*Oe-Ue,(xe=new ne).writeInt(this.scalarType),xe.writeShort(Oe),xe.writeShort(Ue),xe.writeShort(Se),xe.writeShort(Ie),Ce=16*Oe,Fe=xe.pos+Ce,Re=null,je=[],Ae)for(ke=Ae[Ke],xe.writeString(Ke),xe.writeInt(Ee(ke)),xe.writeInt(Fe),xe.writeInt(ke.length),je=je.concat(ke),Ke==="head"&&(Re=Fe),Fe+=ke.length;Fe%4;)je.push(0),Fe++;return xe.write(je),_e=2981146554-Ee(xe.data),xe.pos=Re+8,xe.writeUInt32(_e),xe.data},Ee=function(Ae){var _e,xe,Ce,Se;for(Ae=ve.call(Ae);Ae.length%4;)Ae.push(0);for(Ce=new ne(Ae),xe=0,_e=0,Se=Ae.length;_e<Se;_e=_e+=4)xe+=Ce.readUInt32();return 4294967295&xe},t}(),ae={}.hasOwnProperty,oe=function(Ee,t){for(var Ae in t)ae.call(t,Ae)&&(Ee[Ae]=t[Ae]);function _e(){this.constructor=Ee}return _e.prototype=t.prototype,Ee.prototype=new _e,Ee.__super__=t.prototype,Ee};re=function(){function Ee(t){var Ae;this.file=t,Ae=this.file.directory.tables[this.tag],this.exists=!!Ae,Ae&&(this.offset=Ae.offset,this.length=Ae.length,this.parse(this.file.contents))}return Ee.prototype.parse=function(){},Ee.prototype.encode=function(){},Ee.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},Ee}();var se=function(Ee){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="head",t.prototype.parse=function(Ae){return Ae.pos=this.offset,this.version=Ae.readInt(),this.revision=Ae.readInt(),this.checkSumAdjustment=Ae.readInt(),this.magicNumber=Ae.readInt(),this.flags=Ae.readShort(),this.unitsPerEm=Ae.readShort(),this.created=Ae.readLongLong(),this.modified=Ae.readLongLong(),this.xMin=Ae.readShort(),this.yMin=Ae.readShort(),this.xMax=Ae.readShort(),this.yMax=Ae.readShort(),this.macStyle=Ae.readShort(),this.lowestRecPPEM=Ae.readShort(),this.fontDirectionHint=Ae.readShort(),this.indexToLocFormat=Ae.readShort(),this.glyphDataFormat=Ae.readShort()},t.prototype.encode=function(Ae){var _e;return(_e=new ne).writeInt(this.version),_e.writeInt(this.revision),_e.writeInt(this.checkSumAdjustment),_e.writeInt(this.magicNumber),_e.writeShort(this.flags),_e.writeShort(this.unitsPerEm),_e.writeLongLong(this.created),_e.writeLongLong(this.modified),_e.writeShort(this.xMin),_e.writeShort(this.yMin),_e.writeShort(this.xMax),_e.writeShort(this.yMax),_e.writeShort(this.macStyle),_e.writeShort(this.lowestRecPPEM),_e.writeShort(this.fontDirectionHint),_e.writeShort(Ae),_e.writeShort(this.glyphDataFormat),_e.data},t}(),ce=function(){function Ee(t,Ae){var _e,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke,Oe,je,Ke,ze,Ve,Xe,ir;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=Ae+t.readInt(),Ue=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Be=0;Be<256;++Be)this.codeMap[Be]=t.readByte();break;case 4:for(Oe=t.readUInt16(),ke=Oe/2,t.pos+=6,Ce=function(){var sr,rr;for(rr=[],Be=sr=0;0<=ke?sr<ke:sr>ke;Be=0<=ke?++sr:--sr)rr.push(t.readUInt16());return rr}(),t.pos+=2,Ke=function(){var sr,rr;for(rr=[],Be=sr=0;0<=ke?sr<ke:sr>ke;Be=0<=ke?++sr:--sr)rr.push(t.readUInt16());return rr}(),Fe=function(){var sr,rr;for(rr=[],Be=sr=0;0<=ke?sr<ke:sr>ke;Be=0<=ke?++sr:--sr)rr.push(t.readUInt16());return rr}(),Ie=function(){var sr,rr;for(rr=[],Be=sr=0;0<=ke?sr<ke:sr>ke;Be=0<=ke?++sr:--sr)rr.push(t.readUInt16());return rr}(),xe=(this.length-t.pos+this.offset)/2,Re=function(){var sr,rr;for(rr=[],Be=sr=0;0<=xe?sr<xe:sr>xe;Be=0<=xe?++sr:--sr)rr.push(t.readUInt16());return rr}(),Be=Ve=0,ir=Ce.length;Ve<ir;Be=++Ve)for(ze=Ce[Be],_e=Xe=je=Ke[Be];je<=ze?Xe<=ze:Xe>=ze;_e=je<=ze?++Xe:--Xe)Ie[Be]===0?Se=_e+Fe[Be]:(Se=Re[Ie[Be]/2+(_e-je)-(ke-Be)]||0)!==0&&(Se+=Fe[Be]),this.codeMap[_e]=65535&Se}t.pos=Ue}return Ee.encode=function(t,Ae){var _e,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke,Oe,je,Ke,ze,Ve,Xe,ir,sr,rr,nr,We,Ge,Ze,or,He,Je,$e,mr,wr,vr,ur,Cr,_r,hr,Sr,ar,tr,lr,pr,Er,Rr,Tr,Ir,Zr,zr,$r;switch(mr=new ne,Se=Object.keys(t).sort(function(vn,bn){return vn-bn}),Ae){case"macroman":for(Ke=0,ze=function(){var vn=[];for(je=0;je<256;++je)vn.push(0);return vn}(),Xe={0:0},Ce={},wr=0,_r=Se.length;wr<_r;wr++)Xe[Ir=t[xe=Se[wr]]]==null&&(Xe[Ir]=++Ke),Ce[xe]={old:t[xe],new:Xe[t[xe]]},ze[xe]=Xe[t[xe]];return mr.writeUInt16(1),mr.writeUInt16(0),mr.writeUInt32(12),mr.writeUInt16(0),mr.writeUInt16(262),mr.writeUInt16(0),mr.write(ze),{charMap:Ce,subtable:mr.data,maxGlyphID:Ke+1};case"unicode":for(Je=[],Ue=[],ir=0,Xe={},_e={},Ve=Fe=null,vr=0,hr=Se.length;vr<hr;vr++)Xe[rr=t[xe=Se[vr]]]==null&&(Xe[rr]=++ir),_e[xe]={old:rr,new:Xe[rr]},Re=Xe[rr]-xe,Ve!=null&&Re===Fe||(Ve&&Ue.push(Ve),Je.push(xe),Fe=Re),Ve=xe;for(Ve&&Ue.push(Ve),Ue.push(65535),Je.push(65535),or=2*(Ze=Je.length),Ge=2*Math.pow(Math.log(Ze)/Math.LN2,2),ke=Math.log(Ge/2)/Math.LN2,We=2*Ze-Ge,Be=[],nr=[],Oe=[],je=ur=0,Sr=Je.length;ur<Sr;je=++ur){if(He=Je[je],Ie=Ue[je],He===65535){Be.push(0),nr.push(0);break}if(He-($e=_e[He].new)>=32768)for(Be.push(0),nr.push(2*(Oe.length+Ze-je)),xe=Cr=He;He<=Ie?Cr<=Ie:Cr>=Ie;xe=He<=Ie?++Cr:--Cr)Oe.push(_e[xe].new);else Be.push($e-He),nr.push(0)}for(mr.writeUInt16(3),mr.writeUInt16(1),mr.writeUInt32(12),mr.writeUInt16(4),mr.writeUInt16(16+8*Ze+2*Oe.length),mr.writeUInt16(0),mr.writeUInt16(or),mr.writeUInt16(Ge),mr.writeUInt16(ke),mr.writeUInt16(We),Rr=0,ar=Ue.length;Rr<ar;Rr++)xe=Ue[Rr],mr.writeUInt16(xe);for(mr.writeUInt16(0),Tr=0,tr=Je.length;Tr<tr;Tr++)xe=Je[Tr],mr.writeUInt16(xe);for(Zr=0,lr=Be.length;Zr<lr;Zr++)Re=Be[Zr],mr.writeUInt16(Re);for(zr=0,pr=nr.length;zr<pr;zr++)sr=nr[zr],mr.writeUInt16(sr);for($r=0,Er=Oe.length;$r<Er;$r++)Ke=Oe[$r],mr.writeUInt16(Ke);return{charMap:_e,subtable:mr.data,maxGlyphID:ir+1}}},Ee}(),ue=function(Ee){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="cmap",t.prototype.parse=function(Ae){var _e,xe,Ce;for(Ae.pos=this.offset,this.version=Ae.readUInt16(),Ce=Ae.readUInt16(),this.tables=[],this.unicode=null,xe=0;0<=Ce?xe<Ce:xe>Ce;xe=0<=Ce?++xe:--xe)_e=new ce(Ae,this.offset),this.tables.push(_e),_e.isUnicode&&this.unicode==null&&(this.unicode=_e);return!0},t.encode=function(Ae,_e){var xe,Ce;return _e==null&&(_e="macroman"),xe=ce.encode(Ae,_e),(Ce=new ne).writeUInt16(0),Ce.writeUInt16(1),xe.table=Ce.data.concat(xe.subtable),xe},t}(),he=function(Ee){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="hhea",t.prototype.parse=function(Ae){return Ae.pos=this.offset,this.version=Ae.readInt(),this.ascender=Ae.readShort(),this.decender=Ae.readShort(),this.lineGap=Ae.readShort(),this.advanceWidthMax=Ae.readShort(),this.minLeftSideBearing=Ae.readShort(),this.minRightSideBearing=Ae.readShort(),this.xMaxExtent=Ae.readShort(),this.caretSlopeRise=Ae.readShort(),this.caretSlopeRun=Ae.readShort(),this.caretOffset=Ae.readShort(),Ae.pos+=8,this.metricDataFormat=Ae.readShort(),this.numberOfMetrics=Ae.readUInt16()},t}(),le=function(Ee){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="OS/2",t.prototype.parse=function(Ae){if(Ae.pos=this.offset,this.version=Ae.readUInt16(),this.averageCharWidth=Ae.readShort(),this.weightClass=Ae.readUInt16(),this.widthClass=Ae.readUInt16(),this.type=Ae.readShort(),this.ySubscriptXSize=Ae.readShort(),this.ySubscriptYSize=Ae.readShort(),this.ySubscriptXOffset=Ae.readShort(),this.ySubscriptYOffset=Ae.readShort(),this.ySuperscriptXSize=Ae.readShort(),this.ySuperscriptYSize=Ae.readShort(),this.ySuperscriptXOffset=Ae.readShort(),this.ySuperscriptYOffset=Ae.readShort(),this.yStrikeoutSize=Ae.readShort(),this.yStrikeoutPosition=Ae.readShort(),this.familyClass=Ae.readShort(),this.panose=function(){var _e,xe;for(xe=[],_e=0;_e<10;++_e)xe.push(Ae.readByte());return xe}(),this.charRange=function(){var _e,xe;for(xe=[],_e=0;_e<4;++_e)xe.push(Ae.readInt());return xe}(),this.vendorID=Ae.readString(4),this.selection=Ae.readShort(),this.firstCharIndex=Ae.readShort(),this.lastCharIndex=Ae.readShort(),this.version>0&&(this.ascent=Ae.readShort(),this.descent=Ae.readShort(),this.lineGap=Ae.readShort(),this.winAscent=Ae.readShort(),this.winDescent=Ae.readShort(),this.codePageRange=function(){var _e,xe;for(xe=[],_e=0;_e<2;_e=++_e)xe.push(Ae.readInt());return xe}(),this.version>1))return this.xHeight=Ae.readShort(),this.capHeight=Ae.readShort(),this.defaultChar=Ae.readShort(),this.breakChar=Ae.readShort(),this.maxContext=Ae.readShort()},t}(),fe=function(Ee){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="post",t.prototype.parse=function(Ae){var _e,xe,Ce;switch(Ae.pos=this.offset,this.format=Ae.readInt(),this.italicAngle=Ae.readInt(),this.underlinePosition=Ae.readShort(),this.underlineThickness=Ae.readShort(),this.isFixedPitch=Ae.readInt(),this.minMemType42=Ae.readInt(),this.maxMemType42=Ae.readInt(),this.minMemType1=Ae.readInt(),this.maxMemType1=Ae.readInt(),this.format){case 65536:break;case 131072:var Se;for(xe=Ae.readUInt16(),this.glyphNameIndex=[],Se=0;0<=xe?Se<xe:Se>xe;Se=0<=xe?++Se:--Se)this.glyphNameIndex.push(Ae.readUInt16());for(this.names=[],Ce=[];Ae.pos<this.offset+this.length;)_e=Ae.readByte(),Ce.push(this.names.push(Ae.readString(_e)));return Ce;case 151552:return xe=Ae.readUInt16(),this.offsets=Ae.read(xe);case 196608:break;case 262144:return this.map=(function(){var Re,Be,Fe;for(Fe=[],Se=Re=0,Be=this.file.maxp.numGlyphs;0<=Be?Re<Be:Re>Be;Se=0<=Be?++Re:--Re)Fe.push(Ae.readUInt32());return Fe}).call(this)}},t}(),de=function(Ee,t){this.raw=Ee,this.length=Ee.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},pe=function(Ee){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="name",t.prototype.parse=function(Ae){var _e,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke,Oe;for(Ae.pos=this.offset,Ae.readShort(),_e=Ae.readShort(),Be=Ae.readShort(),xe=[],Se=0;0<=_e?Se<_e:Se>_e;Se=0<=_e?++Se:--Se)xe.push({platformID:Ae.readShort(),encodingID:Ae.readShort(),languageID:Ae.readShort(),nameID:Ae.readShort(),length:Ae.readShort(),offset:this.offset+Be+Ae.readShort()});for(Fe={},Se=Ue=0,ke=xe.length;Ue<ke;Se=++Ue)Ce=xe[Se],Ae.pos=Ce.offset,Ie=Ae.readString(Ce.length),Re=new de(Ie,Ce),Fe[Oe=Ce.nameID]==null&&(Fe[Oe]=[]),Fe[Ce.nameID].push(Re);this.strings=Fe,this.copyright=Fe[0],this.fontFamily=Fe[1],this.fontSubfamily=Fe[2],this.uniqueSubfamily=Fe[3],this.fontName=Fe[4],this.version=Fe[5];try{this.postscriptName=Fe[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Fe[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Fe[7],this.manufacturer=Fe[8],this.designer=Fe[9],this.description=Fe[10],this.vendorUrl=Fe[11],this.designerUrl=Fe[12],this.license=Fe[13],this.licenseUrl=Fe[14],this.preferredFamily=Fe[15],this.preferredSubfamily=Fe[17],this.compatibleFull=Fe[18],this.sampleText=Fe[19]},t}(),ge=function(Ee){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="maxp",t.prototype.parse=function(Ae){return Ae.pos=this.offset,this.version=Ae.readInt(),this.numGlyphs=Ae.readUInt16(),this.maxPoints=Ae.readUInt16(),this.maxContours=Ae.readUInt16(),this.maxCompositePoints=Ae.readUInt16(),this.maxComponentContours=Ae.readUInt16(),this.maxZones=Ae.readUInt16(),this.maxTwilightPoints=Ae.readUInt16(),this.maxStorage=Ae.readUInt16(),this.maxFunctionDefs=Ae.readUInt16(),this.maxInstructionDefs=Ae.readUInt16(),this.maxStackElements=Ae.readUInt16(),this.maxSizeOfInstructions=Ae.readUInt16(),this.maxComponentElements=Ae.readUInt16(),this.maxComponentDepth=Ae.readUInt16()},t}(),me=function(Ee){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="hmtx",t.prototype.parse=function(Ae){var _e,xe,Ce,Se,Re,Be,Fe;for(Ae.pos=this.offset,this.metrics=[],_e=0,Be=this.file.hhea.numberOfMetrics;0<=Be?_e<Be:_e>Be;_e=0<=Be?++_e:--_e)this.metrics.push({advance:Ae.readUInt16(),lsb:Ae.readInt16()});for(Ce=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var Ie,Ue;for(Ue=[],_e=Ie=0;0<=Ce?Ie<Ce:Ie>Ce;_e=0<=Ce?++Ie:--Ie)Ue.push(Ae.readInt16());return Ue}(),this.widths=(function(){var Ie,Ue,ke,Oe;for(Oe=[],Ie=0,Ue=(ke=this.metrics).length;Ie<Ue;Ie++)Se=ke[Ie],Oe.push(Se.advance);return Oe}).call(this),xe=this.widths[this.widths.length-1],Fe=[],_e=Re=0;0<=Ce?Re<Ce:Re>Ce;_e=0<=Ce?++Re:--Re)Fe.push(this.widths.push(xe));return Fe},t.prototype.forGlyph=function(Ae){return Ae in this.metrics?this.metrics[Ae]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[Ae-this.metrics.length]}},t}(),ve=[].slice,be=function(Ee){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(Ae){var _e,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke;return Ae in this.cache?this.cache[Ae]:(Se=this.file.loca,_e=this.file.contents,xe=Se.indexOf(Ae),(Ce=Se.lengthOf(Ae))===0?this.cache[Ae]=null:(_e.pos=this.offset+xe,Re=(Be=new ne(_e.read(Ce))).readShort(),Ie=Be.readShort(),ke=Be.readShort(),Fe=Be.readShort(),Ue=Be.readShort(),this.cache[Ae]=Re===-1?new we(Be,Ie,ke,Fe,Ue):new ye(Be,Re,Ie,ke,Fe,Ue),this.cache[Ae]))},t.prototype.encode=function(Ae,_e,xe){var Ce,Se,Re,Be,Fe;for(Re=[],Se=[],Be=0,Fe=_e.length;Be<Fe;Be++)Ce=Ae[_e[Be]],Se.push(Re.length),Ce&&(Re=Re.concat(Ce.encode(xe)));return Se.push(Re.length),{table:Re,offsets:Se}},t}(),ye=function(){function Ee(t,Ae,_e,xe,Ce,Se){this.raw=t,this.numberOfContours=Ae,this.xMin=_e,this.yMin=xe,this.xMax=Ce,this.yMax=Se,this.compound=!1}return Ee.prototype.encode=function(){return this.raw.data},Ee}(),we=function(){function Ee(t,Ae,_e,xe,Ce){var Se,Re;for(this.raw=t,this.xMin=Ae,this.yMin=_e,this.xMax=xe,this.yMax=Ce,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Se=this.raw;Re=Se.readShort(),this.glyphOffsets.push(Se.pos),this.glyphIDs.push(Se.readUInt16()),32&Re;)Se.pos+=1&Re?4:2,128&Re?Se.pos+=8:64&Re?Se.pos+=4:8&Re&&(Se.pos+=2)}return Ee.prototype.encode=function(){var t,Ae,_e;for(Ae=new ne(ve.call(this.raw.data)),t=0,_e=this.glyphIDs.length;t<_e;++t)Ae.pos=this.glyphOffsets[t];return Ae.data},Ee}(),Ne=function(Ee){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="loca",t.prototype.parse=function(Ae){var _e,xe;return Ae.pos=this.offset,_e=this.file.head.indexToLocFormat,this.offsets=_e===0?(function(){var Ce,Se;for(Se=[],xe=0,Ce=this.length;xe<Ce;xe+=2)Se.push(2*Ae.readUInt16());return Se}).call(this):(function(){var Ce,Se;for(Se=[],xe=0,Ce=this.length;xe<Ce;xe+=4)Se.push(Ae.readUInt32());return Se}).call(this)},t.prototype.indexOf=function(Ae){return this.offsets[Ae]},t.prototype.lengthOf=function(Ae){return this.offsets[Ae+1]-this.offsets[Ae]},t.prototype.encode=function(Ae,_e){for(var xe=new Uint32Array(this.offsets.length),Ce=0,Se=0,Re=0;Re<xe.length;++Re)if(xe[Re]=Ce,Se<_e.length&&_e[Se]==Re){++Se,xe[Re]=Ce;var Be=this.offsets[Re],Fe=this.offsets[Re+1]-Be;Fe>0&&(Ce+=Fe)}for(var Ie=new Array(4*xe.length),Ue=0;Ue<xe.length;++Ue)Ie[4*Ue+3]=255&xe[Ue],Ie[4*Ue+2]=(65280&xe[Ue])>>8,Ie[4*Ue+1]=(16711680&xe[Ue])>>16,Ie[4*Ue]=(4278190080&xe[Ue])>>24;return Ie},t}(),Le=function(){function Ee(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return Ee.prototype.generateCmap=function(){var t,Ae,_e,xe,Ce;for(Ae in xe=this.font.cmap.tables[0].codeMap,t={},Ce=this.subset)_e=Ce[Ae],t[Ae]=xe[_e];return t},Ee.prototype.glyphsFor=function(t){var Ae,_e,xe,Ce,Se,Re,Be;for(xe={},Se=0,Re=t.length;Se<Re;Se++)xe[Ce=t[Se]]=this.font.glyf.glyphFor(Ce);for(Ce in Ae=[],xe)(_e=xe[Ce])!=null&&_e.compound&&Ae.push.apply(Ae,_e.glyphIDs);if(Ae.length>0)for(Ce in Be=this.glyphsFor(Ae))_e=Be[Ce],xe[Ce]=_e;return xe},Ee.prototype.encode=function(t,Ae){var _e,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke,Oe,je,Ke,ze,Ve;for(xe in _e=ue.encode(this.generateCmap(),"unicode"),Se=this.glyphsFor(t),Oe={0:0},Ve=_e.charMap)Oe[(Be=Ve[xe]).old]=Be.new;for(je in ke=_e.maxGlyphID,Se)je in Oe||(Oe[je]=ke++);return Ie=function(Xe){var ir,sr;for(ir in sr={},Xe)sr[Xe[ir]]=ir;return sr}(Oe),Ue=Object.keys(Ie).sort(function(Xe,ir){return Xe-ir}),Ke=function(){var Xe,ir,sr;for(sr=[],Xe=0,ir=Ue.length;Xe<ir;Xe++)Re=Ue[Xe],sr.push(Ie[Re]);return sr}(),Ce=this.font.glyf.encode(Se,Ke,Oe),Fe=this.font.loca.encode(Ce.offsets,Ke),ze={cmap:this.font.cmap.raw(),glyf:Ce.table,loca:Fe,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(Ae)},this.font.os2.exists&&(ze["OS/2"]=this.font.os2.raw()),this.font.directory.encode(ze)},Ee}();E.API.PDFObject=function(){var Ee;function t(){}return Ee=function(Ae,_e){return(Array(_e+1).join("0")+Ae).slice(-_e)},t.convert=function(Ae){var _e,xe,Ce,Se;if(Array.isArray(Ae))return"["+function(){var Re,Be,Fe;for(Fe=[],Re=0,Be=Ae.length;Re<Be;Re++)_e=Ae[Re],Fe.push(t.convert(_e));return Fe}().join(" ")+"]";if(typeof Ae=="string")return"/"+Ae;if(Ae!=null&&Ae.isString)return"("+Ae+")";if(Ae instanceof Date)return"(D:"+Ee(Ae.getUTCFullYear(),4)+Ee(Ae.getUTCMonth(),2)+Ee(Ae.getUTCDate(),2)+Ee(Ae.getUTCHours(),2)+Ee(Ae.getUTCMinutes(),2)+Ee(Ae.getUTCSeconds(),2)+"Z)";if({}.toString.call(Ae)==="[object Object]"){for(xe in Ce=["<<"],Ae)Se=Ae[xe],Ce.push("/"+xe+" "+t.convert(Se));return Ce.push(">>"),Ce.join(`
`)}return""+Ae},t}();function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(Ee){for(var t=1;t<arguments.length;t++){var Ae=arguments[t];for(var _e in Ae)({}).hasOwnProperty.call(Ae,_e)&&(Ee[_e]=Ae[_e])}return Ee},_extends$1.apply(null,arguments)}function _objectWithoutPropertiesLoose$1(Ee,t){if(Ee==null)return{};var Ae={};for(var _e in Ee)if({}.hasOwnProperty.call(Ee,_e)){if(t.indexOf(_e)!==-1)continue;Ae[_e]=Ee[_e]}return Ae}function _objectWithoutProperties$1(Ee,t){if(Ee==null)return{};var Ae,_e,xe=_objectWithoutPropertiesLoose$1(Ee,t);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(Ee);for(_e=0;_e<Ce.length;_e++)Ae=Ce[_e],t.indexOf(Ae)===-1&&{}.propertyIsEnumerable.call(Ee,Ae)&&(xe[Ae]=Ee[Ae])}return xe}function _createClass(Ee,t,Ae){return Object.defineProperty(Ee,"prototype",{writable:!1}),Ee}function _classCallCheck(Ee,t){if(!(Ee instanceof t))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(Ee,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ae,_e){return Ae.__proto__=_e,Ae},_setPrototypeOf(Ee,t)}function _inherits(Ee,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(t&&t.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),Object.defineProperty(Ee,"prototype",{writable:!1}),t&&_setPrototypeOf(Ee,t)}function _getPrototypeOf(Ee){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(Ee)}function _isNativeReflectConstruct(){try{var Ee=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!Ee})()}function _assertThisInitialized(Ee){if(Ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ee}function _possibleConstructorReturn(Ee,t){if(t&&(_typeof(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(Ee)}function _createSuper(Ee){var t=_isNativeReflectConstruct();return function(){var Ae,_e=_getPrototypeOf(Ee);if(t){var xe=_getPrototypeOf(this).constructor;Ae=Reflect.construct(_e,arguments,xe)}else Ae=_e.apply(this,arguments);return _possibleConstructorReturn(this,Ae)}}var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var Ee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=Ee,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var Ee=requireReactPropTypesSecret();function t(){}function Ae(){}return Ae.resetWarningCache=t,factoryWithThrowingShims=function(){function _e(Se,Re,Be,Fe,Ie,Ue){if(Ue!==Ee){var ke=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ke.name="Invariant Violation",ke}}_e.isRequired=_e;function xe(){return _e}var Ce={array:_e,bigint:_e,bool:_e,func:_e,number:_e,object:_e,string:_e,symbol:_e,any:_e,arrayOf:xe,element:_e,elementType:_e,instanceOf:xe,node:_e,objectOf:xe,oneOf:xe,oneOfType:xe,shape:xe,exact:xe,checkPropTypes:Ae,resetWarningCache:t};return Ce.PropTypes=Ce,Ce},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function Point(Ee,t,Ae){this.x=Ee,this.y=t,this.time=Ae||new Date().getTime()}Point.prototype.velocityFrom=function(Ee){return this.time!==Ee.time?this.distanceTo(Ee)/(this.time-Ee.time):1};Point.prototype.distanceTo=function(Ee){return Math.sqrt(Math.pow(this.x-Ee.x,2)+Math.pow(this.y-Ee.y,2))};Point.prototype.equals=function(Ee){return this.x===Ee.x&&this.y===Ee.y&&this.time===Ee.time};function Bezier(Ee,t,Ae,_e){this.startPoint=Ee,this.control1=t,this.control2=Ae,this.endPoint=_e}Bezier.prototype.length=function(){for(var Ee=10,t=0,Ae=void 0,_e=void 0,xe=0;xe<=Ee;xe+=1){var Ce=xe/Ee,Se=this._point(Ce,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),Re=this._point(Ce,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(xe>0){var Be=Se-Ae,Fe=Re-_e;t+=Math.sqrt(Be*Be+Fe*Fe)}Ae=Se,_e=Re}return t};Bezier.prototype._point=function(Ee,t,Ae,_e,xe){return t*(1-Ee)*(1-Ee)*(1-Ee)+3*Ae*(1-Ee)*(1-Ee)*Ee+3*_e*(1-Ee)*Ee*Ee+xe*Ee*Ee*Ee};function throttle(Ee,t,Ae){var _e,xe,Ce,Se=null,Re=0;Ae||(Ae={});var Be=function(){Re=Ae.leading===!1?0:Date.now(),Se=null,Ce=Ee.apply(_e,xe),Se||(_e=xe=null)};return function(){var Fe=Date.now();!Re&&Ae.leading===!1&&(Re=Fe);var Ie=t-(Fe-Re);return _e=this,xe=arguments,Ie<=0||Ie>t?(Se&&(clearTimeout(Se),Se=null),Re=Fe,Ce=Ee.apply(_e,xe),Se||(_e=xe=null)):!Se&&Ae.trailing!==!1&&(Se=setTimeout(Be,Ie)),Ce}}function SignaturePad(Ee,t){var Ae=this,_e=t||{};this.velocityFilterWeight=_e.velocityFilterWeight||.7,this.minWidth=_e.minWidth||.5,this.maxWidth=_e.maxWidth||2.5,this.throttle="throttle"in _e?_e.throttle:16,this.minDistance="minDistance"in _e?_e.minDistance:5,this.throttle?this._strokeMoveUpdate=throttle(SignaturePad.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=SignaturePad.prototype._strokeUpdate,this.dotSize=_e.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=_e.penColor||"black",this.backgroundColor=_e.backgroundColor||"rgba(0,0,0,0)",this.onBegin=_e.onBegin,this.onEnd=_e.onEnd,this._canvas=Ee,this._ctx=Ee.getContext("2d"),this.clear(),this._handleMouseDown=function(xe){xe.which===1&&(Ae._mouseButtonDown=!0,Ae._strokeBegin(xe))},this._handleMouseMove=function(xe){Ae._mouseButtonDown&&Ae._strokeMoveUpdate(xe)},this._handleMouseUp=function(xe){xe.which===1&&Ae._mouseButtonDown&&(Ae._mouseButtonDown=!1,Ae._strokeEnd(xe))},this._handleTouchStart=function(xe){if(xe.targetTouches.length===1){var Ce=xe.changedTouches[0];Ae._strokeBegin(Ce)}},this._handleTouchMove=function(xe){xe.preventDefault();var Ce=xe.targetTouches[0];Ae._strokeMoveUpdate(Ce)},this._handleTouchEnd=function(xe){var Ce=xe.target===Ae._canvas;Ce&&(xe.preventDefault(),Ae._strokeEnd(xe))},this.on()}SignaturePad.prototype.clear=function(){var Ee=this._ctx,t=this._canvas;Ee.fillStyle=this.backgroundColor,Ee.clearRect(0,0,t.width,t.height),Ee.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0};SignaturePad.prototype.fromDataURL=function(Ee){var t=this,Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=new Image,xe=Ae.ratio||window.devicePixelRatio||1,Ce=Ae.width||this._canvas.width/xe,Se=Ae.height||this._canvas.height/xe;this._reset(),_e.src=Ee,_e.onload=function(){t._ctx.drawImage(_e,0,0,Ce,Se)},this._isEmpty=!1};SignaturePad.prototype.toDataURL=function(Ee){var t;switch(Ee){case"image/svg+xml":return this._toSVG();default:for(var Ae=arguments.length,_e=Array(Ae>1?Ae-1:0),xe=1;xe<Ae;xe++)_e[xe-1]=arguments[xe];return(t=this._canvas).toDataURL.apply(t,[Ee].concat(_e))}};SignaturePad.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};SignaturePad.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};SignaturePad.prototype.isEmpty=function(){return this._isEmpty};SignaturePad.prototype._strokeBegin=function(Ee){this._data.push([]),this._reset(),this._strokeUpdate(Ee),typeof this.onBegin=="function"&&this.onBegin(Ee)};SignaturePad.prototype._strokeUpdate=function(Ee){var t=Ee.clientX,Ae=Ee.clientY,_e=this._createPoint(t,Ae),xe=this._data[this._data.length-1],Ce=xe&&xe[xe.length-1],Se=Ce&&_e.distanceTo(Ce)<this.minDistance;if(!(Ce&&Se)){var Re=this._addPoint(_e),Be=Re.curve,Fe=Re.widths;Be&&Fe&&this._drawCurve(Be,Fe.start,Fe.end),this._data[this._data.length-1].push({x:_e.x,y:_e.y,time:_e.time,color:this.penColor})}};SignaturePad.prototype._strokeEnd=function(Ee){var t=this.points.length>2,Ae=this.points[0];if(!t&&Ae&&this._drawDot(Ae),Ae){var _e=this._data[this._data.length-1],xe=_e[_e.length-1];Ae.equals(xe)||_e.push({x:Ae.x,y:Ae.y,time:Ae.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(Ee)};SignaturePad.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};SignaturePad.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};SignaturePad.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};SignaturePad.prototype._createPoint=function(Ee,t,Ae){var _e=this._canvas.getBoundingClientRect();return new Point(Ee-_e.left,t-_e.top,Ae||new Date().getTime())};SignaturePad.prototype._addPoint=function(Ee){var t=this.points,Ae=void 0;if(t.push(Ee),t.length>2){t.length===3&&t.unshift(t[0]),Ae=this._calculateCurveControlPoints(t[0],t[1],t[2]);var _e=Ae.c2;Ae=this._calculateCurveControlPoints(t[1],t[2],t[3]);var xe=Ae.c1,Ce=new Bezier(t[1],_e,xe,t[2]),Se=this._calculateCurveWidths(Ce);return t.shift(),{curve:Ce,widths:Se}}return{}};SignaturePad.prototype._calculateCurveControlPoints=function(Ee,t,Ae){var _e=Ee.x-t.x,xe=Ee.y-t.y,Ce=t.x-Ae.x,Se=t.y-Ae.y,Re={x:(Ee.x+t.x)/2,y:(Ee.y+t.y)/2},Be={x:(t.x+Ae.x)/2,y:(t.y+Ae.y)/2},Fe=Math.sqrt(_e*_e+xe*xe),Ie=Math.sqrt(Ce*Ce+Se*Se),Ue=Re.x-Be.x,ke=Re.y-Be.y,Oe=Ie/(Fe+Ie),je={x:Be.x+Ue*Oe,y:Be.y+ke*Oe},Ke=t.x-je.x,ze=t.y-je.y;return{c1:new Point(Re.x+Ke,Re.y+ze),c2:new Point(Be.x+Ke,Be.y+ze)}};SignaturePad.prototype._calculateCurveWidths=function(Ee){var t=Ee.startPoint,Ae=Ee.endPoint,_e={start:null,end:null},xe=this.velocityFilterWeight*Ae.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,Ce=this._strokeWidth(xe);return _e.start=this._lastWidth,_e.end=Ce,this._lastVelocity=xe,this._lastWidth=Ce,_e};SignaturePad.prototype._strokeWidth=function(Ee){return Math.max(this.maxWidth/(Ee+1),this.minWidth)};SignaturePad.prototype._drawPoint=function(Ee,t,Ae){var _e=this._ctx;_e.moveTo(Ee,t),_e.arc(Ee,t,Ae,0,2*Math.PI,!1),this._isEmpty=!1};SignaturePad.prototype._drawCurve=function(Ee,t,Ae){var _e=this._ctx,xe=Ae-t,Ce=Math.floor(Ee.length());_e.beginPath();for(var Se=0;Se<Ce;Se+=1){var Re=Se/Ce,Be=Re*Re,Fe=Be*Re,Ie=1-Re,Ue=Ie*Ie,ke=Ue*Ie,Oe=ke*Ee.startPoint.x;Oe+=3*Ue*Re*Ee.control1.x,Oe+=3*Ie*Be*Ee.control2.x,Oe+=Fe*Ee.endPoint.x;var je=ke*Ee.startPoint.y;je+=3*Ue*Re*Ee.control1.y,je+=3*Ie*Be*Ee.control2.y,je+=Fe*Ee.endPoint.y;var Ke=t+Fe*xe;this._drawPoint(Oe,je,Ke)}_e.closePath(),_e.fill()};SignaturePad.prototype._drawDot=function(Ee){var t=this._ctx,Ae=typeof this.dotSize=="function"?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(Ee.x,Ee.y,Ae),t.closePath(),t.fill()};SignaturePad.prototype._fromData=function(Ee,t,Ae){for(var _e=0;_e<Ee.length;_e+=1){var xe=Ee[_e];if(xe.length>1)for(var Ce=0;Ce<xe.length;Ce+=1){var Se=xe[Ce],Re=new Point(Se.x,Se.y,Se.time),Be=Se.color;if(Ce===0)this.penColor=Be,this._reset(),this._addPoint(Re);else if(Ce!==xe.length-1){var Fe=this._addPoint(Re),Ie=Fe.curve,Ue=Fe.widths;Ie&&Ue&&t(Ie,Ue,Be)}}else{this._reset();var ke=xe[0];Ae(ke)}}};SignaturePad.prototype._toSVG=function(){var Ee=this,t=this._data,Ae=this._canvas,_e=Math.max(window.devicePixelRatio||1,1),xe=0,Ce=0,Se=Ae.width/_e,Re=Ae.height/_e,Be=document.createElementNS("http://www.w3.org/2000/svg","svg");Be.setAttributeNS(null,"width",Ae.width),Be.setAttributeNS(null,"height",Ae.height),this._fromData(t,function(Ve,Xe,ir){var sr=document.createElement("path");if(!isNaN(Ve.control1.x)&&!isNaN(Ve.control1.y)&&!isNaN(Ve.control2.x)&&!isNaN(Ve.control2.y)){var rr="M "+Ve.startPoint.x.toFixed(3)+","+Ve.startPoint.y.toFixed(3)+" "+("C "+Ve.control1.x.toFixed(3)+","+Ve.control1.y.toFixed(3)+" ")+(Ve.control2.x.toFixed(3)+","+Ve.control2.y.toFixed(3)+" ")+(Ve.endPoint.x.toFixed(3)+","+Ve.endPoint.y.toFixed(3));sr.setAttribute("d",rr),sr.setAttribute("stroke-width",(Xe.end*2.25).toFixed(3)),sr.setAttribute("stroke",ir),sr.setAttribute("fill","none"),sr.setAttribute("stroke-linecap","round"),Be.appendChild(sr)}},function(Ve){var Xe=document.createElement("circle"),ir=typeof Ee.dotSize=="function"?Ee.dotSize():Ee.dotSize;Xe.setAttribute("r",ir),Xe.setAttribute("cx",Ve.x),Xe.setAttribute("cy",Ve.y),Xe.setAttribute("fill",Ve.color),Be.appendChild(Xe)});var Fe="data:image/svg+xml;base64,",Ie='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+xe+" "+Ce+" "+Se+" "+Re+'"')+(' width="'+Se+'"')+(' height="'+Re+'"')+">",Ue=Be.innerHTML;if(Ue===void 0){var ke=document.createElement("dummy"),Oe=Be.childNodes;ke.innerHTML="";for(var je=0;je<Oe.length;je+=1)ke.appendChild(Oe[je].cloneNode(!0));Ue=ke.innerHTML}var Ke="</svg>",ze=Ie+Ue+Ke;return Fe+btoa(ze)};SignaturePad.prototype.fromData=function(Ee){var t=this;this.clear(),this._fromData(Ee,function(Ae,_e){return t._drawCurve(Ae,_e.start,_e.end)},function(Ae){return t._drawDot(Ae)}),this._data=Ee};SignaturePad.prototype.toData=function(){return this._data};var build$1={exports:{}},build=build$1.exports,hasRequiredBuild;function requireBuild(){return hasRequiredBuild||(hasRequiredBuild=1,function(Ee,t){(function(Ae,_e){Ee.exports=_e()})(build,function(){return function(Ae){function _e(Ce){if(xe[Ce])return xe[Ce].exports;var Se=xe[Ce]={exports:{},id:Ce,loaded:!1};return Ae[Ce].call(Se.exports,Se,Se.exports,_e),Se.loaded=!0,Se.exports}var xe={};return _e.m=Ae,_e.c=xe,_e.p="",_e(0)}([function(Ae,_e){function xe(Fe){var Ie=Fe.getContext("2d"),Ue=Fe.width,ke=Fe.height,Oe=Ie.getImageData(0,0,Ue,ke).data,je=Re(!0,Ue,ke,Oe),Ke=Re(!1,Ue,ke,Oe),ze=Be(!0,Ue,ke,Oe),Ve=Be(!1,Ue,ke,Oe),Xe=Ve-ze+1,ir=Ke-je+1,sr=Ie.getImageData(ze,je,Xe,ir);return Fe.width=Xe,Fe.height=ir,Ie.clearRect(0,0,Xe,ir),Ie.putImageData(sr,0,0),Fe}function Ce(Fe,Ie,Ue,ke){return{red:ke[4*(Ue*Ie+Fe)],green:ke[4*(Ue*Ie+Fe)+1],blue:ke[4*(Ue*Ie+Fe)+2],alpha:ke[4*(Ue*Ie+Fe)+3]}}function Se(Fe,Ie,Ue,ke){return Ce(Fe,Ie,Ue,ke).alpha}function Re(Fe,Ie,Ue,ke){for(var Oe=Fe?1:-1,je=Fe?0:Ue-1,Ke=je;Fe?Ke<Ue:Ke>-1;Ke+=Oe)for(var ze=0;ze<Ie;ze++)if(Se(ze,Ke,Ie,ke))return Ke;return null}function Be(Fe,Ie,Ue,ke){for(var Oe=Fe?1:-1,je=Fe?0:Ie-1,Ke=je;Fe?Ke<Ie:Ke>-1;Ke+=Oe)for(var ze=0;ze<Ue;ze++)if(Se(Ke,ze,Ie,ke))return Ke;return null}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=xe}])})}(build$1)),build$1.exports}var buildExports=requireBuild();const trimCanvas=getDefaultExportFromCjs(buildExports);var _excluded$1=["canvasProps","clearOnResize"],SignatureCanvas=function(Ee){_inherits(Ae,Ee);var t=_createSuper(Ae);function Ae(){var _e;_classCallCheck(this,Ae);for(var xe=arguments.length,Ce=new Array(xe),Se=0;Se<xe;Se++)Ce[Se]=arguments[Se];return _e=t.call.apply(t,[this].concat(Ce)),_e.staticThis=_e.constructor,_e._sigPad=null,_e._canvas=null,_e.setRef=function(Re){_e._canvas=Re,_e._canvas===null&&(_e._sigPad=null)},_e._excludeOurProps=function(){var Re=_e.props;Re.canvasProps,Re.clearOnResize;var Be=_objectWithoutProperties$1(Re,_excluded$1);return Be},_e.componentDidMount=function(){var Re=_e.getCanvas();_e._sigPad=new SignaturePad(Re,_e._excludeOurProps()),_e._resizeCanvas(),_e.on()},_e.componentWillUnmount=function(){_e.off()},_e.componentDidUpdate=function(){Object.assign(_e._sigPad,_e._excludeOurProps())},_e.getCanvas=function(){if(_e._canvas===null)throw _e.staticThis.refNullError;return _e._canvas},_e.getTrimmedCanvas=function(){var Re=_e.getCanvas(),Be=document.createElement("canvas");return Be.width=Re.width,Be.height=Re.height,Be.getContext("2d").drawImage(Re,0,0),trimCanvas(Be)},_e.getSignaturePad=function(){if(_e._sigPad===null)throw _e.staticThis.refNullError;return _e._sigPad},_e._checkClearOnResize=function(){_e.props.clearOnResize&&_e._resizeCanvas()},_e._resizeCanvas=function(){var Re,Be,Fe=(Re=_e.props.canvasProps)!==null&&Re!==void 0?Re:{},Ie=Fe.width,Ue=Fe.height;if(!(typeof Ie<"u"&&typeof Ue<"u")){var ke=_e.getCanvas(),Oe=Math.max((Be=window.devicePixelRatio)!==null&&Be!==void 0?Be:1,1);typeof Ie>"u"&&(ke.width=ke.offsetWidth*Oe),typeof Ue>"u"&&(ke.height=ke.offsetHeight*Oe),ke.getContext("2d").scale(Oe,Oe),_e.clear()}},_e.render=function(){var Re=_e.props.canvasProps;return React.createElement("canvas",_extends$1({ref:_e.setRef},Re))},_e.on=function(){return window.addEventListener("resize",_e._checkClearOnResize),_e.getSignaturePad().on()},_e.off=function(){return window.removeEventListener("resize",_e._checkClearOnResize),_e.getSignaturePad().off()},_e.clear=function(){return _e.getSignaturePad().clear()},_e.isEmpty=function(){return _e.getSignaturePad().isEmpty()},_e.fromDataURL=function(Re,Be){return _e.getSignaturePad().fromDataURL(Re,Be)},_e.toDataURL=function(Re,Be){return _e.getSignaturePad().toDataURL(Re,Be)},_e.fromData=function(Re){return _e.getSignaturePad().fromData(Re)},_e.toData=function(){return _e.getSignaturePad().toData()},_e}return _createClass(Ae)}(reactExports.Component);SignatureCanvas.propTypes={velocityFilterWeight:PropTypes.number,minWidth:PropTypes.number,maxWidth:PropTypes.number,minDistance:PropTypes.number,dotSize:PropTypes.oneOfType([PropTypes.number,PropTypes.func]),penColor:PropTypes.string,throttle:PropTypes.number,onEnd:PropTypes.func,onBegin:PropTypes.func,canvasProps:PropTypes.object,clearOnResize:PropTypes.bool};SignatureCanvas.defaultProps={clearOnResize:!0};SignatureCanvas.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");const PartsDeliveryModal=({isOpen:Ee,onClose:t,ticket:Ae})=>{var je;const[_e,xe]=reactExports.useState(!1),[Ce,Se]=reactExports.useState(null),Re=reactExports.useRef(null);reactExports.useRef();const Be=reactExports.useRef(null),[Fe,Ie]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{if(!(Ae!=null&&Ae.partDeliveryNote))return;const ze=doc(db,"partsDeliveryNotes",Ae.partDeliveryNote),Ve=await getDoc(ze);Ve.exists()&&Ie(Ve.data())})()},[Ae]);const Ue=()=>{Re.current.clear(),xe(!1)},ke=()=>{Re.current.isEmpty()||xe(!0)},Oe=async()=>{try{setTimeout(async()=>{const Ke=Be.current;if(!Ke){alert("PDF content not found");return}Ke.classList.add("no-print-mode");const ze=await html2canvas(Ke,{scale:2}),Ve=ze.toDataURL("image/jpeg"),Xe=new E("p","mm","a4"),ir=Xe.internal.pageSize.getWidth(),sr=Xe.internal.pageSize.getHeight(),rr=ze.width,nr=ze.height,We=Math.min(ir/rr,sr/nr),Ge=rr*We,Ze=nr*We,or=(ir-Ge)/2;Xe.addImage(Ve,"JPEG",or,0,Ge,Ze,void 0,"FAST");const Je=Xe.output("blob"),$e=getStorage(),mr=`testDeliveryNotes/DN_${Ae.id}.pdf`,wr=ref($e,mr);await uploadBytes(wr,Je);const vr=await getDownloadURL(wr);await updateDoc(doc(db,"tickets",Ae.id),{partsDeliveryNoteURL:mr}),alert("Parts Delivery note saved successfully!"),t()},200)}catch(Ke){console.error("Failed to save PDF:",Ke),alert("An error occurred while saving.")}};return!Ee||!Fe?null:jsxRuntimeExports.jsx("div",{className:"parts-modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"parts-modal",ref:Be,children:[jsxRuntimeExports.jsx("h2",{className:"modal-title",children:"Delivery Note"}),jsxRuntimeExports.jsxs("div",{className:"info-row",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivery Date:"})," ",new Date().toLocaleDateString("en-GB"),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Customer Name:"})," ",Ae.customerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Invoice #:"})," ",Ae.ticketNum,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Product Type:"})," ",Ae.machineType,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Repair ID:"})]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Serial Number:"})," ",Ae.serialNum,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Device Issue:"})," ",Ae.deviceIssue||"-",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Warranty Status:"})," ",Ae.warrantyStatus||"-",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Technician:"})," ",Ae.technician||"Unknown Technician",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Tech ID:"})]})})]}),jsxRuntimeExports.jsxs("table",{className:"parts-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Part Description"}),jsxRuntimeExports.jsx("th",{children:"Part #"}),jsxRuntimeExports.jsx("th",{children:"Old Serial#"}),jsxRuntimeExports.jsx("th",{children:"New Serial#"}),jsxRuntimeExports.jsx("th",{children:"Quantity"}),jsxRuntimeExports.jsx("th",{children:"Warranty Status"})]})}),jsxRuntimeExports.jsx("tbody",{children:(je=Fe.parts)==null?void 0:je.map((Ke,ze)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:Ke.description}),jsxRuntimeExports.jsx("td",{children:Ke.partNumber}),jsxRuntimeExports.jsx("td",{children:Ke.oldSerial}),jsxRuntimeExports.jsx("td",{children:Ke.newSerial}),jsxRuntimeExports.jsx("td",{children:Ke.quantity}),jsxRuntimeExports.jsx("td",{children:Ke.warranty})]},ze))})]}),jsxRuntimeExports.jsxs("div",{className:"notes-section",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Service Notes:"})," ",Fe.serviceNotes||"-"]}),jsxRuntimeExports.jsxs("ol",{children:[jsxRuntimeExports.jsx("li",{children:"Warranty for any replaced part is valid for 90 days"}),jsxRuntimeExports.jsx("li",{children:"Refund for any paid services is within 3 days if the same issue occurred again"}),jsxRuntimeExports.jsx("li",{children:"Receipt should be provided upon refund"})]})]}),jsxRuntimeExports.jsxs("div",{className:"signatures",children:[jsxRuntimeExports.jsxs("div",{className:"signature-block",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Issued by:"})," ",Ae.technician||"Unknown Technician"]}),jsxRuntimeExports.jsx("label",{children:"Signature:"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{penColor:"black",canvasProps:{width:200,height:100,className:"sig-canvas"},ref:Re,onEnd:ke})})]}),jsxRuntimeExports.jsxs("div",{className:"signature-block",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Received by:"})," ",Ae.customerName]}),jsxRuntimeExports.jsx("label",{children:"Signature:"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{penColor:"black",canvasProps:{width:200,height:100,className:"sig-canvas"},ref:Re,onEnd:ke})})]})]}),jsxRuntimeExports.jsxs("div",{className:"action-buttons no-print",children:[jsxRuntimeExports.jsx("button",{className:"clear-button",onClick:Ue,children:"Clear"}),jsxRuntimeExports.jsx("button",{className:"save-button",onClick:Oe,disabled:!_e,children:"Save"})]})]})})},DeliveryModal=({isOpen:Ee,onClose:t,ticket:Ae})=>{const _e=reactExports.useRef(null),xe=reactExports.useRef(),[Ce,Se]=reactExports.useState(!1),[Re,Be]=reactExports.useState(!1);if(!Ee||!Ae)return null;const Fe=new Date().toLocaleDateString("en-GB"),Ie=async()=>{var ke;if(!(!Ae||!Ae.id))try{setTimeout(async()=>{const Oe=xe.current;if(!Oe){alert("PDF content not found");return}Oe.classList.add("no-print-mode");const je=await html2canvas(Oe,{scale:2}),Ke=je.toDataURL("image/jpeg"),ze=new E("p","mm","a4"),Ve=ze.internal.pageSize.getWidth(),Xe=ze.internal.pageSize.getHeight(),ir=je.width,sr=je.height,rr=Math.min(Ve/ir,Xe/sr),nr=ir*rr,We=sr*rr,Ge=(Ve-nr)/2;ze.addImage(Ke,"JPEG",Ge,0,nr,We,void 0,"FAST");const or=ze.output("blob"),He=getStorage(),Je=`testDeliveryNotes/Delivery_${Ae.id}.pdf`,$e=ref(He,Je);await uploadBytes($e,or);const mr=await getDownloadURL($e);await updateDoc(doc(db,"tickets",Ae.id),{deliveryNoteURL:Je}),t()},200)}catch(Oe){console.error("Error saving delivery note:",Oe),alert("Failed to save PDF.")}finally{(ke=xe.current)==null||ke.classList.remove("no-print-mode"),Se(!1),Ae.partDeliveryNote?Be(!0):t()}},Ue=()=>{_e.current.clear(),Se(!1)};return jsxRuntimeExports.jsxs("div",{className:"delivery-modal-overlay",children:[jsxRuntimeExports.jsxs("div",{className:"delivery-modal",ref:xe,children:[jsxRuntimeExports.jsx("button",{className:"modal-close-button",onClick:t,children:"×"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex"},children:[jsxRuntimeExports.jsxs("div",{className:"modal-contents",children:[jsxRuntimeExports.jsx("img",{src:"/logo.png",alt:"Company Logo",className:"logo"}),jsxRuntimeExports.jsx("h2",{className:"modal-title",children:"إقرار استلام جهاز"}),jsxRuntimeExports.jsx("h2",{children:"OKKKKKKK"}),jsxRuntimeExports.jsxs("p",{className:"arabic-text",children:["أقر أنا ",jsxRuntimeExports.jsx("strong",{children:Ae.customerName})," بأني قد استلمت جهاز"," ",jsxRuntimeExports.jsx("strong",{children:Ae.machineType}),jsxRuntimeExports.jsx("br",{}),"والذي تم تسليمه للشركة بتاريخ ",jsxRuntimeExports.jsx("strong",{children:Ae.date})," ويحمل رقم تسلسلي ",jsxRuntimeExports.jsx("strong",{children:Ae.serialNum}),jsxRuntimeExports.jsx("br",{}),"ويحمل استلام برقم ",jsxRuntimeExports.jsx("strong",{children:Ae.ticketNum})," لأغراض الصيانة وقد تم عمل الصيانة اللازمة من قبلهم",jsxRuntimeExports.jsx("br",{}),"وعليه أُخلي مسؤولية الشركة من أي مطالبات لاحقاً إلا بما تقضيه شروط الضمان المعتمدة من قبل الشركة الأم",jsxRuntimeExports.jsx("br",{}),"وبناءً على ذلك أوقع."]}),jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"الاسم:"}),jsxRuntimeExports.jsx("span",{children:Ae.customerName})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"التوقيع:"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{penColor:"black",minWidth:.5,maxWidth:1.5,canvasProps:{width:100,height:100,className:"sig-canvas"},ref:_e,onEnd:()=>Se(!_e.current.isEmpty())})})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"التاريخ:"}),jsxRuntimeExports.jsx("span",{children:Fe})]})]}),jsxRuntimeExports.jsxs("div",{className:"image-upload-section",children:[jsxRuntimeExports.jsx("p",{children:"* مرفق صورة عن إثبات الشخصية"}),jsxRuntimeExports.jsxs("label",{className:"upload-label",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*"}),jsxRuntimeExports.jsx("div",{className:"upload-icon",children:"📷"})]})]}),jsxRuntimeExports.jsxs("div",{className:"footer-info",children:[jsxRuntimeExports.jsxs("p",{children:["Mecca St, Building 221, Amman, Jordan",jsxRuntimeExports.jsx("br",{}),"Mob: +962 7 96181819",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:"mailto:help@365solutionsjo.com",children:"help@365solutionsjo.com"})]}),jsxRuntimeExports.jsx("img",{src:"/apple-authorised.png",alt:"Apple Authorised Logo",className:"apple-logo"})]})]}),jsxRuntimeExports.jsx("div",{className:"button-row no-print",children:jsxRuntimeExports.jsxs("div",{className:"button-row",children:[jsxRuntimeExports.jsx("button",{onClick:Ue,className:"clear-button",children:"Clear"}),jsxRuntimeExports.jsx("button",{onClick:Ie,className:"save-button",disabled:!Ce,children:"Save"})]})})]})]}),jsxRuntimeExports.jsx(PartsDeliveryModal,{isOpen:Re,onClose:()=>{Be(!1),t()},ticket:Ae})]})},statusMap$2={0:"Start",1:"VMI Troubleshooting",2:"Repair Released from Processing",3:"Awaiting Parts",4:"Parts Allocated",5:"In Repair",6:"Ready For Pickup",7:"Repair Marked Complete"},PrintableTicket=React.forwardRef(({ticket:Ee},t)=>{var Ae;return jsxRuntimeExports.jsxs("div",{ref:t,className:"printable-ticket",children:[jsxRuntimeExports.jsxs("h1",{children:["Ticket #",Ee.location,Ee.ticketNum]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Date:"})," ",new Date(Ee.date).toLocaleString()]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Ticket ID:"})," ",Ee.id]}),jsxRuntimeExports.jsxs("div",{className:"print-section",children:[jsxRuntimeExports.jsx("h2",{children:"Customer Info"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Name:"})," ",Ee.customerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",Ee.emailAddress]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Mobile:"})," ",Ee.mobileNumber]})]}),jsxRuntimeExports.jsxs("div",{className:"print-section",children:[jsxRuntimeExports.jsx("h2",{children:"Device Info"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Type:"})," ",Ee.machineType]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Description:"})," ",Ee.deviceDescription]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Serial Number:"})," ",Ee.serialNum]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Warranty Status:"})," ",Ee.warrantyStatus]})]}),jsxRuntimeExports.jsxs("div",{className:"print-section",children:[jsxRuntimeExports.jsx("h2",{children:"Repair Info"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Symptom:"})," ",Ee.symptom]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Repair ID:"})," ",Ee.repairID]})]}),((Ae=Ee.ticketStates)==null?void 0:Ae.length)>0&&jsxRuntimeExports.jsxs("div",{className:"print-section",children:[jsxRuntimeExports.jsx("h2",{children:"Status Timeline"}),jsxRuntimeExports.jsx("ol",{children:Ee.ticketStates.map((_e,xe)=>jsxRuntimeExports.jsx("li",{children:statusMap$2[_e]||`Unknown (${_e})`},xe))})]})]})});var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(Ee,t){if(Ee==null)return{};var Ae=_objectWithoutPropertiesLoose(Ee,t),_e,xe;if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(Ee);for(xe=0;xe<Ce.length;xe++)_e=Ce[xe],!(t.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(Ee,_e)&&(Ae[_e]=Ee[_e])}return Ae}function _objectWithoutPropertiesLoose(Ee,t){if(Ee==null)return{};var Ae={};for(var _e in Ee)if(Object.prototype.hasOwnProperty.call(Ee,_e)){if(t.indexOf(_e)>=0)continue;Ae[_e]=Ee[_e]}return Ae}function _extends(){return _extends=Object.assign?Object.assign.bind():function(Ee){for(var t=1;t<arguments.length;t++){var Ae=arguments[t];for(var _e in Ae)Object.prototype.hasOwnProperty.call(Ae,_e)&&(Ee[_e]=Ae[_e])}return Ee},_extends.apply(this,arguments)}function ownKeys(Ee,t){var Ae=Object.keys(Ee);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(Ee);t&&(_e=_e.filter(function(xe){return Object.getOwnPropertyDescriptor(Ee,xe).enumerable})),Ae.push.apply(Ae,_e)}return Ae}function _objectSpread(Ee){for(var t=1;t<arguments.length;t++){var Ae=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(Ae),!0).forEach(function(_e){_defineProperty(Ee,_e,Ae[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ae)):ownKeys(Object(Ae)).forEach(function(_e){Object.defineProperty(Ee,_e,Object.getOwnPropertyDescriptor(Ae,_e))})}return Ee}function _defineProperty(Ee,t,Ae){return t=_toPropertyKey(t),t in Ee?Object.defineProperty(Ee,t,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):Ee[t]=Ae,Ee}function _toPropertyKey(Ee){var t=_toPrimitive(Ee,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive(Ee,t){if(typeof Ee!="object"||!Ee)return Ee;var Ae=Ee[Symbol.toPrimitive];if(Ae!==void 0){var _e=Ae.call(Ee,t);if(typeof _e!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(Ee)}function Tree2Element(Ee){return Ee&&Ee.map((t,Ae)=>React.createElement(t.tag,_objectSpread({key:Ae},t.attr),Tree2Element(t.child)))}function GenIcon(Ee){return t=>React.createElement(IconBase,_extends({attr:_objectSpread({},Ee.attr)},t),Tree2Element(Ee.child))}function IconBase(Ee){var t=Ae=>{var{attr:_e,size:xe,title:Ce}=Ee,Se=_objectWithoutProperties(Ee,_excluded),Re=xe||Ae.size||"1em",Be;return Ae.className&&(Be=Ae.className),Ee.className&&(Be=(Be?Be+" ":"")+Ee.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},Ae.attr,_e,Se,{className:Be,style:_objectSpread(_objectSpread({color:Ee.color||Ae.color},Ae.style),Ee.style),height:Re,width:Re,xmlns:"http://www.w3.org/2000/svg"}),Ce&&React.createElement("title",null,Ce),Ee.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,Ae=>t(Ae)):t(DefaultContext)}function FaArrowRight(Ee){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(Ee)}function FaCogs(Ee){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"},child:[]}]})(Ee)}function FaEdit(Ee){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(Ee)}function FaEnvelope(Ee){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(Ee)}function FaFolderOpen(Ee){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(Ee)}function FaPenAlt(Ee){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.94 74.17l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.75 18.75-49.15 0-67.91zm-246.8-20.53c-15.62-15.62-40.94-15.62-56.56 0L75.8 172.43c-6.25 6.25-6.25 16.38 0 22.62l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l101.82-101.82 22.63 22.62L93.95 290.03A327.038 327.038 0 0 0 .17 485.11l-.03.23c-1.7 15.28 11.21 28.2 26.49 26.51a327.02 327.02 0 0 0 195.34-93.8l196.79-196.79-82.77-82.77-84.85-84.85z"},child:[]}]})(Ee)}function FaPrint(Ee){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(Ee)}function FaSave(Ee){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(Ee)}function FaTimes(Ee){return GenIcon({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(Ee)}function FaTruck(Ee){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(Ee)}function FaUndo(Ee){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(Ee)}var lib$2={exports:{}},lib$1=lib$2.exports,hasRequiredLib$1;function requireLib$1(){return hasRequiredLib$1||(hasRequiredLib$1=1,function(Ee,t){(function(Ae,_e){Ee.exports=_e(requireReact())})(typeof self<"u"?self:lib$1,function(Ae){return function(){var _e={155:function(Ve){Ve.exports=Ae}},xe={};function Ce(Ve){var Xe=xe[Ve];if(Xe!==void 0)return Xe.exports;var ir=xe[Ve]={exports:{}};return _e[Ve](ir,ir.exports,Ce),ir.exports}Ce.d=function(Ve,Xe){for(var ir in Xe)Ce.o(Xe,ir)&&!Ce.o(Ve,ir)&&Object.defineProperty(Ve,ir,{enumerable:!0,get:Xe[ir]})},Ce.o=function(Ve,Xe){return Object.prototype.hasOwnProperty.call(Ve,Xe)},Ce.r=function(Ve){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ve,"__esModule",{value:!0})};var Se={};Ce.r(Se),Ce.d(Se,{useReactToPrint:function(){return ze}});var Re=Ce(155);function Be({level:Ve="error",messages:Xe,suppressErrors:ir=!1}){ir||(Ve==="error"?console.error(Xe):Ve==="warning"?console.warn(Xe):console.debug(Xe))}function Fe(Ve,Xe){if(Xe||!Ve){const ir=document.getElementById("printWindow");ir&&document.body.removeChild(ir)}}function Ie(Ve){return Ve instanceof Error?Ve:new Error("Unknown Error")}function Ue(Ve,Xe){const{documentTitle:ir,onAfterPrint:sr,onPrintError:rr,preserveAfterPrint:nr,print:We,suppressErrors:Ge}=Xe;setTimeout(()=>{var Ze,or;if(Ve.contentWindow){let He=function(){sr==null||sr(),Fe(nr)};if(Ve.contentWindow.focus(),We)We(Ve).then(He).catch(Je=>{rr?rr("print",Ie(Je)):Be({messages:["An error was thrown by the specified `print` function"],suppressErrors:Ge})});else{if(Ve.contentWindow.print){const Je=(or=(Ze=Ve.contentDocument)===null||Ze===void 0?void 0:Ze.title)!==null&&or!==void 0?or:"",$e=Ve.ownerDocument.title;ir&&(Ve.ownerDocument.title=ir,Ve.contentDocument&&(Ve.contentDocument.title=ir)),Ve.contentWindow.print(),ir&&(Ve.ownerDocument.title=$e,Ve.contentDocument&&(Ve.contentDocument.title=Je))}else Be({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:Ge});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(Je=>{var $e,mr;return((mr=($e=navigator.userAgent)!==null&&$e!==void 0?$e:navigator.vendor)!==null&&mr!==void 0?mr:"opera"in window&&window.opera).match(Je)})?setTimeout(He,500):He()}}else Be({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:Ge})},500)}function ke(Ve){const Xe=[],ir=document.createTreeWalker(Ve,NodeFilter.SHOW_ELEMENT,null);let sr=ir.nextNode();for(;sr;)Xe.push(sr),sr=ir.nextNode();return Xe}function Oe(Ve,Xe,ir){const sr=ke(Ve),rr=ke(Xe);if(sr.length===rr.length)for(let nr=0;nr<sr.length;nr++){const We=sr[nr],Ge=rr[nr],Ze=We.shadowRoot;if(Ze!==null){const or=Ge.attachShadow({mode:Ze.mode});or.innerHTML=Ze.innerHTML,Oe(Ze,or,ir)}}else Be({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",Ve,Xe],suppressErrors:ir})}const je=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function Ke(Ve,Xe,ir,sr){var rr,nr,We,Ge,Ze;const{contentNode:or,clonedContentNode:He,clonedImgNodes:Je,clonedVideoNodes:$e,numResourcesToLoad:mr,originalCanvasNodes:wr}=ir,{bodyClass:vr,fonts:ur,ignoreGlobalStyles:Cr,pageStyle:_r,nonce:hr,suppressErrors:Sr,copyShadowRoots:ar}=sr;Ve.onload=null;const tr=(rr=Ve.contentDocument)!==null&&rr!==void 0?rr:(nr=Ve.contentWindow)===null||nr===void 0?void 0:nr.document;if(tr){const lr=tr.body.appendChild(He);ar&&Oe(or,lr,!!Sr),ur&&(!((We=Ve.contentDocument)===null||We===void 0)&&We.fonts&&(!((Ge=Ve.contentWindow)===null||Ge===void 0)&&Ge.FontFace)?ur.forEach(zr=>{const $r=new FontFace(zr.family,zr.source,{weight:zr.weight,style:zr.style});Ve.contentDocument.fonts.add($r),$r.loaded.then(()=>{Xe($r)}).catch(vn=>{Xe($r,["Failed loading the font:",$r,"Load error:",Ie(vn)])})}):(ur.forEach(zr=>{Xe(zr)}),Be({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:Sr})));const pr=_r??je,Er=tr.createElement("style");hr&&(Er.setAttribute("nonce",hr),tr.head.setAttribute("nonce",hr)),Er.appendChild(tr.createTextNode(pr)),tr.head.appendChild(Er),vr&&tr.body.classList.add(...vr.split(" "));const Rr=tr.querySelectorAll("canvas");for(let zr=0;zr<wr.length;++zr){const $r=wr[zr],vn=Rr[zr];if(vn===void 0){Be({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",$r],suppressErrors:Sr});continue}const bn=vn.getContext("2d");bn&&bn.drawImage($r,0,0)}for(let zr=0;zr<Je.length;zr++){const $r=Je[zr],vn=$r.getAttribute("src");if(vn){const bn=new Image;bn.onload=()=>{Xe($r)},bn.onerror=(An,Fr,dn,Dr,jr)=>{Xe($r,["Error loading <img>",$r,"Error",jr])},bn.src=vn}else Xe($r,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',$r])}for(let zr=0;zr<$e.length;zr++){const $r=$e[zr];$r.preload="auto";const vn=$r.getAttribute("poster");if(vn){const bn=new Image;bn.onload=()=>{Xe($r)},bn.onerror=(An,Fr,dn,Dr,jr)=>{Xe($r,["Error loading video poster",vn,"for video",$r,"Error:",jr])},bn.src=vn}else $r.readyState>=2?Xe($r):$r.src?($r.onloadeddata=()=>{Xe($r)},$r.onerror=(bn,An,Fr,dn,Dr)=>{Xe($r,["Error loading video",$r,"Error",Dr])},$r.onstalled=()=>{Xe($r,["Loading video stalled, skipping",$r])}):Xe($r,["Error loading video, `src` is empty",$r])}const Tr="select",Ir=or.querySelectorAll(Tr),Zr=tr.querySelectorAll(Tr);for(let zr=0;zr<Ir.length;zr++)Zr[zr].value=Ir[zr].value;if(!Cr){const zr=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let $r=0,vn=zr.length;$r<vn;++$r){const bn=zr[$r];if(bn.tagName.toLowerCase()==="style"){const An=tr.createElement(bn.tagName),Fr=bn.sheet;if(Fr){let dn="";try{const Dr=Fr.cssRules.length;for(let jr=0;jr<Dr;++jr)typeof Fr.cssRules[jr].cssText=="string"&&(dn+=`${Fr.cssRules[jr].cssText}\r
`)}catch(Dr){Be({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",bn,`Original error: ${Ie(Dr).message}`],level:"warning"})}An.setAttribute("id",`react-to-print-${$r}`),hr&&An.setAttribute("nonce",hr),An.appendChild(tr.createTextNode(dn)),tr.head.appendChild(An)}}else if(bn.getAttribute("href"))if(bn.hasAttribute("disabled"))Be({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",bn],level:"warning"}),Xe(bn);else{const An=tr.createElement(bn.tagName);for(let Fr=0,dn=bn.attributes.length;Fr<dn;++Fr){const Dr=bn.attributes[Fr];Dr&&An.setAttribute(Dr.nodeName,(Ze=Dr.nodeValue)!==null&&Ze!==void 0?Ze:"")}An.onload=()=>{Xe(An)},An.onerror=(Fr,dn,Dr,jr,hn)=>{Xe(An,["Failed to load",An,"Error:",hn])},hr&&An.setAttribute("nonce",hr),tr.head.appendChild(An)}else Be({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",bn],level:"warning"}),Xe(bn)}}}mr===0&&Ue(Ve,sr)}function ze({bodyClass:Ve,contentRef:Xe,copyShadowRoots:ir,documentTitle:sr,fonts:rr,ignoreGlobalStyles:nr,nonce:We,onAfterPrint:Ge,onBeforePrint:Ze,onPrintError:or,pageStyle:He,preserveAfterPrint:Je,print:$e,suppressErrors:mr}){return(0,Re.useCallback)(wr=>{function vr(){const ur={bodyClass:Ve,contentRef:Xe,copyShadowRoots:ir,documentTitle:sr,fonts:rr,ignoreGlobalStyles:nr,nonce:We,onAfterPrint:Ge,onPrintError:or,pageStyle:He,preserveAfterPrint:Je,print:$e,suppressErrors:mr},Cr=function(){const Sr=document.createElement("iframe");return Sr.width=`${document.documentElement.clientWidth}px`,Sr.height=`${document.documentElement.clientHeight}px`,Sr.style.position="absolute",Sr.style.top=`-${document.documentElement.clientHeight+100}px`,Sr.style.left=`-${document.documentElement.clientWidth+100}px`,Sr.id="printWindow",Sr.srcdoc="<!DOCTYPE html>",Sr}(),_r=function(Sr,ar){const{contentRef:tr,fonts:lr,ignoreGlobalStyles:pr,suppressErrors:Er}=ar,Rr=function({contentRef:vn,optionalContent:bn,suppressErrors:An}){return!bn||bn instanceof Event||(vn&&Be({level:"warning",messages:['"react-to-print" received a `contentRef` option and a optional-content param passed to its callback. The `contentRef` option will be ignored.']}),typeof bn!="function")?vn?vn.current:void Be({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:An}):bn()}({contentRef:tr,optionalContent:Sr,suppressErrors:Er});if(!Rr)return;const Tr=Rr.cloneNode(!0),Ir=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Zr=Tr.querySelectorAll("img"),zr=Tr.querySelectorAll("video"),$r=lr?lr.length:0;return{contentNode:Rr,clonedContentNode:Tr,clonedImgNodes:Zr,clonedVideoNodes:zr,numResourcesToLoad:(pr?0:Ir.length)+Zr.length+zr.length+$r,originalCanvasNodes:Rr.querySelectorAll("canvas")}}(wr,ur);if(!_r)return void Be({messages:["There is nothing to print"],suppressErrors:mr});const hr=function(Sr,ar,tr){const{suppressErrors:lr}=Sr,pr=[],Er=[];return function(Rr,Tr){pr.includes(Rr)?Be({level:"debug",messages:["Tried to mark a resource that has already been handled",Rr],suppressErrors:lr}):(Tr?(Be({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...Tr],suppressErrors:lr}),Er.push(Rr)):pr.push(Rr),pr.length+Er.length===ar&&Ue(tr,Sr))}}(ur,_r.numResourcesToLoad,Cr);(function(Sr,ar,tr,lr){Sr.onload=()=>{Ke(Sr,ar,tr,lr)},document.body.appendChild(Sr)})(Cr,hr,_r,ur)}Fe(Je,!0),Ze?Ze().then(()=>{vr()}).catch(ur=>{or==null||or("onBeforePrint",Ie(ur))}):vr()},[Ve,Xe,ir,sr,rr,nr,We,Ge,Ze,or,He,Je,$e,mr])}return Se}()})}(lib$2)),lib$2.exports}var libExports$1=requireLib$1();const API_BASE_URL="https://365solutions-service-manager-production.up.railway.app",API_ENDPOINTS={SEND_EMAIL:`${API_BASE_URL}/api/sendEmail`,CREATE_USER:`${API_BASE_URL}/api/createUser`},EmailModal=({isOpen:Ee,onClose:t,onSend:Ae,ticket:_e})=>{const[xe,Ce]=reactExports.useState(!1),[Se,Re]=reactExports.useState(!0),[Be,Fe]=reactExports.useState(""),[Ie,Ue]=reactExports.useState([]),ke=Se?_e.emailAddress:Be,Oe=async(Ve,Xe,ir,sr,rr,nr)=>{Ce(!0);try{const We=`
        <p>You can always shop for any Apple product at <a href="https://estorejo.com"> Smart Cloud - eStore</a></p>
        
        <div style="margin-top: 40px; border-top: 1px solid #eee; padding-top: 20px; font-size: 13px; color: #999; text-align: center;">
          ${Xe?`<div style="margin-bottom: 15px;">
            <img src="${Xe}" alt="365 Solutions Email Logo" style="max-height: 40px; height: auto;" />
          </div>`:""}
          <p>© 2025 365 Solutions. All rights reserved.</p>
          <p>Mecca Street, Building No. 221, Amman, Jordan • help@365solutionsjo.com, Tel: +962 796818189</p>
          <p>Wasfi AlTal Street, Irbid, Jordan • irbid@365solutionsjo.com, Tel: +962 796818189</p>
        </div>
      </div>`,Ge=`
        <div style="font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto;">
          <div style="display: flex; align-items: center; margin-bottom: 20px; border-bottom: 2px solid #094549; padding-bottom: 15px;">
            ${Ve?`<img src="${Ve}" alt="365 Solutions Logo" style="max-height: 60px; height: auto; margin-right: 20px;" />`:""}
            <h2 style="color: #094549; margin: 0; flex-grow: 1;">Document Download - Ticket #${_e.location}${_e.ticketNum}</h2>
          </div>
          
          <p>Dear ${_e.customerName},</p>
          <p>Please find below the download links for your requested documents related to Ticket #${_e.location}${_e.ticketNum} for device ${_e.machineType} with serial number ${_e.serialNum}.</p>
          
          ${ir}
          ${rr}
          ${nr}
          ${sr}
          ${We}
      `,Ze=await fetch(API_ENDPOINTS.SEND_EMAIL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:ke,subject:`Documents - Ticket #${_e.location}${_e.ticketNum}`,html:Ge,location:_e.location})});if(Ze.ok)alert(`Documents sent successfully to ${ke}`),Ce(!1),Re(!0),Fe(""),Ue([]),t();else{const or=await Ze.json().catch(()=>({error:"Unknown error"}));throw new Error(or.error||`Server returned ${Ze.status}: ${Ze.statusText}`)}}catch(We){console.error("Error sending email:",We),alert(`Failed to send email: ${We.message}`),Ce(!1)}},je=Ve=>{const{value:Xe,checked:ir}=Ve.target;Ue(sr=>ir?[...sr,Xe]:sr.filter(rr=>rr!==Xe))},Ke=async()=>{var Ve="",Xe="",ir="",sr="";try{const rr=getStorage(),nr="/src/assets/logo_new.png",We="/src/assets/email_logo.png";let Ge="",Ze="";try{const He=await(await fetch(nr)).blob();Ge=await new Promise(Je=>{const $e=new FileReader;$e.onloadend=()=>Je($e.result),$e.readAsDataURL(He)})}catch(or){console.warn("Could not load header logo for email:",or)}try{const He=await(await fetch(We)).blob();Ze=await new Promise(Je=>{const $e=new FileReader;$e.onloadend=()=>Je($e.result),$e.readAsDataURL(He)})}catch(or){console.warn("Could not load footer logo for email:",or)}if(Ie.includes("contract")&&_e.contractURL){const or=ref(rr,_e.contractURL);Ve=`<p><strong>Service Agreement:</strong> <a href="${await getDownloadURL(or)}" style="color: #094549; text-decoration: none;">Click here to download</a></p>`}if(Ie.includes("parts delivery note")&&_e.partsDeliveryNoteURL){const or=ref(rr,_e.partsDeliveryNoteURL);ir=`<p><strong>Parts Delivery Note:</strong> <a href="${await getDownloadURL(or)}" style="color: #094549; text-decoration: none;">Click here to download</a></p>`}if(Ie.includes("invoice")&&_e.invoiceURL){const or=ref(rr,_e.invoiceURL);sr=`<p><strong>Invoice:</strong> <a href="${await getDownloadURL(or)}" style="color: #094549; text-decoration: none;">Click here to download</a></p>`}if(Ie.includes("delivery note")&&_e.deliveryNoteURL){const or=ref(rr,_e.deliveryNoteURL);Xe=`<p><strong>Delivery Note:</strong> <a href="${await getDownloadURL(or)}" style="color: #094549; text-decoration: none;">Click here to download</a></p>`}await Oe(Ge,Ze,Ve,Xe,ir,sr)}catch(rr){console.error("Failed to get download URLs or send email:",rr),alert("Could not fetch document URLs or send email. Please try again."),Ce(!1)}},ze=()=>{if(!ke||Ie.length===0){alert("Please enter an email address and select at least one document.");return}if(!Se&&!Be){alert("Please enter a custom email address.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ke)){alert("Please enter a valid email address.");return}Ke()};return Ee?jsxRuntimeExports.jsx("div",{className:"email-modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"email-modal",children:[jsxRuntimeExports.jsx("button",{className:"email-modal-close",onClick:t,children:"×"}),jsxRuntimeExports.jsx("h2",{children:"Send Documents by Email"}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"1rem"},children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"radio",checked:Se,onChange:()=>Re(!0)}),"Send to customer email: ",jsxRuntimeExports.jsx("strong",{children:_e.emailAddress})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"radio",checked:!Se,onChange:()=>Re(!1)}),"Send to another email:"]}),!Se&&jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Enter custom email",value:Be,onChange:Ve=>Fe(Ve.target.value),style:{display:"block",marginTop:"0.5rem",width:"100%"}})]}),jsxRuntimeExports.jsx("label",{children:"Select Documents to Send:"}),jsxRuntimeExports.jsxs("div",{className:"doc-options",children:[_e.contractURL&&jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"contract",checked:Ie.includes("contract"),onChange:je}),"contract"]}),_e.partsDeliveryNoteURL&&jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"parts delivery note",checked:Ie.includes("parts delivery note"),onChange:je}),"parts delivery note"]}),_e.invoiceURL&&jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"invoice",checked:Ie.includes("invoice"),onChange:je}),"invoice"]}),_e.deliveryNoteURL&&jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"delivery note",checked:Ie.includes("delivery note"),onChange:je}),"delivery note"]})]}),xe?jsxRuntimeExports.jsx("div",{className:"spinner"}):jsxRuntimeExports.jsx("button",{className:"send-button",onClick:ze,children:"Send Email"})]})}):null},statusMap$1={0:"Start",1:"VMI Troubleshooting",2:"Repair Released from Processing",3:"Awaiting Parts",4:"Parts Allocated",5:"In Repair",6:"Ready For Pickup",7:"Repair Marked Complete"};function TicketDetail({ticket:Ee,onClose:t}){var Er,Rr,Tr;const[Ae,_e]=reactExports.useState([]),[xe,Ce]=reactExports.useState(!1),[Se,Re]=reactExports.useState(!1),[Be,Fe]=reactExports.useState(!1),[Ie,Ue]=reactExports.useState({}),[ke,Oe]=reactExports.useState(""),[je,Ke]=reactExports.useState(!1),ze=getStorage();reactExports.useEffect(()=>{Ge(!1),_e([]),Ee&&(Ue({customerName:Ee.customerName||"",emailAddress:Ee.emailAddress||"",mobileNumber:Ee.mobileNumber||"",machineType:Ee.machineType||"",deviceDescription:Ee.deviceDescription||"",serialNum:Ee.serialNum||"",warrantyStatus:Ee.warrantyStatus||"",symptom:Ee.symptom||"",repairID:Ee.repairID||""}),Oe(Ee.notes||"")),(async()=>{if(!(!(Ee!=null&&Ee.mediaURLs)||Ee.mediaURLs.length===0))try{const Zr=await Promise.all(Ee.mediaURLs.map(async zr=>{const $r=ref(ze,zr);return await getDownloadURL($r)}));_e(Zr)}catch(Zr){console.error("Failed to fetch media URLs:",Zr)}})()},[Ee]);const Ve=reactExports.useRef(null),Xe=libExports$1.useReactToPrint({content:()=>Ve.current}),[ir,sr]=reactExports.useState(null),[rr,nr]=reactExports.useState(!1),[We,Ge]=reactExports.useState(!1),[Ze,or]=reactExports.useState([]),[He,Je]=reactExports.useState(""),[$e,mr]=reactExports.useState(!1),[wr,vr]=reactExports.useState(""),ur=useNavigate(),Cr=()=>{ur(`/tickets/${Ee.id}/process`)},_r=()=>{or([]),Ee.contractURL,Ee.contractURL&&or(Ir=>[...Ir,"View Contract"]),Ee.deliveryNoteURL&&or(Ir=>[...Ir,"View Delivery Note"]),Ee.deviceDeliveryNoteURL&&or(Ir=>[...Ir,"View Device Delivery Note"]),Ee.partsDeliveryNoteURL&&or(Ir=>[...Ir,"View Parts Delivery Note"]),Ee.noResponsibilityURL&&or(Ir=>[...Ir,"View No Responsibility Note"]),Ee.invoiceURL&&or(Ir=>[...Ir,"View Invoice"]),Ee.priceQuotationURL&&or(Ir=>[...Ir,"View Price Quotation"]),Ze.length>0&&Ge(Ir=>!Ir)},hr=async({link:Ir})=>{const Zr=getStorage();var zr="";Ir==="View Contract"&&(zr=Ee.contractURL),Ir==="View Delivery Note"&&(zr=Ee.deliveryNoteURL),Ir==="View Device Delivery Note"&&(zr=Ee.deviceDeliveryNoteURL),Ir==="View Parts Delivery Note"&&(zr=Ee.partsDeliveryNoteURL),Ir==="View No Responsibility Note"&&(zr=Ee.noResponsibilityURL),Ir==="View Invoice"&&(zr=Ee.invoiceURL),Ir==="View Invoice"&&(zr=Ee.invoiceURL),Ir==="View Price Quotation"&&(zr=Ee.priceQuotationURL);const $r=ref(Zr,zr);try{const vn=await getDownloadURL($r),bn=`https://docs.google.com/gview?embedded=true&url=${encodeURIComponent(vn)}`;window.open(bn,"_blank")}catch(vn){console.error("Error opening contract PDF:",vn),alert("Failed to open contract.")}},Sr=()=>{Ee.deliveryNoteURL?ur(`/tickets/${Ee.id}/part-delivery`):ur(`/tickets/${Ee.id}/deliver`)},ar=()=>{!Ee.partsDeliveryNoteURL&&Ee.partDeliveryNote?ur(`/tickets/${Ee.id}/part-delivery`):!Ee.invoiceURL&&Ee.hasAnInvoice?ur(`/tickets/${Ee.id}/receipt-page`):alert("No other documents to sign.")},tr=()=>{Be&&Ee&&(Ue({customerName:Ee.customerName||"",emailAddress:Ee.emailAddress||"",mobileNumber:Ee.mobileNumber||"",machineType:Ee.machineType||"",deviceDescription:Ee.deviceDescription||"",serialNum:Ee.serialNum||"",warrantyStatus:Ee.warrantyStatus||"",symptom:Ee.symptom||"",repairID:Ee.caseID||""}),Oe(Ee.notes||"")),Fe(!Be)},lr=(Ir,Zr)=>{Ue(zr=>({...zr,[Ir]:Zr}))},pr=async()=>{if(window.confirm("Are you sure you want to save these changes? This will update the ticket information permanently.")){Ke(!0);try{const Zr=doc(db,"tickets",Ee.id),zr={...Ie,notes:ke,lastModified:new Date().toISOString()};await updateDoc(Zr,zr),alert("Ticket information updated successfully!"),Fe(!1)}catch(Zr){console.error("Error updating ticket:",Zr),alert("Failed to update ticket. Please try again.")}finally{Ke(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"ticket-detail-container",children:[jsxRuntimeExports.jsxs("div",{className:"ticket-detail-header",children:[jsxRuntimeExports.jsxs("h2",{children:["Ticket #",Ee.location,Ee.ticketNum]}),jsxRuntimeExports.jsx("button",{className:"close-button",onClick:t,title:"Close",children:jsxRuntimeExports.jsx(FaTimes,{})}),jsxRuntimeExports.jsx("p",{className:"ticket-date",children:Ee.date}),jsxRuntimeExports.jsxs("p",{className:"ticket-id",children:["ID: ",Ee.id]})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-detail-sticky-bar",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",width:"100%",gap:"12px"},children:[jsxRuntimeExports.jsxs("button",{className:"ticket-action-button",onClick:Xe,children:[jsxRuntimeExports.jsx(FaPrint,{})," Print"]}),jsxRuntimeExports.jsxs("button",{className:"ticket-action-button",onClick:_r,children:[jsxRuntimeExports.jsx(FaFolderOpen,{})," Documents"]}),jsxRuntimeExports.jsxs("button",{className:"ticket-action-button",onClick:Cr,children:[jsxRuntimeExports.jsx(FaCogs,{})," Process"]}),jsxRuntimeExports.jsxs("button",{className:"ticket-action-button",onClick:()=>mr(!0),children:[jsxRuntimeExports.jsx(FaEnvelope,{})," Email"]}),jsxRuntimeExports.jsx("button",{className:"ticket-action-button",onClick:()=>Ce(!0),children:"🖼️ Media"}),jsxRuntimeExports.jsxs("button",{className:`ticket-action-button ${Be?"edit-active":""}`,onClick:tr,children:[Be?jsxRuntimeExports.jsx(FaUndo,{}):jsxRuntimeExports.jsx(FaEdit,{})," ",Be?"Cancel":"Edit"]}),Be&&jsxRuntimeExports.jsxs("button",{className:"ticket-action-button save-button",onClick:pr,disabled:je,children:[jsxRuntimeExports.jsx(FaSave,{})," ",je?"Saving...":"Save"]})]}),((Er=Ee.ticketStates)==null?void 0:Er.slice(-1)[0])===6&&jsxRuntimeExports.jsx("div",{className:"deliver-button-wrapper",children:jsxRuntimeExports.jsxs("button",{className:"deliver-button",onClick:Sr,children:[jsxRuntimeExports.jsx(FaTruck,{})," Deliver to Customer"]})}),((Rr=Ee.ticketStates)==null?void 0:Rr.slice(-1)[0])===7&&jsxRuntimeExports.jsx("div",{className:"deliver-button-wrapper",children:jsxRuntimeExports.jsxs("button",{className:"deliver-button",onClick:ar,style:{backgroundColor:"#a72828ff",borderColor:"#28a745"},children:[jsxRuntimeExports.jsx(FaPenAlt,{})," Sign Other Documents"]})})]}),We&&jsxRuntimeExports.jsxs("div",{className:"contract-link-box",children:[" ",Ze.map(Ir=>jsxRuntimeExports.jsxs("h4",{className:"contract-link-box",onClick:()=>hr({link:Ir}),children:["📄 ",Ir]}))]}),We&&!Ee.contractURL&&jsxRuntimeExports.jsx("p",{style:{color:"red"},children:"No contract URL available for this ticket."}),jsxRuntimeExports.jsx("div",{style:{visibility:"hidden",position:"absolute",top:0,left:0,zIndex:-1},children:jsxRuntimeExports.jsx(PrintableTicket,{ref:Ve,ticket:Ee})}),jsxRuntimeExports.jsxs("div",{className:"ticket-detail-body",children:[jsxRuntimeExports.jsxs("div",{className:"ticket-detail-group",children:[jsxRuntimeExports.jsx("h3",{children:"👤 Customer Info"}),Be?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Name:"})}),jsxRuntimeExports.jsx("input",{type:"text",value:Ie.customerName,onChange:Ir=>lr("customerName",Ir.target.value),className:"edit-input"})]}),jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Email:"})}),jsxRuntimeExports.jsx("input",{type:"email",value:Ie.emailAddress,onChange:Ir=>lr("emailAddress",Ir.target.value),className:"edit-input"})]}),jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Mobile:"})}),jsxRuntimeExports.jsx("input",{type:"text",value:Ie.mobileNumber,onChange:Ir=>lr("mobileNumber",Ir.target.value),className:"edit-input"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Name:"})," ",Ee.customerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",Ee.emailAddress]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Mobile:"})," ",Ee.mobileNumber]})]})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-detail-group",children:[jsxRuntimeExports.jsx("h3",{children:"💻 Device Info"}),Be?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Type:"})}),jsxRuntimeExports.jsx("input",{type:"text",value:Ie.machineType,onChange:Ir=>lr("machineType",Ir.target.value),className:"edit-input"})]}),jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Description:"})}),jsxRuntimeExports.jsx("textarea",{value:Ie.deviceDescription,onChange:Ir=>lr("deviceDescription",Ir.target.value),className:"edit-textarea",rows:"3"})]}),jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Serial Number:"})}),jsxRuntimeExports.jsx("input",{type:"text",value:Ie.serialNum,onChange:Ir=>lr("serialNum",Ir.target.value),className:"edit-input"})]}),jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Warranty Status:"})}),jsxRuntimeExports.jsxs("select",{value:Ie.warrantyStatus,onChange:Ir=>lr("warrantyStatus",Ir.target.value),className:"edit-select",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Status"}),jsxRuntimeExports.jsx("option",{value:"In Warranty",children:"In Warranty"}),jsxRuntimeExports.jsx("option",{value:"Out of Warranty",children:"Out of Warranty"}),jsxRuntimeExports.jsx("option",{value:"Unknown",children:"Unknown"})]})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Type:"})," ",Ee.machineType]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Description:"})," ",Ee.deviceDescription]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Serial Number:"})," ",Ee.serialNum]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Warranty Status:"})," ",Ee.warrantyStatus]})]})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-detail-group",children:[jsxRuntimeExports.jsx("h3",{children:"🛠️ Repair Info"}),Be?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Symptom:"})}),jsxRuntimeExports.jsx("textarea",{value:Ie.symptom,onChange:Ir=>lr("symptom",Ir.target.value),className:"edit-textarea",rows:"3"})]}),jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Repair ID:"})}),jsxRuntimeExports.jsx("input",{type:"text",value:Ie.caseID,onChange:Ir=>lr("repairID",Ir.target.value),className:"edit-input"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Symptom:"})," ",Ee.symptom]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Repair ID:"})," ",Ee.caseID]})]})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-detail-group",children:[jsxRuntimeExports.jsx("h3",{children:"📝 Notes"}),Be?jsxRuntimeExports.jsxs("div",{className:"edit-field",children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Add/Edit Notes:"})}),jsxRuntimeExports.jsx("textarea",{value:ke,onChange:Ir=>Oe(Ir.target.value),className:"edit-textarea",rows:"4",placeholder:"Add notes about this ticket..."})]}):jsxRuntimeExports.jsx("p",{children:Ee.notes?Ee.notes:jsxRuntimeExports.jsx("em",{children:"No notes added yet."})})]}),((Tr=Ee.ticketStates)==null?void 0:Tr.length)>0&&jsxRuntimeExports.jsxs("div",{className:"ticket-detail-group",children:[jsxRuntimeExports.jsx("h3",{children:"📈 Status Timeline"}),jsxRuntimeExports.jsx("ol",{className:"status-timeline",children:Ee.ticketStates.map((Ir,Zr)=>jsxRuntimeExports.jsx("li",{className:"status-step",children:jsxRuntimeExports.jsx("span",{children:statusMap$1[Ir]||`Unknown (${Ir})`})},Zr))})]})]}),jsxRuntimeExports.jsx(EmailModal,{isOpen:$e,onClose:()=>mr(!1),ticket:Ee}),jsxRuntimeExports.jsx(MediaModal,{isOpen:xe,onClose:()=>Ce(!1),mediaURLs:Ae,setMediaURLs:_e,ticket:Ee}),jsxRuntimeExports.jsx(DeliveryModal,{isOpen:Se,onClose:()=>Re(!1),ticket:Ee})]})}const TICKETS_PER_PAGE=50,Tickets=()=>{const[Ee,t]=reactExports.useState([]),[Ae,_e]=reactExports.useState([]),[xe,Ce]=reactExports.useState(!0),[Se,Re]=reactExports.useState("All"),[Be,Fe]=reactExports.useState(1),[Ie,Ue]=reactExports.useState(""),[ke,Oe]=reactExports.useState("all"),{technician:je}=useUser(),Ke=useNavigate(),{id:ze}=useParams(),Ve=Ae.find(nr=>nr.id===ze);reactExports.useEffect(()=>{(async()=>{try{const Ze=(await getDocs(collection(db,"tickets"))).docs.map(or=>({id:or.id,...or.data()})).sort((or,He)=>He.ticketNum-or.ticketNum);t(Ze),_e(Ze),Ce(!1)}catch(We){console.error("Error fetching tickets:",We)}})()},[]),reactExports.useEffect(()=>{let nr=Ee;if(Se==="Amman"?nr=nr.filter(We=>We.location==="M"):Se==="Irbid"&&(nr=nr.filter(We=>We.location==="I")),Ie.trim()){const We=Ie.toLowerCase().trim();nr=nr.filter(Ge=>{switch(ke){case"ticketNumber":return`${Ge.location}${Ge.ticketNum}`.toLowerCase().includes(We);case"date":return Ge.date&&Ge.date.toLowerCase().includes(We);case"machineType":return Ge.machineType&&Ge.machineType.toLowerCase().includes(We);case"customerName":return Ge.customerName&&Ge.customerName.toLowerCase().includes(We);case"all":default:return`${Ge.location}${Ge.ticketNum}`.toLowerCase().includes(We)||Ge.date&&Ge.date.toLowerCase().includes(We)||Ge.machineType&&Ge.machineType.toLowerCase().includes(We)||Ge.customerName&&Ge.customerName.toLowerCase().includes(We)||Ge.symptom&&Ge.symptom.toLowerCase().includes(We)||Ge.emailAddress&&Ge.emailAddress.toLowerCase().includes(We)||Ge.mobileNumber&&Ge.mobileNumber.toLowerCase().includes(We)}})}_e(nr),Fe(1)},[Se,Ee,Ie,ke]);const Xe=Math.ceil(Ae.length/TICKETS_PER_PAGE),ir=Ae.slice((Be-1)*TICKETS_PER_PAGE,Be*TICKETS_PER_PAGE),sr=nr=>{Ke(`/tickets/${nr.id}`)},rr=()=>{Ke("/tickets/new")};return xe?jsxRuntimeExports.jsx("p",{children:"Loading..."}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"tickets-header",children:jsxRuntimeExports.jsxs("div",{className:"tickets-header-content",children:[jsxRuntimeExports.jsxs("div",{className:"left-section",children:[jsxRuntimeExports.jsxs("div",{className:"tickets-new",children:[jsxRuntimeExports.jsx("h1",{children:"🎫 Tickets"}),jsxRuntimeExports.jsx("button",{className:"new-ticket-button",onClick:rr,children:"+ New Ticket"})]}),jsxRuntimeExports.jsxs("div",{className:"search-controls",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search tickets...",value:Ie,onChange:nr=>Ue(nr.target.value),className:"search-input"}),jsxRuntimeExports.jsxs("select",{value:ke,onChange:nr=>Oe(nr.target.value),className:"search-type-select",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Fields"}),jsxRuntimeExports.jsx("option",{value:"ticketNumber",children:"Ticket Number"}),jsxRuntimeExports.jsx("option",{value:"date",children:"Date"}),jsxRuntimeExports.jsx("option",{value:"machineType",children:"Machine Type"}),jsxRuntimeExports.jsx("option",{value:"customerName",children:"Customer Name"})]}),Ie&&jsxRuntimeExports.jsx("button",{onClick:()=>Ue(""),className:"clear-search-button",title:"Clear search",children:"✕"})]}),jsxRuntimeExports.jsx("div",{className:"filter-menu",children:["All","Amman","Irbid"].map(nr=>jsxRuntimeExports.jsx("button",{onClick:()=>Re(nr),style:{marginRight:"10px",padding:"8px 16px",backgroundColor:Se===nr?"#1ccad4":"#f0f0f0",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:"pointer"},children:nr},nr))})]}),Xe>1&&jsxRuntimeExports.jsxs("div",{className:"pagination-controls",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Fe(nr=>Math.max(nr-1,1)),disabled:Be===1,children:"◀"}),jsxRuntimeExports.jsxs("span",{style:{margin:"0 10px"},children:["Page ",Be," of ",Xe]}),jsxRuntimeExports.jsx("button",{onClick:()=>Fe(nr=>Math.min(nr+1,Xe)),disabled:Be===Xe,children:"▶"})]})]})}),Ie&&jsxRuntimeExports.jsxs("div",{className:"search-results-info",children:["Found ",Ae.length," ticket",Ae.length!==1?"s":"",ke!=="all"&&` in ${ke.replace(/([A-Z])/g," $1").toLowerCase()}`,Ie&&` for "${Ie}"`]}),jsxRuntimeExports.jsxs("div",{className:"tickets-page-wrapper",children:[jsxRuntimeExports.jsx("div",{className:`ticket-list-panel ${Ve?"shrink":"full-width"}`,children:ir.length===0?jsxRuntimeExports.jsx("p",{children:"No tickets found."}):ir.map(nr=>jsxRuntimeExports.jsx(TicketCard,{ticket:nr,isSelected:nr.id===ze,onClick:()=>sr(nr)},nr.id))}),Ve&&jsxRuntimeExports.jsx("div",{className:"ticket-detail-panel",children:jsxRuntimeExports.jsx(TicketDetail,{ticket:Ve,onClose:()=>{Ke("/tickets")}})})]})]})};function Customers(){return jsxRuntimeExports.jsx("div",{children:"Customers"})}function Devices(){return jsxRuntimeExports.jsx("div",{children:"Devices"})}function Archived(){return jsxRuntimeExports.jsx("div",{children:"Archived"})}const LoginPage=()=>{const Ee=useNavigate(),[t,Ae]=reactExports.useState(""),[_e,xe]=reactExports.useState(""),[Ce,Se]=reactExports.useState(""),[Re,Be]=reactExports.useState(!1),{setTechnician:Fe}=useUser(),Ie=async Ue=>{Ue.preventDefault(),Be(!0),Se("");try{const Oe=(await signInWithEmailAndPassword(auth,t,_e)).user,je=query(collection(db,"technicions"),where("email","==",Oe.email)),Ke=await getDocs(je);if(Ke.empty)console.log("No technician record found for this email.");else{const ze=Ke.docs[0].data();Fe(Ke.docs[0].data())}Ee("/tickets")}catch(ke){console.log(ke.message),Se("Invalid email or password")}finally{Be(!1)}};return jsxRuntimeExports.jsx("div",{className:"login-page",children:jsxRuntimeExports.jsxs("form",{className:"login-form",onSubmit:Ie,children:[jsxRuntimeExports.jsx("h2",{children:"Login"}),Ce&&jsxRuntimeExports.jsx("p",{className:"error-msg",children:Ce}),jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:Ue=>Ae(Ue.target.value),required:!0}),jsxRuntimeExports.jsx("input",{type:"password",placeholder:"Password",value:_e,onChange:Ue=>xe(Ue.target.value),required:!0}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Re,children:Re?"Logging in...":"Login"})]})})},firebaseConfig={apiKey:"AIzaSyCWSayCLeyr_6aBSNjb4nCY--Lw-DB_4S4",authDomain:"solutionssystemmain.firebaseapp.com",projectId:"solutionssystemmain",storageBucket:"solutionssystemmain.appspot.com",messagingSenderId:"961697855820",appId:"1:961697855820:web:a83ed62b1fdacee11f77e9"},secondaryApp=initializeApp(firebaseConfig,"secondary"),secondaryAuth=getAuth(secondaryApp),createUserWithoutSessionConflict=async(Ee,t)=>{try{const Ae=await createUserWithEmailAndPassword(secondaryAuth,Ee,t);return await signOut(secondaryAuth),{success:!0,uid:Ae.user.uid,user:Ae.user}}catch(Ae){return console.error("Error creating user:",Ae),{success:!1,error:Ae.message}}},UserManagement=()=>{const{technician:Ee}=useUser(),[t,Ae]=reactExports.useState([]),[_e,xe]=reactExports.useState(!0),[Ce,Se]=reactExports.useState(!1),[Re,Be]=reactExports.useState(!1),[Fe,Ie]=reactExports.useState(null),[Ue,ke]=reactExports.useState(null),[Oe,je]=reactExports.useState({name:"",email:"",password:"",location:"M",permission:"User",isAccountant:!1}),[Ke,ze]=reactExports.useState({email:"",password:""}),[Ve,Xe]=reactExports.useState(""),[ir,sr]=reactExports.useState(""),[rr,nr]=reactExports.useState(""),[We,Ge]=reactExports.useState(""),Ze=(Ee==null?void 0:Ee.name)==="System Admin"||(Ee==null?void 0:Ee.permission)==="SystemAdmin"||(Ee==null?void 0:Ee.permission)==="Admin";reactExports.useEffect(()=>{if(!Ze){Xe("Access denied. Only System Admin can manage users."),xe(!1);return}or()},[Ze]);const or=async()=>{try{const ar=(await getDocs(collection(db,"technicions"))).docs.map(tr=>({id:tr.id,...tr.data()}));Ae(ar)}catch(Sr){console.error("Error fetching users:",Sr),Xe("Failed to fetch users")}finally{xe(!1)}},He=Sr=>{const{name:ar,value:tr,type:lr,checked:pr}=Sr.target;je(Er=>({...Er,[ar]:lr==="checkbox"?pr:tr}))},Je=Sr=>{const{name:ar,value:tr}=Sr.target;ze(lr=>({...lr,[ar]:tr}))},$e=()=>{je({name:"",email:"",password:"",location:"M",permission:"User",isAccountant:!1}),Ie(null),Xe(""),sr("")},mr=()=>{ze({email:"",password:""}),ke(null),nr(""),Ge("")},wr=async Sr=>{if(Sr.preventDefault(),Xe(""),sr(""),!Oe.name||!Oe.email){Xe("Name and email are required");return}if(!Fe&&!Oe.password){Xe("Password is required for new users");return}try{if(Fe){const ar=doc(db,"technicions",Fe.id),tr={name:Oe.name,email:Oe.email,location:Oe.location,permission:Oe.permission,isAccountant:Oe.isAccountant};await updateDoc(ar,tr),sr("User updated successfully")}else{const ar=await createUserWithoutSessionConflict(Oe.email,Oe.password);if(ar.success)await addDoc(collection(db,"technicions"),{name:Oe.name,email:Oe.email,location:Oe.location,permission:Oe.permission,isAccountant:Oe.isAccountant,uid:ar.uid,createdAt:new Date,createdBy:Ee.name}),sr("User created successfully!");else throw new Error(ar.error||"Failed to create user")}await or(),Se(!1),$e()}catch(ar){console.error("Error saving user:",ar),Xe(ar.message||"Failed to save user")}},vr=Sr=>{Ie(Sr),je({name:Sr.name,email:Sr.email,password:"",location:Sr.location||"M",permission:Sr.permission||"User",isAccountant:Sr.isAccountant||!1}),Se(!0)},ur=async Sr=>{if(window.confirm("Are you sure you want to delete this user?"))try{await deleteDoc(doc(db,"technicions",Sr)),sr("User deleted successfully"),await or()}catch(ar){console.error("Error deleting user:",ar),Xe("Failed to delete user")}},Cr=Sr=>{ke(Sr),ze({email:"",password:""}),Be(!0)},_r=async Sr=>{if(Sr.preventDefault(),nr(""),Ge(""),!Ke.email||!Ke.password){nr("Both email and password are required");return}try{const ar=await createUserWithoutSessionConflict(Ke.email,Ke.password);if(ar.success){const tr=doc(db,"technicions",Ue.id);await updateDoc(tr,{email:Ke.email,uid:ar.uid}),Ge("Login credentials assigned successfully!"),await or(),setTimeout(()=>{Be(!1),mr()},2e3)}else throw new Error(ar.error||"Failed to create authentication account")}catch(ar){console.error("Error assigning credentials:",ar),nr(ar.message||"Failed to assign credentials")}},hr=Sr=>{let ar="permission-badge ",tr="";return Sr.permission==="Admin"?(ar+="admin",tr="Admin"):(ar+="user",tr="User"),Sr.isAccountant&&(tr+=" + Accountant",ar+=" accountant"),jsxRuntimeExports.jsx("span",{className:ar,children:tr})};return _e?jsxRuntimeExports.jsx("div",{className:"loading",children:"Loading users..."}):Ze?jsxRuntimeExports.jsxs("div",{className:"user-management",children:[jsxRuntimeExports.jsxs("div",{className:"page-header",children:[jsxRuntimeExports.jsx("h1",{children:"👥 User Management"}),jsxRuntimeExports.jsx("button",{className:"btn-primary",onClick:()=>Se(!0),children:"➕ Add New User"})]}),Ve&&jsxRuntimeExports.jsx("div",{className:"alert alert-error",children:Ve}),ir&&jsxRuntimeExports.jsx("div",{className:"alert alert-success",children:ir}),jsxRuntimeExports.jsx("div",{className:"users-grid",children:t.map(Sr=>jsxRuntimeExports.jsxs("div",{className:"user-card",children:[jsxRuntimeExports.jsxs("div",{className:"user-info",children:[jsxRuntimeExports.jsx("h3",{children:Sr.name}),Sr.email?jsxRuntimeExports.jsxs("p",{className:"user-email",children:["📧 ",Sr.email]}):jsxRuntimeExports.jsx("p",{className:"user-email no-email",children:"❌ No login credentials"}),jsxRuntimeExports.jsxs("p",{className:"user-location",children:["📍"," ",Sr.location==="M"?"Main Office (Amman)":"Irbid Branch"]}),hr(Sr)]}),jsxRuntimeExports.jsx("div",{className:"user-actions",children:Sr.email?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"btn-secondary",onClick:()=>vr(Sr),children:"✏️ Edit"}),jsxRuntimeExports.jsx("button",{className:"btn-danger",onClick:()=>ur(Sr.id),disabled:Sr.name==="System Admin",children:"🗑️ Delete"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"btn-primary assign-credentials",onClick:()=>Cr(Sr),children:"🔐 Assign Login"}),jsxRuntimeExports.jsx("button",{className:"btn-secondary",onClick:()=>vr(Sr),children:"✏️ Edit Info"}),jsxRuntimeExports.jsx("button",{className:"btn-danger",onClick:()=>ur(Sr.id),disabled:Sr.name==="System Admin",children:"🗑️ Delete"})]})})]},Sr.id))}),Ce&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"modal",children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h2",{children:Fe?"Edit User":"Add New User"}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>{Se(!1),$e()},children:"✕"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:wr,className:"user-form",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",children:"Name *"}),jsxRuntimeExports.jsx("input",{type:"text",id:"name",name:"name",value:Oe.name,onChange:He,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",children:"Email *"}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",name:"email",value:Oe.email,onChange:He,required:!0,disabled:Fe})]}),!Fe&&jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",children:"Password *"}),jsxRuntimeExports.jsx("input",{type:"password",id:"password",name:"password",value:Oe.password,onChange:He,required:!0,minLength:"6"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"location",children:"Location *"}),jsxRuntimeExports.jsxs("select",{id:"location",name:"location",value:Oe.location,onChange:He,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"M",children:"Main Office (Amman)"}),jsxRuntimeExports.jsx("option",{value:"I",children:"Irbid Branch"})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"permission",children:"Permission Level *"}),jsxRuntimeExports.jsxs("select",{id:"permission",name:"permission",value:Oe.permission,onChange:He,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"User",children:"User"}),jsxRuntimeExports.jsx("option",{value:"Admin",children:"Admin"})]})]}),jsxRuntimeExports.jsx("div",{className:"form-group checkbox-group",children:jsxRuntimeExports.jsxs("label",{className:"checkbox-label",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"isAccountant",checked:Oe.isAccountant,onChange:He}),jsxRuntimeExports.jsx("span",{className:"checkmark"}),"Also assign as Accountant"]})}),jsxRuntimeExports.jsxs("div",{className:"form-actions",children:[jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:Fe?"Update User":"Create User"}),jsxRuntimeExports.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{Se(!1),$e()},children:"Cancel"})]})]})]})}),Re&&Ue&&jsxRuntimeExports.jsx("div",{className:"modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"modal",children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h2",{children:"🔐 Assign Login Credentials"}),jsxRuntimeExports.jsxs("p",{className:"modal-subtitle",children:["Assign email and password for:"," ",jsxRuntimeExports.jsx("strong",{children:Ue.name})]}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=>{Be(!1),mr()},children:"✕"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:_r,className:"user-form",children:[rr&&jsxRuntimeExports.jsxs("div",{className:"error-message",children:["❌ ",rr]}),We&&jsxRuntimeExports.jsxs("div",{className:"success-message",children:["✅ ",We]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"credentials-email",children:"Email Address *"}),jsxRuntimeExports.jsx("input",{type:"email",id:"credentials-email",name:"email",value:Ke.email,onChange:Je,placeholder:"Enter email for login",required:!0}),jsxRuntimeExports.jsx("small",{className:"form-help",children:"This email will be used to log into the system"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"credentials-password",children:"Password *"}),jsxRuntimeExports.jsx("input",{type:"password",id:"credentials-password",name:"password",value:Ke.password,onChange:Je,placeholder:"Enter password (min 6 characters)",required:!0,minLength:"6"}),jsxRuntimeExports.jsx("small",{className:"form-help",children:"Password must be at least 6 characters long"})]}),jsxRuntimeExports.jsxs("div",{className:"credentials-info",children:[jsxRuntimeExports.jsx("h4",{children:"ℹ️ Current User Info:"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Name:"})," ",Ue.name]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Location:"})," ",Ue.location==="M"?"Main Office (Amman)":"Irbid Branch"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Permission:"})," ",Ue.permission||"User"]}),Ue.isAccountant&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Additional Role:"})," Accountant"]})]}),jsxRuntimeExports.jsxs("div",{className:"form-actions",children:[jsxRuntimeExports.jsx("button",{type:"submit",className:"btn-primary",children:"🔐 Assign Credentials"}),jsxRuntimeExports.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{Be(!1),mr()},children:"Cancel"})]})]})]})})]}):jsxRuntimeExports.jsxs("div",{className:"access-denied",children:[jsxRuntimeExports.jsx("h2",{children:"Access Denied"}),jsxRuntimeExports.jsx("p",{children:"Only System Admin can access user management."})]})};var lib={exports:{}},Modal$1={},ModalPortal={exports:{}},focusManager={},tabbable={exports:{}},hasRequiredTabbable;function requireTabbable(){return hasRequiredTabbable||(hasRequiredTabbable=1,function(Ee,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ie;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var Ae="none",_e="contents",xe=/^(input|select|textarea|button|object|iframe)$/;function Ce(Ue,ke){return ke.getPropertyValue("overflow")!=="visible"||Ue.scrollWidth<=0&&Ue.scrollHeight<=0}function Se(Ue){var ke=Ue.offsetWidth<=0&&Ue.offsetHeight<=0;if(ke&&!Ue.innerHTML)return!0;try{var Oe=window.getComputedStyle(Ue),je=Oe.getPropertyValue("display");return ke?je!==_e&&Ce(Ue,Oe):je===Ae}catch{return console.warn("Failed to inspect element style"),!1}}function Re(Ue){for(var ke=Ue,Oe=Ue.getRootNode&&Ue.getRootNode();ke&&ke!==document.body;){if(Oe&&ke===Oe&&(ke=Oe.host.parentNode),Se(ke))return!1;ke=ke.parentNode}return!0}function Be(Ue,ke){var Oe=Ue.nodeName.toLowerCase(),je=xe.test(Oe)&&!Ue.disabled||Oe==="a"&&Ue.href||ke;return je&&Re(Ue)}function Fe(Ue){var ke=Ue.getAttribute("tabindex");ke===null&&(ke=void 0);var Oe=isNaN(ke);return(Oe||ke>=0)&&Be(Ue,!Oe)}function Ie(Ue){var ke=[].slice.call(Ue.querySelectorAll("*"),0).reduce(function(Oe,je){return Oe.concat(je.shadowRoot?Ie(je.shadowRoot):[je])},[]);return ke.filter(Fe)}Ee.exports=t.default}(tabbable,tabbable.exports)),tabbable.exports}var hasRequiredFocusManager;function requireFocusManager(){if(hasRequiredFocusManager)return focusManager;hasRequiredFocusManager=1,Object.defineProperty(focusManager,"__esModule",{value:!0}),focusManager.resetState=Se,focusManager.log=Re,focusManager.handleBlur=Be,focusManager.handleFocus=Fe,focusManager.markForFocusLater=Ie,focusManager.returnFocus=Ue,focusManager.popWithoutFocus=ke,focusManager.setupScopedFocus=Oe,focusManager.teardownScopedFocus=je;var Ee=requireTabbable(),t=Ae(Ee);function Ae(Ke){return Ke&&Ke.__esModule?Ke:{default:Ke}}var _e=[],xe=null,Ce=!1;function Se(){_e=[]}function Re(){}function Be(){Ce=!0}function Fe(){if(Ce){if(Ce=!1,!xe)return;setTimeout(function(){if(!xe.contains(document.activeElement)){var Ke=(0,t.default)(xe)[0]||xe;Ke.focus()}},0)}}function Ie(){_e.push(document.activeElement)}function Ue(){var Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ze=null;try{_e.length!==0&&(ze=_e.pop(),ze.focus({preventScroll:Ke}));return}catch{console.warn(["You tried to return focus to",ze,"but it is not in the DOM anymore"].join(" "))}}function ke(){_e.length>0&&_e.pop()}function Oe(Ke){xe=Ke,window.addEventListener?(window.addEventListener("blur",Be,!1),document.addEventListener("focus",Fe,!0)):(window.attachEvent("onBlur",Be),document.attachEvent("onFocus",Fe))}function je(){xe=null,window.addEventListener?(window.removeEventListener("blur",Be),document.removeEventListener("focus",Fe)):(window.detachEvent("onBlur",Be),document.detachEvent("onFocus",Fe))}return focusManager}var scopeTab={exports:{}},hasRequiredScopeTab;function requireScopeTab(){return hasRequiredScopeTab||(hasRequiredScopeTab=1,function(Ee,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=Se;var Ae=requireTabbable(),_e=xe(Ae);function xe(Re){return Re&&Re.__esModule?Re:{default:Re}}function Ce(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return Re.activeElement.shadowRoot?Ce(Re.activeElement.shadowRoot):Re.activeElement}function Se(Re,Be){var Fe=(0,_e.default)(Re);if(!Fe.length){Be.preventDefault();return}var Ie=void 0,Ue=Be.shiftKey,ke=Fe[0],Oe=Fe[Fe.length-1],je=Ce();if(Re===je){if(!Ue)return;Ie=Oe}if(Oe===je&&!Ue&&(Ie=ke),ke===je&&Ue&&(Ie=Oe),Ie){Be.preventDefault(),Ie.focus();return}var Ke=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),ze=Ke!=null&&Ke[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(ze){var Ve=Fe.indexOf(je);if(Ve>-1&&(Ve+=Ue?-1:1),Ie=Fe[Ve],typeof Ie>"u"){Be.preventDefault(),Ie=Ue?Oe:ke,Ie.focus();return}Be.preventDefault(),Ie.focus()}}Ee.exports=t.default}(scopeTab,scopeTab.exports)),scopeTab.exports}var ariaAppHider={},warning_1,hasRequiredWarning;function requireWarning(){if(hasRequiredWarning)return warning_1;hasRequiredWarning=1;var Ee=function(){};return warning_1=Ee,warning_1}var safeHTMLElement={},exenv={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var hasRequiredExenv;function requireExenv(){return hasRequiredExenv||(hasRequiredExenv=1,function(Ee){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),Ae={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};Ee.exports?Ee.exports=Ae:window.ExecutionEnvironment=Ae})()}(exenv)),exenv.exports}var hasRequiredSafeHTMLElement;function requireSafeHTMLElement(){if(hasRequiredSafeHTMLElement)return safeHTMLElement;hasRequiredSafeHTMLElement=1,Object.defineProperty(safeHTMLElement,"__esModule",{value:!0}),safeHTMLElement.canUseDOM=safeHTMLElement.SafeNodeList=safeHTMLElement.SafeHTMLCollection=void 0;var Ee=requireExenv(),t=Ae(Ee);function Ae(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}var _e=t.default,xe=_e.canUseDOM?window.HTMLElement:{};return safeHTMLElement.SafeHTMLCollection=_e.canUseDOM?window.HTMLCollection:{},safeHTMLElement.SafeNodeList=_e.canUseDOM?window.NodeList:{},safeHTMLElement.canUseDOM=_e.canUseDOM,safeHTMLElement.default=xe,safeHTMLElement}var hasRequiredAriaAppHider;function requireAriaAppHider(){if(hasRequiredAriaAppHider)return ariaAppHider;hasRequiredAriaAppHider=1,Object.defineProperty(ariaAppHider,"__esModule",{value:!0}),ariaAppHider.resetState=Ce,ariaAppHider.log=Se,ariaAppHider.assertNodeList=Re,ariaAppHider.setElement=Be,ariaAppHider.validateElement=Fe,ariaAppHider.hide=Ie,ariaAppHider.show=Ue,ariaAppHider.documentNotReadyOrSSRTesting=ke;var Ee=requireWarning(),t=_e(Ee),Ae=requireSafeHTMLElement();function _e(Oe){return Oe&&Oe.__esModule?Oe:{default:Oe}}var xe=null;function Ce(){xe&&(xe.removeAttribute?xe.removeAttribute("aria-hidden"):xe.length!=null?xe.forEach(function(Oe){return Oe.removeAttribute("aria-hidden")}):document.querySelectorAll(xe).forEach(function(Oe){return Oe.removeAttribute("aria-hidden")})),xe=null}function Se(){}function Re(Oe,je){if(!Oe||!Oe.length)throw new Error("react-modal: No elements were found for selector "+je+".")}function Be(Oe){var je=Oe;if(typeof je=="string"&&Ae.canUseDOM){var Ke=document.querySelectorAll(je);Re(Ke,je),je=Ke}return xe=je||xe,xe}function Fe(Oe){var je=Oe||xe;return je?Array.isArray(je)||je instanceof HTMLCollection||je instanceof NodeList?je:[je]:((0,t.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Ie(Oe){var je=!0,Ke=!1,ze=void 0;try{for(var Ve=Fe(Oe)[Symbol.iterator](),Xe;!(je=(Xe=Ve.next()).done);je=!0){var ir=Xe.value;ir.setAttribute("aria-hidden","true")}}catch(sr){Ke=!0,ze=sr}finally{try{!je&&Ve.return&&Ve.return()}finally{if(Ke)throw ze}}}function Ue(Oe){var je=!0,Ke=!1,ze=void 0;try{for(var Ve=Fe(Oe)[Symbol.iterator](),Xe;!(je=(Xe=Ve.next()).done);je=!0){var ir=Xe.value;ir.removeAttribute("aria-hidden")}}catch(sr){Ke=!0,ze=sr}finally{try{!je&&Ve.return&&Ve.return()}finally{if(Ke)throw ze}}}function ke(){xe=null}return ariaAppHider}var classList={},hasRequiredClassList;function requireClassList(){if(hasRequiredClassList)return classList;hasRequiredClassList=1,Object.defineProperty(classList,"__esModule",{value:!0}),classList.resetState=_e,classList.log=xe;var Ee={},t={};function Ae(Fe,Ie){Fe.classList.remove(Ie)}function _e(){var Fe=document.getElementsByTagName("html")[0];for(var Ie in Ee)Ae(Fe,Ee[Ie]);var Ue=document.body;for(var ke in t)Ae(Ue,t[ke]);Ee={},t={}}function xe(){}var Ce=function(Ie,Ue){return Ie[Ue]||(Ie[Ue]=0),Ie[Ue]+=1,Ue},Se=function(Ie,Ue){return Ie[Ue]&&(Ie[Ue]-=1),Ue},Re=function(Ie,Ue,ke){ke.forEach(function(Oe){Ce(Ue,Oe),Ie.add(Oe)})},Be=function(Ie,Ue,ke){ke.forEach(function(Oe){Se(Ue,Oe),Ue[Oe]===0&&Ie.remove(Oe)})};return classList.add=function(Ie,Ue){return Re(Ie.classList,Ie.nodeName.toLowerCase()=="html"?Ee:t,Ue.split(" "))},classList.remove=function(Ie,Ue){return Be(Ie.classList,Ie.nodeName.toLowerCase()=="html"?Ee:t,Ue.split(" "))},classList}var portalOpenInstances={},hasRequiredPortalOpenInstances;function requirePortalOpenInstances(){if(hasRequiredPortalOpenInstances)return portalOpenInstances;hasRequiredPortalOpenInstances=1,Object.defineProperty(portalOpenInstances,"__esModule",{value:!0}),portalOpenInstances.log=_e,portalOpenInstances.resetState=xe;function Ee(Ce,Se){if(!(Ce instanceof Se))throw new TypeError("Cannot call a class as a function")}var t=function Ce(){var Se=this;Ee(this,Ce),this.register=function(Re){Se.openInstances.indexOf(Re)===-1&&(Se.openInstances.push(Re),Se.emit("register"))},this.deregister=function(Re){var Be=Se.openInstances.indexOf(Re);Be!==-1&&(Se.openInstances.splice(Be,1),Se.emit("deregister"))},this.subscribe=function(Re){Se.subscribers.push(Re)},this.emit=function(Re){Se.subscribers.forEach(function(Be){return Be(Re,Se.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Ae=new t;function _e(){console.log("portalOpenInstances ----------"),console.log(Ae.openInstances.length),Ae.openInstances.forEach(function(Ce){return console.log(Ce)}),console.log("end portalOpenInstances ----------")}function xe(){Ae=new t}return portalOpenInstances.default=Ae,portalOpenInstances}var bodyTrap={},hasRequiredBodyTrap;function requireBodyTrap(){if(hasRequiredBodyTrap)return bodyTrap;hasRequiredBodyTrap=1,Object.defineProperty(bodyTrap,"__esModule",{value:!0}),bodyTrap.resetState=Se,bodyTrap.log=Re;var Ee=requirePortalOpenInstances(),t=Ae(Ee);function Ae(Ie){return Ie&&Ie.__esModule?Ie:{default:Ie}}var _e=void 0,xe=void 0,Ce=[];function Se(){for(var Ie=[_e,xe],Ue=0;Ue<Ie.length;Ue++){var ke=Ie[Ue];ke&&ke.parentNode&&ke.parentNode.removeChild(ke)}_e=xe=null,Ce=[]}function Re(){console.log("bodyTrap ----------"),console.log(Ce.length);for(var Ie=[_e,xe],Ue=0;Ue<Ie.length;Ue++){var ke=Ie[Ue],Oe=ke||{};console.log(Oe.nodeName,Oe.className,Oe.id)}console.log("edn bodyTrap ----------")}function Be(){Ce.length!==0&&Ce[Ce.length-1].focusContent()}function Fe(Ie,Ue){!_e&&!xe&&(_e=document.createElement("div"),_e.setAttribute("data-react-modal-body-trap",""),_e.style.position="absolute",_e.style.opacity="0",_e.setAttribute("tabindex","0"),_e.addEventListener("focus",Be),xe=_e.cloneNode(),xe.addEventListener("focus",Be)),Ce=Ue,Ce.length>0?(document.body.firstChild!==_e&&document.body.insertBefore(_e,document.body.firstChild),document.body.lastChild!==xe&&document.body.appendChild(xe)):(_e.parentElement&&_e.parentElement.removeChild(_e),xe.parentElement&&xe.parentElement.removeChild(xe))}return t.default.subscribe(Fe),bodyTrap}var hasRequiredModalPortal;function requireModalPortal(){return hasRequiredModalPortal||(hasRequiredModalPortal=1,function(Ee,t){Object.defineProperty(t,"__esModule",{value:!0});var Ae=Object.assign||function(mr){for(var wr=1;wr<arguments.length;wr++){var vr=arguments[wr];for(var ur in vr)Object.prototype.hasOwnProperty.call(vr,ur)&&(mr[ur]=vr[ur])}return mr},_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(mr){return typeof mr}:function(mr){return mr&&typeof Symbol=="function"&&mr.constructor===Symbol&&mr!==Symbol.prototype?"symbol":typeof mr},xe=function(){function mr(wr,vr){for(var ur=0;ur<vr.length;ur++){var Cr=vr[ur];Cr.enumerable=Cr.enumerable||!1,Cr.configurable=!0,"value"in Cr&&(Cr.writable=!0),Object.defineProperty(wr,Cr.key,Cr)}}return function(wr,vr,ur){return vr&&mr(wr.prototype,vr),ur&&mr(wr,ur),wr}}(),Ce=requireReact(),Se=requirePropTypes(),Re=rr(Se),Be=requireFocusManager(),Fe=sr(Be),Ie=requireScopeTab(),Ue=rr(Ie),ke=requireAriaAppHider(),Oe=sr(ke),je=requireClassList(),Ke=sr(je),ze=requireSafeHTMLElement(),Ve=rr(ze),Xe=requirePortalOpenInstances(),ir=rr(Xe);requireBodyTrap();function sr(mr){if(mr&&mr.__esModule)return mr;var wr={};if(mr!=null)for(var vr in mr)Object.prototype.hasOwnProperty.call(mr,vr)&&(wr[vr]=mr[vr]);return wr.default=mr,wr}function rr(mr){return mr&&mr.__esModule?mr:{default:mr}}function nr(mr,wr){if(!(mr instanceof wr))throw new TypeError("Cannot call a class as a function")}function We(mr,wr){if(!mr)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wr&&(typeof wr=="object"||typeof wr=="function")?wr:mr}function Ge(mr,wr){if(typeof wr!="function"&&wr!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof wr);mr.prototype=Object.create(wr&&wr.prototype,{constructor:{value:mr,enumerable:!1,writable:!0,configurable:!0}}),wr&&(Object.setPrototypeOf?Object.setPrototypeOf(mr,wr):mr.__proto__=wr)}var Ze={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},or=function(wr){return wr.code==="Tab"||wr.keyCode===9},He=function(wr){return wr.code==="Escape"||wr.keyCode===27},Je=0,$e=function(mr){Ge(wr,mr);function wr(vr){nr(this,wr);var ur=We(this,(wr.__proto__||Object.getPrototypeOf(wr)).call(this,vr));return ur.setOverlayRef=function(Cr){ur.overlay=Cr,ur.props.overlayRef&&ur.props.overlayRef(Cr)},ur.setContentRef=function(Cr){ur.content=Cr,ur.props.contentRef&&ur.props.contentRef(Cr)},ur.afterClose=function(){var Cr=ur.props,_r=Cr.appElement,hr=Cr.ariaHideApp,Sr=Cr.htmlOpenClassName,ar=Cr.bodyOpenClassName,tr=Cr.parentSelector,lr=tr&&tr().ownerDocument||document;ar&&Ke.remove(lr.body,ar),Sr&&Ke.remove(lr.getElementsByTagName("html")[0],Sr),hr&&Je>0&&(Je-=1,Je===0&&Oe.show(_r)),ur.props.shouldFocusAfterRender&&(ur.props.shouldReturnFocusAfterClose?(Fe.returnFocus(ur.props.preventScroll),Fe.teardownScopedFocus()):Fe.popWithoutFocus()),ur.props.onAfterClose&&ur.props.onAfterClose(),ir.default.deregister(ur)},ur.open=function(){ur.beforeOpen(),ur.state.afterOpen&&ur.state.beforeClose?(clearTimeout(ur.closeTimer),ur.setState({beforeClose:!1})):(ur.props.shouldFocusAfterRender&&(Fe.setupScopedFocus(ur.node),Fe.markForFocusLater()),ur.setState({isOpen:!0},function(){ur.openAnimationFrame=requestAnimationFrame(function(){ur.setState({afterOpen:!0}),ur.props.isOpen&&ur.props.onAfterOpen&&ur.props.onAfterOpen({overlayEl:ur.overlay,contentEl:ur.content})})}))},ur.close=function(){ur.props.closeTimeoutMS>0?ur.closeWithTimeout():ur.closeWithoutTimeout()},ur.focusContent=function(){return ur.content&&!ur.contentHasFocus()&&ur.content.focus({preventScroll:!0})},ur.closeWithTimeout=function(){var Cr=Date.now()+ur.props.closeTimeoutMS;ur.setState({beforeClose:!0,closesAt:Cr},function(){ur.closeTimer=setTimeout(ur.closeWithoutTimeout,ur.state.closesAt-Date.now())})},ur.closeWithoutTimeout=function(){ur.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},ur.afterClose)},ur.handleKeyDown=function(Cr){or(Cr)&&(0,Ue.default)(ur.content,Cr),ur.props.shouldCloseOnEsc&&He(Cr)&&(Cr.stopPropagation(),ur.requestClose(Cr))},ur.handleOverlayOnClick=function(Cr){ur.shouldClose===null&&(ur.shouldClose=!0),ur.shouldClose&&ur.props.shouldCloseOnOverlayClick&&(ur.ownerHandlesClose()?ur.requestClose(Cr):ur.focusContent()),ur.shouldClose=null},ur.handleContentOnMouseUp=function(){ur.shouldClose=!1},ur.handleOverlayOnMouseDown=function(Cr){!ur.props.shouldCloseOnOverlayClick&&Cr.target==ur.overlay&&Cr.preventDefault()},ur.handleContentOnClick=function(){ur.shouldClose=!1},ur.handleContentOnMouseDown=function(){ur.shouldClose=!1},ur.requestClose=function(Cr){return ur.ownerHandlesClose()&&ur.props.onRequestClose(Cr)},ur.ownerHandlesClose=function(){return ur.props.onRequestClose},ur.shouldBeClosed=function(){return!ur.state.isOpen&&!ur.state.beforeClose},ur.contentHasFocus=function(){return document.activeElement===ur.content||ur.content.contains(document.activeElement)},ur.buildClassName=function(Cr,_r){var hr=(typeof _r>"u"?"undefined":_e(_r))==="object"?_r:{base:Ze[Cr],afterOpen:Ze[Cr]+"--after-open",beforeClose:Ze[Cr]+"--before-close"},Sr=hr.base;return ur.state.afterOpen&&(Sr=Sr+" "+hr.afterOpen),ur.state.beforeClose&&(Sr=Sr+" "+hr.beforeClose),typeof _r=="string"&&_r?Sr+" "+_r:Sr},ur.attributesFromObject=function(Cr,_r){return Object.keys(_r).reduce(function(hr,Sr){return hr[Cr+"-"+Sr]=_r[Sr],hr},{})},ur.state={afterOpen:!1,beforeClose:!1},ur.shouldClose=null,ur.moveFromContentToOverlay=null,ur}return xe(wr,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(ur,Cr){this.props.isOpen&&!ur.isOpen?this.open():!this.props.isOpen&&ur.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!Cr.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var ur=this.props,Cr=ur.appElement,_r=ur.ariaHideApp,hr=ur.htmlOpenClassName,Sr=ur.bodyOpenClassName,ar=ur.parentSelector,tr=ar&&ar().ownerDocument||document;Sr&&Ke.add(tr.body,Sr),hr&&Ke.add(tr.getElementsByTagName("html")[0],hr),_r&&(Je+=1,Oe.hide(Cr)),ir.default.register(this)}},{key:"render",value:function(){var ur=this.props,Cr=ur.id,_r=ur.className,hr=ur.overlayClassName,Sr=ur.defaultStyles,ar=ur.children,tr=_r?{}:Sr.content,lr=hr?{}:Sr.overlay;if(this.shouldBeClosed())return null;var pr={ref:this.setOverlayRef,className:this.buildClassName("overlay",hr),style:Ae({},lr,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Er=Ae({id:Cr,ref:this.setContentRef,style:Ae({},tr,this.props.style.content),className:this.buildClassName("content",_r),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",Ae({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Rr=this.props.contentElement(Er,ar);return this.props.overlayElement(pr,Rr)}}]),wr}(Ce.Component);$e.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},$e.propTypes={isOpen:Re.default.bool.isRequired,defaultStyles:Re.default.shape({content:Re.default.object,overlay:Re.default.object}),style:Re.default.shape({content:Re.default.object,overlay:Re.default.object}),className:Re.default.oneOfType([Re.default.string,Re.default.object]),overlayClassName:Re.default.oneOfType([Re.default.string,Re.default.object]),parentSelector:Re.default.func,bodyOpenClassName:Re.default.string,htmlOpenClassName:Re.default.string,ariaHideApp:Re.default.bool,appElement:Re.default.oneOfType([Re.default.instanceOf(Ve.default),Re.default.instanceOf(ze.SafeHTMLCollection),Re.default.instanceOf(ze.SafeNodeList),Re.default.arrayOf(Re.default.instanceOf(Ve.default))]),onAfterOpen:Re.default.func,onAfterClose:Re.default.func,onRequestClose:Re.default.func,closeTimeoutMS:Re.default.number,shouldFocusAfterRender:Re.default.bool,shouldCloseOnOverlayClick:Re.default.bool,shouldReturnFocusAfterClose:Re.default.bool,preventScroll:Re.default.bool,role:Re.default.string,contentLabel:Re.default.string,aria:Re.default.object,data:Re.default.object,children:Re.default.node,shouldCloseOnEsc:Re.default.bool,overlayRef:Re.default.func,contentRef:Re.default.func,id:Re.default.string,overlayElement:Re.default.func,contentElement:Re.default.func,testId:Re.default.string},t.default=$e,Ee.exports=t.default}(ModalPortal,ModalPortal.exports)),ModalPortal.exports}function componentWillMount(){var Ee=this.constructor.getDerivedStateFromProps(this.props,this.state);Ee!=null&&this.setState(Ee)}function componentWillReceiveProps(Ee){function t(Ae){var _e=this.constructor.getDerivedStateFromProps(Ee,Ae);return _e??null}this.setState(t.bind(this))}function componentWillUpdate(Ee,t){try{var Ae=this.props,_e=this.state;this.props=Ee,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(Ae,_e)}finally{this.props=Ae,this.state=_e}}componentWillMount.__suppressDeprecationWarning=!0;componentWillReceiveProps.__suppressDeprecationWarning=!0;componentWillUpdate.__suppressDeprecationWarning=!0;function polyfill(Ee){var t=Ee.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof Ee.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return Ee;var Ae=null,_e=null,xe=null;if(typeof t.componentWillMount=="function"?Ae="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(Ae="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?_e="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(_e="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?xe="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(xe="UNSAFE_componentWillUpdate"),Ae!==null||_e!==null||xe!==null){var Ce=Ee.displayName||Ee.name,Se=typeof Ee.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+Ce+" uses "+Se+" but also contains the following legacy lifecycles:"+(Ae!==null?`
  `+Ae:"")+(_e!==null?`
  `+_e:"")+(xe!==null?`
  `+xe:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof Ee.getDerivedStateFromProps=="function"&&(t.componentWillMount=componentWillMount,t.componentWillReceiveProps=componentWillReceiveProps),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=componentWillUpdate;var Re=t.componentDidUpdate;t.componentDidUpdate=function(Fe,Ie,Ue){var ke=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:Ue;Re.call(this,Fe,Ie,ke)}}return Ee}const reactLifecyclesCompat_es=Object.freeze(Object.defineProperty({__proto__:null,polyfill},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(reactLifecyclesCompat_es);var hasRequiredModal;function requireModal(){if(hasRequiredModal)return Modal$1;hasRequiredModal=1,Object.defineProperty(Modal$1,"__esModule",{value:!0}),Modal$1.bodyOpenClassName=Modal$1.portalClassName=void 0;var Ee=Object.assign||function(He){for(var Je=1;Je<arguments.length;Je++){var $e=arguments[Je];for(var mr in $e)Object.prototype.hasOwnProperty.call($e,mr)&&(He[mr]=$e[mr])}return He},t=function(){function He(Je,$e){for(var mr=0;mr<$e.length;mr++){var wr=$e[mr];wr.enumerable=wr.enumerable||!1,wr.configurable=!0,"value"in wr&&(wr.writable=!0),Object.defineProperty(Je,wr.key,wr)}}return function(Je,$e,mr){return $e&&He(Je.prototype,$e),mr&&He(Je,mr),Je}}(),Ae=requireReact(),_e=ze(Ae),xe=requireReactDom(),Ce=ze(xe),Se=requirePropTypes(),Re=ze(Se),Be=requireModalPortal(),Fe=ze(Be),Ie=requireAriaAppHider(),Ue=Ke(Ie),ke=requireSafeHTMLElement(),Oe=ze(ke),je=require$$6;function Ke(He){if(He&&He.__esModule)return He;var Je={};if(He!=null)for(var $e in He)Object.prototype.hasOwnProperty.call(He,$e)&&(Je[$e]=He[$e]);return Je.default=He,Je}function ze(He){return He&&He.__esModule?He:{default:He}}function Ve(He,Je){if(!(He instanceof Je))throw new TypeError("Cannot call a class as a function")}function Xe(He,Je){if(!He)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Je&&(typeof Je=="object"||typeof Je=="function")?Je:He}function ir(He,Je){if(typeof Je!="function"&&Je!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Je);He.prototype=Object.create(Je&&Je.prototype,{constructor:{value:He,enumerable:!1,writable:!0,configurable:!0}}),Je&&(Object.setPrototypeOf?Object.setPrototypeOf(He,Je):He.__proto__=Je)}var sr=Modal$1.portalClassName="ReactModalPortal",rr=Modal$1.bodyOpenClassName="ReactModal__Body--open",nr=ke.canUseDOM&&Ce.default.createPortal!==void 0,We=function(Je){return document.createElement(Je)},Ge=function(){return nr?Ce.default.createPortal:Ce.default.unstable_renderSubtreeIntoContainer};function Ze(He){return He()}var or=function(He){ir(Je,He);function Je(){var $e,mr,wr,vr;Ve(this,Je);for(var ur=arguments.length,Cr=Array(ur),_r=0;_r<ur;_r++)Cr[_r]=arguments[_r];return vr=(mr=(wr=Xe(this,($e=Je.__proto__||Object.getPrototypeOf(Je)).call.apply($e,[this].concat(Cr))),wr),wr.removePortal=function(){!nr&&Ce.default.unmountComponentAtNode(wr.node);var hr=Ze(wr.props.parentSelector);hr&&hr.contains(wr.node)?hr.removeChild(wr.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},wr.portalRef=function(hr){wr.portal=hr},wr.renderPortal=function(hr){var Sr=Ge(),ar=Sr(wr,_e.default.createElement(Fe.default,Ee({defaultStyles:Je.defaultStyles},hr)),wr.node);wr.portalRef(ar)},mr),Xe(wr,vr)}return t(Je,[{key:"componentDidMount",value:function(){if(ke.canUseDOM){nr||(this.node=We("div")),this.node.className=this.props.portalClassName;var mr=Ze(this.props.parentSelector);mr.appendChild(this.node),!nr&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(mr){var wr=Ze(mr.parentSelector),vr=Ze(this.props.parentSelector);return{prevParent:wr,nextParent:vr}}},{key:"componentDidUpdate",value:function(mr,wr,vr){if(ke.canUseDOM){var ur=this.props,Cr=ur.isOpen,_r=ur.portalClassName;mr.portalClassName!==_r&&(this.node.className=_r);var hr=vr.prevParent,Sr=vr.nextParent;Sr!==hr&&(hr.removeChild(this.node),Sr.appendChild(this.node)),!(!mr.isOpen&&!Cr)&&!nr&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!ke.canUseDOM||!this.node||!this.portal)){var mr=this.portal.state,wr=Date.now(),vr=mr.isOpen&&this.props.closeTimeoutMS&&(mr.closesAt||wr+this.props.closeTimeoutMS);vr?(mr.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,vr-wr)):this.removePortal()}}},{key:"render",value:function(){if(!ke.canUseDOM||!nr)return null;!this.node&&nr&&(this.node=We("div"));var mr=Ge();return mr(_e.default.createElement(Fe.default,Ee({ref:this.portalRef,defaultStyles:Je.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(mr){Ue.setElement(mr)}}]),Je}(Ae.Component);return or.propTypes={isOpen:Re.default.bool.isRequired,style:Re.default.shape({content:Re.default.object,overlay:Re.default.object}),portalClassName:Re.default.string,bodyOpenClassName:Re.default.string,htmlOpenClassName:Re.default.string,className:Re.default.oneOfType([Re.default.string,Re.default.shape({base:Re.default.string.isRequired,afterOpen:Re.default.string.isRequired,beforeClose:Re.default.string.isRequired})]),overlayClassName:Re.default.oneOfType([Re.default.string,Re.default.shape({base:Re.default.string.isRequired,afterOpen:Re.default.string.isRequired,beforeClose:Re.default.string.isRequired})]),appElement:Re.default.oneOfType([Re.default.instanceOf(Oe.default),Re.default.instanceOf(ke.SafeHTMLCollection),Re.default.instanceOf(ke.SafeNodeList),Re.default.arrayOf(Re.default.instanceOf(Oe.default))]),onAfterOpen:Re.default.func,onRequestClose:Re.default.func,closeTimeoutMS:Re.default.number,ariaHideApp:Re.default.bool,shouldFocusAfterRender:Re.default.bool,shouldCloseOnOverlayClick:Re.default.bool,shouldReturnFocusAfterClose:Re.default.bool,preventScroll:Re.default.bool,parentSelector:Re.default.func,aria:Re.default.object,data:Re.default.object,role:Re.default.string,contentLabel:Re.default.string,shouldCloseOnEsc:Re.default.bool,overlayRef:Re.default.func,contentRef:Re.default.func,id:Re.default.string,overlayElement:Re.default.func,contentElement:Re.default.func},or.defaultProps={isOpen:!1,portalClassName:sr,bodyOpenClassName:rr,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(Je,$e){return _e.default.createElement("div",Je,$e)},contentElement:function(Je,$e){return _e.default.createElement("div",Je,$e)}},or.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,je.polyfill)(or),Modal$1.default=or,Modal$1}var hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,function(Ee,t){Object.defineProperty(t,"__esModule",{value:!0});var Ae=requireModal(),_e=xe(Ae);function xe(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}t.default=_e.default,Ee.exports=t.default}(lib,lib.exports)),lib.exports}var libExports=requireLib();const Modal=getDefaultExportFromCjs(libExports);Modal.setAppElement("#root");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(Ee,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ae,_e){Ae.__proto__=_e}||function(Ae,_e){for(var xe in _e)_e.hasOwnProperty(xe)&&(Ae[xe]=_e[xe])},extendStatics(Ee,t)};function __extends(Ee,t){extendStatics(Ee,t);function Ae(){this.constructor=Ee}Ee.prototype=t===null?Object.create(t):(Ae.prototype=t.prototype,new Ae)}var __assign=function(){return __assign=Object.assign||function(t){for(var Ae,_e=1,xe=arguments.length;_e<xe;_e++){Ae=arguments[_e];for(var Ce in Ae)Object.prototype.hasOwnProperty.call(Ae,Ce)&&(t[Ce]=Ae[Ce])}return t},__assign.apply(this,arguments)};function __rest$2(Ee,t){var Ae={};for(var _e in Ee)Object.prototype.hasOwnProperty.call(Ee,_e)&&t.indexOf(_e)<0&&(Ae[_e]=Ee[_e]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xe=0,_e=Object.getOwnPropertySymbols(Ee);xe<_e.length;xe++)t.indexOf(_e[xe])<0&&Object.prototype.propertyIsEnumerable.call(Ee,_e[xe])&&(Ae[_e[xe]]=Ee[_e[xe]]);return Ae}function __awaiter$1(Ee,t,Ae,_e){function xe(Ce){return Ce instanceof Ae?Ce:new Ae(function(Se){Se(Ce)})}return new(Ae||(Ae=Promise))(function(Ce,Se){function Re(Ie){try{Fe(_e.next(Ie))}catch(Ue){Se(Ue)}}function Be(Ie){try{Fe(_e.throw(Ie))}catch(Ue){Se(Ue)}}function Fe(Ie){Ie.done?Ce(Ie.value):xe(Ie.value).then(Re,Be)}Fe((_e=_e.apply(Ee,[])).next())})}function __generator(Ee,t){var Ae={label:0,sent:function(){if(Ce[0]&1)throw Ce[1];return Ce[1]},trys:[],ops:[]},_e,xe,Ce,Se;return Se={next:Re(0),throw:Re(1),return:Re(2)},typeof Symbol=="function"&&(Se[Symbol.iterator]=function(){return this}),Se;function Re(Fe){return function(Ie){return Be([Fe,Ie])}}function Be(Fe){if(_e)throw new TypeError("Generator is already executing.");for(;Ae;)try{if(_e=1,xe&&(Ce=Fe[0]&2?xe.return:Fe[0]?xe.throw||((Ce=xe.return)&&Ce.call(xe),0):xe.next)&&!(Ce=Ce.call(xe,Fe[1])).done)return Ce;switch(xe=0,Ce&&(Fe=[Fe[0]&2,Ce.value]),Fe[0]){case 0:case 1:Ce=Fe;break;case 4:return Ae.label++,{value:Fe[1],done:!1};case 5:Ae.label++,xe=Fe[1],Fe=[0];continue;case 7:Fe=Ae.ops.pop(),Ae.trys.pop();continue;default:if(Ce=Ae.trys,!(Ce=Ce.length>0&&Ce[Ce.length-1])&&(Fe[0]===6||Fe[0]===2)){Ae=0;continue}if(Fe[0]===3&&(!Ce||Fe[1]>Ce[0]&&Fe[1]<Ce[3])){Ae.label=Fe[1];break}if(Fe[0]===6&&Ae.label<Ce[1]){Ae.label=Ce[1],Ce=Fe;break}if(Ce&&Ae.label<Ce[2]){Ae.label=Ce[2],Ae.ops.push(Fe);break}Ce[2]&&Ae.ops.pop(),Ae.trys.pop();continue}Fe=t.call(Ee,Ae)}catch(Ie){Fe=[6,Ie],xe=0}finally{_e=Ce=0}if(Fe[0]&5)throw Fe[1];return{value:Fe[0]?Fe[1]:void 0,done:!0}}}function __spreadArrays(){for(var Ee=0,t=0,Ae=arguments.length;t<Ae;t++)Ee+=arguments[t].length;for(var _e=Array(Ee),xe=0,t=0;t<Ae;t++)for(var Ce=arguments[t],Se=0,Re=Ce.length;Se<Re;Se++,xe++)_e[xe]=Ce[Se];return _e}var chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=new Uint8Array(256);for(var i$1=0;i$1<chars$1.length;i$1++)lookup$1[chars$1.charCodeAt(i$1)]=i$1;var encodeToBase64=function(Ee){for(var t="",Ae=Ee.length,_e=0;_e<Ae;_e+=3)t+=chars$1[Ee[_e]>>2],t+=chars$1[(Ee[_e]&3)<<4|Ee[_e+1]>>4],t+=chars$1[(Ee[_e+1]&15)<<2|Ee[_e+2]>>6],t+=chars$1[Ee[_e+2]&63];return Ae%3===2?t=t.substring(0,t.length-1)+"=":Ae%3===1&&(t=t.substring(0,t.length-2)+"=="),t},decodeFromBase64$1=function(Ee){var t=Ee.length*.75,Ae=Ee.length,_e,xe=0,Ce,Se,Re,Be;Ee[Ee.length-1]==="="&&(t--,Ee[Ee.length-2]==="="&&t--);var Fe=new Uint8Array(t);for(_e=0;_e<Ae;_e+=4)Ce=lookup$1[Ee.charCodeAt(_e)],Se=lookup$1[Ee.charCodeAt(_e+1)],Re=lookup$1[Ee.charCodeAt(_e+2)],Be=lookup$1[Ee.charCodeAt(_e+3)],Fe[xe++]=Ce<<2|Se>>4,Fe[xe++]=(Se&15)<<4|Re>>2,Fe[xe++]=(Re&3)<<6|Be&63;return Fe},DATA_URI_PREFIX_REGEX=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,decodeFromBase64DataUri=function(Ee){var t=Ee.trim(),Ae=t.substring(0,100),_e=Ae.match(DATA_URI_PREFIX_REGEX);if(!_e)return decodeFromBase64$1(t);var xe=_e[0],Ce=t.substring(xe.length);return decodeFromBase64$1(Ce)},toCharCode=function(Ee){return Ee.charCodeAt(0)},toCodePoint=function(Ee){return Ee.codePointAt(0)},toHexStringOfMinLength=function(Ee,t){return padStart$1(Ee.toString(16),t,"0").toUpperCase()},toHexString=function(Ee){return toHexStringOfMinLength(Ee,2)},charFromCode=function(Ee){return String.fromCharCode(Ee)},charFromHexCode=function(Ee){return charFromCode(parseInt(Ee,16))},padStart$1=function(Ee,t,Ae){for(var _e="",xe=0,Ce=t-Ee.length;xe<Ce;xe++)_e+=Ae;return _e+Ee},copyStringIntoBuffer=function(Ee,t,Ae){for(var _e=Ee.length,xe=0;xe<_e;xe++)t[Ae++]=Ee.charCodeAt(xe);return _e},escapeRegExp=function(Ee){return Ee.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},cleanText=function(Ee){return Ee.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},escapedNewlineChars=["\\n","\\f","\\r","\\u000B"],isNewlineChar=function(Ee){return/^[\n\f\r\u000B]$/.test(Ee)},lineSplit=function(Ee){return Ee.split(/[\n\f\r\u000B]/)},mergeLines=function(Ee){return Ee.replace(/[\n\f\r\u000B]/g," ")},charAtIndex=function(Ee,t){var Ae=Ee.charCodeAt(t),_e,xe=t+1,Ce=1;return Ae>=55296&&Ae<=56319&&Ee.length>xe&&(_e=Ee.charCodeAt(xe),_e>=56320&&_e<=57343&&(Ce=2)),[Ee.slice(t,t+Ce),Ce]},charSplit=function(Ee){for(var t=[],Ae=0,_e=Ee.length;Ae<_e;){var xe=charAtIndex(Ee,Ae),Ce=xe[0],Se=xe[1];t.push(Ce),Ae+=Se}return t},buildWordBreakRegex=function(Ee){for(var t=escapedNewlineChars.join("|"),Ae=["$"],_e=0,xe=Ee.length;_e<xe;_e++){var Ce=Ee[_e];if(isNewlineChar(Ce))throw new TypeError("`wordBreak` must not include "+t);Ae.push(Ce===""?".":escapeRegExp(Ce))}var Se=Ae.join("|");return new RegExp("("+t+")|((.*?)("+Se+"))","gm")},breakTextIntoLines=function(Ee,t,Ae,_e){for(var xe=buildWordBreakRegex(t),Ce=cleanText(Ee).match(xe),Se="",Re=0,Be=[],Fe=function(){Se!==""&&Be.push(Se),Se="",Re=0},Ie=0,Ue=Ce.length;Ie<Ue;Ie++){var ke=Ce[Ie];if(isNewlineChar(ke))Fe();else{var Oe=_e(ke);Re+Oe>Ae&&Fe(),Se+=ke,Re+=Oe}}return Fe(),Be},dateRegex=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,parseDate=function(Ee){var t=Ee.match(dateRegex);if(t){var Ae=t[1],_e=t[2],xe=_e===void 0?"01":_e,Ce=t[3],Se=Ce===void 0?"01":Ce,Re=t[4],Be=Re===void 0?"00":Re,Fe=t[5],Ie=Fe===void 0?"00":Fe,Ue=t[6],ke=Ue===void 0?"00":Ue,Oe=t[7],je=Oe===void 0?"Z":Oe,Ke=t[8],ze=Ke===void 0?"00":Ke,Ve=t[9],Xe=Ve===void 0?"00":Ve,ir=je==="Z"?"Z":""+je+ze+":"+Xe,sr=new Date(Ae+"-"+xe+"-"+Se+"T"+Be+":"+Ie+":"+ke+ir);return sr}},findLastMatch=function(Ee,t){for(var Ae,_e=0,xe;_e<Ee.length;){var Ce=Ee.substring(_e).match(t);if(!Ce)return{match:xe,pos:_e};xe=Ce,_e+=((Ae=Ce.index)!==null&&Ae!==void 0?Ae:0)+Ce[0].length}return{match:xe,pos:_e}},last=function(Ee){return Ee[Ee.length-1]},typedArrayFor=function(Ee){if(Ee instanceof Uint8Array)return Ee;for(var t=Ee.length,Ae=new Uint8Array(t),_e=0;_e<t;_e++)Ae[_e]=Ee.charCodeAt(_e);return Ae},mergeIntoTypedArray=function(){for(var Ee=[],t=0;t<arguments.length;t++)Ee[t]=arguments[t];for(var Ae=Ee.length,_e=[],xe=0;xe<Ae;xe++){var Ce=Ee[xe];_e[xe]=Ce instanceof Uint8Array?Ce:typedArrayFor(Ce)}for(var Se=0,xe=0;xe<Ae;xe++)Se+=Ee[xe].length;for(var Re=new Uint8Array(Se),Be=0,Fe=0;Fe<Ae;Fe++)for(var Ie=_e[Fe],Ue=0,ke=Ie.length;Ue<ke;Ue++)Re[Be++]=Ie[Ue];return Re},mergeUint8Arrays=function(Ee){for(var t=0,Ae=0,_e=Ee.length;Ae<_e;Ae++)t+=Ee[Ae].length;for(var xe=new Uint8Array(t),Ce=0,Ae=0,_e=Ee.length;Ae<_e;Ae++){var Se=Ee[Ae];xe.set(Se,Ce),Ce+=Se.length}return xe},arrayAsString=function(Ee){for(var t="",Ae=0,_e=Ee.length;Ae<_e;Ae++)t+=charFromCode(Ee[Ae]);return t},byAscendingId=function(Ee,t){return Ee.id-t.id},sortedUniq=function(Ee,t){for(var Ae=[],_e=0,xe=Ee.length;_e<xe;_e++){var Ce=Ee[_e],Se=Ee[_e-1];(_e===0||t(Ce)!==t(Se))&&Ae.push(Ce)}return Ae},reverseArray=function(Ee){for(var t=Ee.length,Ae=0,_e=Math.floor(t/2);Ae<_e;Ae++){var xe=Ae,Ce=t-Ae-1,Se=Ee[Ae];Ee[xe]=Ee[Ce],Ee[Ce]=Se}return Ee},sum=function(Ee){for(var t=0,Ae=0,_e=Ee.length;Ae<_e;Ae++)t+=Ee[Ae];return t},range=function(Ee,t){for(var Ae=new Array(t-Ee),_e=0,xe=Ae.length;_e<xe;_e++)Ae[_e]=Ee+_e;return Ae},pluckIndices=function(Ee,t){for(var Ae=new Array(t.length),_e=0,xe=t.length;_e<xe;_e++)Ae[_e]=Ee[t[_e]];return Ae},canBeConvertedToUint8Array=function(Ee){return Ee instanceof Uint8Array||Ee instanceof ArrayBuffer||typeof Ee=="string"},toUint8Array=function(Ee){if(typeof Ee=="string")return decodeFromBase64DataUri(Ee);if(Ee instanceof ArrayBuffer)return new Uint8Array(Ee);if(Ee instanceof Uint8Array)return Ee;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},waitForTick=function(){return new Promise(function(Ee){setTimeout(function(){return Ee()},0)})},utf16Encode=function(Ee,t){t===void 0&&(t=!0);var Ae=[];t&&Ae.push(65279);for(var _e=0,xe=Ee.length;_e<xe;){var Ce=Ee.codePointAt(_e);if(Ce<65536)Ae.push(Ce),_e+=1;else if(Ce<1114112)Ae.push(highSurrogate(Ce),lowSurrogate(Ce)),_e+=2;else throw new Error("Invalid code point: 0x"+toHexString(Ce))}return new Uint16Array(Ae)},isWithinBMP=function(Ee){return Ee>=0&&Ee<=65535},hasSurrogates=function(Ee){return Ee>=65536&&Ee<=1114111},highSurrogate=function(Ee){return Math.floor((Ee-65536)/1024)+55296},lowSurrogate=function(Ee){return(Ee-65536)%1024+56320},ByteOrder;(function(Ee){Ee.BigEndian="BigEndian",Ee.LittleEndian="LittleEndian"})(ByteOrder||(ByteOrder={}));var REPLACEMENT="�".codePointAt(0),utf16Decode=function(Ee,t){if(t===void 0&&(t=!0),Ee.length<=1)return String.fromCodePoint(REPLACEMENT);for(var Ae=t?readBOM(Ee):ByteOrder.BigEndian,_e=t?2:0,xe=[];Ee.length-_e>=2;){var Ce=decodeValues(Ee[_e++],Ee[_e++],Ae);if(isHighSurrogate(Ce))if(Ee.length-_e<2)xe.push(REPLACEMENT);else{var Se=decodeValues(Ee[_e++],Ee[_e++],Ae);isLowSurrogate(Se)?xe.push(Ce,Se):xe.push(REPLACEMENT)}else isLowSurrogate(Ce)?(_e+=2,xe.push(REPLACEMENT)):xe.push(Ce)}return _e<Ee.length&&xe.push(REPLACEMENT),String.fromCodePoint.apply(String,xe)},isHighSurrogate=function(Ee){return Ee>=55296&&Ee<=56319},isLowSurrogate=function(Ee){return Ee>=56320&&Ee<=57343},decodeValues=function(Ee,t,Ae){if(Ae===ByteOrder.LittleEndian)return t<<8|Ee;if(Ae===ByteOrder.BigEndian)return Ee<<8|t;throw new Error("Invalid byteOrder: "+Ae)},readBOM=function(Ee){return hasUtf16BigEndianBOM(Ee)?ByteOrder.BigEndian:hasUtf16LittleEndianBOM(Ee)?ByteOrder.LittleEndian:ByteOrder.BigEndian},hasUtf16BigEndianBOM=function(Ee){return Ee[0]===254&&Ee[1]===255},hasUtf16LittleEndianBOM=function(Ee){return Ee[0]===255&&Ee[1]===254},hasUtf16BOM=function(Ee){return hasUtf16BigEndianBOM(Ee)||hasUtf16LittleEndianBOM(Ee)},numberToString=function(Ee){var t=String(Ee);if(Math.abs(Ee)<1){var Ae=parseInt(Ee.toString().split("e-")[1]);if(Ae){var _e=Ee<0;_e&&(Ee*=-1),Ee*=Math.pow(10,Ae-1),t="0."+new Array(Ae).join("0")+Ee.toString().substring(2),_e&&(t="-"+t)}}else{var Ae=parseInt(Ee.toString().split("+")[1]);Ae>20&&(Ae-=20,Ee/=Math.pow(10,Ae),t=Ee.toString()+new Array(Ae+1).join("0"))}return t},sizeInBytes=function(Ee){return Math.ceil(Ee.toString(2).length/8)},bytesFor=function(Ee){for(var t=new Uint8Array(sizeInBytes(Ee)),Ae=1;Ae<=t.length;Ae++)t[Ae-1]=Ee>>(t.length-Ae)*8;return t},error=function(Ee){throw new Error(Ee)},common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,function(Ee){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function Ae(Ce,Se){return Object.prototype.hasOwnProperty.call(Ce,Se)}Ee.assign=function(Ce){for(var Se=Array.prototype.slice.call(arguments,1);Se.length;){var Re=Se.shift();if(Re){if(typeof Re!="object")throw new TypeError(Re+"must be non-object");for(var Be in Re)Ae(Re,Be)&&(Ce[Be]=Re[Be])}}return Ce},Ee.shrinkBuf=function(Ce,Se){return Ce.length===Se?Ce:Ce.subarray?Ce.subarray(0,Se):(Ce.length=Se,Ce)};var _e={arraySet:function(Ce,Se,Re,Be,Fe){if(Se.subarray&&Ce.subarray){Ce.set(Se.subarray(Re,Re+Be),Fe);return}for(var Ie=0;Ie<Be;Ie++)Ce[Fe+Ie]=Se[Re+Ie]},flattenChunks:function(Ce){var Se,Re,Be,Fe,Ie,Ue;for(Be=0,Se=0,Re=Ce.length;Se<Re;Se++)Be+=Ce[Se].length;for(Ue=new Uint8Array(Be),Fe=0,Se=0,Re=Ce.length;Se<Re;Se++)Ie=Ce[Se],Ue.set(Ie,Fe),Fe+=Ie.length;return Ue}},xe={arraySet:function(Ce,Se,Re,Be,Fe){for(var Ie=0;Ie<Be;Ie++)Ce[Fe+Ie]=Se[Re+Ie]},flattenChunks:function(Ce){return[].concat.apply([],Ce)}};Ee.setTyped=function(Ce){Ce?(Ee.Buf8=Uint8Array,Ee.Buf16=Uint16Array,Ee.Buf32=Int32Array,Ee.assign(Ee,_e)):(Ee.Buf8=Array,Ee.Buf16=Array,Ee.Buf32=Array,Ee.assign(Ee,xe))},Ee.setTyped(t)}(common)),common}var deflate$1={},deflate={},trees={},hasRequiredTrees;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var Ee=requireCommon(),t=4,Ae=0,_e=1,xe=2;function Ce(Nr){for(var In=Nr.length;--In>=0;)Nr[In]=0}var Se=0,Re=1,Be=2,Fe=3,Ie=258,Ue=29,ke=256,Oe=ke+1+Ue,je=30,Ke=19,ze=2*Oe+1,Ve=15,Xe=16,ir=7,sr=256,rr=16,nr=17,We=18,Ge=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ze=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],or=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],He=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Je=512,$e=new Array((Oe+2)*2);Ce($e);var mr=new Array(je*2);Ce(mr);var wr=new Array(Je);Ce(wr);var vr=new Array(Ie-Fe+1);Ce(vr);var ur=new Array(Ue);Ce(ur);var Cr=new Array(je);Ce(Cr);function _r(Nr,In,Kn,si,Kr){this.static_tree=Nr,this.extra_bits=In,this.extra_base=Kn,this.elems=si,this.max_length=Kr,this.has_stree=Nr&&Nr.length}var hr,Sr,ar;function tr(Nr,In){this.dyn_tree=Nr,this.max_code=0,this.stat_desc=In}function lr(Nr){return Nr<256?wr[Nr]:wr[256+(Nr>>>7)]}function pr(Nr,In){Nr.pending_buf[Nr.pending++]=In&255,Nr.pending_buf[Nr.pending++]=In>>>8&255}function Er(Nr,In,Kn){Nr.bi_valid>Xe-Kn?(Nr.bi_buf|=In<<Nr.bi_valid&65535,pr(Nr,Nr.bi_buf),Nr.bi_buf=In>>Xe-Nr.bi_valid,Nr.bi_valid+=Kn-Xe):(Nr.bi_buf|=In<<Nr.bi_valid&65535,Nr.bi_valid+=Kn)}function Rr(Nr,In,Kn){Er(Nr,Kn[In*2],Kn[In*2+1])}function Tr(Nr,In){var Kn=0;do Kn|=Nr&1,Nr>>>=1,Kn<<=1;while(--In>0);return Kn>>>1}function Ir(Nr){Nr.bi_valid===16?(pr(Nr,Nr.bi_buf),Nr.bi_buf=0,Nr.bi_valid=0):Nr.bi_valid>=8&&(Nr.pending_buf[Nr.pending++]=Nr.bi_buf&255,Nr.bi_buf>>=8,Nr.bi_valid-=8)}function Zr(Nr,In){var Kn=In.dyn_tree,si=In.max_code,Kr=In.stat_desc.static_tree,Xr=In.stat_desc.has_stree,br=In.stat_desc.extra_bits,Sn=In.stat_desc.extra_base,vi=In.stat_desc.max_length,fr,Lr,un,Pr,Yr,En,Zn=0;for(Pr=0;Pr<=Ve;Pr++)Nr.bl_count[Pr]=0;for(Kn[Nr.heap[Nr.heap_max]*2+1]=0,fr=Nr.heap_max+1;fr<ze;fr++)Lr=Nr.heap[fr],Pr=Kn[Kn[Lr*2+1]*2+1]+1,Pr>vi&&(Pr=vi,Zn++),Kn[Lr*2+1]=Pr,!(Lr>si)&&(Nr.bl_count[Pr]++,Yr=0,Lr>=Sn&&(Yr=br[Lr-Sn]),En=Kn[Lr*2],Nr.opt_len+=En*(Pr+Yr),Xr&&(Nr.static_len+=En*(Kr[Lr*2+1]+Yr)));if(Zn!==0){do{for(Pr=vi-1;Nr.bl_count[Pr]===0;)Pr--;Nr.bl_count[Pr]--,Nr.bl_count[Pr+1]+=2,Nr.bl_count[vi]--,Zn-=2}while(Zn>0);for(Pr=vi;Pr!==0;Pr--)for(Lr=Nr.bl_count[Pr];Lr!==0;)un=Nr.heap[--fr],!(un>si)&&(Kn[un*2+1]!==Pr&&(Nr.opt_len+=(Pr-Kn[un*2+1])*Kn[un*2],Kn[un*2+1]=Pr),Lr--)}}function zr(Nr,In,Kn){var si=new Array(Ve+1),Kr=0,Xr,br;for(Xr=1;Xr<=Ve;Xr++)si[Xr]=Kr=Kr+Kn[Xr-1]<<1;for(br=0;br<=In;br++){var Sn=Nr[br*2+1];Sn!==0&&(Nr[br*2]=Tr(si[Sn]++,Sn))}}function $r(){var Nr,In,Kn,si,Kr,Xr=new Array(Ve+1);for(Kn=0,si=0;si<Ue-1;si++)for(ur[si]=Kn,Nr=0;Nr<1<<Ge[si];Nr++)vr[Kn++]=si;for(vr[Kn-1]=si,Kr=0,si=0;si<16;si++)for(Cr[si]=Kr,Nr=0;Nr<1<<Ze[si];Nr++)wr[Kr++]=si;for(Kr>>=7;si<je;si++)for(Cr[si]=Kr<<7,Nr=0;Nr<1<<Ze[si]-7;Nr++)wr[256+Kr++]=si;for(In=0;In<=Ve;In++)Xr[In]=0;for(Nr=0;Nr<=143;)$e[Nr*2+1]=8,Nr++,Xr[8]++;for(;Nr<=255;)$e[Nr*2+1]=9,Nr++,Xr[9]++;for(;Nr<=279;)$e[Nr*2+1]=7,Nr++,Xr[7]++;for(;Nr<=287;)$e[Nr*2+1]=8,Nr++,Xr[8]++;for(zr($e,Oe+1,Xr),Nr=0;Nr<je;Nr++)mr[Nr*2+1]=5,mr[Nr*2]=Tr(Nr,5);hr=new _r($e,Ge,ke+1,Oe,Ve),Sr=new _r(mr,Ze,0,je,Ve),ar=new _r(new Array(0),or,0,Ke,ir)}function vn(Nr){var In;for(In=0;In<Oe;In++)Nr.dyn_ltree[In*2]=0;for(In=0;In<je;In++)Nr.dyn_dtree[In*2]=0;for(In=0;In<Ke;In++)Nr.bl_tree[In*2]=0;Nr.dyn_ltree[sr*2]=1,Nr.opt_len=Nr.static_len=0,Nr.last_lit=Nr.matches=0}function bn(Nr){Nr.bi_valid>8?pr(Nr,Nr.bi_buf):Nr.bi_valid>0&&(Nr.pending_buf[Nr.pending++]=Nr.bi_buf),Nr.bi_buf=0,Nr.bi_valid=0}function An(Nr,In,Kn,si){bn(Nr),pr(Nr,Kn),pr(Nr,~Kn),Ee.arraySet(Nr.pending_buf,Nr.window,In,Kn,Nr.pending),Nr.pending+=Kn}function Fr(Nr,In,Kn,si){var Kr=In*2,Xr=Kn*2;return Nr[Kr]<Nr[Xr]||Nr[Kr]===Nr[Xr]&&si[In]<=si[Kn]}function dn(Nr,In,Kn){for(var si=Nr.heap[Kn],Kr=Kn<<1;Kr<=Nr.heap_len&&(Kr<Nr.heap_len&&Fr(In,Nr.heap[Kr+1],Nr.heap[Kr],Nr.depth)&&Kr++,!Fr(In,si,Nr.heap[Kr],Nr.depth));)Nr.heap[Kn]=Nr.heap[Kr],Kn=Kr,Kr<<=1;Nr.heap[Kn]=si}function Dr(Nr,In,Kn){var si,Kr,Xr=0,br,Sn;if(Nr.last_lit!==0)do si=Nr.pending_buf[Nr.d_buf+Xr*2]<<8|Nr.pending_buf[Nr.d_buf+Xr*2+1],Kr=Nr.pending_buf[Nr.l_buf+Xr],Xr++,si===0?Rr(Nr,Kr,In):(br=vr[Kr],Rr(Nr,br+ke+1,In),Sn=Ge[br],Sn!==0&&(Kr-=ur[br],Er(Nr,Kr,Sn)),si--,br=lr(si),Rr(Nr,br,Kn),Sn=Ze[br],Sn!==0&&(si-=Cr[br],Er(Nr,si,Sn)));while(Xr<Nr.last_lit);Rr(Nr,sr,In)}function jr(Nr,In){var Kn=In.dyn_tree,si=In.stat_desc.static_tree,Kr=In.stat_desc.has_stree,Xr=In.stat_desc.elems,br,Sn,vi=-1,fr;for(Nr.heap_len=0,Nr.heap_max=ze,br=0;br<Xr;br++)Kn[br*2]!==0?(Nr.heap[++Nr.heap_len]=vi=br,Nr.depth[br]=0):Kn[br*2+1]=0;for(;Nr.heap_len<2;)fr=Nr.heap[++Nr.heap_len]=vi<2?++vi:0,Kn[fr*2]=1,Nr.depth[fr]=0,Nr.opt_len--,Kr&&(Nr.static_len-=si[fr*2+1]);for(In.max_code=vi,br=Nr.heap_len>>1;br>=1;br--)dn(Nr,Kn,br);fr=Xr;do br=Nr.heap[1],Nr.heap[1]=Nr.heap[Nr.heap_len--],dn(Nr,Kn,1),Sn=Nr.heap[1],Nr.heap[--Nr.heap_max]=br,Nr.heap[--Nr.heap_max]=Sn,Kn[fr*2]=Kn[br*2]+Kn[Sn*2],Nr.depth[fr]=(Nr.depth[br]>=Nr.depth[Sn]?Nr.depth[br]:Nr.depth[Sn])+1,Kn[br*2+1]=Kn[Sn*2+1]=fr,Nr.heap[1]=fr++,dn(Nr,Kn,1);while(Nr.heap_len>=2);Nr.heap[--Nr.heap_max]=Nr.heap[1],Zr(Nr,In),zr(Kn,vi,Nr.bl_count)}function hn(Nr,In,Kn){var si,Kr=-1,Xr,br=In[0*2+1],Sn=0,vi=7,fr=4;for(br===0&&(vi=138,fr=3),In[(Kn+1)*2+1]=65535,si=0;si<=Kn;si++)Xr=br,br=In[(si+1)*2+1],!(++Sn<vi&&Xr===br)&&(Sn<fr?Nr.bl_tree[Xr*2]+=Sn:Xr!==0?(Xr!==Kr&&Nr.bl_tree[Xr*2]++,Nr.bl_tree[rr*2]++):Sn<=10?Nr.bl_tree[nr*2]++:Nr.bl_tree[We*2]++,Sn=0,Kr=Xr,br===0?(vi=138,fr=3):Xr===br?(vi=6,fr=3):(vi=7,fr=4))}function pn(Nr,In,Kn){var si,Kr=-1,Xr,br=In[0*2+1],Sn=0,vi=7,fr=4;for(br===0&&(vi=138,fr=3),si=0;si<=Kn;si++)if(Xr=br,br=In[(si+1)*2+1],!(++Sn<vi&&Xr===br)){if(Sn<fr)do Rr(Nr,Xr,Nr.bl_tree);while(--Sn!==0);else Xr!==0?(Xr!==Kr&&(Rr(Nr,Xr,Nr.bl_tree),Sn--),Rr(Nr,rr,Nr.bl_tree),Er(Nr,Sn-3,2)):Sn<=10?(Rr(Nr,nr,Nr.bl_tree),Er(Nr,Sn-3,3)):(Rr(Nr,We,Nr.bl_tree),Er(Nr,Sn-11,7));Sn=0,Kr=Xr,br===0?(vi=138,fr=3):Xr===br?(vi=6,fr=3):(vi=7,fr=4)}}function xn(Nr){var In;for(hn(Nr,Nr.dyn_ltree,Nr.l_desc.max_code),hn(Nr,Nr.dyn_dtree,Nr.d_desc.max_code),jr(Nr,Nr.bl_desc),In=Ke-1;In>=3&&Nr.bl_tree[He[In]*2+1]===0;In--);return Nr.opt_len+=3*(In+1)+5+5+4,In}function Dn(Nr,In,Kn,si){var Kr;for(Er(Nr,In-257,5),Er(Nr,Kn-1,5),Er(Nr,si-4,4),Kr=0;Kr<si;Kr++)Er(Nr,Nr.bl_tree[He[Kr]*2+1],3);pn(Nr,Nr.dyn_ltree,In-1),pn(Nr,Nr.dyn_dtree,Kn-1)}function On(Nr){var In=4093624447,Kn;for(Kn=0;Kn<=31;Kn++,In>>>=1)if(In&1&&Nr.dyn_ltree[Kn*2]!==0)return Ae;if(Nr.dyn_ltree[9*2]!==0||Nr.dyn_ltree[10*2]!==0||Nr.dyn_ltree[13*2]!==0)return _e;for(Kn=32;Kn<ke;Kn++)if(Nr.dyn_ltree[Kn*2]!==0)return _e;return Ae}var yn=!1;function Gn(Nr){yn||($r(),yn=!0),Nr.l_desc=new tr(Nr.dyn_ltree,hr),Nr.d_desc=new tr(Nr.dyn_dtree,Sr),Nr.bl_desc=new tr(Nr.bl_tree,ar),Nr.bi_buf=0,Nr.bi_valid=0,vn(Nr)}function Qn(Nr,In,Kn,si){Er(Nr,(Se<<1)+(si?1:0),3),An(Nr,In,Kn)}function di(Nr){Er(Nr,Re<<1,3),Rr(Nr,sr,$e),Ir(Nr)}function ni(Nr,In,Kn,si){var Kr,Xr,br=0;Nr.level>0?(Nr.strm.data_type===xe&&(Nr.strm.data_type=On(Nr)),jr(Nr,Nr.l_desc),jr(Nr,Nr.d_desc),br=xn(Nr),Kr=Nr.opt_len+3+7>>>3,Xr=Nr.static_len+3+7>>>3,Xr<=Kr&&(Kr=Xr)):Kr=Xr=Kn+5,Kn+4<=Kr&&In!==-1?Qn(Nr,In,Kn,si):Nr.strategy===t||Xr===Kr?(Er(Nr,(Re<<1)+(si?1:0),3),Dr(Nr,$e,mr)):(Er(Nr,(Be<<1)+(si?1:0),3),Dn(Nr,Nr.l_desc.max_code+1,Nr.d_desc.max_code+1,br+1),Dr(Nr,Nr.dyn_ltree,Nr.dyn_dtree)),vn(Nr),si&&bn(Nr)}function wi(Nr,In,Kn){return Nr.pending_buf[Nr.d_buf+Nr.last_lit*2]=In>>>8&255,Nr.pending_buf[Nr.d_buf+Nr.last_lit*2+1]=In&255,Nr.pending_buf[Nr.l_buf+Nr.last_lit]=Kn&255,Nr.last_lit++,In===0?Nr.dyn_ltree[Kn*2]++:(Nr.matches++,In--,Nr.dyn_ltree[(vr[Kn]+ke+1)*2]++,Nr.dyn_dtree[lr(In)*2]++),Nr.last_lit===Nr.lit_bufsize-1}return trees._tr_init=Gn,trees._tr_stored_block=Qn,trees._tr_flush_block=ni,trees._tr_tally=wi,trees._tr_align=di,trees}var adler32_1,hasRequiredAdler32;function requireAdler32(){if(hasRequiredAdler32)return adler32_1;hasRequiredAdler32=1;function Ee(t,Ae,_e,xe){for(var Ce=t&65535|0,Se=t>>>16&65535|0,Re=0;_e!==0;){Re=_e>2e3?2e3:_e,_e-=Re;do Ce=Ce+Ae[xe++]|0,Se=Se+Ce|0;while(--Re);Ce%=65521,Se%=65521}return Ce|Se<<16|0}return adler32_1=Ee,adler32_1}var crc32_1,hasRequiredCrc32;function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;function Ee(){for(var _e,xe=[],Ce=0;Ce<256;Ce++){_e=Ce;for(var Se=0;Se<8;Se++)_e=_e&1?3988292384^_e>>>1:_e>>>1;xe[Ce]=_e}return xe}var t=Ee();function Ae(_e,xe,Ce,Se){var Re=t,Be=Se+Ce;_e^=-1;for(var Fe=Se;Fe<Be;Fe++)_e=_e>>>8^Re[(_e^xe[Fe])&255];return _e^-1}return crc32_1=Ae,crc32_1}var messages,hasRequiredMessages;function requireMessages(){return hasRequiredMessages||(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),messages}var hasRequiredDeflate$1;function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate;hasRequiredDeflate$1=1;var Ee=requireCommon(),t=requireTrees(),Ae=requireAdler32(),_e=requireCrc32(),xe=requireMessages(),Ce=0,Se=1,Re=3,Be=4,Fe=5,Ie=0,Ue=1,ke=-2,Oe=-3,je=-5,Ke=-1,ze=1,Ve=2,Xe=3,ir=4,sr=0,rr=2,nr=8,We=9,Ge=15,Ze=8,or=29,He=256,Je=He+1+or,$e=30,mr=19,wr=2*Je+1,vr=15,ur=3,Cr=258,_r=Cr+ur+1,hr=32,Sr=42,ar=69,tr=73,lr=91,pr=103,Er=113,Rr=666,Tr=1,Ir=2,Zr=3,zr=4,$r=3;function vn(fr,Lr){return fr.msg=xe[Lr],Lr}function bn(fr){return(fr<<1)-(fr>4?9:0)}function An(fr){for(var Lr=fr.length;--Lr>=0;)fr[Lr]=0}function Fr(fr){var Lr=fr.state,un=Lr.pending;un>fr.avail_out&&(un=fr.avail_out),un!==0&&(Ee.arraySet(fr.output,Lr.pending_buf,Lr.pending_out,un,fr.next_out),fr.next_out+=un,Lr.pending_out+=un,fr.total_out+=un,fr.avail_out-=un,Lr.pending-=un,Lr.pending===0&&(Lr.pending_out=0))}function dn(fr,Lr){t._tr_flush_block(fr,fr.block_start>=0?fr.block_start:-1,fr.strstart-fr.block_start,Lr),fr.block_start=fr.strstart,Fr(fr.strm)}function Dr(fr,Lr){fr.pending_buf[fr.pending++]=Lr}function jr(fr,Lr){fr.pending_buf[fr.pending++]=Lr>>>8&255,fr.pending_buf[fr.pending++]=Lr&255}function hn(fr,Lr,un,Pr){var Yr=fr.avail_in;return Yr>Pr&&(Yr=Pr),Yr===0?0:(fr.avail_in-=Yr,Ee.arraySet(Lr,fr.input,fr.next_in,Yr,un),fr.state.wrap===1?fr.adler=Ae(fr.adler,Lr,Yr,un):fr.state.wrap===2&&(fr.adler=_e(fr.adler,Lr,Yr,un)),fr.next_in+=Yr,fr.total_in+=Yr,Yr)}function pn(fr,Lr){var un=fr.max_chain_length,Pr=fr.strstart,Yr,En,Zn=fr.prev_length,Vr=fr.nice_match,Mr=fr.strstart>fr.w_size-_r?fr.strstart-(fr.w_size-_r):0,gn=fr.window,wn=fr.w_mask,Rn=fr.prev,Nn=fr.strstart+Cr,zn=gn[Pr+Zn-1],ci=gn[Pr+Zn];fr.prev_length>=fr.good_match&&(un>>=2),Vr>fr.lookahead&&(Vr=fr.lookahead);do if(Yr=Lr,!(gn[Yr+Zn]!==ci||gn[Yr+Zn-1]!==zn||gn[Yr]!==gn[Pr]||gn[++Yr]!==gn[Pr+1])){Pr+=2,Yr++;do;while(gn[++Pr]===gn[++Yr]&&gn[++Pr]===gn[++Yr]&&gn[++Pr]===gn[++Yr]&&gn[++Pr]===gn[++Yr]&&gn[++Pr]===gn[++Yr]&&gn[++Pr]===gn[++Yr]&&gn[++Pr]===gn[++Yr]&&gn[++Pr]===gn[++Yr]&&Pr<Nn);if(En=Cr-(Nn-Pr),Pr=Nn-Cr,En>Zn){if(fr.match_start=Lr,Zn=En,En>=Vr)break;zn=gn[Pr+Zn-1],ci=gn[Pr+Zn]}}while((Lr=Rn[Lr&wn])>Mr&&--un!==0);return Zn<=fr.lookahead?Zn:fr.lookahead}function xn(fr){var Lr=fr.w_size,un,Pr,Yr,En,Zn;do{if(En=fr.window_size-fr.lookahead-fr.strstart,fr.strstart>=Lr+(Lr-_r)){Ee.arraySet(fr.window,fr.window,Lr,Lr,0),fr.match_start-=Lr,fr.strstart-=Lr,fr.block_start-=Lr,Pr=fr.hash_size,un=Pr;do Yr=fr.head[--un],fr.head[un]=Yr>=Lr?Yr-Lr:0;while(--Pr);Pr=Lr,un=Pr;do Yr=fr.prev[--un],fr.prev[un]=Yr>=Lr?Yr-Lr:0;while(--Pr);En+=Lr}if(fr.strm.avail_in===0)break;if(Pr=hn(fr.strm,fr.window,fr.strstart+fr.lookahead,En),fr.lookahead+=Pr,fr.lookahead+fr.insert>=ur)for(Zn=fr.strstart-fr.insert,fr.ins_h=fr.window[Zn],fr.ins_h=(fr.ins_h<<fr.hash_shift^fr.window[Zn+1])&fr.hash_mask;fr.insert&&(fr.ins_h=(fr.ins_h<<fr.hash_shift^fr.window[Zn+ur-1])&fr.hash_mask,fr.prev[Zn&fr.w_mask]=fr.head[fr.ins_h],fr.head[fr.ins_h]=Zn,Zn++,fr.insert--,!(fr.lookahead+fr.insert<ur)););}while(fr.lookahead<_r&&fr.strm.avail_in!==0)}function Dn(fr,Lr){var un=65535;for(un>fr.pending_buf_size-5&&(un=fr.pending_buf_size-5);;){if(fr.lookahead<=1){if(xn(fr),fr.lookahead===0&&Lr===Ce)return Tr;if(fr.lookahead===0)break}fr.strstart+=fr.lookahead,fr.lookahead=0;var Pr=fr.block_start+un;if((fr.strstart===0||fr.strstart>=Pr)&&(fr.lookahead=fr.strstart-Pr,fr.strstart=Pr,dn(fr,!1),fr.strm.avail_out===0)||fr.strstart-fr.block_start>=fr.w_size-_r&&(dn(fr,!1),fr.strm.avail_out===0))return Tr}return fr.insert=0,Lr===Be?(dn(fr,!0),fr.strm.avail_out===0?Zr:zr):(fr.strstart>fr.block_start&&(dn(fr,!1),fr.strm.avail_out===0),Tr)}function On(fr,Lr){for(var un,Pr;;){if(fr.lookahead<_r){if(xn(fr),fr.lookahead<_r&&Lr===Ce)return Tr;if(fr.lookahead===0)break}if(un=0,fr.lookahead>=ur&&(fr.ins_h=(fr.ins_h<<fr.hash_shift^fr.window[fr.strstart+ur-1])&fr.hash_mask,un=fr.prev[fr.strstart&fr.w_mask]=fr.head[fr.ins_h],fr.head[fr.ins_h]=fr.strstart),un!==0&&fr.strstart-un<=fr.w_size-_r&&(fr.match_length=pn(fr,un)),fr.match_length>=ur)if(Pr=t._tr_tally(fr,fr.strstart-fr.match_start,fr.match_length-ur),fr.lookahead-=fr.match_length,fr.match_length<=fr.max_lazy_match&&fr.lookahead>=ur){fr.match_length--;do fr.strstart++,fr.ins_h=(fr.ins_h<<fr.hash_shift^fr.window[fr.strstart+ur-1])&fr.hash_mask,un=fr.prev[fr.strstart&fr.w_mask]=fr.head[fr.ins_h],fr.head[fr.ins_h]=fr.strstart;while(--fr.match_length!==0);fr.strstart++}else fr.strstart+=fr.match_length,fr.match_length=0,fr.ins_h=fr.window[fr.strstart],fr.ins_h=(fr.ins_h<<fr.hash_shift^fr.window[fr.strstart+1])&fr.hash_mask;else Pr=t._tr_tally(fr,0,fr.window[fr.strstart]),fr.lookahead--,fr.strstart++;if(Pr&&(dn(fr,!1),fr.strm.avail_out===0))return Tr}return fr.insert=fr.strstart<ur-1?fr.strstart:ur-1,Lr===Be?(dn(fr,!0),fr.strm.avail_out===0?Zr:zr):fr.last_lit&&(dn(fr,!1),fr.strm.avail_out===0)?Tr:Ir}function yn(fr,Lr){for(var un,Pr,Yr;;){if(fr.lookahead<_r){if(xn(fr),fr.lookahead<_r&&Lr===Ce)return Tr;if(fr.lookahead===0)break}if(un=0,fr.lookahead>=ur&&(fr.ins_h=(fr.ins_h<<fr.hash_shift^fr.window[fr.strstart+ur-1])&fr.hash_mask,un=fr.prev[fr.strstart&fr.w_mask]=fr.head[fr.ins_h],fr.head[fr.ins_h]=fr.strstart),fr.prev_length=fr.match_length,fr.prev_match=fr.match_start,fr.match_length=ur-1,un!==0&&fr.prev_length<fr.max_lazy_match&&fr.strstart-un<=fr.w_size-_r&&(fr.match_length=pn(fr,un),fr.match_length<=5&&(fr.strategy===ze||fr.match_length===ur&&fr.strstart-fr.match_start>4096)&&(fr.match_length=ur-1)),fr.prev_length>=ur&&fr.match_length<=fr.prev_length){Yr=fr.strstart+fr.lookahead-ur,Pr=t._tr_tally(fr,fr.strstart-1-fr.prev_match,fr.prev_length-ur),fr.lookahead-=fr.prev_length-1,fr.prev_length-=2;do++fr.strstart<=Yr&&(fr.ins_h=(fr.ins_h<<fr.hash_shift^fr.window[fr.strstart+ur-1])&fr.hash_mask,un=fr.prev[fr.strstart&fr.w_mask]=fr.head[fr.ins_h],fr.head[fr.ins_h]=fr.strstart);while(--fr.prev_length!==0);if(fr.match_available=0,fr.match_length=ur-1,fr.strstart++,Pr&&(dn(fr,!1),fr.strm.avail_out===0))return Tr}else if(fr.match_available){if(Pr=t._tr_tally(fr,0,fr.window[fr.strstart-1]),Pr&&dn(fr,!1),fr.strstart++,fr.lookahead--,fr.strm.avail_out===0)return Tr}else fr.match_available=1,fr.strstart++,fr.lookahead--}return fr.match_available&&(Pr=t._tr_tally(fr,0,fr.window[fr.strstart-1]),fr.match_available=0),fr.insert=fr.strstart<ur-1?fr.strstart:ur-1,Lr===Be?(dn(fr,!0),fr.strm.avail_out===0?Zr:zr):fr.last_lit&&(dn(fr,!1),fr.strm.avail_out===0)?Tr:Ir}function Gn(fr,Lr){for(var un,Pr,Yr,En,Zn=fr.window;;){if(fr.lookahead<=Cr){if(xn(fr),fr.lookahead<=Cr&&Lr===Ce)return Tr;if(fr.lookahead===0)break}if(fr.match_length=0,fr.lookahead>=ur&&fr.strstart>0&&(Yr=fr.strstart-1,Pr=Zn[Yr],Pr===Zn[++Yr]&&Pr===Zn[++Yr]&&Pr===Zn[++Yr])){En=fr.strstart+Cr;do;while(Pr===Zn[++Yr]&&Pr===Zn[++Yr]&&Pr===Zn[++Yr]&&Pr===Zn[++Yr]&&Pr===Zn[++Yr]&&Pr===Zn[++Yr]&&Pr===Zn[++Yr]&&Pr===Zn[++Yr]&&Yr<En);fr.match_length=Cr-(En-Yr),fr.match_length>fr.lookahead&&(fr.match_length=fr.lookahead)}if(fr.match_length>=ur?(un=t._tr_tally(fr,1,fr.match_length-ur),fr.lookahead-=fr.match_length,fr.strstart+=fr.match_length,fr.match_length=0):(un=t._tr_tally(fr,0,fr.window[fr.strstart]),fr.lookahead--,fr.strstart++),un&&(dn(fr,!1),fr.strm.avail_out===0))return Tr}return fr.insert=0,Lr===Be?(dn(fr,!0),fr.strm.avail_out===0?Zr:zr):fr.last_lit&&(dn(fr,!1),fr.strm.avail_out===0)?Tr:Ir}function Qn(fr,Lr){for(var un;;){if(fr.lookahead===0&&(xn(fr),fr.lookahead===0)){if(Lr===Ce)return Tr;break}if(fr.match_length=0,un=t._tr_tally(fr,0,fr.window[fr.strstart]),fr.lookahead--,fr.strstart++,un&&(dn(fr,!1),fr.strm.avail_out===0))return Tr}return fr.insert=0,Lr===Be?(dn(fr,!0),fr.strm.avail_out===0?Zr:zr):fr.last_lit&&(dn(fr,!1),fr.strm.avail_out===0)?Tr:Ir}function di(fr,Lr,un,Pr,Yr){this.good_length=fr,this.max_lazy=Lr,this.nice_length=un,this.max_chain=Pr,this.func=Yr}var ni;ni=[new di(0,0,0,0,Dn),new di(4,4,8,4,On),new di(4,5,16,8,On),new di(4,6,32,32,On),new di(4,4,16,16,yn),new di(8,16,32,32,yn),new di(8,16,128,128,yn),new di(8,32,128,256,yn),new di(32,128,258,1024,yn),new di(32,258,258,4096,yn)];function wi(fr){fr.window_size=2*fr.w_size,An(fr.head),fr.max_lazy_match=ni[fr.level].max_lazy,fr.good_match=ni[fr.level].good_length,fr.nice_match=ni[fr.level].nice_length,fr.max_chain_length=ni[fr.level].max_chain,fr.strstart=0,fr.block_start=0,fr.lookahead=0,fr.insert=0,fr.match_length=fr.prev_length=ur-1,fr.match_available=0,fr.ins_h=0}function Nr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=nr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Ee.Buf16(wr*2),this.dyn_dtree=new Ee.Buf16((2*$e+1)*2),this.bl_tree=new Ee.Buf16((2*mr+1)*2),An(this.dyn_ltree),An(this.dyn_dtree),An(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Ee.Buf16(vr+1),this.heap=new Ee.Buf16(2*Je+1),An(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Ee.Buf16(2*Je+1),An(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function In(fr){var Lr;return!fr||!fr.state?vn(fr,ke):(fr.total_in=fr.total_out=0,fr.data_type=rr,Lr=fr.state,Lr.pending=0,Lr.pending_out=0,Lr.wrap<0&&(Lr.wrap=-Lr.wrap),Lr.status=Lr.wrap?Sr:Er,fr.adler=Lr.wrap===2?0:1,Lr.last_flush=Ce,t._tr_init(Lr),Ie)}function Kn(fr){var Lr=In(fr);return Lr===Ie&&wi(fr.state),Lr}function si(fr,Lr){return!fr||!fr.state||fr.state.wrap!==2?ke:(fr.state.gzhead=Lr,Ie)}function Kr(fr,Lr,un,Pr,Yr,En){if(!fr)return ke;var Zn=1;if(Lr===Ke&&(Lr=6),Pr<0?(Zn=0,Pr=-Pr):Pr>15&&(Zn=2,Pr-=16),Yr<1||Yr>We||un!==nr||Pr<8||Pr>15||Lr<0||Lr>9||En<0||En>ir)return vn(fr,ke);Pr===8&&(Pr=9);var Vr=new Nr;return fr.state=Vr,Vr.strm=fr,Vr.wrap=Zn,Vr.gzhead=null,Vr.w_bits=Pr,Vr.w_size=1<<Vr.w_bits,Vr.w_mask=Vr.w_size-1,Vr.hash_bits=Yr+7,Vr.hash_size=1<<Vr.hash_bits,Vr.hash_mask=Vr.hash_size-1,Vr.hash_shift=~~((Vr.hash_bits+ur-1)/ur),Vr.window=new Ee.Buf8(Vr.w_size*2),Vr.head=new Ee.Buf16(Vr.hash_size),Vr.prev=new Ee.Buf16(Vr.w_size),Vr.lit_bufsize=1<<Yr+6,Vr.pending_buf_size=Vr.lit_bufsize*4,Vr.pending_buf=new Ee.Buf8(Vr.pending_buf_size),Vr.d_buf=1*Vr.lit_bufsize,Vr.l_buf=3*Vr.lit_bufsize,Vr.level=Lr,Vr.strategy=En,Vr.method=un,Kn(fr)}function Xr(fr,Lr){return Kr(fr,Lr,nr,Ge,Ze,sr)}function br(fr,Lr){var un,Pr,Yr,En;if(!fr||!fr.state||Lr>Fe||Lr<0)return fr?vn(fr,ke):ke;if(Pr=fr.state,!fr.output||!fr.input&&fr.avail_in!==0||Pr.status===Rr&&Lr!==Be)return vn(fr,fr.avail_out===0?je:ke);if(Pr.strm=fr,un=Pr.last_flush,Pr.last_flush=Lr,Pr.status===Sr)if(Pr.wrap===2)fr.adler=0,Dr(Pr,31),Dr(Pr,139),Dr(Pr,8),Pr.gzhead?(Dr(Pr,(Pr.gzhead.text?1:0)+(Pr.gzhead.hcrc?2:0)+(Pr.gzhead.extra?4:0)+(Pr.gzhead.name?8:0)+(Pr.gzhead.comment?16:0)),Dr(Pr,Pr.gzhead.time&255),Dr(Pr,Pr.gzhead.time>>8&255),Dr(Pr,Pr.gzhead.time>>16&255),Dr(Pr,Pr.gzhead.time>>24&255),Dr(Pr,Pr.level===9?2:Pr.strategy>=Ve||Pr.level<2?4:0),Dr(Pr,Pr.gzhead.os&255),Pr.gzhead.extra&&Pr.gzhead.extra.length&&(Dr(Pr,Pr.gzhead.extra.length&255),Dr(Pr,Pr.gzhead.extra.length>>8&255)),Pr.gzhead.hcrc&&(fr.adler=_e(fr.adler,Pr.pending_buf,Pr.pending,0)),Pr.gzindex=0,Pr.status=ar):(Dr(Pr,0),Dr(Pr,0),Dr(Pr,0),Dr(Pr,0),Dr(Pr,0),Dr(Pr,Pr.level===9?2:Pr.strategy>=Ve||Pr.level<2?4:0),Dr(Pr,$r),Pr.status=Er);else{var Zn=nr+(Pr.w_bits-8<<4)<<8,Vr=-1;Pr.strategy>=Ve||Pr.level<2?Vr=0:Pr.level<6?Vr=1:Pr.level===6?Vr=2:Vr=3,Zn|=Vr<<6,Pr.strstart!==0&&(Zn|=hr),Zn+=31-Zn%31,Pr.status=Er,jr(Pr,Zn),Pr.strstart!==0&&(jr(Pr,fr.adler>>>16),jr(Pr,fr.adler&65535)),fr.adler=1}if(Pr.status===ar)if(Pr.gzhead.extra){for(Yr=Pr.pending;Pr.gzindex<(Pr.gzhead.extra.length&65535)&&!(Pr.pending===Pr.pending_buf_size&&(Pr.gzhead.hcrc&&Pr.pending>Yr&&(fr.adler=_e(fr.adler,Pr.pending_buf,Pr.pending-Yr,Yr)),Fr(fr),Yr=Pr.pending,Pr.pending===Pr.pending_buf_size));)Dr(Pr,Pr.gzhead.extra[Pr.gzindex]&255),Pr.gzindex++;Pr.gzhead.hcrc&&Pr.pending>Yr&&(fr.adler=_e(fr.adler,Pr.pending_buf,Pr.pending-Yr,Yr)),Pr.gzindex===Pr.gzhead.extra.length&&(Pr.gzindex=0,Pr.status=tr)}else Pr.status=tr;if(Pr.status===tr)if(Pr.gzhead.name){Yr=Pr.pending;do{if(Pr.pending===Pr.pending_buf_size&&(Pr.gzhead.hcrc&&Pr.pending>Yr&&(fr.adler=_e(fr.adler,Pr.pending_buf,Pr.pending-Yr,Yr)),Fr(fr),Yr=Pr.pending,Pr.pending===Pr.pending_buf_size)){En=1;break}Pr.gzindex<Pr.gzhead.name.length?En=Pr.gzhead.name.charCodeAt(Pr.gzindex++)&255:En=0,Dr(Pr,En)}while(En!==0);Pr.gzhead.hcrc&&Pr.pending>Yr&&(fr.adler=_e(fr.adler,Pr.pending_buf,Pr.pending-Yr,Yr)),En===0&&(Pr.gzindex=0,Pr.status=lr)}else Pr.status=lr;if(Pr.status===lr)if(Pr.gzhead.comment){Yr=Pr.pending;do{if(Pr.pending===Pr.pending_buf_size&&(Pr.gzhead.hcrc&&Pr.pending>Yr&&(fr.adler=_e(fr.adler,Pr.pending_buf,Pr.pending-Yr,Yr)),Fr(fr),Yr=Pr.pending,Pr.pending===Pr.pending_buf_size)){En=1;break}Pr.gzindex<Pr.gzhead.comment.length?En=Pr.gzhead.comment.charCodeAt(Pr.gzindex++)&255:En=0,Dr(Pr,En)}while(En!==0);Pr.gzhead.hcrc&&Pr.pending>Yr&&(fr.adler=_e(fr.adler,Pr.pending_buf,Pr.pending-Yr,Yr)),En===0&&(Pr.status=pr)}else Pr.status=pr;if(Pr.status===pr&&(Pr.gzhead.hcrc?(Pr.pending+2>Pr.pending_buf_size&&Fr(fr),Pr.pending+2<=Pr.pending_buf_size&&(Dr(Pr,fr.adler&255),Dr(Pr,fr.adler>>8&255),fr.adler=0,Pr.status=Er)):Pr.status=Er),Pr.pending!==0){if(Fr(fr),fr.avail_out===0)return Pr.last_flush=-1,Ie}else if(fr.avail_in===0&&bn(Lr)<=bn(un)&&Lr!==Be)return vn(fr,je);if(Pr.status===Rr&&fr.avail_in!==0)return vn(fr,je);if(fr.avail_in!==0||Pr.lookahead!==0||Lr!==Ce&&Pr.status!==Rr){var Mr=Pr.strategy===Ve?Qn(Pr,Lr):Pr.strategy===Xe?Gn(Pr,Lr):ni[Pr.level].func(Pr,Lr);if((Mr===Zr||Mr===zr)&&(Pr.status=Rr),Mr===Tr||Mr===Zr)return fr.avail_out===0&&(Pr.last_flush=-1),Ie;if(Mr===Ir&&(Lr===Se?t._tr_align(Pr):Lr!==Fe&&(t._tr_stored_block(Pr,0,0,!1),Lr===Re&&(An(Pr.head),Pr.lookahead===0&&(Pr.strstart=0,Pr.block_start=0,Pr.insert=0))),Fr(fr),fr.avail_out===0))return Pr.last_flush=-1,Ie}return Lr!==Be?Ie:Pr.wrap<=0?Ue:(Pr.wrap===2?(Dr(Pr,fr.adler&255),Dr(Pr,fr.adler>>8&255),Dr(Pr,fr.adler>>16&255),Dr(Pr,fr.adler>>24&255),Dr(Pr,fr.total_in&255),Dr(Pr,fr.total_in>>8&255),Dr(Pr,fr.total_in>>16&255),Dr(Pr,fr.total_in>>24&255)):(jr(Pr,fr.adler>>>16),jr(Pr,fr.adler&65535)),Fr(fr),Pr.wrap>0&&(Pr.wrap=-Pr.wrap),Pr.pending!==0?Ie:Ue)}function Sn(fr){var Lr;return!fr||!fr.state?ke:(Lr=fr.state.status,Lr!==Sr&&Lr!==ar&&Lr!==tr&&Lr!==lr&&Lr!==pr&&Lr!==Er&&Lr!==Rr?vn(fr,ke):(fr.state=null,Lr===Er?vn(fr,Oe):Ie))}function vi(fr,Lr){var un=Lr.length,Pr,Yr,En,Zn,Vr,Mr,gn,wn;if(!fr||!fr.state||(Pr=fr.state,Zn=Pr.wrap,Zn===2||Zn===1&&Pr.status!==Sr||Pr.lookahead))return ke;for(Zn===1&&(fr.adler=Ae(fr.adler,Lr,un,0)),Pr.wrap=0,un>=Pr.w_size&&(Zn===0&&(An(Pr.head),Pr.strstart=0,Pr.block_start=0,Pr.insert=0),wn=new Ee.Buf8(Pr.w_size),Ee.arraySet(wn,Lr,un-Pr.w_size,Pr.w_size,0),Lr=wn,un=Pr.w_size),Vr=fr.avail_in,Mr=fr.next_in,gn=fr.input,fr.avail_in=un,fr.next_in=0,fr.input=Lr,xn(Pr);Pr.lookahead>=ur;){Yr=Pr.strstart,En=Pr.lookahead-(ur-1);do Pr.ins_h=(Pr.ins_h<<Pr.hash_shift^Pr.window[Yr+ur-1])&Pr.hash_mask,Pr.prev[Yr&Pr.w_mask]=Pr.head[Pr.ins_h],Pr.head[Pr.ins_h]=Yr,Yr++;while(--En);Pr.strstart=Yr,Pr.lookahead=ur-1,xn(Pr)}return Pr.strstart+=Pr.lookahead,Pr.block_start=Pr.strstart,Pr.insert=Pr.lookahead,Pr.lookahead=0,Pr.match_length=Pr.prev_length=ur-1,Pr.match_available=0,fr.next_in=Mr,fr.input=gn,fr.avail_in=Vr,Pr.wrap=Zn,Ie}return deflate.deflateInit=Xr,deflate.deflateInit2=Kr,deflate.deflateReset=Kn,deflate.deflateResetKeep=In,deflate.deflateSetHeader=si,deflate.deflate=br,deflate.deflateEnd=Sn,deflate.deflateSetDictionary=vi,deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var strings={},hasRequiredStrings;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;var Ee=requireCommon(),t=!0,Ae=!0;try{String.fromCharCode.apply(null,[0])}catch{t=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ae=!1}for(var _e=new Ee.Buf8(256),xe=0;xe<256;xe++)_e[xe]=xe>=252?6:xe>=248?5:xe>=240?4:xe>=224?3:xe>=192?2:1;_e[254]=_e[254]=1,strings.string2buf=function(Se){var Re,Be,Fe,Ie,Ue,ke=Se.length,Oe=0;for(Ie=0;Ie<ke;Ie++)Be=Se.charCodeAt(Ie),(Be&64512)===55296&&Ie+1<ke&&(Fe=Se.charCodeAt(Ie+1),(Fe&64512)===56320&&(Be=65536+(Be-55296<<10)+(Fe-56320),Ie++)),Oe+=Be<128?1:Be<2048?2:Be<65536?3:4;for(Re=new Ee.Buf8(Oe),Ue=0,Ie=0;Ue<Oe;Ie++)Be=Se.charCodeAt(Ie),(Be&64512)===55296&&Ie+1<ke&&(Fe=Se.charCodeAt(Ie+1),(Fe&64512)===56320&&(Be=65536+(Be-55296<<10)+(Fe-56320),Ie++)),Be<128?Re[Ue++]=Be:Be<2048?(Re[Ue++]=192|Be>>>6,Re[Ue++]=128|Be&63):Be<65536?(Re[Ue++]=224|Be>>>12,Re[Ue++]=128|Be>>>6&63,Re[Ue++]=128|Be&63):(Re[Ue++]=240|Be>>>18,Re[Ue++]=128|Be>>>12&63,Re[Ue++]=128|Be>>>6&63,Re[Ue++]=128|Be&63);return Re};function Ce(Se,Re){if(Re<65534&&(Se.subarray&&Ae||!Se.subarray&&t))return String.fromCharCode.apply(null,Ee.shrinkBuf(Se,Re));for(var Be="",Fe=0;Fe<Re;Fe++)Be+=String.fromCharCode(Se[Fe]);return Be}return strings.buf2binstring=function(Se){return Ce(Se,Se.length)},strings.binstring2buf=function(Se){for(var Re=new Ee.Buf8(Se.length),Be=0,Fe=Re.length;Be<Fe;Be++)Re[Be]=Se.charCodeAt(Be);return Re},strings.buf2string=function(Se,Re){var Be,Fe,Ie,Ue,ke=Re||Se.length,Oe=new Array(ke*2);for(Fe=0,Be=0;Be<ke;){if(Ie=Se[Be++],Ie<128){Oe[Fe++]=Ie;continue}if(Ue=_e[Ie],Ue>4){Oe[Fe++]=65533,Be+=Ue-1;continue}for(Ie&=Ue===2?31:Ue===3?15:7;Ue>1&&Be<ke;)Ie=Ie<<6|Se[Be++]&63,Ue--;if(Ue>1){Oe[Fe++]=65533;continue}Ie<65536?Oe[Fe++]=Ie:(Ie-=65536,Oe[Fe++]=55296|Ie>>10&1023,Oe[Fe++]=56320|Ie&1023)}return Ce(Oe,Fe)},strings.utf8border=function(Se,Re){var Be;for(Re=Re||Se.length,Re>Se.length&&(Re=Se.length),Be=Re-1;Be>=0&&(Se[Be]&192)===128;)Be--;return Be<0||Be===0?Re:Be+_e[Se[Be]]>Re?Be:Re},strings}var zstream,hasRequiredZstream;function requireZstream(){if(hasRequiredZstream)return zstream;hasRequiredZstream=1;function Ee(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return zstream=Ee,zstream}var hasRequiredDeflate;function requireDeflate(){if(hasRequiredDeflate)return deflate$1;hasRequiredDeflate=1;var Ee=requireDeflate$1(),t=requireCommon(),Ae=requireStrings(),_e=requireMessages(),xe=requireZstream(),Ce=Object.prototype.toString,Se=0,Re=4,Be=0,Fe=1,Ie=2,Ue=-1,ke=0,Oe=8;function je(Xe){if(!(this instanceof je))return new je(Xe);this.options=t.assign({level:Ue,method:Oe,chunkSize:16384,windowBits:15,memLevel:8,strategy:ke,to:""},Xe||{});var ir=this.options;ir.raw&&ir.windowBits>0?ir.windowBits=-ir.windowBits:ir.gzip&&ir.windowBits>0&&ir.windowBits<16&&(ir.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xe,this.strm.avail_out=0;var sr=Ee.deflateInit2(this.strm,ir.level,ir.method,ir.windowBits,ir.memLevel,ir.strategy);if(sr!==Be)throw new Error(_e[sr]);if(ir.header&&Ee.deflateSetHeader(this.strm,ir.header),ir.dictionary){var rr;if(typeof ir.dictionary=="string"?rr=Ae.string2buf(ir.dictionary):Ce.call(ir.dictionary)==="[object ArrayBuffer]"?rr=new Uint8Array(ir.dictionary):rr=ir.dictionary,sr=Ee.deflateSetDictionary(this.strm,rr),sr!==Be)throw new Error(_e[sr]);this._dict_set=!0}}je.prototype.push=function(Xe,ir){var sr=this.strm,rr=this.options.chunkSize,nr,We;if(this.ended)return!1;We=ir===~~ir?ir:ir===!0?Re:Se,typeof Xe=="string"?sr.input=Ae.string2buf(Xe):Ce.call(Xe)==="[object ArrayBuffer]"?sr.input=new Uint8Array(Xe):sr.input=Xe,sr.next_in=0,sr.avail_in=sr.input.length;do{if(sr.avail_out===0&&(sr.output=new t.Buf8(rr),sr.next_out=0,sr.avail_out=rr),nr=Ee.deflate(sr,We),nr!==Fe&&nr!==Be)return this.onEnd(nr),this.ended=!0,!1;(sr.avail_out===0||sr.avail_in===0&&(We===Re||We===Ie))&&(this.options.to==="string"?this.onData(Ae.buf2binstring(t.shrinkBuf(sr.output,sr.next_out))):this.onData(t.shrinkBuf(sr.output,sr.next_out)))}while((sr.avail_in>0||sr.avail_out===0)&&nr!==Fe);return We===Re?(nr=Ee.deflateEnd(this.strm),this.onEnd(nr),this.ended=!0,nr===Be):(We===Ie&&(this.onEnd(Be),sr.avail_out=0),!0)},je.prototype.onData=function(Xe){this.chunks.push(Xe)},je.prototype.onEnd=function(Xe){Xe===Be&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=Xe,this.msg=this.strm.msg};function Ke(Xe,ir){var sr=new je(ir);if(sr.push(Xe,!0),sr.err)throw sr.msg||_e[sr.err];return sr.result}function ze(Xe,ir){return ir=ir||{},ir.raw=!0,Ke(Xe,ir)}function Ve(Xe,ir){return ir=ir||{},ir.gzip=!0,Ke(Xe,ir)}return deflate$1.Deflate=je,deflate$1.deflate=Ke,deflate$1.deflateRaw=ze,deflate$1.gzip=Ve,deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast;function requireInffast(){if(hasRequiredInffast)return inffast;hasRequiredInffast=1;var Ee=30,t=12;return inffast=function(_e,xe){var Ce,Se,Re,Be,Fe,Ie,Ue,ke,Oe,je,Ke,ze,Ve,Xe,ir,sr,rr,nr,We,Ge,Ze,or,He,Je,$e;Ce=_e.state,Se=_e.next_in,Je=_e.input,Re=Se+(_e.avail_in-5),Be=_e.next_out,$e=_e.output,Fe=Be-(xe-_e.avail_out),Ie=Be+(_e.avail_out-257),Ue=Ce.dmax,ke=Ce.wsize,Oe=Ce.whave,je=Ce.wnext,Ke=Ce.window,ze=Ce.hold,Ve=Ce.bits,Xe=Ce.lencode,ir=Ce.distcode,sr=(1<<Ce.lenbits)-1,rr=(1<<Ce.distbits)-1;e:do{Ve<15&&(ze+=Je[Se++]<<Ve,Ve+=8,ze+=Je[Se++]<<Ve,Ve+=8),nr=Xe[ze&sr];t:for(;;){if(We=nr>>>24,ze>>>=We,Ve-=We,We=nr>>>16&255,We===0)$e[Be++]=nr&65535;else if(We&16){Ge=nr&65535,We&=15,We&&(Ve<We&&(ze+=Je[Se++]<<Ve,Ve+=8),Ge+=ze&(1<<We)-1,ze>>>=We,Ve-=We),Ve<15&&(ze+=Je[Se++]<<Ve,Ve+=8,ze+=Je[Se++]<<Ve,Ve+=8),nr=ir[ze&rr];r:for(;;){if(We=nr>>>24,ze>>>=We,Ve-=We,We=nr>>>16&255,We&16){if(Ze=nr&65535,We&=15,Ve<We&&(ze+=Je[Se++]<<Ve,Ve+=8,Ve<We&&(ze+=Je[Se++]<<Ve,Ve+=8)),Ze+=ze&(1<<We)-1,Ze>Ue){_e.msg="invalid distance too far back",Ce.mode=Ee;break e}if(ze>>>=We,Ve-=We,We=Be-Fe,Ze>We){if(We=Ze-We,We>Oe&&Ce.sane){_e.msg="invalid distance too far back",Ce.mode=Ee;break e}if(or=0,He=Ke,je===0){if(or+=ke-We,We<Ge){Ge-=We;do $e[Be++]=Ke[or++];while(--We);or=Be-Ze,He=$e}}else if(je<We){if(or+=ke+je-We,We-=je,We<Ge){Ge-=We;do $e[Be++]=Ke[or++];while(--We);if(or=0,je<Ge){We=je,Ge-=We;do $e[Be++]=Ke[or++];while(--We);or=Be-Ze,He=$e}}}else if(or+=je-We,We<Ge){Ge-=We;do $e[Be++]=Ke[or++];while(--We);or=Be-Ze,He=$e}for(;Ge>2;)$e[Be++]=He[or++],$e[Be++]=He[or++],$e[Be++]=He[or++],Ge-=3;Ge&&($e[Be++]=He[or++],Ge>1&&($e[Be++]=He[or++]))}else{or=Be-Ze;do $e[Be++]=$e[or++],$e[Be++]=$e[or++],$e[Be++]=$e[or++],Ge-=3;while(Ge>2);Ge&&($e[Be++]=$e[or++],Ge>1&&($e[Be++]=$e[or++]))}}else if((We&64)===0){nr=ir[(nr&65535)+(ze&(1<<We)-1)];continue r}else{_e.msg="invalid distance code",Ce.mode=Ee;break e}break}}else if((We&64)===0){nr=Xe[(nr&65535)+(ze&(1<<We)-1)];continue t}else if(We&32){Ce.mode=t;break e}else{_e.msg="invalid literal/length code",Ce.mode=Ee;break e}break}}while(Se<Re&&Be<Ie);Ge=Ve>>3,Se-=Ge,Ve-=Ge<<3,ze&=(1<<Ve)-1,_e.next_in=Se,_e.next_out=Be,_e.avail_in=Se<Re?5+(Re-Se):5-(Se-Re),_e.avail_out=Be<Ie?257+(Ie-Be):257-(Be-Ie),Ce.hold=ze,Ce.bits=Ve},inffast}var inftrees,hasRequiredInftrees;function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var Ee=requireCommon(),t=15,Ae=852,_e=592,xe=0,Ce=1,Se=2,Re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Be=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Ie=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(ke,Oe,je,Ke,ze,Ve,Xe,ir){var sr=ir.bits,rr=0,nr=0,We=0,Ge=0,Ze=0,or=0,He=0,Je=0,$e=0,mr=0,wr,vr,ur,Cr,_r,hr=null,Sr=0,ar,tr=new Ee.Buf16(t+1),lr=new Ee.Buf16(t+1),pr=null,Er=0,Rr,Tr,Ir;for(rr=0;rr<=t;rr++)tr[rr]=0;for(nr=0;nr<Ke;nr++)tr[Oe[je+nr]]++;for(Ze=sr,Ge=t;Ge>=1&&tr[Ge]===0;Ge--);if(Ze>Ge&&(Ze=Ge),Ge===0)return ze[Ve++]=1<<24|64<<16|0,ze[Ve++]=1<<24|64<<16|0,ir.bits=1,0;for(We=1;We<Ge&&tr[We]===0;We++);for(Ze<We&&(Ze=We),Je=1,rr=1;rr<=t;rr++)if(Je<<=1,Je-=tr[rr],Je<0)return-1;if(Je>0&&(ke===xe||Ge!==1))return-1;for(lr[1]=0,rr=1;rr<t;rr++)lr[rr+1]=lr[rr]+tr[rr];for(nr=0;nr<Ke;nr++)Oe[je+nr]!==0&&(Xe[lr[Oe[je+nr]]++]=nr);if(ke===xe?(hr=pr=Xe,ar=19):ke===Ce?(hr=Re,Sr-=257,pr=Be,Er-=257,ar=256):(hr=Fe,pr=Ie,ar=-1),mr=0,nr=0,rr=We,_r=Ve,or=Ze,He=0,ur=-1,$e=1<<Ze,Cr=$e-1,ke===Ce&&$e>Ae||ke===Se&&$e>_e)return 1;for(;;){Rr=rr-He,Xe[nr]<ar?(Tr=0,Ir=Xe[nr]):Xe[nr]>ar?(Tr=pr[Er+Xe[nr]],Ir=hr[Sr+Xe[nr]]):(Tr=96,Ir=0),wr=1<<rr-He,vr=1<<or,We=vr;do vr-=wr,ze[_r+(mr>>He)+vr]=Rr<<24|Tr<<16|Ir|0;while(vr!==0);for(wr=1<<rr-1;mr&wr;)wr>>=1;if(wr!==0?(mr&=wr-1,mr+=wr):mr=0,nr++,--tr[rr]===0){if(rr===Ge)break;rr=Oe[je+Xe[nr]]}if(rr>Ze&&(mr&Cr)!==ur){for(He===0&&(He=Ze),_r+=We,or=rr-He,Je=1<<or;or+He<Ge&&(Je-=tr[or+He],!(Je<=0));)or++,Je<<=1;if($e+=1<<or,ke===Ce&&$e>Ae||ke===Se&&$e>_e)return 1;ur=mr&Cr,ze[ur]=Ze<<24|or<<16|_r-Ve|0}}return mr!==0&&(ze[_r+mr]=rr-He<<24|64<<16|0),ir.bits=Ze,0},inftrees}var hasRequiredInflate$1;function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;var Ee=requireCommon(),t=requireAdler32(),Ae=requireCrc32(),_e=requireInffast(),xe=requireInftrees(),Ce=0,Se=1,Re=2,Be=4,Fe=5,Ie=6,Ue=0,ke=1,Oe=2,je=-2,Ke=-3,ze=-4,Ve=-5,Xe=8,ir=1,sr=2,rr=3,nr=4,We=5,Ge=6,Ze=7,or=8,He=9,Je=10,$e=11,mr=12,wr=13,vr=14,ur=15,Cr=16,_r=17,hr=18,Sr=19,ar=20,tr=21,lr=22,pr=23,Er=24,Rr=25,Tr=26,Ir=27,Zr=28,zr=29,$r=30,vn=31,bn=32,An=852,Fr=592,dn=15,Dr=dn;function jr(Kr){return(Kr>>>24&255)+(Kr>>>8&65280)+((Kr&65280)<<8)+((Kr&255)<<24)}function hn(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ee.Buf16(320),this.work=new Ee.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function pn(Kr){var Xr;return!Kr||!Kr.state?je:(Xr=Kr.state,Kr.total_in=Kr.total_out=Xr.total=0,Kr.msg="",Xr.wrap&&(Kr.adler=Xr.wrap&1),Xr.mode=ir,Xr.last=0,Xr.havedict=0,Xr.dmax=32768,Xr.head=null,Xr.hold=0,Xr.bits=0,Xr.lencode=Xr.lendyn=new Ee.Buf32(An),Xr.distcode=Xr.distdyn=new Ee.Buf32(Fr),Xr.sane=1,Xr.back=-1,Ue)}function xn(Kr){var Xr;return!Kr||!Kr.state?je:(Xr=Kr.state,Xr.wsize=0,Xr.whave=0,Xr.wnext=0,pn(Kr))}function Dn(Kr,Xr){var br,Sn;return!Kr||!Kr.state||(Sn=Kr.state,Xr<0?(br=0,Xr=-Xr):(br=(Xr>>4)+1,Xr<48&&(Xr&=15)),Xr&&(Xr<8||Xr>15))?je:(Sn.window!==null&&Sn.wbits!==Xr&&(Sn.window=null),Sn.wrap=br,Sn.wbits=Xr,xn(Kr))}function On(Kr,Xr){var br,Sn;return Kr?(Sn=new hn,Kr.state=Sn,Sn.window=null,br=Dn(Kr,Xr),br!==Ue&&(Kr.state=null),br):je}function yn(Kr){return On(Kr,Dr)}var Gn=!0,Qn,di;function ni(Kr){if(Gn){var Xr;for(Qn=new Ee.Buf32(512),di=new Ee.Buf32(32),Xr=0;Xr<144;)Kr.lens[Xr++]=8;for(;Xr<256;)Kr.lens[Xr++]=9;for(;Xr<280;)Kr.lens[Xr++]=7;for(;Xr<288;)Kr.lens[Xr++]=8;for(xe(Se,Kr.lens,0,288,Qn,0,Kr.work,{bits:9}),Xr=0;Xr<32;)Kr.lens[Xr++]=5;xe(Re,Kr.lens,0,32,di,0,Kr.work,{bits:5}),Gn=!1}Kr.lencode=Qn,Kr.lenbits=9,Kr.distcode=di,Kr.distbits=5}function wi(Kr,Xr,br,Sn){var vi,fr=Kr.state;return fr.window===null&&(fr.wsize=1<<fr.wbits,fr.wnext=0,fr.whave=0,fr.window=new Ee.Buf8(fr.wsize)),Sn>=fr.wsize?(Ee.arraySet(fr.window,Xr,br-fr.wsize,fr.wsize,0),fr.wnext=0,fr.whave=fr.wsize):(vi=fr.wsize-fr.wnext,vi>Sn&&(vi=Sn),Ee.arraySet(fr.window,Xr,br-Sn,vi,fr.wnext),Sn-=vi,Sn?(Ee.arraySet(fr.window,Xr,br-Sn,Sn,0),fr.wnext=Sn,fr.whave=fr.wsize):(fr.wnext+=vi,fr.wnext===fr.wsize&&(fr.wnext=0),fr.whave<fr.wsize&&(fr.whave+=vi))),0}function Nr(Kr,Xr){var br,Sn,vi,fr,Lr,un,Pr,Yr,En,Zn,Vr,Mr,gn,wn,Rn=0,Nn,zn,ci,ui,oi,Bi,fi,yi,bi=new Ee.Buf8(4),Ci,Pi,Ii=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Kr||!Kr.state||!Kr.output||!Kr.input&&Kr.avail_in!==0)return je;br=Kr.state,br.mode===mr&&(br.mode=wr),Lr=Kr.next_out,vi=Kr.output,Pr=Kr.avail_out,fr=Kr.next_in,Sn=Kr.input,un=Kr.avail_in,Yr=br.hold,En=br.bits,Zn=un,Vr=Pr,yi=Ue;e:for(;;)switch(br.mode){case ir:if(br.wrap===0){br.mode=wr;break}for(;En<16;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}if(br.wrap&2&&Yr===35615){br.check=0,bi[0]=Yr&255,bi[1]=Yr>>>8&255,br.check=Ae(br.check,bi,2,0),Yr=0,En=0,br.mode=sr;break}if(br.flags=0,br.head&&(br.head.done=!1),!(br.wrap&1)||(((Yr&255)<<8)+(Yr>>8))%31){Kr.msg="incorrect header check",br.mode=$r;break}if((Yr&15)!==Xe){Kr.msg="unknown compression method",br.mode=$r;break}if(Yr>>>=4,En-=4,fi=(Yr&15)+8,br.wbits===0)br.wbits=fi;else if(fi>br.wbits){Kr.msg="invalid window size",br.mode=$r;break}br.dmax=1<<fi,Kr.adler=br.check=1,br.mode=Yr&512?Je:mr,Yr=0,En=0;break;case sr:for(;En<16;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}if(br.flags=Yr,(br.flags&255)!==Xe){Kr.msg="unknown compression method",br.mode=$r;break}if(br.flags&57344){Kr.msg="unknown header flags set",br.mode=$r;break}br.head&&(br.head.text=Yr>>8&1),br.flags&512&&(bi[0]=Yr&255,bi[1]=Yr>>>8&255,br.check=Ae(br.check,bi,2,0)),Yr=0,En=0,br.mode=rr;case rr:for(;En<32;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}br.head&&(br.head.time=Yr),br.flags&512&&(bi[0]=Yr&255,bi[1]=Yr>>>8&255,bi[2]=Yr>>>16&255,bi[3]=Yr>>>24&255,br.check=Ae(br.check,bi,4,0)),Yr=0,En=0,br.mode=nr;case nr:for(;En<16;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}br.head&&(br.head.xflags=Yr&255,br.head.os=Yr>>8),br.flags&512&&(bi[0]=Yr&255,bi[1]=Yr>>>8&255,br.check=Ae(br.check,bi,2,0)),Yr=0,En=0,br.mode=We;case We:if(br.flags&1024){for(;En<16;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}br.length=Yr,br.head&&(br.head.extra_len=Yr),br.flags&512&&(bi[0]=Yr&255,bi[1]=Yr>>>8&255,br.check=Ae(br.check,bi,2,0)),Yr=0,En=0}else br.head&&(br.head.extra=null);br.mode=Ge;case Ge:if(br.flags&1024&&(Mr=br.length,Mr>un&&(Mr=un),Mr&&(br.head&&(fi=br.head.extra_len-br.length,br.head.extra||(br.head.extra=new Array(br.head.extra_len)),Ee.arraySet(br.head.extra,Sn,fr,Mr,fi)),br.flags&512&&(br.check=Ae(br.check,Sn,Mr,fr)),un-=Mr,fr+=Mr,br.length-=Mr),br.length))break e;br.length=0,br.mode=Ze;case Ze:if(br.flags&2048){if(un===0)break e;Mr=0;do fi=Sn[fr+Mr++],br.head&&fi&&br.length<65536&&(br.head.name+=String.fromCharCode(fi));while(fi&&Mr<un);if(br.flags&512&&(br.check=Ae(br.check,Sn,Mr,fr)),un-=Mr,fr+=Mr,fi)break e}else br.head&&(br.head.name=null);br.length=0,br.mode=or;case or:if(br.flags&4096){if(un===0)break e;Mr=0;do fi=Sn[fr+Mr++],br.head&&fi&&br.length<65536&&(br.head.comment+=String.fromCharCode(fi));while(fi&&Mr<un);if(br.flags&512&&(br.check=Ae(br.check,Sn,Mr,fr)),un-=Mr,fr+=Mr,fi)break e}else br.head&&(br.head.comment=null);br.mode=He;case He:if(br.flags&512){for(;En<16;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}if(Yr!==(br.check&65535)){Kr.msg="header crc mismatch",br.mode=$r;break}Yr=0,En=0}br.head&&(br.head.hcrc=br.flags>>9&1,br.head.done=!0),Kr.adler=br.check=0,br.mode=mr;break;case Je:for(;En<32;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}Kr.adler=br.check=jr(Yr),Yr=0,En=0,br.mode=$e;case $e:if(br.havedict===0)return Kr.next_out=Lr,Kr.avail_out=Pr,Kr.next_in=fr,Kr.avail_in=un,br.hold=Yr,br.bits=En,Oe;Kr.adler=br.check=1,br.mode=mr;case mr:if(Xr===Fe||Xr===Ie)break e;case wr:if(br.last){Yr>>>=En&7,En-=En&7,br.mode=Ir;break}for(;En<3;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}switch(br.last=Yr&1,Yr>>>=1,En-=1,Yr&3){case 0:br.mode=vr;break;case 1:if(ni(br),br.mode=ar,Xr===Ie){Yr>>>=2,En-=2;break e}break;case 2:br.mode=_r;break;case 3:Kr.msg="invalid block type",br.mode=$r}Yr>>>=2,En-=2;break;case vr:for(Yr>>>=En&7,En-=En&7;En<32;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}if((Yr&65535)!==(Yr>>>16^65535)){Kr.msg="invalid stored block lengths",br.mode=$r;break}if(br.length=Yr&65535,Yr=0,En=0,br.mode=ur,Xr===Ie)break e;case ur:br.mode=Cr;case Cr:if(Mr=br.length,Mr){if(Mr>un&&(Mr=un),Mr>Pr&&(Mr=Pr),Mr===0)break e;Ee.arraySet(vi,Sn,fr,Mr,Lr),un-=Mr,fr+=Mr,Pr-=Mr,Lr+=Mr,br.length-=Mr;break}br.mode=mr;break;case _r:for(;En<14;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}if(br.nlen=(Yr&31)+257,Yr>>>=5,En-=5,br.ndist=(Yr&31)+1,Yr>>>=5,En-=5,br.ncode=(Yr&15)+4,Yr>>>=4,En-=4,br.nlen>286||br.ndist>30){Kr.msg="too many length or distance symbols",br.mode=$r;break}br.have=0,br.mode=hr;case hr:for(;br.have<br.ncode;){for(;En<3;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}br.lens[Ii[br.have++]]=Yr&7,Yr>>>=3,En-=3}for(;br.have<19;)br.lens[Ii[br.have++]]=0;if(br.lencode=br.lendyn,br.lenbits=7,Ci={bits:br.lenbits},yi=xe(Ce,br.lens,0,19,br.lencode,0,br.work,Ci),br.lenbits=Ci.bits,yi){Kr.msg="invalid code lengths set",br.mode=$r;break}br.have=0,br.mode=Sr;case Sr:for(;br.have<br.nlen+br.ndist;){for(;Rn=br.lencode[Yr&(1<<br.lenbits)-1],Nn=Rn>>>24,zn=Rn>>>16&255,ci=Rn&65535,!(Nn<=En);){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}if(ci<16)Yr>>>=Nn,En-=Nn,br.lens[br.have++]=ci;else{if(ci===16){for(Pi=Nn+2;En<Pi;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}if(Yr>>>=Nn,En-=Nn,br.have===0){Kr.msg="invalid bit length repeat",br.mode=$r;break}fi=br.lens[br.have-1],Mr=3+(Yr&3),Yr>>>=2,En-=2}else if(ci===17){for(Pi=Nn+3;En<Pi;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}Yr>>>=Nn,En-=Nn,fi=0,Mr=3+(Yr&7),Yr>>>=3,En-=3}else{for(Pi=Nn+7;En<Pi;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}Yr>>>=Nn,En-=Nn,fi=0,Mr=11+(Yr&127),Yr>>>=7,En-=7}if(br.have+Mr>br.nlen+br.ndist){Kr.msg="invalid bit length repeat",br.mode=$r;break}for(;Mr--;)br.lens[br.have++]=fi}}if(br.mode===$r)break;if(br.lens[256]===0){Kr.msg="invalid code -- missing end-of-block",br.mode=$r;break}if(br.lenbits=9,Ci={bits:br.lenbits},yi=xe(Se,br.lens,0,br.nlen,br.lencode,0,br.work,Ci),br.lenbits=Ci.bits,yi){Kr.msg="invalid literal/lengths set",br.mode=$r;break}if(br.distbits=6,br.distcode=br.distdyn,Ci={bits:br.distbits},yi=xe(Re,br.lens,br.nlen,br.ndist,br.distcode,0,br.work,Ci),br.distbits=Ci.bits,yi){Kr.msg="invalid distances set",br.mode=$r;break}if(br.mode=ar,Xr===Ie)break e;case ar:br.mode=tr;case tr:if(un>=6&&Pr>=258){Kr.next_out=Lr,Kr.avail_out=Pr,Kr.next_in=fr,Kr.avail_in=un,br.hold=Yr,br.bits=En,_e(Kr,Vr),Lr=Kr.next_out,vi=Kr.output,Pr=Kr.avail_out,fr=Kr.next_in,Sn=Kr.input,un=Kr.avail_in,Yr=br.hold,En=br.bits,br.mode===mr&&(br.back=-1);break}for(br.back=0;Rn=br.lencode[Yr&(1<<br.lenbits)-1],Nn=Rn>>>24,zn=Rn>>>16&255,ci=Rn&65535,!(Nn<=En);){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}if(zn&&(zn&240)===0){for(ui=Nn,oi=zn,Bi=ci;Rn=br.lencode[Bi+((Yr&(1<<ui+oi)-1)>>ui)],Nn=Rn>>>24,zn=Rn>>>16&255,ci=Rn&65535,!(ui+Nn<=En);){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}Yr>>>=ui,En-=ui,br.back+=ui}if(Yr>>>=Nn,En-=Nn,br.back+=Nn,br.length=ci,zn===0){br.mode=Tr;break}if(zn&32){br.back=-1,br.mode=mr;break}if(zn&64){Kr.msg="invalid literal/length code",br.mode=$r;break}br.extra=zn&15,br.mode=lr;case lr:if(br.extra){for(Pi=br.extra;En<Pi;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}br.length+=Yr&(1<<br.extra)-1,Yr>>>=br.extra,En-=br.extra,br.back+=br.extra}br.was=br.length,br.mode=pr;case pr:for(;Rn=br.distcode[Yr&(1<<br.distbits)-1],Nn=Rn>>>24,zn=Rn>>>16&255,ci=Rn&65535,!(Nn<=En);){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}if((zn&240)===0){for(ui=Nn,oi=zn,Bi=ci;Rn=br.distcode[Bi+((Yr&(1<<ui+oi)-1)>>ui)],Nn=Rn>>>24,zn=Rn>>>16&255,ci=Rn&65535,!(ui+Nn<=En);){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}Yr>>>=ui,En-=ui,br.back+=ui}if(Yr>>>=Nn,En-=Nn,br.back+=Nn,zn&64){Kr.msg="invalid distance code",br.mode=$r;break}br.offset=ci,br.extra=zn&15,br.mode=Er;case Er:if(br.extra){for(Pi=br.extra;En<Pi;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}br.offset+=Yr&(1<<br.extra)-1,Yr>>>=br.extra,En-=br.extra,br.back+=br.extra}if(br.offset>br.dmax){Kr.msg="invalid distance too far back",br.mode=$r;break}br.mode=Rr;case Rr:if(Pr===0)break e;if(Mr=Vr-Pr,br.offset>Mr){if(Mr=br.offset-Mr,Mr>br.whave&&br.sane){Kr.msg="invalid distance too far back",br.mode=$r;break}Mr>br.wnext?(Mr-=br.wnext,gn=br.wsize-Mr):gn=br.wnext-Mr,Mr>br.length&&(Mr=br.length),wn=br.window}else wn=vi,gn=Lr-br.offset,Mr=br.length;Mr>Pr&&(Mr=Pr),Pr-=Mr,br.length-=Mr;do vi[Lr++]=wn[gn++];while(--Mr);br.length===0&&(br.mode=tr);break;case Tr:if(Pr===0)break e;vi[Lr++]=br.length,Pr--,br.mode=tr;break;case Ir:if(br.wrap){for(;En<32;){if(un===0)break e;un--,Yr|=Sn[fr++]<<En,En+=8}if(Vr-=Pr,Kr.total_out+=Vr,br.total+=Vr,Vr&&(Kr.adler=br.check=br.flags?Ae(br.check,vi,Vr,Lr-Vr):t(br.check,vi,Vr,Lr-Vr)),Vr=Pr,(br.flags?Yr:jr(Yr))!==br.check){Kr.msg="incorrect data check",br.mode=$r;break}Yr=0,En=0}br.mode=Zr;case Zr:if(br.wrap&&br.flags){for(;En<32;){if(un===0)break e;un--,Yr+=Sn[fr++]<<En,En+=8}if(Yr!==(br.total&4294967295)){Kr.msg="incorrect length check",br.mode=$r;break}Yr=0,En=0}br.mode=zr;case zr:yi=ke;break e;case $r:yi=Ke;break e;case vn:return ze;case bn:default:return je}return Kr.next_out=Lr,Kr.avail_out=Pr,Kr.next_in=fr,Kr.avail_in=un,br.hold=Yr,br.bits=En,(br.wsize||Vr!==Kr.avail_out&&br.mode<$r&&(br.mode<Ir||Xr!==Be))&&wi(Kr,Kr.output,Kr.next_out,Vr-Kr.avail_out),Zn-=Kr.avail_in,Vr-=Kr.avail_out,Kr.total_in+=Zn,Kr.total_out+=Vr,br.total+=Vr,br.wrap&&Vr&&(Kr.adler=br.check=br.flags?Ae(br.check,vi,Vr,Kr.next_out-Vr):t(br.check,vi,Vr,Kr.next_out-Vr)),Kr.data_type=br.bits+(br.last?64:0)+(br.mode===mr?128:0)+(br.mode===ar||br.mode===ur?256:0),(Zn===0&&Vr===0||Xr===Be)&&yi===Ue&&(yi=Ve),yi}function In(Kr){if(!Kr||!Kr.state)return je;var Xr=Kr.state;return Xr.window&&(Xr.window=null),Kr.state=null,Ue}function Kn(Kr,Xr){var br;return!Kr||!Kr.state||(br=Kr.state,(br.wrap&2)===0)?je:(br.head=Xr,Xr.done=!1,Ue)}function si(Kr,Xr){var br=Xr.length,Sn,vi,fr;return!Kr||!Kr.state||(Sn=Kr.state,Sn.wrap!==0&&Sn.mode!==$e)?je:Sn.mode===$e&&(vi=1,vi=t(vi,Xr,br,0),vi!==Sn.check)?Ke:(fr=wi(Kr,Xr,br,br),fr?(Sn.mode=vn,ze):(Sn.havedict=1,Ue))}return inflate.inflateReset=xn,inflate.inflateReset2=Dn,inflate.inflateResetKeep=pn,inflate.inflateInit=yn,inflate.inflateInit2=On,inflate.inflate=Nr,inflate.inflateEnd=In,inflate.inflateGetHeader=Kn,inflate.inflateSetDictionary=si,inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}var constants,hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),constants}var gzheader,hasRequiredGzheader;function requireGzheader(){if(hasRequiredGzheader)return gzheader;hasRequiredGzheader=1;function Ee(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return gzheader=Ee,gzheader}var hasRequiredInflate;function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;var Ee=requireInflate$1(),t=requireCommon(),Ae=requireStrings(),_e=requireConstants(),xe=requireMessages(),Ce=requireZstream(),Se=requireGzheader(),Re=Object.prototype.toString;function Be(Ue){if(!(this instanceof Be))return new Be(Ue);this.options=t.assign({chunkSize:16384,windowBits:0,to:""},Ue||{});var ke=this.options;ke.raw&&ke.windowBits>=0&&ke.windowBits<16&&(ke.windowBits=-ke.windowBits,ke.windowBits===0&&(ke.windowBits=-15)),ke.windowBits>=0&&ke.windowBits<16&&!(Ue&&Ue.windowBits)&&(ke.windowBits+=32),ke.windowBits>15&&ke.windowBits<48&&(ke.windowBits&15)===0&&(ke.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ce,this.strm.avail_out=0;var Oe=Ee.inflateInit2(this.strm,ke.windowBits);if(Oe!==_e.Z_OK)throw new Error(xe[Oe]);if(this.header=new Se,Ee.inflateGetHeader(this.strm,this.header),ke.dictionary&&(typeof ke.dictionary=="string"?ke.dictionary=Ae.string2buf(ke.dictionary):Re.call(ke.dictionary)==="[object ArrayBuffer]"&&(ke.dictionary=new Uint8Array(ke.dictionary)),ke.raw&&(Oe=Ee.inflateSetDictionary(this.strm,ke.dictionary),Oe!==_e.Z_OK)))throw new Error(xe[Oe])}Be.prototype.push=function(Ue,ke){var Oe=this.strm,je=this.options.chunkSize,Ke=this.options.dictionary,ze,Ve,Xe,ir,sr,rr=!1;if(this.ended)return!1;Ve=ke===~~ke?ke:ke===!0?_e.Z_FINISH:_e.Z_NO_FLUSH,typeof Ue=="string"?Oe.input=Ae.binstring2buf(Ue):Re.call(Ue)==="[object ArrayBuffer]"?Oe.input=new Uint8Array(Ue):Oe.input=Ue,Oe.next_in=0,Oe.avail_in=Oe.input.length;do{if(Oe.avail_out===0&&(Oe.output=new t.Buf8(je),Oe.next_out=0,Oe.avail_out=je),ze=Ee.inflate(Oe,_e.Z_NO_FLUSH),ze===_e.Z_NEED_DICT&&Ke&&(ze=Ee.inflateSetDictionary(this.strm,Ke)),ze===_e.Z_BUF_ERROR&&rr===!0&&(ze=_e.Z_OK,rr=!1),ze!==_e.Z_STREAM_END&&ze!==_e.Z_OK)return this.onEnd(ze),this.ended=!0,!1;Oe.next_out&&(Oe.avail_out===0||ze===_e.Z_STREAM_END||Oe.avail_in===0&&(Ve===_e.Z_FINISH||Ve===_e.Z_SYNC_FLUSH))&&(this.options.to==="string"?(Xe=Ae.utf8border(Oe.output,Oe.next_out),ir=Oe.next_out-Xe,sr=Ae.buf2string(Oe.output,Xe),Oe.next_out=ir,Oe.avail_out=je-ir,ir&&t.arraySet(Oe.output,Oe.output,Xe,ir,0),this.onData(sr)):this.onData(t.shrinkBuf(Oe.output,Oe.next_out))),Oe.avail_in===0&&Oe.avail_out===0&&(rr=!0)}while((Oe.avail_in>0||Oe.avail_out===0)&&ze!==_e.Z_STREAM_END);return ze===_e.Z_STREAM_END&&(Ve=_e.Z_FINISH),Ve===_e.Z_FINISH?(ze=Ee.inflateEnd(this.strm),this.onEnd(ze),this.ended=!0,ze===_e.Z_OK):(Ve===_e.Z_SYNC_FLUSH&&(this.onEnd(_e.Z_OK),Oe.avail_out=0),!0)},Be.prototype.onData=function(Ue){this.chunks.push(Ue)},Be.prototype.onEnd=function(Ue){Ue===_e.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=Ue,this.msg=this.strm.msg};function Fe(Ue,ke){var Oe=new Be(ke);if(Oe.push(Ue,!0),Oe.err)throw Oe.msg||xe[Oe.err];return Oe.result}function Ie(Ue,ke){return ke=ke||{},ke.raw=!0,Fe(Ue,ke)}return inflate$1.Inflate=Be,inflate$1.inflate=Fe,inflate$1.inflateRaw=Ie,inflate$1.ungzip=Fe,inflate$1}var pako_1,hasRequiredPako;function requirePako(){if(hasRequiredPako)return pako_1;hasRequiredPako=1;var Ee=requireCommon().assign,t=requireDeflate(),Ae=requireInflate(),_e=requireConstants(),xe={};return Ee(xe,t,Ae,_e),pako_1=xe,pako_1}var pakoExports=requirePako();const pako=getDefaultExportFromCjs(pakoExports);var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256);for(var i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;var decodeFromBase64=function(Ee){var t=Ee.length*.75,Ae=Ee.length,_e,xe=0,Ce,Se,Re,Be;Ee[Ee.length-1]==="="&&(t--,Ee[Ee.length-2]==="="&&t--);var Fe=new Uint8Array(t);for(_e=0;_e<Ae;_e+=4)Ce=lookup[Ee.charCodeAt(_e)],Se=lookup[Ee.charCodeAt(_e+1)],Re=lookup[Ee.charCodeAt(_e+2)],Be=lookup[Ee.charCodeAt(_e+3)],Fe[xe++]=Ce<<2|Se>>4,Fe[xe++]=(Se&15)<<4|Re>>2,Fe[xe++]=(Re&3)<<6|Be&63;return Fe},arrayToString=function(Ee){for(var t="",Ae=0;Ae<Ee.length;Ae++)t+=String.fromCharCode(Ee[Ae]);return t},decompressJson=function(Ee){return arrayToString(pako.inflate(decodeFromBase64(Ee)))},padStart=function(Ee,t,Ae){for(var _e="",xe=0,Ce=t-Ee.length;xe<Ce;xe++)_e+=Ae;return _e+Ee};const CourierBoldCompressed="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",CourierBoldObliqueCompressed="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",CourierObliqueCompressed="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",CourierCompressed="eJyFWdtSGzkQ/RXXPO1WmZSBEAJvjnESb8AmGENCKg+ypj3Wohk5ugAmlX9fzUCyW6s+ysuUfVqXvh61Zr4XI1PX1PjiuLg6C05U1Ns/Ojx42TsYHB4eFf3irWn8VNQUB4xMsIpsCwatU1DUSm8T+JpUtW7XP6NShToiEy+0ksOm0nHkIP53b9UDlefKy3Vx7G2gfjFaCyukJzundu74wVNTUnlhatE8a/XmjXkojr/s7O33d/YOBv3D3YP+68HB136xiEOtVg2dG6e8Mk1xvLM7GPxHcLlW8rYh54rjOLO4Iuu6YcVgsP9iMBjELabGK/lkymZrWxt6f8g/e7tHr4/68Xk06J673XOve+53z8PesDRL6s23zlPtepNGGrsxVngqX/R6Q617F+1qrndBjuxdRONu4ziqVE01l2vqHNgtMveiKYUtf0rjwJHYvH/26MGrvX7x6ee/l3uv+sXQydZPtjh+tXfUL07o1/+d3YPDfjH35fvrOHO3+3n1/LN19hl5q2T0x5fvxfWnOL/11zQq4jYiuuFH/38wPUgt6hT/Fkw0dKlTSRPqZevnqkllpdFa2BTfkJVtdiYCUUeRi94BGnQBY9YTlhpNKyQC04RrV3S3zCwdXIrKWFQihdfbzZoY66MpyjCWOC3cOoUfyZoUNQ0TJX/PjPRrS8zYVSxZBlV3zFinHhiQ7jjriPdpoziFpdGGWcNRrYBIt1WcbvotCCYHK0uxDhkzvwVyHVOksWd0H6bQmxQapdBJCo1T6G0KvUuh9yk0SaG/UuhDCp2m0FkKTVNolkLnKfQxhS5SaJ5Clym0SKGrFLpOoU8p9DmFblJoGU+iW/I8bSyjDNTp8zzIKVIpqawMDIuGlrRdPDiYEun4jVeG4ZwlU2MM/zIVxHABU1AMy6WQSqG/U4ihV6aEGW8xVcvQ3oZxZQox3MDQC+P7kEJ3KXSfQgyTbhnS5/MLJMKSO0y78bls9EqX8KgvzT3jZ/50bo9L3fYraQq1XR3Ls1vu7FhpYxV7HoBVZLDxGJeMA7uycarrOmHXwnuzCipKagMooBV3C/9GDFy/YqpjxSR+bORYmilFVXFH2hPOtmJPDUcbO7LE1H7shURlxYYjtdj6E2PFv+5dCpfxcF4KXPQrAEBOWquNU0yhRkv92gTUKT4d+nxqRwdwrY+QwXONS8fkK01MOYO6qoW0XA4vLXEbl8YLyddbGa9axNpv2SqU8SoWG26Gu0NTCRtqLQKzjalik8mwtBSsHVTzCTtkWh5jy1Xs8fim8BQcsDOE8xvUkeSCZncQvL/b3pKpTg32NQhnVo+lGa+yMeWZoE1wPAmknwBJE/IRJRC6z1iDUt0pLps/A82GucoQYNIiN2kLJrnu2oVqhHJLLvg6WWA3CFQMC6BdQBPGeJOTSBDc/SNrqPz5voLZClGOBHkgeL9MswpolKOAUS+zq43QaoBVxxmedMBMBwlRgd21eaSmYgQXYIt3WSNDtkhywiEKqQWKSGjrTcZzl2tjmcVmaPcL4Lc5wEug7QJtEPjM7N5tuNA1OExPNAMpOEQ4oNU6aK82mmkzAzDwEhgYWy2vhC7VirldbTE1TME+Kpcs42yaZU4dLJJAjwbRIAroFDhoAhZq37zFhoF7/ba05pYa9g5kqVIOdL3vQLAnOUYJsar5q8gY5JQFBhnkmRsw4QZ47PklF3gFNvZMhzKCpKCzvOVR6wdPRyQYovYhk5XAwY+oNNDeMxQRdPSgSDm0MzZilm1LgIUnpD0TK8+TtL83GUbEqtXMKw0FNDL5PnOMXF+CDqfj8ZjANiYyo9o8k698Rn7I5vEpCJy3oqRaWEZzyrDCBHhpghLnFGgdnbYWmjkZ2psJKHCTy6gGdE2L38QP+IeQQRXg0mjQc1S5oPJOmGdDN8trXkaW4L52GBCiEVAiQDYvleTCcAIWsllrpiA+BuAX+bTOSodgzSHkaL7nmoF1HjMVMkanPdr7NmsKaAQm2VIAKvj85cZUbbwbw70fwVwasCguhb5W5S+03EH+CIxqsktFl+MTQqEaH4f2O+TXfvGBbHMulG2/Hn/98Q/b2xEO",HelveticaBoldCompressed=JSON.parse('"eJyNnVtzG0eyrf8KA0/7RMhzJJK6+U2+zMX2mJYsEuJMzANEtihsgYQMEITaO/Z/P41CV+bKlaug86JQf6uArsrKXNVX8H8m3y9vb7u7+8m3k4t/btazm+7o5PmTZy+PTl88eXk6eTT56/Lu/tfZbTc0+Hu3eOju51ezb75bLq532maxYO2oarPb+aJndRCm3fzm425/Y8N/3M8W86tXdzeLoeXjYXv91/mX7vq3+f3Vx8m396tN92jy/cfZanZ1361+73af/PHLfXd33V2/Wd7O7sY+fvfd8svk239/8+T540ffHB+/ePTk8eOTRy+fHf/n0eR8aLxazO+635br+f18eTf59ptBBuHtx/nVp7tuvZ58+3TgF91qXZpNHj8+/svjx4+Hnfy6HAawG8z3y8/9ajeGo/+6+j9HT16+ePpo9+/z8u/L3b8vH5d/nx+9ul6+745+79f33e366B93V8vV5+Vqdt9d/+Xo6NVicfRm9z3rozfduls9DNTDOF8fzY7uV7Pr7na2+nS0/HD0y/xued9/7r4ZGi2OXv3taHZ3/X+Xq6P58AXrzfv1/Ho+W8279V+Gzv447Op6fnfz+9XHrsxA6cnv98NHZqvrqg4Nv599/vs4Ic+fvHg0eVe3np4cP5q8Wl/tAr0axR862/7m+PHzR5Pf76//Pp18+2QnDv+/2P3/9PF+vv7Z3a/mV0NA//0/k+m7ybfHz4dGvw5dWX+eDXH830d7fHJyssfdl6vF7Nb46fPTPf9jsxzi9X5hytOnz/bK3eb2/W6ibu6ydr1cLGYr4y+GiSn8c7e62qV7FZ4fH++F2e0grYf4mGQdLj0oM557/Xm26u4W3YeWRB+r3Zitd9+4/uQdfzEO9/Nis85duBqqdJZ38bH//LG7y82HocyXYiTrxWz9MQfrz261zHR512V4vxUt7z+uOtH2w3KzEnT+INqu518E7B46MbddiKmnw/xOpNXVcrG8y3jd3c6jZDOw2NlAot0fm9ki45tVN5SzD/PZkyc1abp1sZqqvHz+dJx7kX2vMvouo+8z+sH3/Oz5Hv2YO/NX/2BNhb/l7/p7Tph/5DD/lD/4c97jL156NeT/zB/8NffrLA/ot9zqdf6uN/mDv+d+vc0fPM8fvPBZOx0neppbvcvoMu/xXzn53g+L2afuPtiGhfz9oMU65c9FT7FUnK2v5vOr+epqc5tnbbOz7fWw/nR5j8XfQmfsY7M8nve51VVudZ1bieL8kD94k9HH3OV5Rv+d9/gpt/IStiXhNu/xLqNlRp9F1WerFxa4zpG4z9+1yR98yJWwza2Ek/aOdsc9xfRzV3f5FRPh+MXjmpWrRvtD2Xg/X1w3l/rr5VaYe1idPWL35TjNk+NJrbgPuwND9Fkfs1o7PiyWq7ng667xLVeb1bCMX3kAj0+wbNbzcuCaoluPWnRZ3Wzmg3K7vNdHDju5fPFX5Bh6S5wPc8HE8dNwKCcPB65nNzedSNs9x0MxOuDYzV236kTtD8dCs5vV7DOY2tOaWcNJRCd80MP7frY+EOHD6kofK9gERH04KRg/Pxxizz+v52shDWO9/7jchGPFtOyH5PaZW80eRD3Mrjb36tClePmHRfcla43Kup1drdThzvtVp3Z8vbyfXYWKc2k+zCQGwJQV1qF3trseQqqOUTd3N7PV5nYx24jdLG+Gw8xP4utmOA6Yl9uQsy688sOek+cjW66uPwzHeeHA0I9Q4iLrByCR+x7OYA/Pntoebgen2yxwF7ayzMRie70r+vVaLGCLuGNfeSK3I5KlGNRQn8Mp8ZD34hziH2lK3QliBvryH/PGlyY5qf51cfb86Cj3oC4X1/OHOSS0fyT2zA+YRXF4txsfOj/0ob4Rg3U596IygaHmr/T9hVJx3J6IGdWDfyb2zmeCPuBnAWknfs4weASchBxXJ1YDfX7yvIrjVQ+xK3IdXztjHvgodVx+VR3w8mjlaDRVP9KXw7FTqda3RWOFcCarhAzRw1yzJ/rha9z76ct66rn8s7u7EZn7Ju7Cz+LUID05DhbJocx9xQuJHc02xnrFY/Xznxw5i+rbj8uVGNUZ7d3DQFVgJ3pU8Kd1EaOwWTXRDjxienErFzjWm3KUsxL9jSnoUWzxaKtmgrebxf3886IX/WqU/9s4QEuk4Xjrfj5bXM8/fMhz1bet4de4H09YkSxeGwfT7MCq05auGuO9a9lgK2N+jQHyxZDqHy+/DUcMeA3OToFWy0/dHZ4ImTmuupv5Oh76eonGyYblONdFPdRYb4aqDucjHmw6hrTCbERm2Ur1fzU+8C+q8NOX9di1XOmK18Eszj/ef8zw+6YBLpRv2VjuGybTNVfHlvCqdfhwICtjgP18uVUavG9zhdaMtJae1jK6bu0517Ht++BhCa+Y9bigW9wLA78PJu2euF0ecMTUNfu6240YSWMNX8rjTK8FPvixq0/xCOfFySn4+JDAqyGR1/n7fud8Pa2Tv2gsJD8fXH9/iRPnpxJ2X0eZYrIFt4wYJuetGv8ldtviMETt42wBS0Mt8t2pSaxwnwu1BJgvx8MmT7WvTGCjFLrWgG6imeKAxmlVs6rPRn6XB4iWwbLnlhDXg010KmMbS/731AlbuMhtTs3Or+dXymh/iF8EB2aHDnd/pcNa625j3t4czuuD+3rV+M5XTZOOpwM2A/F73IgPHFD+2Fruad9+iVie3dkBWTwSsG87WAo0QeaXB/e0WN7s5vtuKcK9bJvpJq9jNYOGr2pU8s3Bye1gJfeYN9L3Tq7jdnHnLh80u+e3lrsfN7u7kf95NPm5W939NpuvdveQ/z15tbtbPXn0zenj/zwat/buEdC+nxGNpo7wb8PWU9/au0pAODAUzsL3nOUu4NIbuE1VoPv6Dyg4T1DGkAW2vzoU0L5wEL0OW2+HrZe+VWOGKIzehfMQi/M6ekBh9MBh9EDr6AHR6EGx0QMb6zqwYidILoatF7Y1Hbae2dblsPXkiW/WISGDvgPeDJsnvlU/CCjEAjh8H9AaC0AUC1AsFsAsFsDGWDh5CJmwDVoft/KI+tzzsRGWpiEqDuNUpM65UqsC5WqIata4LNyqnuXv5hI2rurYxFzMJlFFG9dlbTLXtglU4Mapyit/nRHUuyEqeueq8qt6niPKHmBcGYGJ2Q1MIkswrn3BZDYHE9ghTIg2UTF4RUVgGBWhaxhj6zBB+EfVwEQMUd0ZV3ZiYrsy2ViMa3cxmS3GBPYZE6LZVPyQE3KbW/UCNQIhXGg0A3QhQ1TfxsmFnLMLVQVcyBC5kHHpQlU9y9/NLmRcuZCJ2YVMIhcyrl3IZHYhE8iFjJMLVf46I3AhQ+RCzpULVfU8R5RdyLhyIROzC5lELmRcu5DJ7EImsAuZEF2oYnChisCFKkIXMsYuZIJwoaqBCxmi4jOuXMjEdmWyCxnXLmQyu5AJ7EImRBeq+CEn5Da36gVqBEK4EIYGrShyqvQokimRyM4UZLCnyMmjoiiNKjQ5a+yPLSuKyrdii2xeUScHi6K2sdiGvSyqZGhRJFcL4usGB3+LnEyOROV0ocl5Y17Y86KojC+2yO4XdbLAKGofjG3YDKPKjhjVaItBA28MHAwycHTJKLBVRlX4ZWgAphk5GUYUlX3GFl/xFTbSKGo3jW3YUqPKvhrVaK5Be2jUxbbRvm/xQ/ETrusEPRcpGRVK5LdBYrcFEbwWKTktStJnocGZ3A97LErKYVHP/ooquStK2luxBTsrauSrKJGrgvRaUnBUpOSnQVJuCg3OZezZSVFSPop6dlFUyUNR0g6KLdg/UWP3RC16JyjgnEDBN4GiayJmz0RNOCbI4JdIqdpRUl6J+kEvYJ9ESbsktmCPRI0dErXoj6A8yAzfyra9pu1ICVccR4+WaIhMxTiZoXN2wqqADRoiDzQuDbCqZ/m72fqMK98zMZueSeR4xrXdmcxeZwIZnXFyucpfZwT+ZojMzblytqqe54iypxlXhmZidjOTyMqMax8zmU3MBHYwE6J9VQzeVREYV0XoWsbYskwQflU1MCtDVH/GlU2Z2K5MNijj2p1MZmsygX3JhGhKFT/khNzmVr1AjUAIF6p9RRtyRhXuAhkRCOxEJoEVOSMvckGakcln4vvZjlxQfuRqNiTXyJFc0JbkOnuSK2RKLpArmfBaMPAlZ2RMIChnMvlcxJe9yQVlTq5md3KN7MkF7U+us0G5wg7lSrQo4+BRxsCkjKFLOWSbckX4lIlgVM6oQF1QVuXqgfpls3JBu5XrbFeusF+5Eg3L+IPI1a1o1yvWiolwrdoxdC1nZAQukGuBwK5lEriWM3ItF6RrmXwmvp9dywXlWq5m13KNXMsF7Vqus2u5Qq7lArmWCa8FA9dyRq4FgnItk89FfNm1XFCu5Wp2LdfItVzQruU6u5Yr7FquRNcyDq5lDFzLGLqWQ3YtV4RrmQiu5Ywq1AXlWq4eqF92LRe0a7nOruUKu5Yr0bWMP4hc3Yp2vWKtmAjXWo2/6OG7q4RMoGLyK8PsVqMAXlUJOVXF0qdG8Sx9L3tUxcqhqpb9qSrkThVrb6oqO1Pl5EsVkyuN+HUi4EiVkB8ZVm40iucphuxEFSsfqlp2oaqQB1WsHaiq7D+Vs/tUHr1npOA8IwHfGQm6TkXsOZULxxkl8JtKqLIqVl5TtWbNsc9UrF2mquwxlbPDVB79ZaQPKeu2qU2fiR69cJUx19FWDFHhGidjcc7OUhWwFkPkLcaluVT1LH8324tx5S8mZoMxiRzGuLYYk9ljTCCTMU4uU/nrjMBnDJHROFdOU9XzHFH2GuPKbEzMbmMS2Y1x7Tcms+GYwI5jQrScisFzKgLTqQhdxxjbjgnCd6oGxmOIas+4sh4T25XJ5mNcu4/JbD8msP+YEA2o4oeckNvcqheoEYjsQt8N9FXcip8tqDoGIBHSwvUeYiALoiAVRvEpLISmkFq+jnbV9cS3LJ0che4CxwRzWrsLiKYcFBsIMBsIsHEge/LDGPdT34pu+gPGHZDw1h8o7kCjo/4Q4g7Mugts7C6QaJs/jCXvW9OwtSv0575VRwcIuux0/3tsdXJ3ZPzJNUOj/2L4DFEMjVMgjatomphDahLF1TgH1wSOsAkxzIYp1pVfZDTNCEJviOJvPE9ClWgmKk7TUV4IjNNREU9H5TwdlcvpqKKYjirxdFSepqMKaTqqQNNRMU/HyC8ymmaE01ERT0flYjpGiadjxDQdfx1n4oVv1V0BqvEHFEIPHDoEtAYckMUamIUZ2BhhIDW4jnbjPPatOgJAdQSAwgiAwwiA1hEAshEAsxEAG0cApI7AUZ2tJ48N2UyN7Kdxqo59Kw70J5wqQGKgP9FUAY0D/SlMFTAa6E8wVUDiQH+CgTqxcTraxK08zE1jTBs5pk0eEx+SgSJGuxGj3YTR/jzZn/Kc+FY8LipIHAQVng6CCo0HQQXJA8mi0OFRYfV8BlA8Ftqhctzy1LbsWMhRPYFBFA6PnOPhEVB7TTRgO2py5MdGzvzYyNhyNwLfskg7ipF2jpF2apF2xJF2xSPtzCLtyCJtaBPivsn5oc47fp6oU46fJ+ls42eR1aCI/ODTi58nfGaxI70tUGUrLtEFpYU2vIsf6oIECgGpKhrUJAeGGlCMSNXhokYcOZKpyEileosqJD8JVIWkUkGyKmqTmuQy5Qa5YqkFFS+pXMckc0lHGaqbBCp0UlXNU5Nc/tSAnIBUbQrUiP2BZLIKUsk1orppJRJ7CalfLyThMNTgYCE1fIcaHS6k5EYkR2OKIngUCWRXpCbn+mWC1/DKVrx8t0fiyt1O2B3ej5eddptTO0bdbZULWce+aSUODOvScfwFzUE6jZLgfo3nl0m6vPPLRF3Z+SW/o+qIgnDwHVVTMRz4BueLiDAw+Q1OFkSIqtaKU9BbYp8DwWFrv/X4S8wriCAJFEdWVTRjG4xpVCCyUcD4ksJRJlnEOrZoRVy0Otykb4WS56BdwGOD0V5xDgxR9J2ruFcVI14ZxLoijLIxjq8JIrJVa8U06C2xz4HgCBpPsRuO08oJ5lPfirccCop3gwoSNyAKT/ceCo23HQqiWwqF0d2EwsKNhELqeunorZn5Gc45ojDdLlyE75mGrXdhy6/QnE3SxZmzibous6P13Nd3aee+I6oWA9NgiObCOE2IcTUrJuapMYnmxzhPkgk8UybE6TJMc4brDoWBZ6+x7pB6kb97mtG7jGBa00LEPE9wlWiWK+apDi9TwXxHTpMeRZr5KKrpjy1yDkSdEiGKnA1R5ZSIasyLqFFypPc6VfQ4TQ6916maXDT2N23wdw0O+aNfb5RizqSgUzoFjXMKXkSBjEJK+YQSZRNKKpdQz5mEKuURSpxFqHEOoRYzCBXKH3qHLceJc6f9DltucCH3M5X0naSQMerVLiHlbAGVcgUUzpT6pgCkiSHKEeOUIMZVdpiYU8MkygvjnBQmcEaYENPBMOUCvuxDYeAsaLzsQ+pF/u5pRu8ygmlP78YwzxNeJZrtinmq47k5zjgrNPEs0/yzrNKA2+Rs4BaUFCxzbrDOKcJ6zBRWKWFIftuMKadPklUWUaOL5n6nTeVdU4EMY4USjeWcb9SC0o5Uzj57uh/yzhllnAuUay6oLHM155drlFkucE65wtnkSswj55RB4UUejghnTetFHpYvxPdPBXsnGORFft8lCTkXTKMsMM7zX083YfoN0ewbp8k3rubexDz1JtHMG+eJN4Hn3YQ47YZp1vEaBIWB57xxDYLUi/zd04zeZQTTnS5KMM+TXSWa64p5qutTYzDVhmiqjdNUG1dTbWKeapNoqo3zVJvAU21CnGrDNNX44CeFgae68eAnqRf5u6cZvcsIpjo9J8k8T3WVaKorpqn+bZzl8cmE33CGkdXZRUZP1rkQHq1z7M/WOYNH6BzCM3QO7SE6R3UGgflzMmUrXjErKD7RWJC4q1J4uq5WaLx/UhDdDymMboIUFu58FBLvKv4G8zZeTdyh2KDLg7L7iIj0oDo5qHCbEHAeayfG2omxLkOK2f0+QOKRr8LTrZxC44NeBcmHw4tCT38VFh8JLyg+2/UbVscY/dcTfMS0bMVHTAsSj5gWnh4xLTQ+YlqQfMS0KPSIaWH0iGlh4RHT155GPow6tD15M9nfzYet+GxOQeLZnMLTszmFxmdzCpLP5hSFns0prE4RoPjY0ZvRn2GrZj6i4MounMetPN7zxnjP5XjP83h5IkER4z2nZ5HewEQ68WXkzQQfMnwzrhSuXcal+Q2tDyOtVzFh9g1RSIyruJiYg2MSRci4DpPJHCsTKEGMU5bgdWhGlC+N69CkngvUiJXMIRPbseJsMn44VimvTODkMiFmWL7UbghyDa+rUyvOOnVdfZTqg8SQeoYonMZVOE3M4TSJwmlch9NkDqcJlHrGKfUqfysQpZ5zlXpVPReoESuZeia2Y8WpZ/xwrFLqmcCpZ0JMPXy0nTIEUg8fbadWnHrq0fYqpefYjqXAoT3wHJtuIsKsn2PTaiPkjefYtMypqp9jk+rbpsDJe+h5B9nmvCkcjLlO6tjkazFPCR7V/5+Y52SPckr5KFPipwdBZJZiEaTnQOQnUkE0nwLZNximu5z9vfSt+g2A6hkToDApwGEPQGv4AVk4gVkMgY2BA1Lz15G/oPoWSxiQONV4S8UKNJ5qvBVlCQqdarzFAgQUTzV2aHeO98K34rsaBcV3NQoS72oUnt7VKDS+q1EQvatRGL2rUVh4V6OQ+K7GDl0tFzTyeu7qbXafeOZbdZSAqrEgwlECh1EihVNXwHXwgGzwwGzwzj72nz925Zzr2NgyjGqZZ2vZmJqlnJplnho+nQVFTJqdzgLKM2Sns45WcSsPZBW93IV1dzvPU74JpbjJ9rFpeMVGesUmewU/kgqKcJGNcJFNcpFtmPA+buUk7XPm4buILwlRENK7iMxVhNS7iCxRrPK7iCxwbPhdRMbktXj8fkqIXFcfv7OY/TcdvzPXTpyP31kgT07H78TBxQxRrRgnnzauHMHEbAsmkTcYZxswgQ3chOjihsko/LXPhQodmXrFXa4Ftnfj5PHOhdGb2K45Zfmmke8bZ/M3gVeAKqRloArLHAxeEIwfygGxNJjUyIHGImFyK0V4uTDeSAVeOCpfCdQYul5HqioWkyrBimKo4ahybTGx7Zy8yhjXS43JLWNNi44J2li3Odt6gRrlpFajcKCPa1IUOI5R5fUpqjLWsYmIeGzAcY9qCm+UU5CjTKGOIq9k6XLAqRR4VTtwOUA3ESucvhyg1cZq17gcoGVe+fTlAKmi7UeBiz6qvCJGVXpibCKcMTZgf4xqssEop/UyyrRqRpENM6jsaCTGdTS+SNeq5bSmRpVXVlLV+hqbfM1L5FobW/CKG9W07kY5rb5BzmtwfMmuFc60Hkf16xmo1ubY4GAGttbp2OhwmqY1O6oHEzGt30FdNYWDYWus6KGNWtdDA1zdo3BwbdIrfWzytdUnrfpRbaz9sdHhJSofB0T50BK1bdVA3xQOWkM+Sjif4BM953g8ACg+x3OeVn7g6XriOa7xgOiZnfOwmgMLT+qc47rtqNroiRH6IZR6PRnH2nj1xjmN+tCrNy7m8TdevXHOkWi9euNCjEnj1RvjFJ30ysrIG6+sEKdgHXplhUQVtq+8skI6BfDgKyukcigPvLJCGgVVvr2hIsjhlW9vBEqhbb+9ESQV1oNvbwSVQnrg7Y2gcTibb28EhUIpXm3IseIw5lcbHFEAG682OFeha7/a4BIFrfVqgwscLv1qg2MKFL8SQKHgEDVfCUgKBezwKwFJVuH76isBqQUF8yuvBCSdQ3vwlYCkUqAbz8LruHLYxbPwwCjUrWfhQVDhPfAsPGgU0uaz8KBwGBvPwgOn0KVHxzkqHC77iW0IlzMKlwsULhdUuFzN4XKNwuUCh8sVDpcrMVzOKVwmULiMc7jGXw6GYFVCoaqYAlWxClPVcpCqQiGqmANUOYen8hicSik0I6bAjJTCcjGG5IVvxdOVCwwFIHG2d0EhABrP6y7C0IHRNYQLGDKQeJK2Q/6zzGUrzlxB8SzLhbO4FVOhIDHfhae5LjTOc0Hy94KLQrNfWD0/BRSnd4d20/rMt+IpS0E1BIDEdYvC0ylNofH6Q0F00aEwutJQ2DhjQOoIHMXT2YtJekR7h+Kguzw5dqUGkZ6vTs5XuBADOE9jJyarozLdMbu44tm5u6Dy0rfiKXlB4jy88HTyXWg84y5InmYXhc6tC6s5Biheyr2Y5Ke2dyxfiNjRTZjZTc7GTSP1NjL1Njn1+DICKCIpNyIpNyEpp6PrwVbs9RRdD5AYyJRcD2gcyDS4HjDq7hRcD0isoekEH7iboncBEo95Tcm7gMYHuqbCu0ChR7em6F2A4oNx09G7Tn0r3gyYoncBEjcFpuRdQOPl/2nwLmD0q7VT8C4g8Vr+FLzrCRC8Cj0drWv/I2VTtC5A9nYJoPwLbVOyLqT4donj+BNt02BdwPztEmNmXT7UZUi4ZS6SZaMilrIilrki2LpAEbVi1gUoFwZdqJ2Sc/m87Zzr1MZvzgUoJp5zTDynlniO+GaTK56SzjwlndWUNNKHeupz3fepvi9Hwxt/qekSHQ+ZvZEGLL6IAwK+iQPYXsUB5m/cAPRXbgDWd24A2RtpznbW99y34ot8l8n6gKd3+y7R+gDRxIFigwFW8xJQ7bajmS2wl2h9gOLN4stkfcDTscElWh8gOgK4DNYHLFxHv0Trc1RL6CmQW/xl5svR+174VjyfuETvQ5TPJy7J+5CC9wGOpxmXwfuA0WnG5Wh0MARzOmTq1cxL8jrE9GrmpXA7lPitzUv0O2T0hublJP8Y9iVZns/XJjbaiIFuWgPd6IFuxEDZ91BSA3XnQxhfT7206/RgBukmRBLY0/RtiKQKd0s3IpKQfC7fikgKOV66GcECeF96x4y5ckH1jhlL5Ietd8xYZmdM75gxJ4+sHIzSELmlcbJM48o3TczmaRI5qHG2URPYS02IhmqYXNVvMoVS5XtPXANgc4bIaY2T3ToXnmtiNl6XsvuaRhZsnH3YBDbjKizFoJMtmyAty1ThW6axeZnQcDDTk42ZwqZtAjt3upPIgvDwKm1E8+TmJhyMj/J101rxaTm86c34ZK83hQyfbvlVJ1T3/JTGzt+866caCP9X9/2UllYBeedPibQWqHt/QoMVASktCiipdQH1vDSgSqsDSnqBwBa8RqBGywRKtFKABIsFUlovUKIlAyW1aqCeFw5Uae1AiZcP1HgFQS0uIqjQOhJuBgfHELeJRYGBaSOlNQUlWlaCJFYW1PPiEtS8vqBMSwxKvMqgxgsNaEsdkrTcoCYdFRsIU0WZfRW1hrVik+SuKPIChBqvQepRAaGJlQjUjf5QWo9Q+1oA1aqE8oEAttYmbHIogHmFQjEuUkM5TfxXQsqW/66PoXj/yYXd3yTc/5WH3dY2bPl1nrIVr/MUlK7zVNfDHhmibhmXfasqdLCibUZ97gH313ju9Ngx7LQh6rRx2emqQqcr2mbU5x5wp43nTodnlaDnkVP3oyjHEJrAQALfNnjf6B+PK4p5cJDuMDSkNDCU5LCgAQwK6FbSXvaJh4NSHkx9zAdGYoiGYVyOoaowgIq2GfW5B9xv47nT9tgH9NoZddsF2W+ToePGtoL1oh/cdxdy5+0hDOi8M+q8C7Lz4c/Tjx0Nf56eWS/6wZ2Xf55+1MYHJaDrlVDHK5bdhr96PXYQ/up1JH3aN3dX/NXrUam/QAe9NUTdNS77i38kd+we/pFcQn3uAfdZ/ZHcvfR+oAvbc9ny4wRDqpdF8IObijbhq+nv4b1PxxrAZd/o7+G9FwcUoNCN0Pfh8AFY+LWK92OkfauPW3kMOY5XA/VA7LY+Be2T+gGRqzH4sBX3dZWDD0K8xXs1dtx70MeZvKKOj7QeC3zMCIZgSPamqguBaETGD38RjQ2PbaiTPEp1bDNK9uJrRjBUQ7KHVV0IREM1fviLaKj4viR1koeq3pes0nBat1jMaLAGcbgOdT9NX0jIg3bla1/HAzelV11Og3clD39/cjRZf55d7T5yOtJywp3/bM1xlhta/MLh9GxybTstW1f7v10LyE38Ovj3dR2ob9kIHeHQ9nTcA+7YEO298of86W1GvUDUI+OpW7uKG4O03zleSj028hA+sA1bX8JWH7diR1J97yldpx87whd2jyN+yJ/fZvQlo14g6qb0or1EPz4w9pVfTz+O+CF/fpvRl4x6gaiv0kxGSbwmUjus3hI5FtpD4+u2Df6lwfsW5+G0zqpGPV+IG0ckrsEcJ+VBftFW0i+S9prSKBonU1X1a3M8CFB4FCA96O/aavxF476BeSio5bHQayHjOPitkOOIH/Lntxl9yagXiPqrzgdHiV8PGDub3g44Jv4gvmIr2BfBesWoy/I0cNT4Gf2xz+kR/WPiD+IrtoJ9EaxXjPosz/722ocJXiSvpItb8aigoHotHFH+AePC05HDnuKflHUcf9e4IPr14sLo14t3bGlHOWUrHjIVJE6KCk8nGoXGk6KC5ElRUeikqLB46FVQfDr0wyRcgq6IDp1OohDozX6unvjGOGwg40whgTgA9jAg9GkCOsYGSA0AoDpHjvykXVxeaF5aqO1gpEbicA3HMTvOAzctjd6VFAKTYhwMUzCMU0TyZeCbxmXgm4OXgSOEMOkfgdBiDNmBn4DQLVL42j8AoRvEUDZ+/kGrFNao3rTCxCEmVQW6/knNY9+KNsN/SHNPP43utHfcT+hOgKJ9Ok+W/QndCRDfA3LFHdSZXVVyZHfK9ij/SoYWaCyHfiVDN8kjbPxKhlb1uFu/kqFlikbjVzL26iKszouwBi/y6ruQ6+4inwct8knPonHSs2if9MQrAvj1+QchtEC7av8gxNig/v2XbUa9QPT16u/P7qXbCV7pLFux2goSi3rhqQoLjYt6QXJRLwot6oXRlc7CwpXO2wn+2d1bHDEg6N2e3k3qTWXbikddd2mwwNMh1t0k3DA2JP9GxN0k3h42RkdZdxO8GVzJ7uD11LbcHsU9FH335C4+4RURBaH1fFcUczjE012R68CoZ7uiwCHKT3YFDMHKt5LvUrUzz7HD37t7Qohip3/vjsUcu/R7d8x17PLv3bHAsePfuyMMscNLLhQIjp265FKl9JtCT6TAcTzwm0K6iYip/k0hrTbi2/hNIS2nWMvfFJIixj0tITKUaQ6aS8jYoN47gzkwRNE3ruJuYo64SRRr4zrKJnN8TeDImhBjivcbTyPqcyA4gu2bi8sJ3llbhnV4t+V/uGkZdrXMe1nqHaB3EYJd4UXck9iqzx/kPbcdbpmucCoOHUlXOE9E+77xPdyvrzw3Aoeu2DV5uRIpdEs++xEodengsx9LvGpHCLqCV+1OYqs+f5B70H6Kg47FsRekQGdIgT6R0je/jXvIcu5ouF7IDDoXrheeULtefJa7cuCxkXrWgX3IB9OGoAd4fE0f5P2r4+tRQksiBLuvCHafjWvZMK5l27g+T/D84DN+FlA6K6gXzFp3GKPeEuM9RvoqU1+4uug+3Ncv3f//m9NnptYPXscPGa73DIXmN3wjjnGMmrrpG1vEa49BC3ERY1jFsBiuHVJavRostdBZ0WI3t88ErjtUWvzFUtLqTWuthu6oFnnyq+SFMgRp96wHbsUJK6j2EpF1DuB4/f2ZkeugW/o4urF6KFt2KcsRXb8ywV569y9bxq08EHXlvPBU1IXGk+yC5El2Uegku7CYvQXFK+c7ZFfOPWx/hAbrMO51NJcVZhEimx+EjVje11s5ZSO0cv5QL0yu9oYHG+GC7Cra3QjtdrsPzRBNlHFKO+ece3Qvv0ay4uvcklPRnqn2uBiipDQuo2lPSFF6Vr4UqDF+ma0m5pQ1ifLWuE5ekzmDTaA0Nk65zM9O8DT8kZuuc+A4v41TkjvnTHfl0AR5bhtRiQ8nDZTJfSaxDsS5wKjY8xweEUOUDMapGJxzMfBfqngW8XVuycVQORSDISoG4zLW6Y9H0A6WAjXGL4tB/e0IlqgYWn87gmUuhvS3I5hTMaS/HUHT8Eduus6B42IwTsXgnIvBlUMT5PluRBUDXMGiTO4zicUgLl9VJVxUwZKIAidGVLk8SE1FEnUqlSBetz6Vyibfr3uqBC6hg/frVJtUTukGlxYORlAXWPMGl27AxXbwBpdulApP3+DSKhdhUFMpBvWP1sfWrWlIxRlVLlFSU6GS/vU0gLqMXJYuXwqV1de3OBVz6zroXo/Xi2qYEOUHEj0gATbuAcJLjXQKPG6Vv905vuhnyJ/1IU63yIN6YadQlUwT2f0JyvHM3JAlB3G8EBClevY+npa/yOKo7PN3mMOJO1rZigVeUDUbQKLQC0/VXWgs6YKoRAuj+4mFhfuJhcT6fADrfWFk518nvhVvOj4kpwKebkY+oCcBIiMCxX9xzVm1HEB1HI7op8u2MLRTI27N2+zH24YJb6XzbrPdbpseuxXGus1uus0WusWh7Qeyu4Ls9x3KVry1UVB8rm6P8o2OwtM9jj1Nz9UVHO96FER3NAqjmxn9WCsnvhXzqsdaASRSradaARpTrQ+1Asx/ws/ZWCtAYo71qVb6MA99noc+z0PfmIdezkOv56HP89CLeegb81CK4KltWRE4ikXgHIvAqRWBIy4CV7wInFkROLIiMET1XRdEzCpDlFrGKb+MqyQzMWeaSZRuxjnnTODEMyFmn2FKQb7MQqGAdDBEGWmc0tK5yE0Tc4K6lLPUNEpV45yvJnDShms3TyOi9G1cuyExJ3K+dkNcp7S4dkMCJXe+dhM5pzncpINMR0rJjhLlO0oq5VHPWY8qJT5KnPuocfqjFisAFSqC/C6IiBWkG1KqBpSoIIIkagL1XBZBzZWBMhUHSlwfqHGJgAZVgpQKBSVVK6jnckGVKgYlXTTYgusGNSodlKh6xGtAY1L8OYHnmP+EHAASnlj+k2ccMJ9n/UnzCzQ8hfwnziag+Lzxn+DjTGKn2cUTzt0XHp6UNBB2cMY0pOTfI68nm10mcVyG47gc53GZlsblShqXSXFchmlcxmlc+JJUp2kcX5DiGKOUxxn0NNaopvEGOY45SDTuoMHY//O//w/7Vd1G"'),HelveticaBoldObliqueCompressed=JSON.parse('"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"'),HelveticaObliqueCompressed=JSON.parse('"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"'),HelveticaCompressed=JSON.parse('"eJyNnVtzG8mxrf+KAk/nRGh8eBWleZPnItsaj0ZXWNvhB5BsUdgE0TLAFgjt2P/9AI2uzJUrV7X8olB/q4CuyspaVX0p8H8mP7V3d83yfvLj5MPfu/Xspnl0enH05Nmjs6dHz84mjye/tsv732d3za7AX5rF1+Z+fjXb426xUHh2N19shTBt5jef92f5e3M97+525K/3s8X86vnyZrEre7Q7Xv86f2iu/5jfX32e/Hi/6prHk58+z1azq/tm9bbZf/aXh/tmed1cv2nvZsuhbn/+c/sw+fGfPxw/efL4h5OT88fHR0dHj5+dHv/r8eT9rvBqMV82f7Tr+f28XU5+/GEng/Du8/zqdtms15Mfz3f8Q7Na98UmR0cnf9p90e4kv7e7Juyb81P7Zbvat+LR/7n6v4+Onz09f7z/96L/99n+32dH/b8Xj55ft5fNo7fb9X1zt3701+VVu/rSrmb3zfWfHj16vlg8erP/nvWjN826WX3dUQvVo/n60ezR/Wp23dzNVreP2k+Pfpsv2/vtl+aHXaHFo+cvHs2W1/+vXT2a775g3V2u59fz2WrerP+0q+wvu1Ndz5c3b68+N30f9DV5e7/7yGx1XdRdwZ9mX/4ydMnF8dPHk3+Uo/OT08eT5+urfaBXg/hzY8c/nBxdPJ68vb/+y3QnPun/+2H336dPD7319+Z+Nb/ahfOf/zOZ/mPy48nFTvh9V5H1l9kuiv/7mHDzcLWY3Rk/PT8/8H937S5alwtTzs+fHJRld3e576abZdau28VitjL+dNctPf/SrK72SV6EJ08uDsLsbietd9Hxmp2cQA36/vbanZ4O3zdbNctF86km0cdKNWbr/Teub73iT8+GTy26dQ7O1W5szvIpPm+/fG6WufiuKfP2OvP1Yrb+nIP1rVm1mbbLJsP7jSh5/3nViLKf2m4l6PyrKLuePwjYfG1E3zYhpp4O86VIq6t20YoIrZu7eZSsBxZ7E0i0+Xc3W2R8s2p2g1k0899ds+6NpijHR8dDRs9E+j3P6M+GLkom/pTRz/mDvzg6Pj6gX/2DJQIv8nf9Jcfpr96yvV3u0d/yGV/m9v/mY69k69/zGX/P9XqVv/6PXOp1/q43+YNvcyTe5Q++zx/8YOjZ2dDT01zqHxl9zGf8rxzVy91cdtvcB99wcafFgcqfi6Zy9sRM5Wo+v5qvrrq73B/d3rXXu+kHxkgwuFAZ+9gso8ucElfCgMW4zQ36lEvdZPQ5V3me0X/net3mUouclyJawnWE730Rwz6b9CrXSzi8iH2XP/g1Z+8ml3rIaJvRN6jqmedXTISTJ0clK1eV8jEbzRn7bLyfL66bHJLDXH/dbkScw/TsU8F9v0zz5DguI+7Tfl2IRmuf2arJ49OiXc0FXzeVb7nqVrt5/MoDePzsGIbNet6vW1MTy7JFD6ubbr5T7tp7vXTYy/0Xf0em0Jee/TQXTCygdis5uR64nt3cqDntwHEtRiuOfd81qwbG/umFLYZmN6vZFz/b6XnJrN0FRAMZF1ypb+blbD0S4XF1pRcL1gFR7y8ZDrFZLOZf1vO1kHZtvf/cdmGxaG5f5v2Q3N5zq9lXUdnZVXcv8MHLPy2ah6xVRtbd7GrVihNfrhp14uv2fnYVRpxL811PYgDc0HAcemV3l3O7NbdYpHbLm9mqu1vMOnGa9ma3zrwVXzdbhcWT9ctdyFkXnvuyZ3fdOnz56vrTbqEXVoa+QomTrC9AIvczvIIzPDm3M9ztnK5b4CnsamMmprzr/aBfr8UEtogntpRqI7cVSdvksrvxubsi3uW9mGL+mrrUnSBmoE//MW98apKd6l8Xe89XR7kGZbq4nn+dQ0L7R2LNfMEsBodXO37IV3rqQzZFUgxssu4vvmiYQFPzV/r5wlBxXO+IGY0H/0ylhzr6gF8FpJP4NcPOI+Ai5KQ4sWroRXHwq3LTQ5yKXMfXhTEPvJU6Lr+rCvjwqOVoNFVf6cvm2KVU7duisUI4k1VChsxk89fsiTYU5/HsZxdDnRftt2Z5IzL3TTyFX8WNJmc3OkiE6MOrNpGsKm294rb69U+OnJ3m3ed2JVr1is7uYai4wVviZ2USo7DZaOKMtYjpya2/w7Hu+lXOStSXUtCiWONkq8UE77rF/fzLYivqRQ30JA8NPLsolyaz1f18trief/qU+2pbt4bf43k8YceS5ZfRNBuZdbJk6VQZnsuaDdYy5vcYIJ8M6Yvw/ttuxYA34ewSaNXeNku8EDJzXDU383Vc+voQjZ0N03EeF+Yc3W5Uh+sRD3ZlDbmqRKalyPi4rKTUf9EIP3tW1q79ra54I8zi/Mv95wx/SgZoZq586/R4aON9Zd5oqrNjbRZ8Xls+jGRlDLBfL9PQsFsRXClzhVqP1Kae2jS6rg3KPI7t3KPLEp4xy7qgWdyLGz73waTdEzftiCPW43vXiZZQzC1Ucp3pY4FC71eqcYXztNyw6H18l8CrXSKv8/e9Tfn67FnJV72ifTk6//4WO84vJeyxjjLFZAtuGTFMzmvT2W+x2haHXdQ+zxYwNZRBvr80oVvd1hdjLr+MyyZPte90YGUoNLUG3UQzxQYN3ap6VffdW7lAtAyWNT8rPXi9swn10KONXQRWqC2ti+XPzs3Or+dXymh/jl8EC7Ox5e7vsX+8upV+ezOe10p1b60soZ9XTTpeDlgPUJ3NiEcWlL/Upnt2CrtFLBtqC7K4ErBvGx0KlSrcj55p0d7s+3vZinC3dTPtslSG8u6rKiP5ZvyKFmZyj3klfZdyHrebO8u8aHbPr43xX7r948h/PZ68bFbLP2bz1f4h8j8nz/cPqyePfzg9+tfj4ejgHgEd6hnRYOoIX8Sjg6sEhA1D4VU8ylXAqTdw66pAD+M/oOA8QRlCFtjh7lBAh4GD6HU4erc7Oj7xwxK0wEL7QXm/Ozz3oxIAQCEAwCEAQEsAAFEAQLEAABuGdmC9oyD5sDu6sKNp0D7uG3jkh6VJyKDugLsQ1i4nQ1dJhk4mQ5eToasmQyeSobNYABti4eTr7ujMjjbhaBuPSosAQc0HOhTC0WmIQmKcxqlzHqxFeSEQDVvjcuwW9ZVAlVrKoWxi7kKTqB+N6840mXvUBBrjxmmgF/46IxzyxnjcuyAHf5HBAQyRDRhXXmBiNgSTyBWMa2swmf3BBDYJE6JTFAx2UdA0l0LjMMbuYYKwkKJ1ucPYTIyP5aSwFZMqOVkxGJNrOZmsxoToNwWD6RS0yWgrEHmQ8WxEgx+gERmicBonI3LORlSUFwKRERmXRlTUVwJVaimNyMTc6SZRpxvXnW4yd7oJZETGyYgKf50RGpExNiIXpBEVGYzIEBmRcWVEJmYjMomMyLg2IpPZiExgIzIhGlHBYEQFTXMpNCJjbEQmCCMqWpc7jI3I+FhOCiMyqZKTFSMyuZaTyYhMiEZUMBhRQZuMtgKRERnPRoShQTeKnAIbRfIlEtmcgvyixsmmoii9KhR5VeNjDZHWFUvkXIk6JUwUddbEMpw6USVPiyIZWxBfVzhaXBTY50iVZhfKgONFTrYXReV9sUQ2wKiTC0ZRW2Esw34YVTbFqEZnDBrYY+DTSnk0yiiwW0ZVWGYo0FVSgc0zit8dGsJGoz42NCqGGsuMDo1krVGN/ho0MNnANxW+rXHy3Chm43WCtouUOgQlstwgseGC+EJTMluUpNVCgVea1qsuTRb1nEeoUhahpHMIS3AGoUbWihIZK0ivJUVTRcyWGjRpqFAC7BQpmSlKykpRz0aKKtkoStpEsQRbKGpsoKhF+wQFzBPoVJZF40TMtomaME2QO9nNbJgofSfJhVmiWk/yilFiiZEkTyaJWrRIUMAggW4k3WpK1ohSNsah9eiKhijkxskPnbMZFuWFQGSDxqUHFvWVQJVaSuszMaeESZQPxnUymMyZYAJ5nXEyusJfZ4QWZ4z9zQVpbkUGZzNEtmZceZqJ2dBMIjczrq3MZPYxE9jETIgOVjDYV0HTXAqNyxi7lgnCsorW5Q5jszI+lpPCpkyq5GTFoEyu5WSyJhOiLxUMplTQJqOtQORFxrMRlbqiEzmjgLpAXgQCm5FJLxQjO3JB+pHJrxSrVVZakqu5/12jBHBBZ4DrnAKukC+5QMZkwmvB0JocsjeBIs3JdHAnZ2RPLih/cjUblGvkUC5oi3KdPcoVNilXoksZB5syNhXl0KgcslO5IqzKxE50IZuVC6PpKuzKtVq6VgzL9Wq6JstyJXqWcTAtYxvBtoqRb7mQjatUDI3LGQXXBTIuENi4THqhGBmXC9K4TH6lWK2y0rhczZngGmWCCzoTXOdMcIWMywUyLhNeC4bG5ZCNCxRpXKaDcTkj43JBGZer2bhcI+NyQRuX62xcrrBxuRKNyzgYl7GpKIfG5ZCNyxVhXCZ2ogvZuFwYTVdhXK7V0rViXK5X0zUZlyvRuIyDcRnbCLZVjIzLhWxcq+GHPrwKhVBgCybLMsyGNQgvMiGzKlha1SC+ykRXT5pU0XKfF4V6vGDd30Xl3i6crKlgMqYBv04ETakgtiTj0pAGFeyoEDKjgpUVFS0bUVHIhgrWJlRUtqDC2YAKj/YzUDCfgUxTGTSegth2ChemM0hd6h42nIJHEk+YTVF04lWMpqiVxEsmU3i0mIGCwQxkk8g2E7KWgrOxDOmOzmKIQmicvMU5m0tRXghE9mJc+ktRXwlUqaW0GBNzV5tEfW1cd7bJ3NsmkM8YJ6Mp/HVGaDXG2GtckGZTZHAbQ2Q3xpXfmJgNxyRyHOPackxmzzGBTceE6DoFg+0UNM2l0HiMsfOYIKynaF3uMDYf42M5KezHpEpOVgzI5FpOJgsyIXpQwWBCBW0y2gpEPmQ8GdGfh9w89iPvDEMhfsBD9xgtUQNEAQPFYgXMwgRsiJCTw+96Pf7hxMjw010F/QSFTo1YoQGVV+KoZMFcfBj+XLzgVLxYc/qACfSRn3fouXVPfxQ7s0fFxQGFPgKeurynpY8AWU8As54ANvQEkGKpjtwLfh5swLW9Azzzo9I6QFBlpyWA/rUWuQGVToDwGaIYGqdAGlfRNDGH1CSKq3EOrgkcYRNimA1TrAv/kMMwzaUg9IYo/sZzJ3Du0/lSd/T7CGN3FMTdUTh3R+GyO4oouqNI3B2Fp+4oQuqOIlB3FMzdMfAPOQzTXAq7oyDujsJFdwwSd8eAqTt+HXriqR+VUwEq8QcUQg8cKgS0BByQxRqYhRnYEGEgJbiOZrag6I/iCqpHpQWAxHqq52kp1dO4iuoRrZB6RoujnoV1UU9KCxyV3jp25CuM/iguYnoUV/4HlJc0PU+rmQO1bX8Bx/VNj2jt0jNatuxZG49yndtKBVtZwTbXpJWLrF4RdWzjcr9HcaX/K44JiP5qPy7P7cicyVGJPqKw2D8IfxtG2GH18TccYYBKfgIKkQIOkQJaIgXI4gHM+gzYkJ9ASogczeJRbsEst2BWacFMtmCWWzATLZiJFsxSC2a5BXGl9be8xNqjLnyky83sKm3qZJu63Ca+SABFtLYTre1Ca19ODtfh534U7a9Hwut6nryup9HreiQvFnuFXLBnZdQBipb3cvC3Mz+Kc/9L9DdEecZ/Sf6GFPwNcJz+XwZ/A0aT/svB3+Ao17mtVLCVFWxzTdjfQBF1NH8DFNceLyd4Tfxyki6HX6asBp5c+eUkXf++FFkNCrnyy0m+4H054WvdPdmGbNnmrN7m7A0GjOOCBPoyUtVooSLfPTWNIVL1cKJCPLJIpkFGKo23qEJ6kEAZTSoNSFZF6lORPAq4QB6xVIKGDKk8RkjmIR3ltiqMhkWOeSryvYazE5CqTYEKjbedrYJUco2ogoGQQF5CqrIVKpIdhgqQ2ZCqfYcKsQWRzG5EcjSmKG5rI4ztitRkH79NhhvLx35o95SRxdvJrnyIh/vLygs76u+unvmh3csDhjftHMcffc2S8SfGtxas3zAQgFKf/xb2VB8T4zjU9lST/EEwCEvYcXxGjAMkdxyTVgtV0DleuEuXYsGRU7t0B6nca8HwGePwuSDDh7eOmEH48N5RaWm6eZQEEb6i1cIXdA5fEbc5Fhw+4yJ8YXCGIEYlhZJkHdBQ6ENVweAGIYQ4KinQUVbhDiWqQc+lUuiTEcpopm6oGuFQYJimQjcY4w5wQYa+yB8Eg3AXhIE2xiE2QQS3aLWwBp0DWsRtjgUH0XgK327JC3cb+qN4EdujeK3eI3Fd2/N0XdvTeF3bI7p67RldvfYsXL32JF6rvxr6/syP4rLzVe5vFz7YjPpq6GOPyz92R0/s6KP1/yvsZkDQdKflNoKf0m4jDKj4NHSDIeoL49QhxlWvmJi7xiTqH+PcSSZwT5kQu8sw9RnO3xQG7r3K7E0q9CPO3acRQY/idH5BiPpWTeYkUS+nx34DD3snob8jp06PIvV8FFX3xxI5B6JOiRBFzoaockpENeZF1Cg50k5uFT1Ok7F93KoIJEzatnwqOKRO2s58oTglUXUzs9IpnYLGOQWbziCjkFI+oUTZhJLKJdRzJqFKeYQSZxFqnEOoxQxChfKHtqzmOHHu1Des5gKQN7Rj8zRRyBnax3mRKeVLZRdnVilXQOFMKVuCIE0MUY4YpwQxrrLDxJwaJlFeGOekMIEzwoSYDoYpF3BjH4WBs6CyrY9U6H/c8nYaEfQ87oK7IER9rvbAkUS9XTB3dbzNgT3OCnU8y9T/LKs04DI5G7gEJQXLnBusc4qwHjOFVUoYkt9VY8rpk2SVRVQIkokUyClSILVIgQxjhRKN5ZxvVILSjlTOPtvDA3nnjDLOBco1F1SWuZrzyzXKLBc4p1zhbHIl5pFzyqCwY48jwllT26/HMmRK2MJ2SgyyI2xru2BGGSE3tbFGWWCc+79cbkL3G6LeN06db1z1vYm5602injfOHW8C97sJsdsNU6/jbQgKA/d55SYEqdDjeAviNCLob7wrcUGIelvdkyCJ+rpg7urySih0tSHqauPU1cZVV5uYu9ok6mrj3NUmcFebELvaMHU1vthNYeCurrzWTSp0Nb7yfBoRdDW+BX1BiLpavQNNEnV1wdTVfwy9PLyS/gf2MLLSu8jii78g4D0xwPbqLzB/wxegv+ILsLzjC6j0ILBZaJm9oQIovkXYI/HkrufpcV1P4zO6HtEzt57RQ8aehfcEexIfuP0B/Xb81FBjmdQfxYdKPSoJiig/vu55euh0oPDEFXB8ft0jeh7dM3rfbc/aeJTr3FYq2MoKtrkm/DgUFFFHe/AJKD4d/wNHxxD91xN8A74/im/A90i8Ad/z9AZ8T+Mb8D2Sb8D3Cr0B3zN6A75n4Q34N5PDWw8nfhRdu0fCmHuePLmn0Y57JN9h6hXy6J6V+AOKDvxmMN9TP4qvNr7JluvCextEb7CXAIlR/oZ6CWgc5W9EL4FC4/9N6CVgYfy/CXPEmzA9vBmmAdc+xhH0hsx/oOUWJfS+IUoB4yoPTMzJYBJlhHGdFiZzbphACWKcsgRvMp8Sonyp3GQmFTLHEKWPcZVDJuZEMomyybhOKZM5r0zg5DIhZli+j25omgPxMZfirFM3zQepPFmF1DNEqWdcpZ6JOfVMotQzrlPPZE49Eyj1jFPq4QP2U0KUepXH66RC6hmi1DOuUs/EnHomUeoZ16lnMqeeCZx6JsTUwxcIKEOmORAfcylOPfX2QJHS+34nUuA0HHnfTxcRKanf99NqJT0r7/tpmVNVv+8nVUxb/UZDRZUpHMpgIkeB0zmqMqljEZHasQAneFQraR4LpWSPckr5KFPipxc9ZJZOa6H8WPtEGhDVtzwOBd5OeB/k20naB/mWn3US5uK8zYtwKp62OCYhfSQ0iz8WRProLr/xWrY/pGvZntG1bM/UtWwv5GvZHtO1bM/4WraHfC3bw3gt2yO6ln03GNmZH8WR9C5ZFvA0Zt6hOQGSo+NdsCFg8d3Rd2g4jmaxETPRA3YN/sRRrQNmugNmogP8Mhy+V8V/luNvF+L+0at2AT78DpIRPkdVaERr7eI8sEpzG93ccH2OvITBq92IKDQqCp+3Xz43fb2889pYpBXNaWtVb3XVW9FTfOmOkqi+XbtjudxhfvHuxVZ0KBq0Ev1De7hAWTd385wZXSzUidN0tbh1Om6diBu/6IySiFunur3Lyb+Jh1s6FI3BV86G8+EG61Iy7bBOAnux3mOdVBGytMs6Ccmf8z7rpFCw0k5rFsCz09UPc+Xe6uqHJfLx2tUPy+zo6eqHOXl74TPR7OTyJpDVGx/tX2X6ptX6N9m/CdXu5YnAOJmLr3rCwOfFEH+NqmWaIUxgG3JhLFRqwnBNzBom0tRhvBbGPIkUJc0kRWhF4TSnmDDaTjW7mFZLido8Y3qtrWnGMaGSGWnuKcJKsVoI0lTkgpyPiiwmpSJ1oniankwY7QI1UZlW64LalGV6rQvy5GVKZdRuBNsqVmu+mtXCBUeY26KSvjPKaZ6Lso57LKOiH0ukPohynv+ingMedQ57VNOMmG7KnEmBZ8eRmzK6iJgp9U0ZrVZmzcpNGS3zDKpvykh1Vg1ZnlOjzDNrVP+DjJKzbCwxnlF5xo3ydxIqzb5RZael+wLR7eRNA/3F9fbkuTnKyZ1J/n7I5WxNJdScHYvwzB3V8U4Rs3jQ81we5Lb6wTyvR/k/iI6c42OJ8YSszvex1HiE8twf5dG8zOuAIK/qynj48sqAZL0+CIXUKiEU6KofzSuGKP8HnStXD7HEeOdWVxKx1HjnilVF1Ec9aVNVtnVlPHR5zfF+WGic+VGcI9/jggKQmCvf08IBaJwV34cFAjC69/0eFgJA4hT3fsKvH72fpDePypMBbGvaIcWcWq13SLGY2592SDHnSOQdUizEmKQdUsQpOpWdReHxCMZJ7yySIkVsZGeRLJFjp3cWSZGjWNlZJNUYT72zSIkU2bFNNvBoCYOrNtkIiQJb3WQj9BxUtclGSBxQuclGaDGYapNNliiQ9R0o5QEcxjDtQGFO0dM7UFjMcUs7UJhzxPIOFBZirNIOFOIUpcrOjfe8PaGuUMBqOzcqsgrfyM6NSgkKZnXnRkXn0FZ2blRUCvTolgVWOexhy0JiFOq8ZSEJKrxyy0LSKKRiy0JSOIxpy0LiFLrKG/7OOVz2xw6eK0bhcoHC5YIKl6s5XK5RuFzgcLnC4XIlhss5hcsECpdxDtfwA+7PM6FQFUyBKliFqWg5SEWhEBXMASqcw1N4DE6hFJoBU2AGSmH5MITkqR+VcACKvyX6IYUBePot0Q/YfED0W6IfQrOBhd8S/YDNdfQitOdF7LkexSsuF17Fo5gKPRL93fPU1z2N/dwjecuqV6j3exZvTvUodu8e+W/E9kdxu0GPSggAhYYAT5sSeloaAsiqC8x6DNjQY0BKCxyVK9szIOU20HlBsZObnJh2jweRTsxGJma4fwM452sj8rUR+Wp3ZBy18Sg3o63UuZV1bnPl+E4KKKLadssEUB5TcG/EOgTvSXjPdaFnu5yNXSX1Opl6XU49vpkAikjKTiRlF5JyOrjeuR/F17Wm6HqAxC6IKbke0LgLYhpcDxjtx5iC6wGJ2x+mE3x1coreBUi8JDkl7wIaX4ecCu8ChV58nKJ3AYqvOE4nuOdnit4FKNr3NHkX8GTCU/QuQGS10+BdwMIEO0XvclSc6qmRvX7qR6VNgOI7m9NkVMDT7wNN2agAx1/amwajAkY/lzdFo/KGtaFAm5uhfgl6SkYFNFdO/xL0NBgVsPhL0FM0KkdmVN4fXSjQ5YaoXzmckiMBzQ3RP2I4DY4ETMQ//kbhnmzDONnm8bxN4/bjYGTDD2V9RCdDZg80gcW7wCDgrV/Adr8XmD+kBOg3bQGWO7WA7Bmks72lPT23I5sqHcWp0jlOlU5tqnTEU6UrPlU6s6nSkU2Vhvply5k1wh8FAosLso/J1LBs/pWyj2hryGj6+xh8DQuW+AOy+Dsrk/sTIMOyzAvRZxrRXH/4hqzS3ka3Nz5bAy7i0Ig4NCoO/MBsz+ZhOM3juOsRbVb+OHglfEcrgtDWGtzqBreiYekZGUg++ADa4zBgoqN9decMV3eeAF0coZ2wl65mJZ22kk5YSXpeBJJymU65TEcugw8tEuOGpMcWSZDNVA8uksYNzo8ukpLaxw8vEmc/xe2Fg1ml7YXMlb2q7YUskdHWtheyzJabthcyJ/MtHB3KGA9JE8iLjcvxaqoYtKbxyDWBfcmEZE6mkFMbjxfRxmnE8jMr/hpVy+TgJrCNuzAWKmXorglXN7EWx+TvJlTjmJy+CGD3hsjzjbPxF6EV35umABNGg6UmA9Nq8ahNC6bX4pXmBxN4kkhPOVkQ00WRcM4wVvNbPXuYOmKraR4xoTKZmF613TytmEK2S48jFeYWqweSSpMBqTySVDKHRT6UVGJqvHgsqSSeeUCDyQcpzT8oqSkI9TwLoUoTEUp6LsISPB2hRjMSSjQpgYQOjJitAjWanVCSRoIFhJegzHaCGjsGaslkUaT5CiWassLz6mAc4km2+L5K1dP0hRrPYEH7TjjVPBZkMZWhPhLuNKGhNhbuNK2BBjMbUprcUOL5DbRWnyPNcqh9L6BqrkN5JGC1GQ+LpAsiFHniQ43nPvX6hNDEDAgqToKIR2YFPRVigXHnTxMiapU5EYuMTQ55ZkQxTg77ncJfLav2R5tw5D+X3h/F+3M9SvfhimXi9xa0yWibP8inMZ7PNVgwnqugTUbb/EE+l/F8rvDOE5ww8E2Fbyvfw+ePYq4EdCVUAehG0q38Bj45SvnU5SUcOG9Bm4y2+YN8OuP5XPYuBZzM2Eawrfgsn8+FfEJ7GwFOaGwj2FZ8lk/oQj4h/M37k0A2iWzTp/hE4m/eDwr+WeuTiDYZbfMH+VTqz1ofpMsdvdxbix3FFxv2ZGHn7I/ihNej+PwfhPjM6nKS3pC4nOCfGLxEBwcknrRdkl8DjU/aLoU7g0JP2i6DFwMLP5x4GTrncoJPFy4x/oBSXa9wOXZeyG3Qb1Vkr9JdiPOAb3NJ/T1pz+Z5wLe5ZOV70i9blG8y4VaV1t92mPIn6y+zq30Izwfaf3H+OyJHWSYtRypeeBv6aqMijrT90UPQtkGj3uaBNlDdaYa5Pjghn8Zv2OQvfciltrkUV1TN0YOkU8Mw17ZwqC3uRKQvfciltrkU11btTCySeuu5VE2+9axErLxeHkT+UCm/rZRPDaotGwZdXbads8ItorXGafqqjTzBgyy7lWW5HZUVSFH9Mi41A6TUDtCwIYA3+iQPuvRWl06NQS23ht91Hmqb3nUmDi3Iyy9DD7nUNpfiGqsV2SClt16HauW3XlmACoslnLMHUW4rynGl5bJu0NLLp0Pl8sunLECtxTrQ2YMotxXluNZybXjQPk0O96NO/SguwnpU7j4BEu9K9Dwt1Xoa35XoEb0R0TN6I6Jn4Y2InsS3PT5BxJ3sxsOiWa/7mx9PC4wfanJD6Y2cA9INzW/kHGh6I6fHuf38Rk7PRPvbeJTrrF6/6bmsYJtrol+/6RVRR3r9pke5Q+gvcn/KS6AnURjoYdW0v77ot1n6kd0fcWQ38QDFLZQHoVxmrwSirzVO3+1cnUDsD5UCnay2O1Sr4sTxb8yJPy+n/7Lc7TASTvwo+sUtjgRE+XLmlkYCUhgJgONVzm0YCcDoWuZ2GAlwlOvcVirYygq2uSY8EkARdWzjVeItjoQB5V3rWqC2VPasV1TR6PqO9UqB3FeV/epa5ejU9qtLua0Ko2GRvV3fjK4LjDarkg61nehapiSpbEQ/qHeT4QaxH0XP6JH4qfKe411gp/Gnynskf6q8V+inyntGP1Xes/BT5XeDDR1WNXdoQ4Cwdj1dhsYuc2OXlcYuZWOXubHLamOXorFL0dhlamy8T7gMTV/mpvNScaDhkfhRRBSEygNxEnM48uNw4jow4mE4CRyi9Cg8YggWXuJTIDhs6hJ/kMKvIh1FRLGr/CYSiTl2+ReRiOvY5d9DYoFjl34OKWKIXfgxpBgIjp264VCk/FsRR0rgOI79UoQsImJa+Z0IqVbiW/mVCC2nWOsfiVAixj3/RIQKZeqD6g9EDAXKrW3oA0MUfeMq7ibmiJtEsTauo2wyx9cEjqwJMab5ccAS7/1TIDiC6t7/QdqtF+hu/57QDfp2OLF/ZBOO/FqpDavoNq+iW7mKLosTrkq6MUocKoU3Rgk95PNsBaKK1h9etvJW45nQuN7pVuNQ03SrUfGHSgW2NU4N+s4TSljfcZvUrcYsQXvoVmOmD/K0W02pHaMPO1u+OXcWMdcfb84N1cSbc4Qe8nm2AlGF649L29Hd/Kxy3UmGJpCyqSoP1aps6wo1j+XcysrG+zbfgmQB2hRuQTJ7ECfbKkZ1H3myXC42+jt65+cRla9hbhsaicddjSTCqVmy/Y3EfZMjCb7TkYSy3ZGw7XmM/DKjK4EqYSiPCjMvj/2SMiTGs4ivc8nrXcNn95mLajSV6jWV6jVjvdTUeyn+sTDSKj3Y1HqwqfXgp4xEh95UMjDeAmP1c0ZzgSrxnI/FbV6P27wSm3ktNvNabP47I1HqdjQGC4EqDV6Mf5H9ZbXI7zISbVxWzrmsJO1ytC7LyvhuBaqcuB3r3bbeu22ld9OfqSO51vltJaxtpYlfBCrTDNnMv3PRlUCVAK0qPbMa7RkRsXXlBOvKCdZVO12Pnlqh0Q90AlXq2o1lS1fPlq6SLXxdxXItW7qaVXR6ItwvNC7ivL/JyN+XN7TNpWyRwRyaT9K3XKNvlQh/q2TDNzEL6b99apiXXXiReRy/YZMRrLnya2ht5TW0tv4a2heo6Ol5If7wy9A2fIRO8EV/9/AttXeHol4Ty+tIh8dt9FWmnrm6aD7dly89/P+H8wtTywf7Vc5RxrbSyVqopvjKlf6YW5jQLK+UFu0hl1hX8MgJ1yMnRGtT6nerM/TFYZithlX8sR/F20IrXLsDEjeJVrRiBxpvDa3COh0Y3fFZweociL0wb2h4Ke4UwGGwnBvZLdoOg3QFyzUg2B7A3hyAQ2uAlMYAKm1xFA9CRzlfhINUz0XtY4PXOdmtqU7sYBkOhm8FMuQbEjwP8CH4Tr5g3M2SPPCwT8HL7b7zzA/CuZx32JwuhaLTXdapLutSl9HsCULuyy735TBXOviKzduGg6HmQLyKAyx31GAoGqLxaJwGpXE1Mk3Mw9MkGqPGeaCawKPVhDhkDdO49RubmBx8u/M8Yh/GRmJiGBbZYVpKEVNinhimnDBOiQGvGDNR47aIi0x0o+ToNzFaQMHuA4UsM4mOYDjagmPhDSZGg7Db1KmD2SoKz35RFDcHI8o54KEnhaLTUVVGIp54sqJTRftKetzJvJJI0Wbg3j6FZptJdB1xy35Qwt9qIkTWk/5SE3NlPfIPNZFE1pP/TBMLbD3przQRJuuhP9J0yjRYT8FuPUZiPhkW+WRayidTYj4ZpowxThkDuxKYKNMo4iIT3ShpPSZG6ynYraeQZSbRegxH63EsrMfEaD32Mn7qYLYe8beR6BPuLkaU9cA7AxSKTkdVWY94YYAVnSraetLbAswriRStB14VoNBsM4nWI94TKEp4eo0GFAW2oaiyGUVVWlIsIowpFmB7imoyqSgnq4oyGVYU2baCSplKWrSwIIKRRU45GkWVqbFEzteoU9ZGkbMzqpyjQa1yaVmhyKLGx0KhrTAWIUMMIthi4MsaJ4uMIhklicouYxEyzSB+qaRXMtCgChsNOvhl5NJS+VUiGVK21/qLRLrEd1KXDXfsLSJdZjS9kwWrV4ik9rUS4m2NkzXXXh866HlrldhSVd5kGD7C129DobTqJw7foPfWrdPkTRy/obLhci3+lHhS8Hukp5ZP6BEhVfhOHxu0hXM42v/NXCbxbqBjcauviB8Smdr910L2fz7+WSRlpiUMM2RUyo3e4Q7uaRYH5XBf+OswzR/M5ivO7YDKhA4ovoPtHF+8dmpvWzvyt6ed+evizso+Zif26rShkghPrU1Rb3Kb/N16QLpNjWxTfHXecW5qI5raiKa28SjXua1UsJUVbHNN0nvtrog6+hvsjnLs6fd2N2XdeG5H8f2+TVghOorLQufpLcBNWAA68lWfM1/qOSvrOye2qDNUEuqJtckXfRtMKEBxG88mJRTwtL7dcEIBjmvdTUgoYLSq3QwJBUe5zm2lgq2sYJtrkn6GxxVRR//RHUdxQb3BhDoE/2GC2/ceMPiA4va9hxR84Ol52wMHH3DcNPcQgg+Mtu9ti6v6kY1mR+aqjsTOli27qtO4h2UbXdUZbcLZoqs6iRtStji9HhmKBZrcKNqytM226lw2SuxI2gZbdSTayhuOtsVW/SjXWe0n2rKtOs010duFttFWncWNQdtgq4Z8+TJEHx9InBCiNqUHEsxVg9UDCZao6fmBBAvcHfxAgjHFIS1dKRaiKOekcUpM5yOxECnqUs5T0ypxShlrQi1OrUCVBsosNrHeEM5n4zqpTa61hdPbeKVvU6LDK9OQ60gpAihRxqOk4oN6DhGqFCWUOBKocceiFscAKhQq9bsaOVj6AzweUKIhEaTxYImBEdQ8NlCuxzKNENRGYtlqWm+7HC2ojzaQxwxKethgiZE28uBBqZ4UPIS+lfXquR3FNfi3sF4FlNfg33i9ChTXq47j0vxbXK86o6X5t7Je9aNc57ZSwVZWsM01SetVV0Qdfb3qKF4rfMOZiBHVP81EiYvGqZkoSbkf0kzEnFubZyISWoEqDZS9pGYiliqVrXRanolYoO5LM9HAy/0qhaiJxqkPnYumm5ib7lLuQ9MoLMa53SZwHxahFajSQNmHJtYbwn1oXPehybW2cB8apz7EX0GqYWpq0Kg/oyZCEQrkcEQ5923QKWRB47gEkfsZxbaCR4Ig+zwUGG8o933QdP+HImNt5TwIGuTCv/73/wO+9kRf"'),TimesBoldCompressed=JSON.parse('"eJyFnVtzG0eShf8KA0+7EfKseJXkN9nj0Vj0yNaNEHZiHkCySWEJsmmAIA1PzH/fRqMr8+TJU9CLQv2dYqMrK/NU9Q349+jH9va2uXsYfT86+8dqOb1u9o72Tw5P9o4PTk72R89Gf2vvHt5Nb5uuwafZbbP87od2frnhq/kc+V7h09vZfI1KB8fN7Prr5jOGRj8/TOezi9d31/Ou1fNue/m32R/N5W+zh4uvo+8fFqvm2ejHr9PF9OKhWXxsNn/50x8Pzd1lc/mhvZ3eDcf1ww/tH6Pv//nd/snLZ98d7L98tv/8+fNnrw6P//Vs9LlrvJjP7prf2uXsYdbejb7/rpNB+PR1dnFz1yyXo++PO37WLJZ9s9Hz5wd/6XbUfci79mF2senIj+39erHpw95/Xfz33v6rl8fPNv++6P99tfn31fP+38P+3xd7ry/b82bv43r50Nwu936+u2gX9+1i+tBc/mVv7/V8vvdhs7fl3odm2SweO7oN4my5N917WEwvm9vp4mavvdr7ZXbXPqzvm+/+3nR/9frN3vTu8n/axd6s++Pl6nw5u5xNF7Nm+ZfucH/qPuZydnf98eJr08e/P4qPD92fTBeXRe0a/ji9//swJCcvTp6NvpSto5P9Z6PXy4tNqBed+PLw2eivjW13QX7xbPTx4fLv467tUf/fs+6/+4evtgP2j+ZhMbvoIvrPf4/GX0bfH2wi+647kuX9tAvkf55t8eHh4RY3f1zMp7fGj4+Pt/z3VduF6nzuyvNhR3er2/PNSF3fZe2ync+nC+N9NvTCfbO42CR5UV6Wz5/edtKyi08+tP4Q+jHP2v100dzNm6uaFP/Mjm+63OxxeePKi3KA89XSqAXtoqvNaf6Ir+v7r81dbt51ZdZ6Tw5evBxiP58uv+aj+bNZtJm2d02GD0+i5cPXRSPaXrWrhaCzR9F2OftDwOaxEYPb6Jjeze5EXl208/Yu42VzO4uSjcB8YwSJNr+vpvOMrxdNV8qim7+vmmVvNkV5dVjG3o/9xcHBlr02dHLyYot+yK1+zOiv+Q9/crS/v0V/8z8sqfAmo797mDon69HPuWNv8x+e5oP4xfu9cYcN+kc++nd5X7/mo/8tt3qf9/UBvONkiz7m4/qU//BzRmfCOca52ZeMJvkj/zdn33k3n900D8E3rEjPOy0WKv8dmcrL/WIqF7PZxWxxsbrNw7ba+Paym3xEjfQGFw7GjSpH9dzQURnai9zqMrcSn3yVP/E67+trDtIs7+v/8h/e5D/0Gjbrv81/KFynza3uM/o9d9vNwcpqmY/+Ie9rlQ/iMWfcU24lrHSdj+tPP4hXR55fMREODp6XrFxU2lM2HjyHbHyYzS+rk/1l+yTiHKZnnwoe+qWaJ8d+Ka+rzdoQjdb7rCaPq3m7mAm+bCp7uVgtunn8Yp1TqS+b5axfuwr/365bdFldr2adcts+6KXDRu53/A2ZQl8S52ommFhBdWs5uR64nF5fqzlty3ExRiuOzdg1i8Zr//io6N0S/noxvQdTK3963p0/NKKXHt7z6XJHhHerlQWYDUDU3e67NfbsfjlbCqnr68PXdhUWi2neD8ntI7eYPop6mF6sHtTapffyq3nzR9YqlXU7vVio9c75olEffNk+TC9Cxbk060YSA2DKAuvQD7a57EKqFqmru+vpYnU7n67Ex7TX3TrzRuxuiv2AcbkNOevCa1/3HJpnLy6vuoVeWBn6EiVOsr4Cidw/4Vf4hEP/hNvO6VZz/Ajz5qkzc43LTdEvl7OszCvL85YOtOy9hbQvZd7VZ3dW3OU9jJst5tKQ+tQcM9Cn/5g3PjXJQfXdxdHz1VE6AltIX84eZ5cihJN4ZL5iFsXhh135o8+7/mhNVWiTdX/yRWUCXc279M8LpeI4h8GOnOrB/4ZGyEaC/sBPA9KH+ElD5xFwFhLPMqmjL45eFHG48CE+ilzH14UxD7yXOi7v1AF4edRyNJqqL/Vld+xcqra3aKwQzmyVniGhm8DJE335Gj/9qCyo5u2fzd21yNwPVFF2Gqc66cmxs0h2Ze7r2pAu4oHAUFNf/fwnR85O7T59bReiV7/Sp3sYKlXwMfKTF0P7y4oRfaYP8IjFyS1c4Viu+lXOQhxvTEGPYo2TrRYTvF3NH2b387U4LuqgJ3kcjpJI3XrrYTadX86uxCnWum4N7+LneMKKZPHa2JlmO2adunRRGei7mg3WMuZdpTZ/ph3h9bduxYAX4ewUaNHeNHd4ImTmuGiuZ8u49PUSpbWXT8e5LuxsZNVVdTgf8WDHnPLCrBhaS5Hxuqyk1P+SaR+9KmvX/lJXvBBmcf7pQaxQfqwa4FxOqvvDaD5UTKapzo414XVt+bAjKysB/rNWGvzZ5gq1EalNPbx4t3mk9sm5ju2zdy5LaMbcL+uCZv4gLvg8BJN2T3xqdzhiXuKU3d2uRE/iEXmo5DrTa4FC71ef4grnxTH6eJfAiy6RxaF9TCcxNjFX5t9Tlcd+ihEHzk8l7MaOMsX6QuNnOn80XqvxX+iwSxy6qH2dzmFqKEW+OTWhS902FsrlzZfjsslT7RsDSOsgCwLPz3beHs0UOzQMqxrVqZzrP8oFomWwPsWxayGdTaibHm1lyv+xchAryvwyEF2CzC6U0f614o2Lncvdd3F8/HAr4/Zhd17v/KzXlX2+rpp0PB2wEYj7cSMWE6cvRSrTfc0pbuQC2hZkYSXge9tZCnQIdsVm5yfN2+vNeN+14mJVWzfTVZZKBnW7qlTytTwSu8ICM7nHvJK+d2pXfv3lLi+a3fNrNf7TanM78l/PRqfN4u636WyxuYv8z9Hrze3q0bPvjo//9WzY2rpHQNvjjGgwdYRv4tbWVQLCjqHwa7d15FvlEABBcgRuQxXotv4DCs4TlCFkgW2vDgW0LRxE78PWp27rlW+VmCEKvXfh8yYWz23LBsBR6D1w6D3Q0ntA1HtQrPfAhroOrLcTJGfd1r53f7zZPDR1stl87pulU8jg6AHfd5sHtlt4TuDZdy+OCl6FQ1nlkK0qIVvJkK1yyFbVkK1EyFYiZKsUssfY06dNFtjWOnRwXboECA59oEMjLGFDVMfGqZidc0UX5Y1AVNvGZYEXFarcEJW6cVXvJuaiN4kq37guf5PZA0wgIzBOblD4+4zAFwyROThXDlFUsAlDlPjGVfabmEvAJKoD47oYTOaKMIHLwoRYGwWjpxSGxlIYuosxthgThM8UDcymIOU4RVvlQ2bvMb5rCIQLmVQZgoofmVwbguRMJugheBRRAqMqaJ2Dw5ZlPPvWYB/oW4bIt4yTbzln3yrKG4HIt4xL3yoq+JYh8i3jyrdMzL5lEvmWce1bJrNvmUC+ZZx8q/D3GYFvGSLfcq58q6jgW4aoaIyrojExF41JVDTGddGYzEVjAheNCbFoCkbfKgx9qzD0LWPsWyYI3yoa+FZByreKtsqHzL5lfNcQCN8yqTIEFd8yuTYEybdM0EPwKKIEvlXQOgeHfct49i2MDZpX5ORgUSQbI5G9LMhvapxcLYrS2kIT8LfIyeSiqJwutsh2F3XyvChq44tt2P2iShYYRfLBIL6vcHDEyMkWSVTeGJqAQUZOJRpFVaexRS7WqFPFRlGXbWzDtRtVLuCoxioOGrppENBSg4C+GgU216gKhw0NwGYDV14bGqwqXWPXjeI3h1T4b9R3DWnFiWObnUOaPDmqO4b0sRZhsOjA15XAsllHMTu2E/RrpOTWKJFXB4mdGsQ3mpJLoyQ9GhqAQyMlf0ZJuTPq2ZtRJWdGSfsytmBXRo08GSVyZJDeSwpujJS8OEjKiaEB+DBSKlmUVMGinssVVSpWlHSpYgsuVNS4TFGLRQoKui5g9FzA6LiI2W9RE24LMngtUOW0IK9kV9hlUfrGkAmHRbU+ZBV3xRY7hiw5K2rVIXvUkQRPBbqWAWQ/RSm76dB9tFJD5KPGyUSds4MW5Y1A5J3GpXEWFVzTEFmmceWXJmazNImc0ri2SZPZI00ggzRO7lj4+4zAFw2RKTpXjlhUsENDVFjGVVWZmEvKJKon47qYTOZKMoHLyIRYQwWj5xWGhlcYup0xtjoThM8VDUyuIOVwRVvlQ2ZvM75rCISrmVQZgoqfmVwbguRkJugheBRRAgMraJ2Dw9ZlPPtWOVg0LmfkXC6QdYHA3mXSG8XIvVyQ9mUy+JczMjAXlIO5mi3MNfIwF7SJuc4u5grZmAvkYya8FwyczBlZGQjKy0wGM3NGpeSCqiVXczG5RtXkgi4n17meXOGCciVWlHF0NYNoawbR1xyysbkinM1EsDZjyttMXIlDZ3dzYeeQCH9zrTYkFYdzvTokyeNcqQzJo4oY2JyxtQgUG50L2enKkaHTOSOnc4GcDgR2OpPeKEZO54J0OpPB6ZyR07mgnM7V7HSukdO5oJ3OdXY6V8jpXCCnM+G9YOB0zsjpQFBOZzI4nTMqKxdUWbmay8o1KisXdFm5zmXlCpeVK7GsjKPTGUSnM4hO55CdzhXhdCaC0xlTTmfiShw6O50LO4dEOJ1rtSGpOJ3r1SFJTudKZUgeVcTA6YxtnO6QAmVOlwTo9qAthi9bcTsphFyuYPI4w+xwg/AmE3K3gqW3DSI4WyHkawUrVyta9rSikKMVrP2sqOxmhZOXFUxONuD3iYCLFUIeZlg52CCCfxVCpVKwKpSi5TIpChVJwbpEisoFUjiXR+GxOAaKbjUg9KoBoVMVxD5VuHCpQQKPGohyqEFapUNldyp4R8iFMxVFh7ziSkWthDw5UuEy5I85MuBFA1mngPCKq+C83hpqA23IEPmQcTIi5+xERXkjEHmRcWlGRQU3MkR2ZFz5kYnZkEwiRzKuLclk9iQTyJSMkysV/j4j8CVDZEzOlTMVFazJEBWKcVUpJuZSMYlqxbguFpO5WkzgcjEh1kvB6FGFoUkVhi5ljG3KBOFTRQOjKkg5VdFW+ZDZq4zvGgLhViZVhqDiVybXhiA5lgl6CB5FlMC0Clrn4LBtGU++9UNHX2/WUs9ty5ZejorHAAoxBY7rM6clkoAsSsAsQMCG2AApBe/ocx8p2/L0MxQOF3hISKPlcAHRmINiHQFmHQE2dGRL/lrifmxbFndHFndHMe7OMe5OLe6OPO7OPO7OStydWNwNbUziyPozDluTuGWziyOcO4wO367XecEWDf6MwTJEETNOYTOuYmdiDqBJFEXjHEoTOJ4mxKAapsgWDuEtaJzRRCCKtvEc8iKluPfveMa4F8RxL5zjXriMexFF3IvEcS88xb0IKe5FoLgXzHEfOMZ9QOOMJgJx3AsXcR8kivvfhpC/8q2yT0Al0IBCjIHDJwMtkQVkQQVm8QQ2hBJIiaKjqc3l/VbpAaDSA0ChB8ChB0BLDwBZD4BZD4ANPQBSeuBo+52gXZ8OCol6k/vUlKUkIt2nRvYJXk4OOHe1EV1tRFfbuJWPua0cYCsPsM1H0tK8CIo4xras4QHl2FtJ7G/nyrdhjfI2r1He5jXK28oa5a1co7zNa5S3Yo3yVqxR3qY1ytu8Rnk71MT+sW3ZGsVR6QGguGxxjssWp7ZsceSLE2e+OHFWFidOSg8c0VbugVUAIt2DRvYgVADg3LFGdKwRHWvjVj7mtnKArTzANh8JVwAo4hitAgDlSNOksEGr0GCVO7KqdGQlO7LKHeHTGlBER1Yi2KuQRaej7XWGbQn0W7FseyRqtOepRnsaa7RHdNSgUPX2rIQfUCzV02D1p9nqT7PVn1as/lRa/am2+tNs9afC6k+F1Z8Gqz/NVn9asfpTafWn2epPq1Z/Kqz+NFv9abb605DVpzmrTytZfSqz+jRn9Wk1q09FVp+KrD6VWb054z7yrXjhrEfpslj4KpNQFyRQiZCqqoWa5MKhBlRDpOpyokZcWSRTkZFK9RZVSA8SKKNJpYJkVaQ+NclVwA1yxVILKhlSuUZI5pKOclsVdoZF1jw1+VbH2QlI1aZAjXb3na2CVHKNqIKBkEBeQqqyFWqSHYYakNmQqn2HGrEFkcxuRHI0piiCR5FAdkVqcq5fRsOF8wPbsmvmgOLlchPOwtY4bE3ilp3nOsKTV6Pxy4fLGsmUgoeTh1+GWBxbZywAgPAi8JaGt/YPIqL+197aj+pZRuOMJgJRYNTr7CRVQiTfbC9xwhe6KQYcMfVC9yDFbILgkUAhZFUFMrY5qwnjmjCpChRgUnOYY4NKsEUjDnmuWBlFDn+9YocGg59i+A1R4J2rkBf1LKNxRhOBKLTGc1CLVAlnkDmQRVznGHDwjKewvRttLzNsP7DfssnVkV24chQnWec4szq16dSRT4/OfD3grFy4cmJz4xaVwnwtEPXFOHXIuOqViblrJlH/jHMnTeCemhC7a5j6jDcIGFGf0w0C5qrP6gYBS9TnfIOABe4z3yBgzH0ODvC6KnD/o8pRiKqMRWwiIhIbcFyimqIT5RSjKFOkokjxKvc/XwtEMTJO0TGu4mJijohJFAvjHAUTuP8mxJ4bjn3+dejukW/FmxO/YicBxcc9nKdbGL9irwD5AxzOrC/Ahm4AsSc5DH2KW2XyQhTmLRc2U9axbY3D1pfQchI0m7EApUcEfkWjPSJEYU5Gy1wFXBktSxT6bLQs8CCw0TKm4cAVMSMamMqKmNSzHM9xRl/yH05yKx42tUgepPCmOAxg5DSKUaShjKIaz9giD2rUaWSjyMMbVR7jqMaBjhqNdvrCC8lp3Hd94YVqclYZlXGFf6nsZ1Jpz1lR/dKHQYeXXiExkFJaoERJgZJKCdRzQqBK6YASJwNqnAqoxURAhdKA3rMXlFKg/p59bnAmIz+W9Ivcw0S25WGvvHs+qOV1QRhxQzTcxmmsjauBNjGPskk0xMZ5fE3gwTUhjqxhGlZ8R5gRDWjlHWFSz3I8xxl9yX84ya14+NT7tIMUL7LhELJCI8kyDSjLaly5TR5ebkGjzDIPNus85qzHoWeVMoDkT3WF8iHJKi2o0Vl1xMZV5Ut1b5Pq33DmsJwTyF6hg9RxRknjAqWLCypRXM0p4holhwucFq5wQrgSU8E5JUF4wzYxGvjaG7Ysn4nojgX7Iv52ItrxoMq3UAetXN2B0TREg2mcxtK4GkoT80iaRANpnMfRBB5GE+IoGqZBxKt9jGgIK1f7SD3L8Rxn9CX/4SS34sFTFwAHCU/SjwjR2KWTdOZq7NRJOks0dvkknQUeOz5JZ0xjh28mMKKxq7yZQOpZjuc4oy/5Dye5FY+deop/K/02DNv2mfLfcMQAlcECFMYJeHpO/TccHUA2MMBsTIANwwGkjISj/gkt648/oeXIntByJB4s73l6sLyn8cHyHtHj4z2jx8d7Fh4f74k9N2QoPrW4IX5BqN+KF7t6ZHfOAeVLXD1PV7e2FG+MO47Xu3pEl7p6Rle5NqyNW/mY28oBtvIA23wk6a61K+IY/f60o3ixbYP4qcX3I3wvod+KGdUjkT49T+nT05g+PZLvJfQKJVbPKLF6FhLr/Sg9ffZhhM+r9FvxIZUeiSdTep4eR+lpfAalR/LBk16hp016Fh8x6VF8ruRDcNUP2VA/1Lz0wzBwvp/Pub+fK/39LPv7OfeXBw4U0d/P9NTpBxg4J735H5etje8f2tYkbsVH+D+Qqw+0XESD0TdEITGu4mJiDo5JFCHjOkwmc6xMoAQxTlmSL2o6onzZeVHT1M9535w+xnfFSiSSSZVYVVLK5FqsUnKZEDMsXLeNGTLOSTMRiLJOXaQdpHLnC1LPEIXTuAqniTmcJlE4jetwmszhNIFSzzilXuGQeoYo9Zyr1Cvq57xvTj3ju2IlUs+kSqwqqWdyLVYp9UyIqYdvRB3HDBnnpJkIRKmn3ogqUuVJTRY4tN98UpObiDDvelKT1UrIdz6pyTKn6q4nNUnFtNXP9lRUmcKhzefaZ6Z0juq3Y65SOzbYGfNamsdGu2OeUz7KlPjpoadjlaXjWvpOqgIXRPWhp22DbrjhxbR+y57tcRRfTOuReDGt5+nFtJ7GF9N6RC+m9YxeTOtZeDGtJ/HFtE9DNe+/tC1bkDuKC3LnuCB3agtyR7wgd8UX5M7sdRBHdlpnyE/p+q34TFWP7EsgHMWX3p3jybtTe9Xdkb/G7szj7qzE3Unpgf/hRTuHs/Qt2Z6qOoldanIv7VQVUcgu57KX4VQVGufON6Lzjej81/X91yYe0iwM3Syn2MxPwoy1YRdt7ntb6Sie8gK1MnJEeQmKF5izkpeArJoM2YmiF9giDOkiXgXqURlERGFKcGHZ3M5y5qzCMaxyrFaVWK1krFY5VvzsNigiViuRF6tUFE+hD/6dV/2WebGj9D1XZVpFF04PujEnP9YPurGYnTk96MacPTo/6MZCdOv0oBtx8O10GsBcObg6DWCJvLx2GsAyu3o6DWBO/l44mLwhym3jZPfGleebmC3RJDJA4+yCJnDKmxDz3jDNCIVTcTsOc0PBIhI8SxinqcK5sAYT6xFSM4dpleilOcSEWvR4Nil8lrOF5xXjPLkUoc275WnG+K4giQnHJHJS49pOTWZPNYEmIeM0ExXO01Hhi5xKPDEZp9nJuZqiiirmqSKt8mHyjGV8V9jF3GVSJeyVWczkWtjTfGaCLu6n3GuY3gzRHGdcTHTp6eYyoPrpZq3y1Lfj6WbdREyD+ulmraYpsfJ0s5ZpetRPN0sVp0p9wUKrctqsXrDQDXgK3XnBQjdK06m+YKFVnlqDihNsFLggo8qTbVTllBubiGklNuAJJKppGolyqtYoU81GkafloLKjkRin6Pgya+0D03QdVZ60SVX2GJt8K9JyGo8tdo5FntKjvHss0vQe1Fktb9NUH9U04Qe5rX1cmvyj+u1gq4VAbMDzUlQrs1NslOaoKPMCIaq8TAhqWiwEdVFL7bRwiCovH0iVi4jQRi0lQoNVrUNpWRHVbw+oWmLEBjsHtLbciI12D2heekR5l5k91SKGi5Eo8JIkqmlh8nlYjZw8t62yB0BlugAUYg8cPgFoiTIgixowCxWwIT5ASg04Ks59bMRKYUD4cssJIepwermFueq6ermFJQpCfrmFBQ4Hv9zCmAJTOEWnYA5ReofkRHEKln6HRIoqbNV3SKROAay8QyJVDqV8h0RqFNQgUmSDxuGl9zBOMqXQqvcwhKTCWnkPQ6gUUvkehtA4nOI9DKFQKEGiQILCYcQ3G04IUQDTmw3MVejUmw0sUdDymw0scLj4zQbGFKjCKUoFc4jECwQnWqGA1V4gqMgqfDteIKi0oGBWXyCo6BzaygsEFZUCTTLFm1QOe3js/oQZhTo/dp8EFV752H3SKKTisfukcBjTY/eJU+hMoKAZ53DZz19AuJxRuFygcLmgwuVqDpdrFC4XOFyucLhcieFyTuEygcLlv8NC4Rq+pR+CVQiFqmAKVMEqTEXLQSoKhahgDlDhHJ7CY3AKpdAMmAJTfvohhuVsCMn+9ob+GcYDmT3kDCxeHAIBLwkBtgtBwPzKDkA/ewVYnkgFZFd2nG1+DOHQema/gwAonm+54L9+0G/ZywWOxG8e9Dx9O1JP4y8d9Ej+yEGv0O8b9Cz+tEGP4q8abJBfv+q34ulej+ySpyNx2tfzdK7X03iC1yM6YesZnaX1LJya9SSefp+N/IoSkm3i7h+8Kqgf5ec2Vv41o8DKaXZg8UlqF8Kj1IDxq0aB+zPWzuBRaofwLLVBu8SzPRPdoM11ncMXtmXnnI7iY0vO8QTUqT2g5MgfOHLmTxkZa+OxtiKybS2KrY5iK6KVvhAVJBVI/0pUYP5ugzF/wN5rAi+XeFat4lauFHU1pOeyLFa5LPTFjl4RBcOXNXoWCmZcvHn7yP04eDMw82ZgcchAwCEDbEMGzMcFoCc4wOLNgGysnPU3IXwrvvgwTg4LPL34MEaHBSRffBgHhwXmOWYovj4zHhz25Ni2bLHgyBYKjuIiwTkuEJza4sCRLwyc+aLAWVkQOLHFgKFSC8dA8JWg8WCw/hdN7qXZKyLdy0b2Mngr4Nz5RnS+EZ03X9262XiE18vHo3SRfDzKV8bHgwW+sL2aAwKKb6Q5xzfSnNobaY4oL0Hxd9WclbwEZC+mGfJr1TaIaHw+2P6jOGM0PkDip3DGZHxA4w/gjIXxgUI/ezMOxgcs/NjNhmwu0J74Vlyj9ygttifFL/d90zIAmPklsOg8IKD1ADbvAeYWA9DzDWDxS0BmPM76p8yPbSs+mztJfgk8Pag7Qb8ExI8uu0I/pzFBvwQUfyxjMvjlS98qRw2oxB9Q6Ahw6AjQ0hFAdrjALPTAhsgDKT1wFNcOk+SXk8Ev9/f3bdPzzJktSJHFPHMBrQQorkehtVmMIzcSZ5B8BumG42SEq9HJKK1GJ6O8cJwMrgm7bUUE2lpvw8IRsFeVM57SQYKCc2iTOjAvLmNkn5ORWjdORrhunIzSunGS7BN4WjdORmndOBH2CQqtGyejvG6cjHjdOLH7GeAn6WZNEtgW9e2apAqDTDdskpCsMt+ySQqZZrppwwLYZ35BkbgyUvmCIklkqdUXFElmc80vKBInmy0cvNYQGa5xcl3jynpNzP5rEpmwcXZiE9iOTYiebJiM2W/GhQrle3SEseqNsVWZwI7tgjIyU7N3uyQM3ERyceNs5SYkPy8Km3rh4OyGyN6Ns8cXoRWfl9zehJ2RUr5vGpu/CZUZwPQ0DZjCc4EJPCGkW7oURzE1FGklEE0SxtVMYWKeLkyiOcO4njhM5tnDBJ5CTIjzCN1xLQarbrkqjSeU6k1X1UBMK+q2q9LS5CJvvCqRphh161VoMNEgpbkGJTXdoJ5nHFRp0kFJzzvYgqce1Gj2QYkmIJBgDkJK0xBKNBOhpCYj1PN8hCpNSSjxrIQaT0yoxbkJFZqewr34YBTiLn1W0IwQs8+ixrNV0JQNY4M8ZwVVTFuo08yFEk9eqKX5C0SewkCCWQwpTWQo8VwGWqs/Ps1oqH0rmmpeQ5mnNtQqsxs2SRMcijzHocbTnHosJIdbTHagrjSlKQ8lNeuhnic+VGnuQ0lPf9iCZ0DUeBJELcyDXcX2P7u8/a2Z4myIBkdDFB5lAg6fArQ8iQLI7vsDs5vbwOC37AeCPxW9Refd1vmoXNU+x+E/MrQZ2APfKgMKSHzD0jkNIND4DUvnYsBAoW9YOg8DBCx8zfn50Mntb90M5pp+K+Ioq0XaXiTtwtA/KLrdzeXF8COsjprwOQ0mwIDKiyuIOAEGTglQqBsuYsyLAYW8GFjIiy27gunGSfcx82a5nNlMfjXY64FttXHL0sCR+P2oKzJBoPGXoq6E5YFCvwl1hQYHKP760xXms/eV8mB7afmKUmCbAdd5D9elpplXnhjfquX3RmDL5hVHOFv0dFaGrj/GWUiwLcrZtOWcTVsa0maLYtpsWUybnt2UtYhvxft0N2HlASjfuruhdQbScJ/dcLyjdxOWE8DoC8tuyqx+bFsx6Dd5DneeBuMmzNiO5G933cT52Vn8Sc+bMBsbWsetfNQ5VW7yWzVDFCpv1WiVRnDXWzW6SR7XHW/V6BY02rW3arTMOZDfcJHx4szY9YaLbvKtEeHU2f2Gi27ECVV5w0WrlGb5vQct7AxMzsNiJdv1wx1a1oBwTiwo7BQEXLJsURtsqS3z8XYrG6QhaFXxzMihvfRSpNA2O6whaEUPvD5WFfgbYdTOoF350tzHjKAVBpaQtyqTWFo6bWfHKEet/MW8uSqPSm/3yUK0I1bjd6iyKuyImyQ74gbRbFgls2GZzIbl8GWZLMYnSnpVB2tHpHaE6Vsx2h2gHdHZFZpdcakH5dsRgf9/d3Jo6pByI//60YiHFbvSQsqKXS70ny3i2U/UytwptfB0qWjhD+5FHC9mRK18oNS6mXg+n9bU+LCraHE/vegv5Bwl6dE60AVpdLEZsJe2FZ+s6ZEtKQDZwQEM18AWZQ1jepN33eRd0xLFOeY5UFyMOI6vpi/issMZPTO0YZ7a/VYszB7F0LtATy1tkM/0/VaciXtkAQAU9+9CnP8XZTVkh97mALeVaLYymm0OW1rWuCIC2sYX9hdh1WLoPoTNT7SeG/s9tPcprlQvJq0h6r1xyjHnnMP6jqNhsW9O6Xy/kbkYDnW3MUk5zdPNRuY8PuJmYxSuc5w5/43LIkg3LYdKKBwS3RDVhHEqDOeqOkylEgl3OmNnuVgq9zlJrA8R1071JifJtVHiUsp3OCO/z8OQKqsIv+c/hxqz72XyVoYoaMYp351zjfGXPg01hl/6RC25xtKXPiUuBlB96VOSco2lL31izqOXv/SJhOscZ64x47LG0rdHDTVWONSMIaox41RjzlWNmUo1hl85RZ3lGtNfOcVifYi4xmpfOcVybZS4xtJXThG/z8OQaqwIv+c/xxqLX68CbaPAAYwqVwCpqfbkd7qUCsxXn9RfpWqsXH3Sqhr2+tUn3UBUaeXqk1RTLtSuPin5ujaCqYajqitZf11MqeegYpVGgWs7qlzhpMo6j2242vPVOBWoVPm7rsbJJt9KhOQFu6/GyUa7cyG5Q+VqnFLva8Oc/SLIv9d26N4xnNj1Fxm2l2qMlKATtq+0iji+HBA1fEEgKvaSQMT+OkDk/kpA5OW1gEjtG6oC/jQqr3MasRNnwuIV0CJuvk37KOx3nNpM0mdPdEwnKUDdAMFPCvVb8XpPj6JN9Ehc3+l5uq7T03g9p0d0HadndP2mZ+G6TU/i9ZpHmBS8T1Fvcp/ojsNjNnrnsk/ihsJj8HFHoqt8v+Cx2JJv5WPmFx+NywNs85Hktx5NEcfYxvfRHoN9GDJreNGjpzQcT6FrT7lrT5WuPcmuPeWuPVW79iS69pS79pS79pS7tk5dW4dMW+dMW+dMW1cybS0zba0zbZ0zbS0ybS0ybT3Ce+prHA5A4p76moYDaLynvhbDAQrdU1/jcACK99TXYjj4wscwJuHCR2zJo5MvfDAX4yQvfLCURyxf+CDOYycufEQBRjFdHmCuxlNdHmCJRrZ2eYBlHuN0eYA5jXa6FjAMuXh2cRh1fnYxteexl08uCklkQOW5RaXmPFCPLQqJs0E/tpg0yAn1MKGQVGZUHiUUKuXHjgcJRQvOEvUYoZAoV9RDhF26/Os//w8s8zdF"'),TimesBoldItalicCompressed=JSON.parse('"eJyFnV9TG0myxb8K0U/3RjC7NgZj5o0ZZnYGz5pZGyH3bsyDEA3oImhWfxCajf3ut1Xqyjx5Mkt+cbh/p9RdlZV1qrrVJf5T/dg+PjZPi+r76urvy/nortk7PPpwfLh39P7DyUm1X/3cPi0+jR6brsDl5LGZf/dDO735dTGaTsYbdTmdorq3UfdUHj1Opmss0MFhM7m731xwU7Y73pY+fbqbdqW+e3vUkfnPk9fm5vfJYnxffb+YLZv96sf70Ww0XjSzL83msz+9Lpqnm+bmc/s4euqr+cMP7Wv1/b++O3jzZv+7g7cf9k9O3u+fHLz9Y78adGVn08lT83s7nywm7dPmSl0xFS7vJ+OHp2Y+r74/6vhVM5unYtWbNwd/efPmTXeNT+1iMt605Mf2eT3bNGLvf8b/u/f25MPR/ubf4/Tvyebfkzfp33fp3+O905v2utn7sp4vmsf53q9P43b23M5Gi+bmL3t7p9Pp3ufN2eZ7n5t5M3vp6DaYk/neaG8xG900j6PZw157u/fb5KldrJ+b735puk+d/m1v9HTz13a2N+k+PF9ezyc3k9Fs0sz/0lX3p+4yN5Onuy/j+yZ1QKrFl0X3kdHsJqtdwR9Hz7/0ffL+/cl+9TUfHb4/2K9O5+NNpGed+OHdfnXWyHEX4+P96svi5pdhV/Yg/feq++/bg7fb/vp7s5hNxl1E//Wfavi1+v5gE9lPXU3mz6MukP/d3+J3XcwSbl7H09Gj8KOjoy3/97LtQnU9VeVNf6Kn5eP1pqfunrx2006no5nwD+/ebflzMxtvMj4Lx8cftsLosZPmXXi0ZvkzqQapy732PJo1T9PmtiTZj0n1RvPNGecPqhz3yvN0ORcqMRt3A3XkL3G/fr5vnnzxrimTVltykBs5n47m9742fzaz1tP2qfFwsQpKLu5nTVD2tl3OAjp5CcrOJ68BbF6aoG+bOKZPE6iwhGjcTtsnj+fN48RK0gPTjQ842vx7OZp6fDdrupEcNPPfy2aevEZT8KDve637+/fHW3bq0Q8e/ahpe9Cf7MyX+smjn/0H/+aHwC9+UP7qG3buT/9R0du3W/Sbtjuf6+++Ep88uvDn+t2X+oevxGewjvdb9MWf69Kfa+DPdeVrP/SlvvrT1x790yffdTeZPTQLYxsyRq87zY5T/hx5yrF4yngyGU9m4+Wj77XlxrXn3dQTDJHkb6Yy6lMeXQs6PDzsx1jgv75UcOVb/8E73433PkgTj/7Pn+vBl9IhLGn/6K8YmE5ge8/BqPdDaObR3Ndr4Sux9CF88Um48pV49R9c+0r8qejwg+aXTYSDg9zrMJna8ruycTGZ3hSn+pt2FcTZzM46EyzSQk2T421u/+1mYYg+K59ZR3PH7bSdTQI+bwpnGS9n3TQ+XvsuS8NmPklL18D+t6uWeFjdLSed8tgu4pXDRk4n/oZMoc+JczsJWLB+6lZy4XLgZnR3F01pW45LMVpwbPqumTU3/qPdWmh0Nxs9g6nlj153dxFN0EoN7/VoviPCu9XC+ks6wOrdXUGOzXQ6eZ5P5oHUtXVx3y7NWtFN+ya5tedmo5fABkfj5SJauiQvv502r16jkZXx42g8i5Y717MmuvBNuxiNzYhTadL1JAZAlBmOQ61sc9OFNFqjLp/uRrPl43S0DC7T3nXLzIfgdCNsB/TLo8nZk2xwp7rqOXjf53w7u7ntlnlmXagLFDvH6vrDcrnAhV7gncwJs5vHzueWU7yCnGmkTDzjZjPk5/Ng+poW1uZtoZ5tkPTd6OxuiLush16TlZzrUJ2Ybf7p5G+zRiemsEv1dLbvdG3kaiCTxc3kZXITdFJta6bL5WBoaLXth3SdF3xIJ0gagzJVpzsvGiTQVH9KvZ4ZKIp9GKTmNBr0M9RD0hP0Ab0HcBfRO4bOIeAWxN5iUkOPD4+z2D/0CC5FnqOrQpsH2so4Lp+iCujwKOWotVRd50dn0xup0tmsrUI4vVFqhphmAidH1MWrvfrhSR+waftn83QXXP6zvYTew0WN1OTYOUgCUYcXTyOylrUVga6mturdj4+c9tF9OwtadUFX1zAURsEXcok32WwLYRvQBTRidmozjzfmy7TGmQX1pRSUKJY42Wo2wcfldDF5nq6DelEDNcltd+RE6lZbi8loejO5vfV9tS5bwyd7HU3YXcny08402zHrlKVxoaOfSjZIHQqeEo/NX+lE+PCtWzDgEzi5AZq1D80T3gaJOc6au8ncLnx1iNLKS6djPy7kXmTZjWpzN6LBphWkDMyCobU8lmRcFlLqn2Tahyd55Zqec9mnYNLKnxb3vq4/Fg1wGvnWu7xsWxRMpinOjqVZ8LS0fNiRlYUA/1kaGqVKXZR6pDT1lDx3XrpyeRxf7FyW8IyZ1wXNdBE87lkYk1ZPXLU7HDFY6b3PJhe0xNZIQxWuM3UsUOj1PtWucI6P0Me7BJ51iQxVk2nE3cJ8OMj5OgonpI/hIkPuMGzH6T2MfKkTmWJ5ofFrITV/LY3x32j+y3HoonY/msKztzzIN7cm9Jxb+iJyefFlu2zSVPtGB9I6SILA87Pc31gzxQb13Rr16iic67+E613J4PgWRzKss4noG4+2MOX/WKjEkjL/UOz8ZjKOjPasMKHNdrbmk+0frW5huft5d17vXFqfFs55WjTp+HbgovDs8M9g4tSlSGG6LznFQ9iUN9mrzEpAz7ZzKNgq6PPdnVeatneb/n5qg0dVrTdTSR8v5QzqTlUYyXfhTYM8X4GZXGNeSN+ncB6H7w/dFKGeXxrjPy0330X+sV99bGZPv48ms803yP+qTjdfVVf7370/+mO/P9q6h0HbelrUmzrCv22O3sjR1lUMwoahcNEdHelRrgIgSA7DpasM3Y5/g4zzGKUPmWHbp0MGbQcOon9sjqT1l/YoxwyRab0KA3PWgW/9oND6Qdj6gW/9oNj6QdD6vPAzLNkJkqvu6ETaMOyOuqk4H9bd4bEe5SYBgqorhVcCOnyY8bI7eieFlvlsgEyAgMNVgOYAAaIAgSIBAiYBAtYHSMmLacPKHK3tkcRHEcZnS/tCOF4F0aAVTiNXOQ/frMAYFkQDWXg4mrMKQ1oQZbbwKL1F9DkuEiW68DjbReaUF4FGvXAa+pnD+M/oMkDkBMojO8jqwF+OjUH4rvAFFiFSIXwFsxC5FD5nGyJY78gYDCQjdJHMwEoEkZ8I96aSpchZsgb2Iog8RnhkNCJ6txGJLEd47Dsis/mIwA4kgrWhjF98q1cerQNE1iTc+1NvE+hPgsifhJM/KWd/ygr4kyDyJ+GhP2UV/EkQDTDh0QAT0Q8wkWiACY8HmMg8wEQgfxJO/pQ5+FNGlwEif1Ie+VNWB/5y7E/Cd4Uv8CeRCuEr+JPIpfA5fxLB+lPG4E8ZoT9lBv4kiPxJuPenLEX+lDXwJ0HkT8IjfxLR+5NI5E/CY38Smf1JBPYnEaw/ZfziW73yaB0g8ifh3p8wNGhSlpNTWZHsikT2LCODcVlO7mXF0MJMEfAxy2k0WjEakraEH5dWp8FpxXiE2jI8TK1KVmdF8jsjgukZflniZH8kRh5oigwK9WA3tOI34x/4otV3xb/gkLbMzvg7r7SqNUyjgWsajtZpBPBPy8lEreid1OiRnZoC4KmWk7FaMXJXW8JbrNXJZ60Ym60tw45rVbZdq1rvNdpLIU6rAl+XOPmxFb0pK0FLRkqGjBLZsZHYjEEEK0ZKRoxSaMNQAEwYKVkASpEBoO6HP6o0+FGKhz6W4IGPGtkuSmS6IIHlAr2MKdmtkSKzhQKD8OpstCh9I8qByaJajnLBYLHEjig7c0XNWisoYKxA0VYBg6kiJUtFyRsqqJGdggxmipSsFKXISFH3NooqmShKsYViCTZQ1Ng+UbPmCcpLGJNVSNcxJdNEyVtm33r0S0FklsLJKZWzTWYFPFIQGaTw0B2zCtYoiEas8Gi4iujHqkg0UIXHo1RkHqIikAsKJwvMHPwvo8sAkfMpj2wvqwN/OTY84bvCF1idSIXwFUxO5FL4nL2JYL0tYzC2jNDVMgNLE0R+JtybWZYiJ8sa2Jgg8jDhkYGJ6N1LJLIu4bFvicymJQI7lgjWrjJ+8a1eebQOEFmUcO9Pua5oUMrIoVQgiwKBPUokMCll5FIqhDYlMviUMhppKkRDTVU/1lSjwaZCPNpU5+GmCtmVCuRXIoBhCbuMGFkWCJFniTwIrsmupcLOWAa+pVoplgXnUr0YS+ddqljzEg7uJQztSyD4lzIyMBW8g4kWWZiI4GHKyMRUiFxMVW9jqpGPqRAbmersZKqwlalivUz4S9D+VcDWESM/U8EbWq4YGpoyMjQVyNBAYEMTCQxNGRmaCqGhiQyGpowGoQrRIFTVD0LVaBCqEA9C1XkQqkKGpgIZmghgaMIuI0aGBkJkaCIPgmuyoamwM5aBoalWimXB0FQvxtIZmirW0ISDoQlDQxMIhqaMDE0Fb2iiRYYmIhiaMjI0FSJDU9UbmmpkaCrEhqY6G5oqbGiqWEMT/hK0fxWwjaG9YyYxYQFbvdVm/W+UqANlQmaWMVmZYDayXgAby4RMLOPQwnoRDCwTGnIZRwMua364ZYUGW8bxUMsqD7TMybIyJsPqMdhVTy49IasSHBlVLw7cldikMt4RscCgshJHrGBOWS1EzBlT5taWegqm1BO0pB6BIWVCdpSxN6Neiayol8CIMiEbyjgyoax5C8oKGVDGsf1klc0nc7aezK3x9PTFtXXlyNoTWkFl7NdP/SBAvxFEhiOcHEc5W05WwHMEkekID10nq2A7gmgUCY+GkYh+HIlEA0l4PJJE5qEkArmPcLKfzMF/MroMEDmQ8siCsjrwl2MTEr4rfIENiVQIX8GIRC6Fz1mRCNaLMgYzygjdKDOwI0HkR8K9IWUpcqSsgSUJIk8SHpmSiN6VRCJbEh77kshsTCKwM4lgrSnjF9/qlUfrAJE9CXf+9ENHT7ujgyM5yp8FlL0EkAkpcLgC0BxIQBIkYBIfYH1ogOSBrWiQMlCOcgsAmeoCh+oCzdUFRF0OijQEmDQEWN+QLTkzcT/zcT/zcT8rxP0sjPuZj/tZEPezIO5nLu5nPu5nvRkcSXs2PnAoR7XRamuDZzTue9qbLkZGEIVHOMVIeBQoEX20RKKQCee4icDBE8FGUDCFMfMrHwYIaEa1L8WhFR7EN21itPHNiOObOcc38zC+WQzimyWOb+Yuvllw8c0CxTdjjm/Pr3wYML49qn0pF9/MXXx/7kPbT4Y/Y1iR5ZAiI4NSwTiUYrUoZeBECsGKFIoXKcphAzaSuT4d5aYAyi0BZBoCHNoBNDcDkLQCmDQCWN8GILkJira/cdk16uAkI2pjE3RQkxd/hhU6qIk7CHbdWh50XBN1XBN13EQyNh3lugMy1QQOtQSaKwNI6gJMqqKsldVaOrJru4RMTYC75V6iuSaAaMoFReoILN8GAMr5oKj/EVOTEDMzfmd2tCck9wKA7G1AEs6Ns557Uz33fnpesNLz0EXPvYGeB955HtjmuXPMc2+W5/2gP5T2jGyKneOgBxRk3TkNeqA2687NoAdGWXcOgx5IboEiGfRCrN74NsmIRxS3qQnbZIY7YN/UJmhqEzS1tUe+zm2hgm1YwdbXhAcYKEEdZYAB8rHXASZoaQosfUOWhYYsw4YsfUP4fgyUoCHLINhLk1cfq+2TkHd6ZO8sEwpuKhN395OJ2lvJhMK7yKTQDWRiOfyAcvgV6VD+iIkOKCc6Im8/HynRkUKiA7au9NEkOjBypY99osORr3NbqGAbVrD1NeFEByWooyQ6IGuTH/usPpC4S1YDsrVWjrVWKrVWxLVWRWutTCOrLPu9kLU98rVe+9qZqQ7HBQk0REiNRgsV8QOHCtAYIjUeTlSIRxbJNMhIpfFmVUgPEiijSaUByWqQ+lTEjwIu4EcslaAhQyqPEZJ5SFu5LQo7wxKOeSryrYazE5AamwIV2t12tgpSyTWsuiyNMPYSUiNboSLfGsNsNqTGvkOF2IJIZjci2RqTFddFYWdgvHP9Vm0f7b/9IEdyYwfIrORV2DwveHecj4bmqLZH4nyK0MuEmsfZ268OfusbrIXW/mxrfzbcc9/X2e25dzxqKW5Ip3MPPaoDRPWN9qOTFMUBt2FTcY5ItA27l2xKQHBIoBCxGgXKlrkqXXNYEuqiQM0j9VuNjILpB1T4UQ5seUD1BXq7w8AKopAqj4KZ1St/7qFHdYCo6sLLlY4ClbW1L87BEe6u8Kna3vdvlwXpyK6FEsp3zYCCNVHibiGUqF39JESrmcToO6bEzNdLidilzKc8pE4DRG0RTg0SHrVKRN80kah9wrmRInBLRbDNFUxtxi8bGFGb3ZcNzKM2R182sERt9l82sMBt5i8bGHObzQg/LQrcfqtyFKwaxsIWCSJiC3BcrOqiY2UXIytTpKxI8cpfnJ4GiGIknKIjPIqLiD4iIlEshHMUROD2i2BbLti2+aJv7qEe2Uc2F9hIQMFTnAtqGlD7FOfCNAgYPau5gGYAsc+hLvoZCo7s470LPy+poN8TXfSzkR59NSVro9HXRBdV9A3RBRrtISEKszNa5lHAI6NliULvjZYF7gQ2WsbUHbhWZUQdU1irknrl4zn06Kv/YO1LcbdFy9deMtu5oQMtp160InWlFaP+tCV8p1qdetaK3L1W5T62qu1oq1Fvux+eCDn1+64fnoiKXBV6ZVjgXwvnqQvlOSuKv7/Q67BpFRIDKaUFSpQUKEUpgbpPCFQpHVDiZECNUwE1mwioUBrQZviAUgqUN8P7Aldh5Ich/RqeoQ7LcrcX9oj3at4GCD0uiLpbOPW18KijRfS9LBJ1sXDuXxG4c0WwPSuYuhX3+DKiDi3s8SX1ysdz6NFX/8Hal+Lui7bE9pJ9xoVdyAr1JMvUoSxH/cplfPdyCepllrmzWec+Z912PauUASRflhXKBydHaUGFroo9NiwqX4tnq4uf4cxh2SeQ7JmD1FFGSaMCpYsKUaKo6lNENUoOFTgtVOGEUMWmgnJKArNz1jHq+NLOWZavgugOA/Y1+GwdlONODTeY9lp+ugO9KYg6Uzj1pfCoK0X0PSkSdaRw7kcRuBtFsL0omDoRn+Yxoi4sPM0j9crHc+jRV//B2pfizose8PUS3qQfEqK+czfpzKO+i27SWaK+8zfpLHDf8U06Y+o73LrAiPqusHWB1Csfz6FHX/0Ha1+K+y56038r/d5324cjOcqfBZQ7C5DpJ+BwBaC5dwBJxwCTPgHWdweQ3BOK9JWpdGRzLiGbbgkFmZa4S7JEbX4lRKmVGGVVYiahErG5tEH0nuQGNaaTGtulCdnX4rbIb2pJPOx488U0YLvDJSHavZIYbVzZsM2XzUfSLfINMyBbQeVYQaVSE0W8zUYVraMy2ZukSLYlCeKXEv9R4Y6GdGR3NCQU7GhI3O1oSNTuaEgo3NGQFNrRkBjtaEjM7Gj4XG1fDjnUIzsQEgqyPnGX9YnarE8ofNUrKTQeErPvrCVkk/9z76Hv9CinNSLjnCoMzHkGvr2DQnsHYXsHvr3cS6AE7R3Q+P8MvaRkY/Xb7+E+9y6vR7U9krxThPm1pfmRGfS+IAqJ8CguIvrgiEQREh6HSWSOlQiUIMIpS/AR5jtClC+FR5ikDvy5OX2E74pVkEgiFWJVSCmRS7FyySWCzTB8SksZMvSoDhBlXfRItpfy91yQeoIonMKjcIrowykShVN4HE6ROZwiUOoJp9TLHFJPEKWe8ij1sjrw5+bUE74rVkHqiVSIVSH1RC7FyqWeCDb1cC8VZcjQozpAlHrRXqosudcicyXi1yJjNQxw8bXIuAAHe+drkXEhF/j4tchY5YR17+C8CwVO3l3v4IRlBqVrunS26rdjHqW2LbAz5qU0t4V2x9ynvJUp8d3LSWGWDktCXRR4QBRfTtoW6Lo73dBtV7fpyK7CE8q3Q4CChXnibmGeqF2YJ0TL78T0FkFZ3tauxK7IL/vRrO25sDG4dOMWeBgQGaGAePWtiq6+leUBCEj26wlK2/UO5CjXGpBs11Nkt+spx+16SmW7niLdrqdMt+spy9v1lMh2PUHjdrrd1nWoZHtjqmXsJxrfSrkvRRS30tyXAoX7UigsSadIk05Z0Pj79fN9Y6u02cm3fX0sHdmXzRLS1ziEbe5vTyRL5f4WULD7MnG3+zJRu/syIcpLUGhfZmI5LwHZTZgbJPe32vqZadbMt1723CGyU4II8+Zx4jNnacos/SXoVyGUuxf8EpXXcBTxjgNV9N0cZUF/yu8+CFmZo7U98m3wLyPmaRVd2L3Wxpz8OH6tjUXvzO61Nubs0f61NhasW7vX2oiDb7vbAOaRg0e3ASyRl5duA1hmV3e3AczJ3zMHMxREHiic7F545IYieuMXidxfOE8BIrAVimAnA8E0I2ROg1uxmRsyDk7As4RwmiqU74hQMGmo5GcO0Wj6EM5ziAil6PFskjlMKYLIMoSzGWUBZhhBNM0Ij+YaEf2EIxLNOsLjqUdknn9EoElIOM1EmfN0lPnMR4MnJuE0OymPpqisBvNUlpa+NM9YwqNpS8TyfMATmPB4FhOZpzIRSilEk1rGK4/WASq0Opro3LvMeTaI32WOVZ76drzLHBcJpsH4XeZYdVNi4V3mWKbpMX6XOVRxqowfWMRqOG0WH1jEBXgK3fnAIi7kptP4gUWs8tRqVJxRrMCTiFV5srVqOKHYIsHEawvw9GtVNwlb2U0mVqYJ2Yo8LRuVHY1EO0XbnaNFYWek3aRN6jcjHU3gVCCYxm0Jnsyt6qZ0K+/uCze9GxUneSuwc1rVubXdqgrTpBV48rdquASwRYKFgC3AywGrFhYFtpBbGliZFwhW5WWCUd1iwaizUjzdwsGqvHwgNVxEmDLRUsIUWJY+6ZYVVg0XF7bIt2Zit9CwamG5YQu5RYeVdyczL0CMuCoJ66KwM2J+YTLoVyOHR3Ikz6MVyRshiuxzaeX4MFqpPIFWpE+UleljZGX52bESeYS/RWaXCiFqi9+lQjxqVbhLhSRqX7BLhQRuqdulQpja7Hd3RJxaX9jdEYlRHMq7OyKdIlLa3RGpHJt4d0ekUZR4o4OnFKFwo4OXouiUNjp4lSITb3TwGkcl2ujgFYqI2QVAiGLhdwEQj6IQ7gIgidof7AIggVvudgEQpjZHb8/HCkWg+PZ8LEfx2PX2fFyColN+ez7WOValt+djlSJnXxtnRtEKXhtnIYpQ/No4axSV6LVxVjgS/rVx5tR6+bsMpxGj1qtArVchar2qvvWqUetV4Narwq1XxbZeObW+/5H4U0+o5RlTuzOOWp013+asUIsz5vZmzq3N3LY1U9vSq76VH/TIvtV7ha0DFLzVe0WtAmrf6r0yrQFGb/VeQSuA2Ld6N2jzo/rbVxvTkf5oqyC7UFdBfyMrHdmN4gkFe8ETd9vAE7U7wBMKf+wqKbQtPDH7s1YJ2U3fG5Te/337Vg7lORAwCQIw+0QIBHwOBFie/gDTxzkA9ZVTgPmdU0DyOEeZvTfaEvOG8wbRZ5qgwfpLsMgKDcbnCsdA8YdgobT84qki/V1TZVEU5BHBsfTe5rnAkeTuxD70TIgeJW5Ya0/bBhFoS61t4+5tg+7lm3iUop6XG3ZkQS/zi9Mb5u+MN3Rpmr300VkGT3oTd493E7XPdBMKXwxPCj3iTSzojKV5mDvsPXTbhiF6KKA8HgHZn91VjsmpVJJQkSahMqkusL66QOT3dgWlp8zSHn20rMiml3LMLqWSXIo4t1TR1FImmaVIEkvQSOaBIRohIDt3DZ0NAndz1xBNEBDNXUNjgcDM3DVEA1SUR8ARkK3/ad+kZ15v5Ege9CmSB62AzAM/5W6Dx5CtDwrbDR5D43zA9DGpMDE+LaYPRIeVewo6rPyjz2FvfB/kFOJ7gGx3KsfuVCrdqYjyEhTtaGU5LwFJrwoSv9NORLvTzl7aI2t3w4LdDUO7G3q7GxbtbhjY3TCwu2Fod2t75Gu9drWrjUvW3iVr75J1wSXr0CVr75J14JJ14JK1c8nau2Tdu+SBtEdcElDwa5g1uSRQ+7uXdeCSoNAvXNbokoDsb1nWFX5RVlfu27G6cl+J1c4lgbsvv+rKfeNVV/5rrrry323VFX+hVVfuW6waXBIJfl9VV2aRWFd+kVhXfpFYO6M8Vu7WiDUbJZ7FrhHryq8R6ypYI9aV+xqprnCNWFdujVhXfo1YV2aNWFd+jVg7s0TBrxHryq8R68AvUeI1Yl35NWJd+TVi7T2zJs/U4CztkU/nZSF3l2HuLn3usmeCEmT1Msjqpc1qfEzfN889pmdOXhg/pmfRu6J7TM+c/dE/pmfBOqV7TE8cPNNtNmMeuWe02Ywl8tHSZjOW2VHdZjPm5K2Zj3xPs8sKJ6sVHuWsiD5xRaLsFc6JKgJnqwhxyrIbZ07jUrHx5YxxrAtjgxKBbVqFwKtF9IatUuDaIpJ1C2f/FsGZeFbYyTMHOxdEni6cjT0LbXA9Z/EihD4vamD2orHji1CwfdGd94vCE4AIPAtkgaeCzIP5IEvLABWGYDg9iFgeajxRCI9nC5FLI9HNGyLYkUjf5PUxib7JCySaRYrf5AW6n0uib/ICiWeU8Ju8QLPzSvRNnpdgdkFKEwxK0RyDup9mUKWZBqV4ssESPN+gRlMOSjTrgDQKs4TnHpRo+kEpGhao+5GBKg0OlHgAoMZjALXiMOA5CSSyB6OYmQkUtCDE7K6o8RRltGCWQt1PVEYN5irUabpCiWcs1NykBSLPWyDB1IWUZi+UeAIDrY0v76Yx1MKZDAsEkxnKPJ+hVpjSsIib1VDkiQ01nttA4+kNpGCGA3UZ0/JwD6c61HeOaZ7wUIrnPCyxY9S7mQ81M+qvO3Jd5a/srjF4h4L0D3RcYzgABX+K45qaD9T+0Y3roLmg0J/XuDbNA2b+kMZ4M+ikWZujB3sUfWE5lmWmRw8BCs8hW1M8eghQfI78183NWQQ+hDA809aStz/4f3M9zb/5v33B06hWakxaZKNGlFuACF+XAg7Jh1RtGHF+0QaQvEQBTF4tUHZb8R+825DuMtNmPk/PxgU2pgj84UtB9m9WCqbf/tmw2yq/Pn+bHVi01p+Z/Fa5/V2i28g+VRFjVKR/tTQj+gt0t9TV2+njoQ/HNjgPGA5A9hcKHtwkDNx9cf/A8QRsv89/MHMsMPod9wcT6Acf6IdCoB94PlNqw/9QDP+DnbSU2S558F1iRygGvfDOf6xSV+x65z8u4jtoxzv/cQnqttI7/7HMnenfvw/jxV286/37uIjv+ML797Eap0Pp/ftYpiQpvH+/VTeO9yLz8FP2YEDZgxGZM4KQf3lQUdsfbb/t3Rxt3gg/kCMN5OZobY9sZyTkwttilfurZASXyujVf3AdILqycH95Mx9BHQyHihj+WjjPusSpXlb0lYNJEaoGFCoG9DU8wzqmVCWUfIXyxAu1yQiqktGr/+A6QFQD4f7y9LYo1IIUqAwpr8WzrcsK1ZBlX1FZjUAVhUHlhL0Gn11HjKqigq9E/g1YqENGUIWMXv0H1wGi60d/5qmX0Ez6y2cEl8/o1X9wHSC6vHB3+byuKSxrrWy1hKbN7SLL2//3N4r4gepG2mbxePtH7yPNXDA45Sz+mGyRijR5DhJpdsnvS8zjeszt80yr5QuGWr7diFVTnajE82hcuKxugLI42gFmSmgKdtGV9f97IbII7hF/j0KYi/MvLBB2xcM9n6FIH+1js/37SseG2Bd5BMtfV7I42LcmGi79rGJ3qgmm3WfC6UUi4Wa/mVB5w9bgzW9zbd/azGToSO2J5K7F+MwvKS/QAdsLv/Sr7m26vOBSG5AdcC9uUQ3cvZn3wstnwPaFvRezUAamd5jCWnvk69wWKtiGFWx9TdzaVpWgjq19dfDFLF0FSX5vg9/NC5Xemacja/gJ2VfLEwoW9om7aSFRu4RPiJbkidF9fGLmN3wTsevxlUuoVYWPElaVe5SwMgkFKG5TE7YpeBaxMgmlKGgqP7JYmYRa+YRaFRJqFSbUyifUqphQqyChVj6hVj6hVj6hXk3wX33wX33wXwvBfw2D/xoH/9UH/zUI/msQ/LVLobVv2JqnKMJcPPgKxiv4oT/++/9jjgIE"'),TimesItalicCompressed=JSON.parse('"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"'),TimesRomanCompressed=JSON.parse('"eJyFnVtzG0mOhf+Kgk+7Ee5ZSdbN/aa+ebzuMdvupmjORD9QUlnmmmJpSMoSZ2L++9YNwMEBkn5xuL6TdUkkgLxUFvXv0Y/1/X212o6+H1397XEzv6sOTl6+Onx1cHry6uXJ6MXol3q1fTe/r5oCfyzuq813H+r7+aoVHpdLFA5UmN8vljuUGjitFnef27tIqTfb+XJxc7m6WzbFDpvjzS+L5+r2t8X25vPo++36sXox+vHzfD2/2Vbr36v21J+ft9XqtrrVGzWP9sMP9fPo+398d3R28eK746OLF0eHh4cvLl5d/PliNGkKr5eLVfVbvVlsF/Vq9P13jQzCH58XN19W1WYz+v604VfVetMVGx0eHv+luVBzk3f1dnHT1uTH+mG3bitx8F83/31w9Ori9EX773n376v231eH3b8vu3/PDy5v6+vq4PfdZlvdbw7erG7q9UO9nm+r278cHFwulwcf2qs1dqs21fprQ3szLjYH84Pten5b3c/XXw7qTwe/Llb1dvdQfffXqjnr8vXBfHX7P/X6YNGcvHm83ixuF/P1otr8pXncn5vb3C5Wd7/ffK66Buie4vdtc8p8fStqU/DH+cNfhzY5Ozt+MfooRyetJS43N62p14148fLF6KdKjxsjn78Y/b69/et09P3xRfffq+a/Fyd9e/2t2q4XN41B//Hv0fRjU6S93LvmQTYP88aO/3nR45cvX/a4er5Zzu+Vnxxe9Pyfj3VjqeulKqeHw4VWj/fXbUPdraJ2Wy+X87XyC7nLQ7W+ab1chPPz4Tbz+0baNNaJT9Y9QdfiUXuYr6vVsvpUkvxp+njzTXvFzRdTzk6Gs5aPG6Vqs5smOOfxFp93D5+rVSzeVGVRW02OpZKb5XzzOT7Nv6p1HWm9qiLcPiUlt5/XVVL2U/24Tujia1J2s3hOYPW1Stq2ym26WsADa5Vv6mW9SixR3S+8pC2wbNNAoNU/H+fLiO/WVRPIVs2TkxNxmmrTpRpRXh0fDW0P3nd83LNLRWdn5z36IaIf44k/Wamj4fo/21OenvXol3ji64j+Gh3sjaEmtXXof+OJb+ND/GqhJyf+LZ74LqJxfPrfYqn30Tgf4om/x+f6I15rEtGVtZq05zSW+hjRLN7x79Gq101n9qXaurShnnndaD5O+TyfU07OXklOuVksbhbrm0fLohocj23S3jQ9T5J5u/zmHka9eB6vdB1L3ST5N5ZK7vwpnngX0edopEVE/xdP/BJLWQhr5k+slSSdJO09RPTPWEfLDRpCm/hcST57jOhr9LinWCrJpLvYHP8ydHFo/uUd4VhbHTpTX556uJMj8MbtYnlb7Opv66fEzq53tp5g243TzDmOJOw/tQNDzLNW56zv+LSs14uEb6rCVW4e1003fmMGPJLad2GzWXQD1yT996MWZ01z8sdFo9zX23zk0Mrdhb8hk+kl7X1aJCwZPzUDuXQ4cDu/u6uSnrvnOBSjAUfbdtW6gtg/tbHQ/G49f4CkJqdeN9OHKqmlmfd6vtlj4f1qYfylDeD1bs7Q22a5XDxsFptEauq6/Vw/urFi6Padc1vLredfk3iY3zxuE9zn8k/L6jlqhci6n9+s6+TG1+squ/FtvZ3fuIgzadG0JBrAEhrGoT1sdduYNBujPq7u5uvH++X8MblNfdcMM78kl5tjPaBd7p3P6uDi0kY9x+eDz9fr20/NMM+NC22A4vtYG394rjcY2w1eHh3qDe6bPPe4dHeQzDRPRqO3bchvNkn3tSyMzevCc9bJILqJzmZC3Hh90mpvQoNax+z9zzp/7zXWMaVNapfzbWdjo/AEOoq+XXxdgDvbKf7JbLichIY9duGkSXKSdRYUg9pVdzMvChKoaryk3c8FiuFyQ8wpGuwc/3TWEnSCzQHCTWzG0GQImIL4KSZV9PxMxWHNI7kV5RwbFXo/sFrmdnmXPYCFR8lHfUq1cX52NZtIla7m0yqYMyZK8xBXTeCUEW3wSnc/H+6yrP9Vre6STPKhEFGvs0qac+wNkn2ee1nqRtaFJr3hutrsJ1pOxyR/fK7XSa3GdHczA0WBTvOIX0iyLZhtQjcwi/muzS1vbB67Mc46eV7vgmbFEqe0Kknw/nG5XTwsd8lz+QqCk/vmkI6vGW1tF/Pl7eJTMsHalVPDO38fc9jEWSw29rrZnl6nLN0U0t2qlAapQSGnzFM/fkMXwsW3ZsCAK3A6AVrXX6oVToM0Oa6ru8XGD3wtRAsjrzcxLs50LvLYRLWbjZixCyPIdcEyNceSxmXBpf7uLXZ68kpGrt06l18F01r+vLURiiXZYgJcZnnr5fHgvdtCkqmKvWNJuCwNH/Z4pTewzZZLoVG697jUIqWuh3Ou9iOlO5fjeLx3WMI9powLquU2We7ZuiRtOfGp3pMR40hPzrt/TGrin8hMlY4zLRbI9DZP9SOc81PM440DrxtHhkfTbiRMYaRtloWO5G06yNAZhm+4V7JuoK90spxYnpC9KYT+m1KI/0pPLWZojPZ5voSeQWK8nZnQMrc2xb6x88qPmszTvtF+hUioSt3znc+lWKGhVbNG9fnMeDbcVQfOZzjqYE2WyF541BRalgnn+XiDks2pZvPbxU2WZ38q9GfrvbV559vHHpdGuzbc3OvWe+91WfCFy2KOzmcDY38dy8NJv2kjkUJvX0oUX9Lxs47H3EDArrY3FPwj2PLu3jst67u2vVd1Moqvy7n0MUoSys2lCpF8t3fOUEFHbjYvuO8q7cbh9WHoISzll2L858f2VeSfL0Zvq/Xqt/li3b5A/sfosn1RPXrx3cnhny+Goz57ONQ/p0dDTkf42h/1WcUhrBgK4+bo9FSP5BEAgXM4rk3laB//DrnM45TBZI71i0MO9YGD6L07+qM5Ojo60kMxmmOu/qBM3KUm0QCTggEmqQEm0QCTogEmiQFk6OdYl1GQXLWVeKmH0+bwlbbprBUPVZxJnZDBwwOGfQHOSF+bw/MTOXpq73YsRzt/JDcDBPca6FAIA0ARRYFyCgXjHA+ivE4QRYbyNDxEhRhRRH6iPHMWFaPHqERuozz3HZXZgVSgMFJOsST8fUQYVco4tExI40vkSbw8R5ryfRZMYk6lggUL0adyyYIhDlXwwSgYI1IYhKUgjE1lHKAqJFEqWhqqIkK8CoKgFbRLEIWv8hjDQyhhDCuiGFZOMWycY1iU1wmiGFaexrCoEMOKyAOVZx6oYvRAlcgDleceqDJ7oAoUw8ophoW/jwhjWBnHsAlpDIs8iZfnGFa+z4JJDKtUsGAhhlUuWTDEsAo+hgVjDAuDGBaEMayMY1iFJIZFS2NYRIhhQRDDgnYJohhWHmMY2wkD2XOKZi9SSJPIce3k1yVOEe7FNMxdEYh1z8ldvZj5rC8RHdfr5L1ezF3Yl2E/9iqlAy9STnDi+wLH7OAFThGkpnnClZkUbskZw4vfbIIkd3h9XxMUsogvs7cJQj7xqk8qTsPM4gRIL45jjvECJxqvJtnGFUhTjisBecdxSD6O70qc0pAXYy4ygpkIKeUhlCgLOYlzEIivc0r5B6U0+0AByD1Iye1Rypwe9ejyqJLDo5S7O5ZgZ0eNsg1KlGtAep9SzDOIOcs4Lc0xUGKS3orzC0rfMHSSW1AtG7qQV7DEHkOHnIKazyigYD4BDNkEKOYSxJxJUEvyCMhpFgEdcghQyCBAdzml7IFSzB1D42DiUERZQzmlDOOcL0R5nSDKFMrTNCEq5AhF5LfKM6dVMXqsSuSuynNfVZkdVQVKB8opFwh/HxFmAWWcAkxI41/kSbw8R77yfRZMYl6lggUL0a5yyYIhzlXwQS4YI1wYhLcgjG1lHNgqJFEtWhrSIkI8C4JgFrRLEIWx8hjDYjgMYmMUxSZQGIPAcazS64xRJJuQhrLKEMvGyBVNyHzR1OiMppE3mpC7o+nsj6ZQSJtAMa3C+4RhVBvksAYljWvVJ8ktOLJN2GvOJLZNK5mzEN2mF80Z4tsUH+DKMcIVQogrwxg3yEFuShLlKqZhrirEuTIIdGW7jFGomxBjXWyFsW6MYt0EinUQONZVep0xinUT0lhXGWLdGDmnCZlzmhqd0zRyThNy5zSdndMUinUTKNZVeJ8wjHWDHOugpLGu+iS5Bce6CXvNmcS6aSVzFmLd9KI5Q6yb4mNdOca6Qoh1ZRjrBjnWTUliXcU01lWFWFfWxvopheguY9pMLGBD9Np6+CjbAkoIxblginLFHOOD8DoSim/BaXQPIsS2EHJFwZkjihbdUBRyQsG5C4rKDiicolkwxfKA3weCcSyIo1h5GsODOgmX5vgVvMdoSeyKkhutELeiFowWYla4j9iBYrwOCKJ1IBirgjhShSdxOkhplA4axOhAoDceyC4S6okFx3548BgMTkUUncopPI1zfIryOkEUocrTEBUVYlQR+ZvyzOFUjB6nErmc8tznVGanU4FCVTnFqvD3EWG0KuNwNSGNV5En8fIcscr3WTCJWZUKFixErcolC4a4VcEHrmCMXGEQuoIwdpVx8KqQRK9oafiKCPErCAJY0C5BFMLKQwz/0NDL5qivcnck5wKSeAPk2hc43AGotCogbTFg2ljAhnYCIs5vaNJZVo+sIRS5xwXumkapPC4g8j9QtCLAtCLAhor05KfB7id25DPmT2h3QK4iwKEiQKUigPRxgenjAhseF4jY3dCVO2rj5KUezTS4fsLgABSywLCb11lGEZlHOdlIeWYoFaO1VCKTKWe7qcDGU8FbUDGZUfhVRGBQQbNoLDat8sS+3XcA3r6C2L7C2b7CU/uKmNhXJLav8GBfEYJ9RSD7Cmb7DvwqIrTvgGbRWMG+woN9fxlM2+fsX9CqgMSggJwtgcMdgIoFAanxgKndgA0mAyLWMtSOwY60PnNNpoakBoB8fjWO+dWo5ldDlkWNWRY1JlnUiNTAUP/jUC++uzgUUju9jnWqCxWo0wrUsQI1dxCmJFWrZWAHKNZj+NUqqcj/Du51ZkdSEUDSOIBc3YBD3YBK3QBpDYBp4wAbGgeIVKpHb0f9MPylHelow5AfWhjHoYVRHVoYoqYAxQYdxqQpAOkIQ1F7dHyqR/LUgGRMjQgrAhwqglQ/5HBY6gdIawFMm8NYrWOkt+j0gJJB3FtyeqB+EPc2cXpQaHj3Fp0ekB/LtehRQ6A78qHaoSRUOx5CtaM+VDuUhmqnUKh2jLJQx1wWasnOWX4X/WMXG91NtjAuSKAQITWLFioSA4cKUAyRmocTFeLIIpmCjFSKN69WJYtxFJJKAclqEptU5FstlkUslaDgJZXjmGQOaS9DdJNAgU5qFvNUJIY/FaBMQGqeFKgQ5weSKVWQSlnDq5BASKBcQmqWVqhIzDBUgJINqXneoUKcgkjmbESyT0xe3JVcidMVqSEOfh3160r9EkJ3JMGGyK0lmdAtsRweyuFUB5+/jmRhRUVYUzHm5uyK3UqK3a17/6BPvfNj+V+pegPFb1iGK4VPWALPauu+7hgeFb/uGOrtv+7wxYIF8q87vJbZAj/boHqyVbLPNgZJJpfZHUTbxeJ8B+XJHZzzQROQQA3BatYcvgw2ilegabwwK54SmonkpLF8idSgIXxTGwXjFsN3KDAkVzSuIjKr8cygoqIphYERBc2SYsFwKiQmEy0zlmi7WE82kPJgmncjXA7tjnxv2iG/HNqhpFfteOhKO+r7zw5Rf9gxWg7tmFsO7YjvDN9J8F4miOqinCqkPKuVirFqKlH9lHMlVeCaquCrq5jqjOuGjKjOYd2QeVbnbN2QJapzXDdkgevM64aMuc4uyi+LAtffq2wFr6a28EUSi/gCbBevBut4OdjIy2QpL5K95B3IZYLIRsrJOsozu6gYLaIS2UI5W0EFrr8KvuaKfZ3HrrrjWNNxrOS4UL9xWrVxrNU4qdA4qcs4VGOc16DtpfqF2zF2UIiS177joVs61aOpu+pHV3LmStqKryHsKnoaE+24kGjHhUQ73pdox+VEOy4k2nEp0Y5LiXacJ9pxIdEqhzYJI+PAs9bBkTHZcxpv9zGeOIsncrNlI+VBcl8TQQN6Tq3oRWpKL2bt6UvERvU6tawXuXm9ym3sVd/QXqPWDp/7nSTW43bf97FfVuSq0CrTwnN8LFxnVrgOe0Xxg7dBh09FwDGQklugRE6BUuYSqEeHQJXcASV2BtTYFVDzjoAKuQF9i3US7MQuUP4SKxa4Si0/Te/+Mb3CLL0CN3vh66RBlQ8LoMUVUXMrp7ZWnjW0irGVVaImVs7tqwI3rgq+ZRVTs+KXNSfeDNyghe9qSL2K9pzG232MJ87iidx82Tcog+RX1bAJWaGWZJkalOWsXblMbF4uQa3MMjc269zmrPumZ5U8gGRwBFbIH4KcuQUVuiq22LT4RB+LV5sVr8aew3J0IP3UAFzHGDmNCeQuJmSOYmp0EdPIOUxgtzCFHcIU7wrGyQnctzgnZBFu+NKXOCxfJdadJvf8mJw7S87lRk2/Vhk0Wd2B1lREjamc2lJ51pQqxpZUiRpSObejCtyMKvhWVEyNiCt6J94M3ISFFT1Sr6I9p/F2H+OJs3giN162wjdIcZI+LkzSx4VJ+njfJH1cnqSPC5P0cWmSPi5N0sf5JH1cmqTjTt0TbwZuu8I+XVKvoj2n8XYf44mzeCK3XbantZd+G5qtX479DVsMkDQWINdOwMNe1d+wdQBpwwDTNgE2NAcQaQlDtvmpO/JvDDvkNz91KHlz2PHwurCj/h1hh+idX8foRV/H3Nu9jvhNQy2SzU/DZuIW6T6igb0f4ZbZ7shvme1QsmW242HLbEf9ltkOpVtmO4W2zHaMtsx2zG2Z/TDqN0mc2JHfs9ihZFtix8OOxI76zYgdoqcGhXYodkzeUwPy+w8/DJF9ZkcS1IhcPJswcdeZxPpOCvWdpPWdxPpyK4GS1HdCmzE/QCsZaRPQhR61uad/u/JhyDFndqQb2AzhrrSeykIOtL4iMonyzC4qRuOoRBZSnptJZbaVCuQgyslLcGHtjBD5S2FhjdRJvDa7j/J9tkocSaWCrQoupXLJVsG5VPAehmuHFx6Br+FCIfkRe122UDhI8vYFXE8RmVN5Zk4VozlVInMqz82pMptTBXI95eR6wsH1FJHrGc9cT9RJvDa7nvJ9tkpcT6WCrQqup3LJVsH1VPCuh5v1LzwC18PN+uRH7HrZZn2RwvZAeYh8e2CupgYubg/MC7Cx924PzAsFw+fbA3OVHTbsEDlLBXbefTtE0jKT0j2DO3v12zbPXNsX2Gvzkpv7QvttHl3ey+T4YevMRSZgEISdM6lfh4Ao7pvpC/wxGqYZL/VIpxmGdJphyE8zjOM0w6hOMwzZNMOYTTOMyTTDiE4zFLXRfHShRzr6NuRH38Zx9G1UR9+GePRtio2+jen3CIZ0aqHIvqnojuSpAYndAbmKAA8R0FHv9h0iN+6Y2h0uONgdiM8bLer/wrVMWXvST5f6rUotac84V103GQOSxILIfcFjPGy97ilsHIbC+mGPIdpW3TH7sEfZ8HfPZSbbosVIpvzdkV896RCtW7SsdgasYwvXhebEPcNApUaAyC9B0boCE78EJK1qSOe31ohrV611rP1aGhGR6xJMsL+NLtmtpe0+4xM70i7BkO8HjKPrG1XXN8Rp3hQLCmOW0I1JFlfy5Cy380exvXexXXGz1ZDRwmYr5pSP881WLMbMHDZbMeccHTdbseCzddhsRRzydpgGMM8yeDYNYIlyeWkawDJn9TANYE75Xfg8tjRneuWU7pVnSULFmPhVouyvnLsAFbgfUMF3BoqpRxBO3YJh1zcIhhStiHoJ5dRVGI9f7ZgYOw2TYs+hGnUfyrkPUYE7EhG4NxEOXYoiyqzKuXMRoY6twt2M8n1ulHQ4KlGvozzvelTm/kcF6oSUU08knLsj4etoDe6YlFPvZDzrokRN+imRoLNSRD2W8qzbUjH2XSpRB6Y878VU5q5MBe7PVPCdmuCn2BK7BBWcLevowg5b6Q3yHba5yl3fnh22eZGkG8x32OZq6BILO2xzmbrHfIdtqmJXmS9Y5GrabRYXLPIC3IXuXbDIC4XuNF+wyFXuWp06L3lY6Ga9yp2tV9Nc6YskHa8vwN2vV0Mn7OXQFXuZOmQvcrfsVO6cSfRdtP+CEro2L3B37VXutEnNum5fJOnAqUDSjfsS/pNcVu33HlI5dOxODt27U7GT9wL3VV4NHb7/ZLPU9qHz9+q33TobCPgCPBzwamFQ4AuFoYGXeYDgVR4mODUMFpy6LtkzDBy8ysMHUtNBhCuTDSVcARxQeIGHFV5NBxe+SDLE8AV4oOHVwnDDFwqDDi+HoYeXaQDixKdSS++Kwt4QiAOTyTAaObEjvx49wXEHoGRdekIjDKC+N5i4sQQwWkaewKgBiM/wsn6O1QjfTjCnCuXfTrAYqxa+nWDOlYzfTrDgqxu+nRh4+OYg5VT7/JuDVMzsUPzmINXJIoVvDlKVbZN+c5BqZCXafp9QslC2/T6RMusUtt8nKlkm3X6faGyVZPt9opBFcG86I7JF2JvOPLNCtjedJap/3JvOAtec96Yzpjone7oLClmgtKe7IGf22LOnu1CCrFPc013Q2VaFPd0FlSznNjMHRtaKm5mDkFko3cwcNLJKspk5KGyJsJk5cKq9/pL0Zcao9iZQ7U3Iam9qrL1pVHsTuPamcO1N8bU3TrUffqn3MhKquWCqt+Cs1qLFOotCNRbM9RXOtRXu6yrU1/RqqOXwS61XWEVkulcTmF9fAAFXFQDrWgIwWxwAaBsYAcoORkC6OGCs/Y3jIzvyW0w75IfsJoydTWgvSIeSxux4aMiO+kbsULrXoFOoaTvmd3J0KLYd7E/tDrXtgKkRgPm3rMbxdxKN6nq4IZs3G7N2gztJuwHSX0pUJBOkfurWk2Hz7fErQVSHKqmrLTgAyqtapVV16wl44WiCKjFBlZlAVwmGH99oWbs2cGZHunXDkP9ZLeP4G0JG9eexDNlvYhmjnxpsWe2NbL/oCMxHOgg4ozKqywSGeKUQrmErAsZ0URDK6eRfke3GtmI43TZvaufY5xrqOrEG5L3EOHqJUfUGQ1RDUMxPjNm6kjH5SdGOTCUx9603dYkZmAY3MGouEzAxA9bEDMwSM0DzboAS4IA0MRvrFrHtyO+Sn4b0Cjzskp9iegWU7pKfuvQKTF3MkD62Ilthno7CsvJ0FNaSpyG3Ag/LD1PMrYBojWw6iovC0xGvBE8xsxqSWHh5bqTPrP2a5XRIrHZGFWupaRVRXssq9IZTTqtQ2HeSU5dVgSWV16R6puGycCctfA8+denPWO2uWse6ZwunU859RmNz5uui01FcDJ2OwgrodBSWPaeY+awRMfFZY7eJ71RP08QHyP95AePhs6QpJj5A/PcETLE/JWDM/oqAMfkDAkraBb7zl3qk6doQpuWOzny+nCX5cpbky1kpX87yfDlL8uUsy5ezLF/OYr6cJflyNsIfMZ1hvgSUvD2ZUb4E6t+CzJJ8CQrtc5hhvgTkf2x0NuTLYZQzw4SJTFsAGOV+E3DXqlH/w8ozlzOBwYdQBvVLKEP+p5VnkDX78JqNwnh0NqRNuEyVVFYTp2OFylZpZf2IFEpHI1SJEarMCDYi7UepsyF79u8nZpg9AdEfAJkN2fPoSK9rg0dgvrogYAwb9XtvZkkCxWvQ67sZZlAsp1MORTx4nFEOtaZ/9IZ6pHnHLGRRFMIsY4ZpFFCopEk00Zi5PIoF/VxrpuvnkFrCy4EgcIbMXw8ENcmV4QVBEELWjK8IgkL5M7wkYAEyafjWjXmWU7Nv3Vii7Fr61o1lzrPhWzfmlHGFY9pVxulIBU7AKqSJSdWYnVSiVKSc85EKISmpQulZOeVo4RSthn22Fp5VO+RtFTh5m7DPUEkaNynJ5SoWrBiyugpFK4b8LgIkeUWU6ZVzuhcBc74yTvwqpNlf1dgFqET9gPJCZ6A69wgqcLegAvUNwkMHIULSS4j0mNg89BcqpJ2GqrHnUIm6D+WFPkR17khUCL2JKtSl0EtFybXZW8VM476l+F4xK5D0MNmbxUwL/Uz6bjETqbfJ3i4mGvQ5SKnbQSnreVCPnQ+q1P+glHdBWIJ7IdSoI0KJ+iKQsDtCzIkWNe6UUEvTLRaIGRdVyqsocWpFLWRXFKmbQslWkYJGWcMpvsMCqXCt0G2hxj2X075hzaT/cmrShaFetnboyFDbZ+3QnYEGPRpS6tRQ4n4NNOzaEHPvhlrawWGB2MehSt0cSoWeDotwZ4ca93eoUZcHUuj1QEs6PlAf8wYK3R9qaQ+IBWIniCr1gygVukIswr0haqFDRNH3iU3Ydn9fsu8F2qN241r/YlFSHhYQBKWG5IelBEEpt9sHijoO5eGRoTRQKCvbR6CgICiluwWgmDIo5/629VDO/W3roRz8dd2hFPx13aEM/gnPoRD+Cc++1DV6br+4ez245LEdiScCSt6yXZPfAfVv2a4TPwOF3r9dO7cCNniTka9arZtRvxYKRxpNhnBc1FNxsV2C6ALK41Xw2w9GdJXs2w+R5M8Ru+sY5CuZEq/Vd5L9Hy24vV7K3y3os5hTvdRW0H7uqTvyOwM6lO0MUM/Toyd39OxK7vyRr1puZenG8fkU0UMqT5/UpRqPniJ6jifuEkRVKHuLDDmwHoqoHsrTeogK9cAPkwg9xxN3CaJ6lP3VDY9cZRznGjkxr1bI3gl/KvDnwnV2Jc71dWKsNHQKdzmlCqOUVpc7n0CfUvqcXmGXU6okSkkVbdzq6oiYK4laXksogdUE/JTj5/wiuwLmqqIW6ypd912CqI7K0/q5YYFHTxE9xxN3CaK6KI/10LHFXcaoJiakVfFjF2JPCXtOzt1ljOpjQqyQDoLuMkYVMiGtkB9kEXtK2HNy7i5jVCETQoU+jWS2r0d+Z0eHbG6vKNns0fGw2aOjfrNHh2hLR8fohw875n74sCN+l0eLmmhaVptNN5VU+Ekt2B4tdITWHfmR5CcadfQTy7vBNnagk1IlYhkj/nW8Ynwbr1BfxiuxN+6KbLqrSN63KxCT9ESmHvNIfA0U+2ooTuqiWqiQKr5Wiqlqyql+yl0llfqaxs9JU+5rXfiYNBUTC5Q/JU11b43Sh6SpSpbJPyNNNWcl/VNgeuDsEf78VwsXLi0t4tB0URgOLdJxwyL2Q4skny+SlNgeWbR3Rz5DdcjWywzFDNXxkKF66lbFFPvE1SFKXB2jxNWy2h/FZ64LD1inD1jHJwnrS6Ykz1j7/XId8pnUdydJR5J3IV/il8bD9QpfGucqteC+L43zItFse740zkuQjUtfGucy+0D86jcX9poldZLyV795gb3VKnhR6avfXCbfKnz1m6q7kiOx85W/Be0LLIdRU3+XpVul61H8OnUQ5GfYDUleOtEje85kzJiPFleYNocrxbn6qjBXX5Xn6iucYg8XjpPnVWHyvCpPnlfeRHj5QqOxwLf6RqOtcHVwuJWgXSzFl1ceLlyPcB2udiPqWi5+qEc+CGu+ZE+xOYfrxgWa2rWwP5Fvk7ZwL4XudbhhYbWhjqsKyXX4/uVVhV6nvnx4hHQNoObZfrgC37w02+9VHDAM940T19rNUv2JfLt0ltpL9B0h3JIUuDMpu+LV+DlYjo/jBkbDgyQT3dpPaulcvm0+qe01SX9wP8yIxx7t4ol8s+yvyg4SxvtwL3wbcOzRLp7I90pTQCc9uAs8xHMf8tOG1xCFVWove03OWFaf5Fvdi1SQ58hV/0kCq8l2di4CdcoL+E3urNKudpZpMz/L7qMGFv1O+E7NjbXHUnvM9C0b7TfQHuvsM80+u5SN8m2LwP+HL6HQ5Ubtm7LTw4ibB5xvc22pTu6xDwuv0dJVUsIP/pzmYyTWYZ0/p/6kS6bJRCHV3MMmJboJ7mnEfruB1/SGmSZvu3LVP05S4mF+U+Wm6ax9ETG1RyzxVWveWFf3pZwoudPTuiNd2zOU3aIVdBvHsV5M39n2lZOG49u6d2QXHtEDlN6ReZUfJez5G56Hf79yeB73ruvCI3qe0rsur/LzhB9AlOdJf7JLnsqJ+Gxe4Cf0av6c+c9eHWc3pmcefLRL0ER81CjWFTWP/Vqa13D9ySu6fuaxrZx5TpuDlMtqmae6TubwH2o3Jbo6QTixtYj2t6eEdH96ypH2t+BfeSI2JQwG6pUmzLsFz37E1B3porYhaQpAfseEcdwxYVR3TBiyfRHGbF+EMdkXYUTMbUgi4EyJze66Iz/h65C2BaD4Z6c6HqaFPcWFIMP+r1F1iP4aVcfor1G1rNZQ6o78y4UOJdtUOh62qXTUb1PpULpNpVNom0rHpEsGpLZXpHHeG/9phK+CntChAPlXQU/BoYCHkfUTOhQgWlx6cg4FzL0KekKHMuQd6mmEK29Po7Dc9hQaB3hagTpWIF9CexrFdbOnUVgsexqFFbKn2DjPLjKeY2Q8x8h4LkTGcxoZz3lkPMfIeE4i4zmJjF1ojl2s2I5HDIS5eLLlNip40p//+X+DG1I7"'),SymbolCompressed="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",ZapfDingbatsCompressed="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var compressedJsonForFontName={Courier:CourierCompressed,"Courier-Bold":CourierBoldCompressed,"Courier-Oblique":CourierObliqueCompressed,"Courier-BoldOblique":CourierBoldObliqueCompressed,Helvetica:HelveticaCompressed,"Helvetica-Bold":HelveticaBoldCompressed,"Helvetica-Oblique":HelveticaObliqueCompressed,"Helvetica-BoldOblique":HelveticaBoldObliqueCompressed,"Times-Roman":TimesRomanCompressed,"Times-Bold":TimesBoldCompressed,"Times-Italic":TimesItalicCompressed,"Times-BoldItalic":TimesBoldItalicCompressed,Symbol:SymbolCompressed,ZapfDingbats:ZapfDingbatsCompressed},FontNames;(function(Ee){Ee.Courier="Courier",Ee.CourierBold="Courier-Bold",Ee.CourierOblique="Courier-Oblique",Ee.CourierBoldOblique="Courier-BoldOblique",Ee.Helvetica="Helvetica",Ee.HelveticaBold="Helvetica-Bold",Ee.HelveticaOblique="Helvetica-Oblique",Ee.HelveticaBoldOblique="Helvetica-BoldOblique",Ee.TimesRoman="Times-Roman",Ee.TimesRomanBold="Times-Bold",Ee.TimesRomanItalic="Times-Italic",Ee.TimesRomanBoldItalic="Times-BoldItalic",Ee.Symbol="Symbol",Ee.ZapfDingbats="ZapfDingbats"})(FontNames||(FontNames={}));var fontCache={},Font=function(){function Ee(){var t=this;this.getWidthOfGlyph=function(Ae){return t.CharWidths[Ae]},this.getXAxisKerningForPair=function(Ae,_e){return(t.KernPairXAmounts[Ae]||{})[_e]}}return Ee.load=function(t){var Ae=fontCache[t];if(Ae)return Ae;var _e=decompressJson(compressedJsonForFontName[t]),xe=Object.assign(new Ee,JSON.parse(_e));return xe.CharWidths=xe.CharMetrics.reduce(function(Ce,Se){return Ce[Se.N]=Se.WX,Ce},{}),xe.KernPairXAmounts=xe.KernPairs.reduce(function(Ce,Se){var Re=Se[0],Be=Se[1],Fe=Se[2];return Ce[Re]||(Ce[Re]={}),Ce[Re][Be]=Fe,Ce},{}),fontCache[t]=xe,xe},Ee}();const AllEncodingsCompressed="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";var decompressedEncodings=decompressJson(AllEncodingsCompressed),allUnicodeMappings=JSON.parse(decompressedEncodings),Encoding=function(){function Ee(t,Ae){var _e=this;this.canEncodeUnicodeCodePoint=function(xe){return xe in _e.unicodeMappings},this.encodeUnicodeCodePoint=function(xe){var Ce=_e.unicodeMappings[xe];if(!Ce){var Se=String.fromCharCode(xe),Re="0x"+padStart(xe.toString(16),4,"0"),Be=_e.name+' cannot encode "'+Se+'" ('+Re+")";throw new Error(Be)}return{code:Ce[0],name:Ce[1]}},this.name=t,this.supportedCodePoints=Object.keys(Ae).map(Number).sort(function(xe,Ce){return xe-Ce}),this.unicodeMappings=Ae}return Ee}(),Encodings={Symbol:new Encoding("Symbol",allUnicodeMappings.symbol),ZapfDingbats:new Encoding("ZapfDingbats",allUnicodeMappings.zapfdingbats),WinAnsi:new Encoding("WinAnsi",allUnicodeMappings.win1252)},values=function(Ee){return Object.keys(Ee).map(function(t){return Ee[t]})},StandardFontValues=values(FontNames),isStandardFont=function(Ee){return StandardFontValues.includes(Ee)},rectanglesAreEqual=function(Ee,t){return Ee.x===t.x&&Ee.y===t.y&&Ee.width===t.width&&Ee.height===t.height},backtick=function(Ee){return"`"+Ee+"`"},singleQuote=function(Ee){return"'"+Ee+"'"},formatValue=function(Ee){var t=typeof Ee;return t==="string"?singleQuote(Ee):t==="undefined"?backtick(Ee):Ee},createValueErrorMsg=function(Ee,t,Ae){for(var _e=new Array(Ae.length),xe=0,Ce=Ae.length;xe<Ce;xe++){var Se=Ae[xe];_e[xe]=formatValue(Se)}var Re=_e.join(" or ");return backtick(t)+" must be one of "+Re+", but was actually "+formatValue(Ee)},assertIsOneOf=function(Ee,t,Ae){Array.isArray(Ae)||(Ae=values(Ae));for(var _e=0,xe=Ae.length;_e<xe;_e++)if(Ee===Ae[_e])return;throw new TypeError(createValueErrorMsg(Ee,t,Ae))},assertIsOneOfOrUndefined=function(Ee,t,Ae){Array.isArray(Ae)||(Ae=values(Ae)),assertIsOneOf(Ee,t,Ae.concat(void 0))},assertIsSubset=function(Ee,t,Ae){Array.isArray(Ae)||(Ae=values(Ae));for(var _e=0,xe=Ee.length;_e<xe;_e++)assertIsOneOf(Ee[_e],t,Ae)},getType=function(Ee){return Ee===null?"null":Ee===void 0?"undefined":typeof Ee=="string"?"string":isNaN(Ee)?"NaN":typeof Ee=="number"?"number":typeof Ee=="boolean"?"boolean":typeof Ee=="symbol"?"symbol":typeof Ee=="bigint"?"bigint":Ee.constructor&&Ee.constructor.name?Ee.constructor.name:Ee.name?Ee.name:Ee.constructor?String(Ee.constructor):String(Ee)},isType=function(Ee,t){return t==="null"?Ee===null:t==="undefined"?Ee===void 0:t==="string"?typeof Ee=="string":t==="number"?typeof Ee=="number"&&!isNaN(Ee):t==="boolean"?typeof Ee=="boolean":t==="symbol"?typeof Ee=="symbol":t==="bigint"?typeof Ee=="bigint":t===Date?Ee instanceof Date:t===Array?Ee instanceof Array:t===Uint8Array?Ee instanceof Uint8Array:t===ArrayBuffer?Ee instanceof ArrayBuffer:t===Function?Ee instanceof Function:Ee instanceof t[0]},createTypeErrorMsg=function(Ee,t,Ae){for(var _e=new Array(Ae.length),xe=0,Ce=Ae.length;xe<Ce;xe++){var Se=Ae[xe];Se==="null"&&(_e[xe]=backtick("null")),Se==="undefined"&&(_e[xe]=backtick("undefined")),Se==="string"?_e[xe]=backtick("string"):Se==="number"?_e[xe]=backtick("number"):Se==="boolean"?_e[xe]=backtick("boolean"):Se==="symbol"?_e[xe]=backtick("symbol"):Se==="bigint"?_e[xe]=backtick("bigint"):Se===Array?_e[xe]=backtick("Array"):Se===Uint8Array?_e[xe]=backtick("Uint8Array"):Se===ArrayBuffer?_e[xe]=backtick("ArrayBuffer"):_e[xe]=backtick(Se[1])}var Re=_e.join(" or ");return backtick(t)+" must be of type "+Re+", but was actually of type "+backtick(getType(Ee))},assertIs=function(Ee,t,Ae){for(var _e=0,xe=Ae.length;_e<xe;_e++)if(isType(Ee,Ae[_e]))return;throw new TypeError(createTypeErrorMsg(Ee,t,Ae))},assertOrUndefined=function(Ee,t,Ae){assertIs(Ee,t,Ae.concat("undefined"))},assertEachIs=function(Ee,t,Ae){for(var _e=0,xe=Ee.length;_e<xe;_e++)assertIs(Ee[_e],t,Ae)},assertRange=function(Ee,t,Ae,_e){if(assertIs(Ee,t,["number"]),assertIs(Ae,"min",["number"]),assertIs(_e,"max",["number"]),_e=Math.max(Ae,_e),Ee<Ae||Ee>_e)throw new Error(backtick(t)+" must be at least "+Ae+" and at most "+_e+", but was actually "+Ee)},assertRangeOrUndefined=function(Ee,t,Ae,_e){assertIs(Ee,t,["number","undefined"]),typeof Ee=="number"&&assertRange(Ee,t,Ae,_e)},assertMultiple=function(Ee,t,Ae){if(assertIs(Ee,t,["number"]),Ee%Ae!==0)throw new Error(backtick(t)+" must be a multiple of "+Ae+", but was actually "+Ee)},assertInteger=function(Ee,t){if(!Number.isInteger(Ee))throw new Error(backtick(t)+" must be an integer, but was actually "+Ee)},assertPositive=function(Ee,t){if(![1,0].includes(Math.sign(Ee)))throw new Error(backtick(t)+" must be a positive number or 0, but was actually "+Ee)},pdfDocEncodingToUnicode=new Uint16Array(256);for(var idx$2=0;idx$2<256;idx$2++)pdfDocEncodingToUnicode[idx$2]=idx$2;pdfDocEncodingToUnicode[22]=toCharCode("");pdfDocEncodingToUnicode[24]=toCharCode("˘");pdfDocEncodingToUnicode[25]=toCharCode("ˇ");pdfDocEncodingToUnicode[26]=toCharCode("ˆ");pdfDocEncodingToUnicode[27]=toCharCode("˙");pdfDocEncodingToUnicode[28]=toCharCode("˝");pdfDocEncodingToUnicode[29]=toCharCode("˛");pdfDocEncodingToUnicode[30]=toCharCode("˚");pdfDocEncodingToUnicode[31]=toCharCode("˜");pdfDocEncodingToUnicode[127]=toCharCode("�");pdfDocEncodingToUnicode[128]=toCharCode("•");pdfDocEncodingToUnicode[129]=toCharCode("†");pdfDocEncodingToUnicode[130]=toCharCode("‡");pdfDocEncodingToUnicode[131]=toCharCode("…");pdfDocEncodingToUnicode[132]=toCharCode("—");pdfDocEncodingToUnicode[133]=toCharCode("–");pdfDocEncodingToUnicode[134]=toCharCode("ƒ");pdfDocEncodingToUnicode[135]=toCharCode("⁄");pdfDocEncodingToUnicode[136]=toCharCode("‹");pdfDocEncodingToUnicode[137]=toCharCode("›");pdfDocEncodingToUnicode[138]=toCharCode("−");pdfDocEncodingToUnicode[139]=toCharCode("‰");pdfDocEncodingToUnicode[140]=toCharCode("„");pdfDocEncodingToUnicode[141]=toCharCode("“");pdfDocEncodingToUnicode[142]=toCharCode("”");pdfDocEncodingToUnicode[143]=toCharCode("‘");pdfDocEncodingToUnicode[144]=toCharCode("’");pdfDocEncodingToUnicode[145]=toCharCode("‚");pdfDocEncodingToUnicode[146]=toCharCode("™");pdfDocEncodingToUnicode[147]=toCharCode("ﬁ");pdfDocEncodingToUnicode[148]=toCharCode("ﬂ");pdfDocEncodingToUnicode[149]=toCharCode("Ł");pdfDocEncodingToUnicode[150]=toCharCode("Œ");pdfDocEncodingToUnicode[151]=toCharCode("Š");pdfDocEncodingToUnicode[152]=toCharCode("Ÿ");pdfDocEncodingToUnicode[153]=toCharCode("Ž");pdfDocEncodingToUnicode[154]=toCharCode("ı");pdfDocEncodingToUnicode[155]=toCharCode("ł");pdfDocEncodingToUnicode[156]=toCharCode("œ");pdfDocEncodingToUnicode[157]=toCharCode("š");pdfDocEncodingToUnicode[158]=toCharCode("ž");pdfDocEncodingToUnicode[159]=toCharCode("�");pdfDocEncodingToUnicode[160]=toCharCode("€");pdfDocEncodingToUnicode[173]=toCharCode("�");var pdfDocEncodingDecode=function(Ee){for(var t=new Array(Ee.length),Ae=0,_e=Ee.length;Ae<_e;Ae++)t[Ae]=pdfDocEncodingToUnicode[Ee[Ae]];return String.fromCodePoint.apply(String,t)},Cache=function(){function Ee(t){this.populate=t,this.value=void 0}return Ee.prototype.getValue=function(){return this.value},Ee.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},Ee.prototype.invalidate=function(){this.value=void 0},Ee.populatedBy=function(t){return new Ee(t)},Ee}(),MethodNotImplementedError=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=this,Ce="Method "+Ae+"."+_e+"() not implemented";return xe=Ee.call(this,Ce)||this,xe}return t}(Error),PrivateConstructorError=function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe="Cannot construct "+Ae+" - it has a private constructor";return _e=Ee.call(this,xe)||this,_e}return t}(Error),UnexpectedObjectTypeError=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=this,Ce=function(Be){var Fe,Ie;return(Fe=Be==null?void 0:Be.name)!==null&&Fe!==void 0?Fe:(Ie=Be==null?void 0:Be.constructor)===null||Ie===void 0?void 0:Ie.name},Se=Array.isArray(Ae)?Ae.map(Ce):[Ce(Ae)],Re="Expected instance of "+Se.join(" or ")+", "+("but got instance of "+(_e&&Ce(_e)));return xe=Ee.call(this,Re)||this,xe}return t}(Error),UnsupportedEncodingError=function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe=Ae+" stream encoding not supported";return _e=Ee.call(this,xe)||this,_e}return t}(Error),ReparseError=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=this,Ce="Cannot call "+Ae+"."+_e+"() more than once";return xe=Ee.call(this,Ce)||this,xe}return t}(Error);(function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe="Missing catalog (ref="+Ae+")";return _e=Ee.call(this,xe)||this,_e}return t})(Error);var MissingPageContentsEmbeddingError=function(Ee){__extends(t,Ee);function t(){var Ae=this,_e="Can't embed page with missing Contents";return Ae=Ee.call(this,_e)||this,Ae}return t}(Error),UnrecognizedStreamTypeError=function(Ee){__extends(t,Ee);function t(Ae){var _e,xe,Ce,Se=this,Re=(Ce=(xe=(_e=Ae==null?void 0:Ae.contructor)===null||_e===void 0?void 0:_e.name)!==null&&xe!==void 0?xe:Ae==null?void 0:Ae.name)!==null&&Ce!==void 0?Ce:Ae,Be="Unrecognized stream type: "+Re;return Se=Ee.call(this,Be)||this,Se}return t}(Error),PageEmbeddingMismatchedContextError=function(Ee){__extends(t,Ee);function t(){var Ae=this,_e="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return Ae=Ee.call(this,_e)||this,Ae}return t}(Error),PDFArrayIsNotRectangleError=function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe="Attempted to convert PDFArray with "+Ae+" elements to rectangle, but must have exactly 4 elements.";return _e=Ee.call(this,xe)||this,_e}return t}(Error),InvalidPDFDateStringError=function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe='Attempted to convert "'+Ae+'" to a date, but it does not match the PDF date string format.';return _e=Ee.call(this,xe)||this,_e}return t}(Error),InvalidTargetIndexError=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=this,Ce="Invalid targetIndex specified: targetIndex="+Ae+" must be less than Count="+_e;return xe=Ee.call(this,Ce)||this,xe}return t}(Error),CorruptPageTreeError=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=this,Ce="Failed to "+_e+" at targetIndex="+Ae+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return xe=Ee.call(this,Ce)||this,xe}return t}(Error),IndexOutOfBoundsError=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){var Ce=this,Se="index should be at least "+_e+" and at most "+xe+", but was actually "+Ae;return Ce=Ee.call(this,Se)||this,Ce}return t}(Error),InvalidAcroFieldValueError=function(Ee){__extends(t,Ee);function t(){var Ae=this,_e="Attempted to set invalid field value";return Ae=Ee.call(this,_e)||this,Ae}return t}(Error),MultiSelectValueError=function(Ee){__extends(t,Ee);function t(){var Ae=this,_e="Attempted to select multiple values for single-select field";return Ae=Ee.call(this,_e)||this,Ae}return t}(Error),MissingDAEntryError=function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe="No /DA (default appearance) entry found for field: "+Ae;return _e=Ee.call(this,xe)||this,_e}return t}(Error),MissingTfOperatorError=function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe="No Tf operator found for DA of field: "+Ae;return _e=Ee.call(this,xe)||this,_e}return t}(Error),NumberParsingError=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=this,Ce="Failed to parse number "+("(line:"+Ae.line+" col:"+Ae.column+" offset="+Ae.offset+'): "'+_e+'"');return xe=Ee.call(this,Ce)||this,xe}return t}(Error),PDFParsingError=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=this,Ce="Failed to parse PDF document "+("(line:"+Ae.line+" col:"+Ae.column+" offset="+Ae.offset+"): "+_e);return xe=Ee.call(this,Ce)||this,xe}return t}(Error),NextByteAssertionError=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){var Ce=this,Se="Expected next byte to be "+_e+" but it was actually "+xe;return Ce=Ee.call(this,Ae,Se)||this,Ce}return t}(PDFParsingError),PDFObjectParsingError=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=this,Ce="Failed to parse PDF object starting with the following byte: "+_e;return xe=Ee.call(this,Ae,Ce)||this,xe}return t}(PDFParsingError),PDFInvalidObjectParsingError=function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe="Failed to parse invalid PDF object";return _e=Ee.call(this,Ae,xe)||this,_e}return t}(PDFParsingError),PDFStreamParsingError=function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe="Failed to parse PDF stream";return _e=Ee.call(this,Ae,xe)||this,_e}return t}(PDFParsingError),UnbalancedParenthesisError=function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe="Failed to parse PDF literal string due to unbalanced parenthesis";return _e=Ee.call(this,Ae,xe)||this,_e}return t}(PDFParsingError),StalledParserError=function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe="Parser stalled";return _e=Ee.call(this,Ae,xe)||this,_e}return t}(PDFParsingError),MissingPDFHeaderError=function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe="No PDF header found";return _e=Ee.call(this,Ae,xe)||this,_e}return t}(PDFParsingError),MissingKeywordError=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=this,Ce="Did not find expected keyword '"+arrayAsString(_e)+"'";return xe=Ee.call(this,Ae,Ce)||this,xe}return t}(PDFParsingError),CharCodes;(function(Ee){Ee[Ee.Null=0]="Null",Ee[Ee.Backspace=8]="Backspace",Ee[Ee.Tab=9]="Tab",Ee[Ee.Newline=10]="Newline",Ee[Ee.FormFeed=12]="FormFeed",Ee[Ee.CarriageReturn=13]="CarriageReturn",Ee[Ee.Space=32]="Space",Ee[Ee.ExclamationPoint=33]="ExclamationPoint",Ee[Ee.Hash=35]="Hash",Ee[Ee.Percent=37]="Percent",Ee[Ee.LeftParen=40]="LeftParen",Ee[Ee.RightParen=41]="RightParen",Ee[Ee.Plus=43]="Plus",Ee[Ee.Minus=45]="Minus",Ee[Ee.Dash=45]="Dash",Ee[Ee.Period=46]="Period",Ee[Ee.ForwardSlash=47]="ForwardSlash",Ee[Ee.Zero=48]="Zero",Ee[Ee.One=49]="One",Ee[Ee.Two=50]="Two",Ee[Ee.Three=51]="Three",Ee[Ee.Four=52]="Four",Ee[Ee.Five=53]="Five",Ee[Ee.Six=54]="Six",Ee[Ee.Seven=55]="Seven",Ee[Ee.Eight=56]="Eight",Ee[Ee.Nine=57]="Nine",Ee[Ee.LessThan=60]="LessThan",Ee[Ee.GreaterThan=62]="GreaterThan",Ee[Ee.A=65]="A",Ee[Ee.D=68]="D",Ee[Ee.E=69]="E",Ee[Ee.F=70]="F",Ee[Ee.O=79]="O",Ee[Ee.P=80]="P",Ee[Ee.R=82]="R",Ee[Ee.LeftSquareBracket=91]="LeftSquareBracket",Ee[Ee.BackSlash=92]="BackSlash",Ee[Ee.RightSquareBracket=93]="RightSquareBracket",Ee[Ee.a=97]="a",Ee[Ee.b=98]="b",Ee[Ee.d=100]="d",Ee[Ee.e=101]="e",Ee[Ee.f=102]="f",Ee[Ee.i=105]="i",Ee[Ee.j=106]="j",Ee[Ee.l=108]="l",Ee[Ee.m=109]="m",Ee[Ee.n=110]="n",Ee[Ee.o=111]="o",Ee[Ee.r=114]="r",Ee[Ee.s=115]="s",Ee[Ee.t=116]="t",Ee[Ee.u=117]="u",Ee[Ee.x=120]="x",Ee[Ee.LeftCurly=123]="LeftCurly",Ee[Ee.RightCurly=125]="RightCurly",Ee[Ee.Tilde=126]="Tilde"})(CharCodes||(CharCodes={}));const CharCodes$1=CharCodes;var PDFHeader=function(){function Ee(t,Ae){this.major=String(t),this.minor=String(Ae)}return Ee.prototype.toString=function(){var t=charFromCode(129);return"%PDF-"+this.major+"."+this.minor+`
%`+t+t+t+t},Ee.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},Ee.prototype.copyBytesInto=function(t,Ae){var _e=Ae;return t[Ae++]=CharCodes$1.Percent,t[Ae++]=CharCodes$1.P,t[Ae++]=CharCodes$1.D,t[Ae++]=CharCodes$1.F,t[Ae++]=CharCodes$1.Dash,Ae+=copyStringIntoBuffer(this.major,t,Ae),t[Ae++]=CharCodes$1.Period,Ae+=copyStringIntoBuffer(this.minor,t,Ae),t[Ae++]=CharCodes$1.Newline,t[Ae++]=CharCodes$1.Percent,t[Ae++]=129,t[Ae++]=129,t[Ae++]=129,t[Ae++]=129,Ae-_e},Ee.forVersion=function(t,Ae){return new Ee(t,Ae)},Ee}(),PDFObject=function(){function Ee(){}return Ee.prototype.clone=function(t){throw new MethodNotImplementedError(this.constructor.name,"clone")},Ee.prototype.toString=function(){throw new MethodNotImplementedError(this.constructor.name,"toString")},Ee.prototype.sizeInBytes=function(){throw new MethodNotImplementedError(this.constructor.name,"sizeInBytes")},Ee.prototype.copyBytesInto=function(t,Ae){throw new MethodNotImplementedError(this.constructor.name,"copyBytesInto")},Ee}(),PDFNumber=function(Ee){__extends(t,Ee);function t(Ae){var _e=Ee.call(this)||this;return _e.numberValue=Ae,_e.stringValue=numberToString(Ae),_e}return t.prototype.asNumber=function(){return this.numberValue},t.prototype.value=function(){return this.numberValue},t.prototype.clone=function(){return t.of(this.numberValue)},t.prototype.toString=function(){return this.stringValue},t.prototype.sizeInBytes=function(){return this.stringValue.length},t.prototype.copyBytesInto=function(Ae,_e){return _e+=copyStringIntoBuffer(this.stringValue,Ae,_e),this.stringValue.length},t.of=function(Ae){return new t(Ae)},t}(PDFObject),PDFArray=function(Ee){__extends(t,Ee);function t(Ae){var _e=Ee.call(this)||this;return _e.array=[],_e.context=Ae,_e}return t.prototype.size=function(){return this.array.length},t.prototype.push=function(Ae){this.array.push(Ae)},t.prototype.insert=function(Ae,_e){this.array.splice(Ae,0,_e)},t.prototype.indexOf=function(Ae){var _e=this.array.indexOf(Ae);return _e===-1?void 0:_e},t.prototype.remove=function(Ae){this.array.splice(Ae,1)},t.prototype.set=function(Ae,_e){this.array[Ae]=_e},t.prototype.get=function(Ae){return this.array[Ae]},t.prototype.lookupMaybe=function(Ae){for(var _e,xe=[],Ce=1;Ce<arguments.length;Ce++)xe[Ce-1]=arguments[Ce];return(_e=this.context).lookupMaybe.apply(_e,__spreadArrays([this.get(Ae)],xe))},t.prototype.lookup=function(Ae){for(var _e,xe=[],Ce=1;Ce<arguments.length;Ce++)xe[Ce-1]=arguments[Ce];return(_e=this.context).lookup.apply(_e,__spreadArrays([this.get(Ae)],xe))},t.prototype.asRectangle=function(){if(this.size()!==4)throw new PDFArrayIsNotRectangleError(this.size());var Ae=this.lookup(0,PDFNumber).asNumber(),_e=this.lookup(1,PDFNumber).asNumber(),xe=this.lookup(2,PDFNumber).asNumber(),Ce=this.lookup(3,PDFNumber).asNumber(),Se=Ae,Re=_e,Be=xe-Ae,Fe=Ce-_e;return{x:Se,y:Re,width:Be,height:Fe}},t.prototype.asArray=function(){return this.array.slice()},t.prototype.clone=function(Ae){for(var _e=t.withContext(Ae||this.context),xe=0,Ce=this.size();xe<Ce;xe++)_e.push(this.array[xe]);return _e},t.prototype.toString=function(){for(var Ae="[ ",_e=0,xe=this.size();_e<xe;_e++)Ae+=this.get(_e).toString(),Ae+=" ";return Ae+="]",Ae},t.prototype.sizeInBytes=function(){for(var Ae=3,_e=0,xe=this.size();_e<xe;_e++)Ae+=this.get(_e).sizeInBytes()+1;return Ae},t.prototype.copyBytesInto=function(Ae,_e){var xe=_e;Ae[_e++]=CharCodes$1.LeftSquareBracket,Ae[_e++]=CharCodes$1.Space;for(var Ce=0,Se=this.size();Ce<Se;Ce++)_e+=this.get(Ce).copyBytesInto(Ae,_e),Ae[_e++]=CharCodes$1.Space;return Ae[_e++]=CharCodes$1.RightSquareBracket,_e-xe},t.prototype.scalePDFNumbers=function(Ae,_e){for(var xe=0,Ce=this.size();xe<Ce;xe++){var Se=this.lookup(xe);if(Se instanceof PDFNumber){var Re=xe%2===0?Ae:_e;this.set(xe,PDFNumber.of(Se.asNumber()*Re))}}},t.withContext=function(Ae){return new t(Ae)},t}(PDFObject),ENFORCER$2={},PDFBool=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=this;if(Ae!==ENFORCER$2)throw new PrivateConstructorError("PDFBool");return xe=Ee.call(this)||this,xe.value=_e,xe}return t.prototype.asBoolean=function(){return this.value},t.prototype.clone=function(){return this},t.prototype.toString=function(){return String(this.value)},t.prototype.sizeInBytes=function(){return this.value?4:5},t.prototype.copyBytesInto=function(Ae,_e){return this.value?(Ae[_e++]=CharCodes$1.t,Ae[_e++]=CharCodes$1.r,Ae[_e++]=CharCodes$1.u,Ae[_e++]=CharCodes$1.e,4):(Ae[_e++]=CharCodes$1.f,Ae[_e++]=CharCodes$1.a,Ae[_e++]=CharCodes$1.l,Ae[_e++]=CharCodes$1.s,Ae[_e++]=CharCodes$1.e,5)},t.True=new t(ENFORCER$2,!0),t.False=new t(ENFORCER$2,!1),t}(PDFObject),IsDelimiter=new Uint8Array(256);IsDelimiter[CharCodes$1.LeftParen]=1;IsDelimiter[CharCodes$1.RightParen]=1;IsDelimiter[CharCodes$1.LessThan]=1;IsDelimiter[CharCodes$1.GreaterThan]=1;IsDelimiter[CharCodes$1.LeftSquareBracket]=1;IsDelimiter[CharCodes$1.RightSquareBracket]=1;IsDelimiter[CharCodes$1.LeftCurly]=1;IsDelimiter[CharCodes$1.RightCurly]=1;IsDelimiter[CharCodes$1.ForwardSlash]=1;IsDelimiter[CharCodes$1.Percent]=1;var IsWhitespace=new Uint8Array(256);IsWhitespace[CharCodes$1.Null]=1;IsWhitespace[CharCodes$1.Tab]=1;IsWhitespace[CharCodes$1.Newline]=1;IsWhitespace[CharCodes$1.FormFeed]=1;IsWhitespace[CharCodes$1.CarriageReturn]=1;IsWhitespace[CharCodes$1.Space]=1;var IsIrregular=new Uint8Array(256);for(var idx$1=0,len$1=256;idx$1<len$1;idx$1++)IsIrregular[idx$1]=IsWhitespace[idx$1]||IsDelimiter[idx$1]?1:0;IsIrregular[CharCodes$1.Hash]=1;var decodeName=function(Ee){return Ee.replace(/#([\dABCDEF]{2})/g,function(t,Ae){return charFromHexCode(Ae)})},isRegularChar=function(Ee){return Ee>=CharCodes$1.ExclamationPoint&&Ee<=CharCodes$1.Tilde&&!IsIrregular[Ee]},ENFORCER$1={},pool$1=new Map,PDFName=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=this;if(Ae!==ENFORCER$1)throw new PrivateConstructorError("PDFName");xe=Ee.call(this)||this;for(var Ce="/",Se=0,Re=_e.length;Se<Re;Se++){var Be=_e[Se],Fe=toCharCode(Be);Ce+=isRegularChar(Fe)?Be:"#"+toHexString(Fe)}return xe.encodedName=Ce,xe}return t.prototype.asBytes=function(){for(var Ae=[],_e="",xe=!1,Ce=function(Ue){Ue!==void 0&&Ae.push(Ue),xe=!1},Se=1,Re=this.encodedName.length;Se<Re;Se++){var Be=this.encodedName[Se],Fe=toCharCode(Be),Ie=this.encodedName[Se+1];xe?Fe>=CharCodes$1.Zero&&Fe<=CharCodes$1.Nine||Fe>=CharCodes$1.a&&Fe<=CharCodes$1.f||Fe>=CharCodes$1.A&&Fe<=CharCodes$1.F?(_e+=Be,(_e.length===2||!(Ie>="0"&&Ie<="9"||Ie>="a"&&Ie<="f"||Ie>="A"&&Ie<="F"))&&(Ce(parseInt(_e,16)),_e="")):Ce(Fe):Fe===CharCodes$1.Hash?xe=!0:Ce(Fe)}return new Uint8Array(Ae)},t.prototype.decodeText=function(){var Ae=this.asBytes();return String.fromCharCode.apply(String,Array.from(Ae))},t.prototype.asString=function(){return this.encodedName},t.prototype.value=function(){return this.encodedName},t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.encodedName},t.prototype.sizeInBytes=function(){return this.encodedName.length},t.prototype.copyBytesInto=function(Ae,_e){return _e+=copyStringIntoBuffer(this.encodedName,Ae,_e),this.encodedName.length},t.of=function(Ae){var _e=decodeName(Ae),xe=pool$1.get(_e);return xe||(xe=new t(ENFORCER$1,_e),pool$1.set(_e,xe)),xe},t.Length=t.of("Length"),t.FlateDecode=t.of("FlateDecode"),t.Resources=t.of("Resources"),t.Font=t.of("Font"),t.XObject=t.of("XObject"),t.ExtGState=t.of("ExtGState"),t.Contents=t.of("Contents"),t.Type=t.of("Type"),t.Parent=t.of("Parent"),t.MediaBox=t.of("MediaBox"),t.Page=t.of("Page"),t.Annots=t.of("Annots"),t.TrimBox=t.of("TrimBox"),t.ArtBox=t.of("ArtBox"),t.BleedBox=t.of("BleedBox"),t.CropBox=t.of("CropBox"),t.Rotate=t.of("Rotate"),t.Title=t.of("Title"),t.Author=t.of("Author"),t.Subject=t.of("Subject"),t.Creator=t.of("Creator"),t.Keywords=t.of("Keywords"),t.Producer=t.of("Producer"),t.CreationDate=t.of("CreationDate"),t.ModDate=t.of("ModDate"),t}(PDFObject),PDFNull=function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.asNull=function(){return null},t.prototype.clone=function(){return this},t.prototype.toString=function(){return"null"},t.prototype.sizeInBytes=function(){return 4},t.prototype.copyBytesInto=function(Ae,_e){return Ae[_e++]=CharCodes$1.n,Ae[_e++]=CharCodes$1.u,Ae[_e++]=CharCodes$1.l,Ae[_e++]=CharCodes$1.l,4},t}(PDFObject);const PDFNull$1=new PDFNull;var PDFDict=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=Ee.call(this)||this;return xe.dict=Ae,xe.context=_e,xe}return t.prototype.keys=function(){return Array.from(this.dict.keys())},t.prototype.values=function(){return Array.from(this.dict.values())},t.prototype.entries=function(){return Array.from(this.dict.entries())},t.prototype.set=function(Ae,_e){this.dict.set(Ae,_e)},t.prototype.get=function(Ae,_e){_e===void 0&&(_e=!1);var xe=this.dict.get(Ae);if(!(xe===PDFNull$1&&!_e))return xe},t.prototype.has=function(Ae){var _e=this.dict.get(Ae);return _e!==void 0&&_e!==PDFNull$1},t.prototype.lookupMaybe=function(Ae){for(var _e,xe=[],Ce=1;Ce<arguments.length;Ce++)xe[Ce-1]=arguments[Ce];var Se=xe.includes(PDFNull$1),Re=(_e=this.context).lookupMaybe.apply(_e,__spreadArrays([this.get(Ae,Se)],xe));if(!(Re===PDFNull$1&&!Se))return Re},t.prototype.lookup=function(Ae){for(var _e,xe=[],Ce=1;Ce<arguments.length;Ce++)xe[Ce-1]=arguments[Ce];var Se=xe.includes(PDFNull$1),Re=(_e=this.context).lookup.apply(_e,__spreadArrays([this.get(Ae,Se)],xe));if(!(Re===PDFNull$1&&!Se))return Re},t.prototype.delete=function(Ae){return this.dict.delete(Ae)},t.prototype.asMap=function(){return new Map(this.dict)},t.prototype.uniqueKey=function(Ae){Ae===void 0&&(Ae="");for(var _e=this.keys(),xe=PDFName.of(this.context.addRandomSuffix(Ae,10));_e.includes(xe);)xe=PDFName.of(this.context.addRandomSuffix(Ae,10));return xe},t.prototype.clone=function(Ae){for(var _e=t.withContext(Ae||this.context),xe=this.entries(),Ce=0,Se=xe.length;Ce<Se;Ce++){var Re=xe[Ce],Be=Re[0],Fe=Re[1];_e.set(Be,Fe)}return _e},t.prototype.toString=function(){for(var Ae=`<<
`,_e=this.entries(),xe=0,Ce=_e.length;xe<Ce;xe++){var Se=_e[xe],Re=Se[0],Be=Se[1];Ae+=Re.toString()+" "+Be.toString()+`
`}return Ae+=">>",Ae},t.prototype.sizeInBytes=function(){for(var Ae=5,_e=this.entries(),xe=0,Ce=_e.length;xe<Ce;xe++){var Se=_e[xe],Re=Se[0],Be=Se[1];Ae+=Re.sizeInBytes()+Be.sizeInBytes()+2}return Ae},t.prototype.copyBytesInto=function(Ae,_e){var xe=_e;Ae[_e++]=CharCodes$1.LessThan,Ae[_e++]=CharCodes$1.LessThan,Ae[_e++]=CharCodes$1.Newline;for(var Ce=this.entries(),Se=0,Re=Ce.length;Se<Re;Se++){var Be=Ce[Se],Fe=Be[0],Ie=Be[1];_e+=Fe.copyBytesInto(Ae,_e),Ae[_e++]=CharCodes$1.Space,_e+=Ie.copyBytesInto(Ae,_e),Ae[_e++]=CharCodes$1.Newline}return Ae[_e++]=CharCodes$1.GreaterThan,Ae[_e++]=CharCodes$1.GreaterThan,_e-xe},t.withContext=function(Ae){return new t(new Map,Ae)},t.fromMapWithContext=function(Ae,_e){return new t(Ae,_e)},t}(PDFObject),PDFStream=function(Ee){__extends(t,Ee);function t(Ae){var _e=Ee.call(this)||this;return _e.dict=Ae,_e}return t.prototype.clone=function(Ae){throw new MethodNotImplementedError(this.constructor.name,"clone")},t.prototype.getContentsString=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsString")},t.prototype.getContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getContents")},t.prototype.getContentsSize=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsSize")},t.prototype.updateDict=function(){var Ae=this.getContentsSize();this.dict.set(PDFName.Length,PDFNumber.of(Ae))},t.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},t.prototype.toString=function(){this.updateDict();var Ae=this.dict.toString();return Ae+=`
stream
`,Ae+=this.getContentsString(),Ae+=`
endstream`,Ae},t.prototype.copyBytesInto=function(Ae,_e){this.updateDict();var xe=_e;_e+=this.dict.copyBytesInto(Ae,_e),Ae[_e++]=CharCodes$1.Newline,Ae[_e++]=CharCodes$1.s,Ae[_e++]=CharCodes$1.t,Ae[_e++]=CharCodes$1.r,Ae[_e++]=CharCodes$1.e,Ae[_e++]=CharCodes$1.a,Ae[_e++]=CharCodes$1.m,Ae[_e++]=CharCodes$1.Newline;for(var Ce=this.getContents(),Se=0,Re=Ce.length;Se<Re;Se++)Ae[_e++]=Ce[Se];return Ae[_e++]=CharCodes$1.Newline,Ae[_e++]=CharCodes$1.e,Ae[_e++]=CharCodes$1.n,Ae[_e++]=CharCodes$1.d,Ae[_e++]=CharCodes$1.s,Ae[_e++]=CharCodes$1.t,Ae[_e++]=CharCodes$1.r,Ae[_e++]=CharCodes$1.e,Ae[_e++]=CharCodes$1.a,Ae[_e++]=CharCodes$1.m,_e-xe},t}(PDFObject),PDFRawStream=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=Ee.call(this,Ae)||this;return xe.contents=_e,xe}return t.prototype.asUint8Array=function(){return this.contents.slice()},t.prototype.clone=function(Ae){return t.of(this.dict.clone(Ae),this.contents.slice())},t.prototype.getContentsString=function(){return arrayAsString(this.contents)},t.prototype.getContents=function(){return this.contents},t.prototype.getContentsSize=function(){return this.contents.length},t.of=function(Ae,_e){return new t(Ae,_e)},t}(PDFStream),ENFORCER={},pool=new Map,PDFRef=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){var Ce=this;if(Ae!==ENFORCER)throw new PrivateConstructorError("PDFRef");return Ce=Ee.call(this)||this,Ce.objectNumber=_e,Ce.generationNumber=xe,Ce.tag=_e+" "+xe+" R",Ce}return t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.tag},t.prototype.sizeInBytes=function(){return this.tag.length},t.prototype.copyBytesInto=function(Ae,_e){return _e+=copyStringIntoBuffer(this.tag,Ae,_e),this.tag.length},t.of=function(Ae,_e){_e===void 0&&(_e=0);var xe=Ae+" "+_e+" R",Ce=pool.get(xe);return Ce||(Ce=new t(ENFORCER,Ae,_e),pool.set(xe,Ce)),Ce},t}(PDFObject),PDFOperator=function(){function Ee(t,Ae){this.name=t,this.args=Ae||[]}return Ee.prototype.clone=function(t){for(var Ae=new Array(this.args.length),_e=0,xe=Ae.length;_e<xe;_e++){var Ce=this.args[_e];Ae[_e]=Ce instanceof PDFObject?Ce.clone(t):Ce}return Ee.of(this.name,Ae)},Ee.prototype.toString=function(){for(var t="",Ae=0,_e=this.args.length;Ae<_e;Ae++)t+=String(this.args[Ae])+" ";return t+=this.name,t},Ee.prototype.sizeInBytes=function(){for(var t=0,Ae=0,_e=this.args.length;Ae<_e;Ae++){var xe=this.args[Ae];t+=(xe instanceof PDFObject?xe.sizeInBytes():xe.length)+1}return t+=this.name.length,t},Ee.prototype.copyBytesInto=function(t,Ae){for(var _e=Ae,xe=0,Ce=this.args.length;xe<Ce;xe++){var Se=this.args[xe];Se instanceof PDFObject?Ae+=Se.copyBytesInto(t,Ae):Ae+=copyStringIntoBuffer(Se,t,Ae),t[Ae++]=CharCodes$1.Space}return Ae+=copyStringIntoBuffer(this.name,t,Ae),Ae-_e},Ee.of=function(t,Ae){return new Ee(t,Ae)},Ee}(),PDFOperatorNames;(function(Ee){Ee.NonStrokingColor="sc",Ee.NonStrokingColorN="scn",Ee.NonStrokingColorRgb="rg",Ee.NonStrokingColorGray="g",Ee.NonStrokingColorCmyk="k",Ee.NonStrokingColorspace="cs",Ee.StrokingColor="SC",Ee.StrokingColorN="SCN",Ee.StrokingColorRgb="RG",Ee.StrokingColorGray="G",Ee.StrokingColorCmyk="K",Ee.StrokingColorspace="CS",Ee.BeginMarkedContentSequence="BDC",Ee.BeginMarkedContent="BMC",Ee.EndMarkedContent="EMC",Ee.MarkedContentPointWithProps="DP",Ee.MarkedContentPoint="MP",Ee.DrawObject="Do",Ee.ConcatTransformationMatrix="cm",Ee.PopGraphicsState="Q",Ee.PushGraphicsState="q",Ee.SetFlatness="i",Ee.SetGraphicsStateParams="gs",Ee.SetLineCapStyle="J",Ee.SetLineDashPattern="d",Ee.SetLineJoinStyle="j",Ee.SetLineMiterLimit="M",Ee.SetLineWidth="w",Ee.SetTextMatrix="Tm",Ee.SetRenderingIntent="ri",Ee.AppendRectangle="re",Ee.BeginInlineImage="BI",Ee.BeginInlineImageData="ID",Ee.EndInlineImage="EI",Ee.ClipEvenOdd="W*",Ee.ClipNonZero="W",Ee.CloseAndStroke="s",Ee.CloseFillEvenOddAndStroke="b*",Ee.CloseFillNonZeroAndStroke="b",Ee.ClosePath="h",Ee.AppendBezierCurve="c",Ee.CurveToReplicateFinalPoint="y",Ee.CurveToReplicateInitialPoint="v",Ee.EndPath="n",Ee.FillEvenOddAndStroke="B*",Ee.FillEvenOdd="f*",Ee.FillNonZeroAndStroke="B",Ee.FillNonZero="f",Ee.LegacyFillNonZero="F",Ee.LineTo="l",Ee.MoveTo="m",Ee.ShadingFill="sh",Ee.StrokePath="S",Ee.BeginText="BT",Ee.EndText="ET",Ee.MoveText="Td",Ee.MoveTextSetLeading="TD",Ee.NextLine="T*",Ee.SetCharacterSpacing="Tc",Ee.SetFontAndSize="Tf",Ee.SetTextHorizontalScaling="Tz",Ee.SetTextLineHeight="TL",Ee.SetTextRenderingMode="Tr",Ee.SetTextRise="Ts",Ee.SetWordSpacing="Tw",Ee.ShowText="Tj",Ee.ShowTextAdjusted="TJ",Ee.ShowTextLine="'",Ee.ShowTextLineAndSpace='"',Ee.Type3D0="d0",Ee.Type3D1="d1",Ee.BeginCompatibilitySection="BX",Ee.EndCompatibilitySection="EX"})(PDFOperatorNames||(PDFOperatorNames={}));const Ops=PDFOperatorNames;var PDFFlateStream=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=Ee.call(this,Ae)||this;return xe.computeContents=function(){var Ce=xe.getUnencodedContents();return xe.encode?pako.deflate(Ce):Ce},xe.encode=_e,_e&&Ae.set(PDFName.of("Filter"),PDFName.of("FlateDecode")),xe.contentsCache=Cache.populatedBy(xe.computeContents),xe}return t.prototype.getContents=function(){return this.contentsCache.access()},t.prototype.getContentsSize=function(){return this.contentsCache.access().length},t.prototype.getUnencodedContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getUnencodedContents")},t}(PDFStream),PDFContentStream=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){xe===void 0&&(xe=!0);var Ce=Ee.call(this,Ae,xe)||this;return Ce.operators=_e,Ce}return t.prototype.push=function(){for(var Ae,_e=[],xe=0;xe<arguments.length;xe++)_e[xe]=arguments[xe];(Ae=this.operators).push.apply(Ae,_e)},t.prototype.clone=function(Ae){for(var _e=new Array(this.operators.length),xe=0,Ce=this.operators.length;xe<Ce;xe++)_e[xe]=this.operators[xe].clone(Ae);var Se=this,Re=Se.dict,Be=Se.encode;return t.of(Re.clone(Ae),_e,Be)},t.prototype.getContentsString=function(){for(var Ae="",_e=0,xe=this.operators.length;_e<xe;_e++)Ae+=this.operators[_e]+`
`;return Ae},t.prototype.getUnencodedContents=function(){for(var Ae=new Uint8Array(this.getUnencodedContentsSize()),_e=0,xe=0,Ce=this.operators.length;xe<Ce;xe++)_e+=this.operators[xe].copyBytesInto(Ae,_e),Ae[_e++]=CharCodes$1.Newline;return Ae},t.prototype.getUnencodedContentsSize=function(){for(var Ae=0,_e=0,xe=this.operators.length;_e<xe;_e++)Ae+=this.operators[_e].sizeInBytes()+1;return Ae},t.of=function(Ae,_e,xe){return xe===void 0&&(xe=!0),new t(Ae,_e,xe)},t}(PDFFlateStream),SimpleRNG=function(){function Ee(t){this.seed=t}return Ee.prototype.nextInt=function(){var t=Math.sin(this.seed++)*1e4;return t-Math.floor(t)},Ee.withSeed=function(t){return new Ee(t)},Ee}(),byAscendingObjectNumber=function(Ee,t){var Ae=Ee[0],_e=t[0];return Ae.objectNumber-_e.objectNumber},PDFContext=function(){function Ee(){this.largestObjectNumber=0,this.header=PDFHeader.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=SimpleRNG.withSeed(1)}return Ee.prototype.assign=function(t,Ae){this.indirectObjects.set(t,Ae),t.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=t.objectNumber)},Ee.prototype.nextRef=function(){return this.largestObjectNumber+=1,PDFRef.of(this.largestObjectNumber)},Ee.prototype.register=function(t){var Ae=this.nextRef();return this.assign(Ae,t),Ae},Ee.prototype.delete=function(t){return this.indirectObjects.delete(t)},Ee.prototype.lookupMaybe=function(t){for(var Ae=[],_e=1;_e<arguments.length;_e++)Ae[_e-1]=arguments[_e];var xe=Ae.includes(PDFNull$1),Ce=t instanceof PDFRef?this.indirectObjects.get(t):t;if(!(!Ce||Ce===PDFNull$1&&!xe)){for(var Se=0,Re=Ae.length;Se<Re;Se++){var Be=Ae[Se];if(Be===PDFNull$1){if(Ce===PDFNull$1)return Ce}else if(Ce instanceof Be)return Ce}throw new UnexpectedObjectTypeError(Ae,Ce)}},Ee.prototype.lookup=function(t){for(var Ae=[],_e=1;_e<arguments.length;_e++)Ae[_e-1]=arguments[_e];var xe=t instanceof PDFRef?this.indirectObjects.get(t):t;if(Ae.length===0)return xe;for(var Ce=0,Se=Ae.length;Ce<Se;Ce++){var Re=Ae[Ce];if(Re===PDFNull$1){if(xe===PDFNull$1)return xe}else if(xe instanceof Re)return xe}throw new UnexpectedObjectTypeError(Ae,xe)},Ee.prototype.getObjectRef=function(t){for(var Ae=Array.from(this.indirectObjects.entries()),_e=0,xe=Ae.length;_e<xe;_e++){var Ce=Ae[_e],Se=Ce[0],Re=Ce[1];if(Re===t)return Se}},Ee.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(byAscendingObjectNumber)},Ee.prototype.obj=function(t){if(t instanceof PDFObject)return t;if(t==null)return PDFNull$1;if(typeof t=="string")return PDFName.of(t);if(typeof t=="number")return PDFNumber.of(t);if(typeof t=="boolean")return t?PDFBool.True:PDFBool.False;if(Array.isArray(t)){for(var Ae=PDFArray.withContext(this),_e=0,xe=t.length;_e<xe;_e++)Ae.push(this.obj(t[_e]));return Ae}else{for(var Ce=PDFDict.withContext(this),Se=Object.keys(t),_e=0,xe=Se.length;_e<xe;_e++){var Re=Se[_e],Be=t[Re];Be!==void 0&&Ce.set(PDFName.of(Re),this.obj(Be))}return Ce}},Ee.prototype.stream=function(t,Ae){return Ae===void 0&&(Ae={}),PDFRawStream.of(this.obj(Ae),typedArrayFor(t))},Ee.prototype.flateStream=function(t,Ae){return Ae===void 0&&(Ae={}),this.stream(pako.deflate(typedArrayFor(t)),__assign(__assign({},Ae),{Filter:"FlateDecode"}))},Ee.prototype.contentStream=function(t,Ae){return Ae===void 0&&(Ae={}),PDFContentStream.of(this.obj(Ae),t)},Ee.prototype.formXObject=function(t,Ae){return Ae===void 0&&(Ae={}),this.contentStream(t,__assign(__assign({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},Ae),{Type:"XObject",Subtype:"Form"}))},Ee.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var t=this.obj({}),Ae=PDFOperator.of(Ops.PushGraphicsState),_e=PDFContentStream.of(t,[Ae]);return this.pushGraphicsStateContentStreamRef=this.register(_e),this.pushGraphicsStateContentStreamRef},Ee.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var t=this.obj({}),Ae=PDFOperator.of(Ops.PopGraphicsState),_e=PDFContentStream.of(t,[Ae]);return this.popGraphicsStateContentStreamRef=this.register(_e),this.popGraphicsStateContentStreamRef},Ee.prototype.addRandomSuffix=function(t,Ae){return Ae===void 0&&(Ae=4),t+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,Ae))},Ee.create=function(){return new Ee},Ee}(),PDFPageLeaf=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){xe===void 0&&(xe=!0);var Ce=Ee.call(this,Ae,_e)||this;return Ce.normalized=!1,Ce.autoNormalizeCTM=xe,Ce}return t.prototype.clone=function(Ae){for(var _e=t.fromMapWithContext(new Map,Ae||this.context,this.autoNormalizeCTM),xe=this.entries(),Ce=0,Se=xe.length;Ce<Se;Ce++){var Re=xe[Ce],Be=Re[0],Fe=Re[1];_e.set(Be,Fe)}return _e},t.prototype.Parent=function(){return this.lookupMaybe(PDFName.Parent,PDFDict)},t.prototype.Contents=function(){return this.lookup(PDFName.of("Contents"))},t.prototype.Annots=function(){return this.lookupMaybe(PDFName.Annots,PDFArray)},t.prototype.BleedBox=function(){return this.lookupMaybe(PDFName.BleedBox,PDFArray)},t.prototype.TrimBox=function(){return this.lookupMaybe(PDFName.TrimBox,PDFArray)},t.prototype.ArtBox=function(){return this.lookupMaybe(PDFName.ArtBox,PDFArray)},t.prototype.Resources=function(){var Ae=this.getInheritableAttribute(PDFName.Resources);return this.context.lookupMaybe(Ae,PDFDict)},t.prototype.MediaBox=function(){var Ae=this.getInheritableAttribute(PDFName.MediaBox);return this.context.lookup(Ae,PDFArray)},t.prototype.CropBox=function(){var Ae=this.getInheritableAttribute(PDFName.CropBox);return this.context.lookupMaybe(Ae,PDFArray)},t.prototype.Rotate=function(){var Ae=this.getInheritableAttribute(PDFName.Rotate);return this.context.lookupMaybe(Ae,PDFNumber)},t.prototype.getInheritableAttribute=function(Ae){var _e;return this.ascend(function(xe){_e||(_e=xe.get(Ae))}),_e},t.prototype.setParent=function(Ae){this.set(PDFName.Parent,Ae)},t.prototype.addContentStream=function(Ae){var _e=this.normalizedEntries().Contents||this.context.obj([]);this.set(PDFName.Contents,_e),_e.push(Ae)},t.prototype.wrapContentStreams=function(Ae,_e){var xe=this.Contents();return xe instanceof PDFArray?(xe.insert(0,Ae),xe.push(_e),!0):!1},t.prototype.addAnnot=function(Ae){var _e=this.normalizedEntries().Annots;_e.push(Ae)},t.prototype.removeAnnot=function(Ae){var _e=this.normalizedEntries().Annots,xe=_e.indexOf(Ae);xe!==void 0&&_e.remove(xe)},t.prototype.setFontDictionary=function(Ae,_e){var xe=this.normalizedEntries().Font;xe.set(Ae,_e)},t.prototype.newFontDictionaryKey=function(Ae){var _e=this.normalizedEntries().Font;return _e.uniqueKey(Ae)},t.prototype.newFontDictionary=function(Ae,_e){var xe=this.newFontDictionaryKey(Ae);return this.setFontDictionary(xe,_e),xe},t.prototype.setXObject=function(Ae,_e){var xe=this.normalizedEntries().XObject;xe.set(Ae,_e)},t.prototype.newXObjectKey=function(Ae){var _e=this.normalizedEntries().XObject;return _e.uniqueKey(Ae)},t.prototype.newXObject=function(Ae,_e){var xe=this.newXObjectKey(Ae);return this.setXObject(xe,_e),xe},t.prototype.setExtGState=function(Ae,_e){var xe=this.normalizedEntries().ExtGState;xe.set(Ae,_e)},t.prototype.newExtGStateKey=function(Ae){var _e=this.normalizedEntries().ExtGState;return _e.uniqueKey(Ae)},t.prototype.newExtGState=function(Ae,_e){var xe=this.newExtGStateKey(Ae);return this.setExtGState(xe,_e),xe},t.prototype.ascend=function(Ae){Ae(this);var _e=this.Parent();_e&&_e.ascend(Ae)},t.prototype.normalize=function(){if(!this.normalized){var Ae=this.context,_e=this.get(PDFName.Contents),xe=this.context.lookup(_e);xe instanceof PDFStream&&this.set(PDFName.Contents,Ae.obj([_e])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var Ce=this.getInheritableAttribute(PDFName.Resources),Se=Ae.lookupMaybe(Ce,PDFDict)||Ae.obj({});this.set(PDFName.Resources,Se);var Re=Se.lookupMaybe(PDFName.Font,PDFDict)||Ae.obj({});Se.set(PDFName.Font,Re);var Be=Se.lookupMaybe(PDFName.XObject,PDFDict)||Ae.obj({});Se.set(PDFName.XObject,Be);var Fe=Se.lookupMaybe(PDFName.ExtGState,PDFDict)||Ae.obj({});Se.set(PDFName.ExtGState,Fe);var Ie=this.Annots()||Ae.obj([]);this.set(PDFName.Annots,Ie),this.normalized=!0}},t.prototype.normalizedEntries=function(){this.normalize();var Ae=this.Annots(),_e=this.Resources(),xe=this.Contents();return{Annots:Ae,Resources:_e,Contents:xe,Font:_e.lookup(PDFName.Font,PDFDict),XObject:_e.lookup(PDFName.XObject,PDFDict),ExtGState:_e.lookup(PDFName.ExtGState,PDFDict)}},t.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],t.withContextAndParent=function(Ae,_e){var xe=new Map;return xe.set(PDFName.Type,PDFName.Page),xe.set(PDFName.Parent,_e),xe.set(PDFName.Resources,Ae.obj({})),xe.set(PDFName.MediaBox,Ae.obj([0,0,612,792])),new t(xe,Ae,!1)},t.fromMapWithContext=function(Ae,_e,xe){return xe===void 0&&(xe=!0),new t(Ae,_e,xe)},t}(PDFDict),PDFObjectCopier=function(){function Ee(t,Ae){var _e=this;this.traversedObjects=new Map,this.copy=function(xe){return xe instanceof PDFPageLeaf?_e.copyPDFPage(xe):xe instanceof PDFDict?_e.copyPDFDict(xe):xe instanceof PDFArray?_e.copyPDFArray(xe):xe instanceof PDFStream?_e.copyPDFStream(xe):xe instanceof PDFRef?_e.copyPDFIndirectObject(xe):xe.clone()},this.copyPDFPage=function(xe){for(var Ce=xe.clone(),Se=PDFPageLeaf.InheritableEntries,Re=0,Be=Se.length;Re<Be;Re++){var Fe=PDFName.of(Se[Re]),Ie=Ce.getInheritableAttribute(Fe);!Ce.get(Fe)&&Ie&&Ce.set(Fe,Ie)}return Ce.delete(PDFName.of("Parent")),_e.copyPDFDict(Ce)},this.copyPDFDict=function(xe){if(_e.traversedObjects.has(xe))return _e.traversedObjects.get(xe);var Ce=xe.clone(_e.dest);_e.traversedObjects.set(xe,Ce);for(var Se=xe.entries(),Re=0,Be=Se.length;Re<Be;Re++){var Fe=Se[Re],Ie=Fe[0],Ue=Fe[1];Ce.set(Ie,_e.copy(Ue))}return Ce},this.copyPDFArray=function(xe){if(_e.traversedObjects.has(xe))return _e.traversedObjects.get(xe);var Ce=xe.clone(_e.dest);_e.traversedObjects.set(xe,Ce);for(var Se=0,Re=xe.size();Se<Re;Se++){var Be=xe.get(Se);Ce.set(Se,_e.copy(Be))}return Ce},this.copyPDFStream=function(xe){if(_e.traversedObjects.has(xe))return _e.traversedObjects.get(xe);var Ce=xe.clone(_e.dest);_e.traversedObjects.set(xe,Ce);for(var Se=xe.dict.entries(),Re=0,Be=Se.length;Re<Be;Re++){var Fe=Se[Re],Ie=Fe[0],Ue=Fe[1];Ce.dict.set(Ie,_e.copy(Ue))}return Ce},this.copyPDFIndirectObject=function(xe){var Ce=_e.traversedObjects.has(xe);if(!Ce){var Se=_e.dest.nextRef();_e.traversedObjects.set(xe,Se);var Re=_e.src.lookup(xe);if(Re){var Be=_e.copy(Re);_e.dest.assign(Se,Be)}}return _e.traversedObjects.get(xe)},this.src=t,this.dest=Ae}return Ee.for=function(t,Ae){return new Ee(t,Ae)},Ee}(),PDFCrossRefSection=function(){function Ee(t){this.subsections=t?[[t]]:[],this.chunkIdx=0,this.chunkLength=t?1:0}return Ee.prototype.addEntry=function(t,Ae){this.append({ref:t,offset:Ae,deleted:!1})},Ee.prototype.addDeletedEntry=function(t,Ae){this.append({ref:t,offset:Ae,deleted:!0})},Ee.prototype.toString=function(){for(var t=`xref
`,Ae=0,_e=this.subsections.length;Ae<_e;Ae++){var xe=this.subsections[Ae];t+=xe[0].ref.objectNumber+" "+xe.length+`
`;for(var Ce=0,Se=xe.length;Ce<Se;Ce++){var Re=xe[Ce];t+=padStart$1(String(Re.offset),10,"0"),t+=" ",t+=padStart$1(String(Re.ref.generationNumber),5,"0"),t+=" ",t+=Re.deleted?"f":"n",t+=` 
`}}return t},Ee.prototype.sizeInBytes=function(){for(var t=5,Ae=0,_e=this.subsections.length;Ae<_e;Ae++){var xe=this.subsections[Ae],Ce=xe.length,Se=xe[0];t+=2,t+=String(Se.ref.objectNumber).length,t+=String(Ce).length,t+=20*Ce}return t},Ee.prototype.copyBytesInto=function(t,Ae){var _e=Ae;return t[Ae++]=CharCodes$1.x,t[Ae++]=CharCodes$1.r,t[Ae++]=CharCodes$1.e,t[Ae++]=CharCodes$1.f,t[Ae++]=CharCodes$1.Newline,Ae+=this.copySubsectionsIntoBuffer(this.subsections,t,Ae),Ae-_e},Ee.prototype.copySubsectionsIntoBuffer=function(t,Ae,_e){for(var xe=_e,Ce=t.length,Se=0;Se<Ce;Se++){var Re=this.subsections[Se],Be=String(Re[0].ref.objectNumber);_e+=copyStringIntoBuffer(Be,Ae,_e),Ae[_e++]=CharCodes$1.Space;var Fe=String(Re.length);_e+=copyStringIntoBuffer(Fe,Ae,_e),Ae[_e++]=CharCodes$1.Newline,_e+=this.copyEntriesIntoBuffer(Re,Ae,_e)}return _e-xe},Ee.prototype.copyEntriesIntoBuffer=function(t,Ae,_e){for(var xe=t.length,Ce=0;Ce<xe;Ce++){var Se=t[Ce],Re=padStart$1(String(Se.offset),10,"0");_e+=copyStringIntoBuffer(Re,Ae,_e),Ae[_e++]=CharCodes$1.Space;var Be=padStart$1(String(Se.ref.generationNumber),5,"0");_e+=copyStringIntoBuffer(Be,Ae,_e),Ae[_e++]=CharCodes$1.Space,Ae[_e++]=Se.deleted?CharCodes$1.f:CharCodes$1.n,Ae[_e++]=CharCodes$1.Space,Ae[_e++]=CharCodes$1.Newline}return 20*xe},Ee.prototype.append=function(t){if(this.chunkLength===0){this.subsections.push([t]),this.chunkIdx=0,this.chunkLength=1;return}var Ae=this.subsections[this.chunkIdx],_e=Ae[this.chunkLength-1];t.ref.objectNumber-_e.ref.objectNumber>1?(this.subsections.push([t]),this.chunkIdx+=1,this.chunkLength=1):(Ae.push(t),this.chunkLength+=1)},Ee.create=function(){return new Ee({ref:PDFRef.of(0,65535),offset:0,deleted:!0})},Ee.createEmpty=function(){return new Ee},Ee}(),PDFTrailer=function(){function Ee(t){this.lastXRefOffset=String(t)}return Ee.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},Ee.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},Ee.prototype.copyBytesInto=function(t,Ae){var _e=Ae;return t[Ae++]=CharCodes$1.s,t[Ae++]=CharCodes$1.t,t[Ae++]=CharCodes$1.a,t[Ae++]=CharCodes$1.r,t[Ae++]=CharCodes$1.t,t[Ae++]=CharCodes$1.x,t[Ae++]=CharCodes$1.r,t[Ae++]=CharCodes$1.e,t[Ae++]=CharCodes$1.f,t[Ae++]=CharCodes$1.Newline,Ae+=copyStringIntoBuffer(this.lastXRefOffset,t,Ae),t[Ae++]=CharCodes$1.Newline,t[Ae++]=CharCodes$1.Percent,t[Ae++]=CharCodes$1.Percent,t[Ae++]=CharCodes$1.E,t[Ae++]=CharCodes$1.O,t[Ae++]=CharCodes$1.F,Ae-_e},Ee.forLastCrossRefSectionOffset=function(t){return new Ee(t)},Ee}(),PDFTrailerDict=function(){function Ee(t){this.dict=t}return Ee.prototype.toString=function(){return`trailer
`+this.dict.toString()},Ee.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},Ee.prototype.copyBytesInto=function(t,Ae){var _e=Ae;return t[Ae++]=CharCodes$1.t,t[Ae++]=CharCodes$1.r,t[Ae++]=CharCodes$1.a,t[Ae++]=CharCodes$1.i,t[Ae++]=CharCodes$1.l,t[Ae++]=CharCodes$1.e,t[Ae++]=CharCodes$1.r,t[Ae++]=CharCodes$1.Newline,Ae+=this.dict.copyBytesInto(t,Ae),Ae-_e},Ee.of=function(t){return new Ee(t)},Ee}(),PDFObjectStream=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){xe===void 0&&(xe=!0);var Ce=Ee.call(this,Ae.obj({}),xe)||this;return Ce.objects=_e,Ce.offsets=Ce.computeObjectOffsets(),Ce.offsetsString=Ce.computeOffsetsString(),Ce.dict.set(PDFName.of("Type"),PDFName.of("ObjStm")),Ce.dict.set(PDFName.of("N"),PDFNumber.of(Ce.objects.length)),Ce.dict.set(PDFName.of("First"),PDFNumber.of(Ce.offsetsString.length)),Ce}return t.prototype.getObjectsCount=function(){return this.objects.length},t.prototype.clone=function(Ae){return t.withContextAndObjects(Ae||this.dict.context,this.objects.slice(),this.encode)},t.prototype.getContentsString=function(){for(var Ae=this.offsetsString,_e=0,xe=this.objects.length;_e<xe;_e++){var Ce=this.objects[_e],Se=Ce[1];Ae+=Se+`
`}return Ae},t.prototype.getUnencodedContents=function(){for(var Ae=new Uint8Array(this.getUnencodedContentsSize()),_e=copyStringIntoBuffer(this.offsetsString,Ae,0),xe=0,Ce=this.objects.length;xe<Ce;xe++){var Se=this.objects[xe],Re=Se[1];_e+=Re.copyBytesInto(Ae,_e),Ae[_e++]=CharCodes$1.Newline}return Ae},t.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+last(this.offsets)[1]+last(this.objects)[1].sizeInBytes()+1},t.prototype.computeOffsetsString=function(){for(var Ae="",_e=0,xe=this.offsets.length;_e<xe;_e++){var Ce=this.offsets[_e],Se=Ce[0],Re=Ce[1];Ae+=Se+" "+Re+" "}return Ae},t.prototype.computeObjectOffsets=function(){for(var Ae=0,_e=new Array(this.objects.length),xe=0,Ce=this.objects.length;xe<Ce;xe++){var Se=this.objects[xe],Re=Se[0],Be=Se[1];_e[xe]=[Re.objectNumber,Ae],Ae+=Be.sizeInBytes()+1}return _e},t.withContextAndObjects=function(Ae,_e,xe){return xe===void 0&&(xe=!0),new t(Ae,_e,xe)},t}(PDFFlateStream),PDFWriter=function(){function Ee(t,Ae){var _e=this;this.parsedObjects=0,this.shouldWaitForTick=function(xe){return _e.parsedObjects+=xe,_e.parsedObjects%_e.objectsPerTick===0},this.context=t,this.objectsPerTick=Ae}return Ee.prototype.serializeToBuffer=function(){return __awaiter$1(this,void 0,void 0,function(){var t,Ae,_e,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke,Oe,je,Ke,ze,Ve;return __generator(this,function(Xe){switch(Xe.label){case 0:return[4,this.computeBufferSize()];case 1:t=Xe.sent(),Ae=t.size,_e=t.header,xe=t.indirectObjects,Ce=t.xref,Se=t.trailerDict,Re=t.trailer,Be=0,Fe=new Uint8Array(Ae),Be+=_e.copyBytesInto(Fe,Be),Fe[Be++]=CharCodes$1.Newline,Fe[Be++]=CharCodes$1.Newline,Ie=0,Ue=xe.length,Xe.label=2;case 2:return Ie<Ue?(ke=xe[Ie],Oe=ke[0],je=ke[1],Ke=String(Oe.objectNumber),Be+=copyStringIntoBuffer(Ke,Fe,Be),Fe[Be++]=CharCodes$1.Space,ze=String(Oe.generationNumber),Be+=copyStringIntoBuffer(ze,Fe,Be),Fe[Be++]=CharCodes$1.Space,Fe[Be++]=CharCodes$1.o,Fe[Be++]=CharCodes$1.b,Fe[Be++]=CharCodes$1.j,Fe[Be++]=CharCodes$1.Newline,Be+=je.copyBytesInto(Fe,Be),Fe[Be++]=CharCodes$1.Newline,Fe[Be++]=CharCodes$1.e,Fe[Be++]=CharCodes$1.n,Fe[Be++]=CharCodes$1.d,Fe[Be++]=CharCodes$1.o,Fe[Be++]=CharCodes$1.b,Fe[Be++]=CharCodes$1.j,Fe[Be++]=CharCodes$1.Newline,Fe[Be++]=CharCodes$1.Newline,Ve=je instanceof PDFObjectStream?je.getObjectsCount():1,this.shouldWaitForTick(Ve)?[4,waitForTick()]:[3,4]):[3,5];case 3:Xe.sent(),Xe.label=4;case 4:return Ie++,[3,2];case 5:return Ce&&(Be+=Ce.copyBytesInto(Fe,Be),Fe[Be++]=CharCodes$1.Newline),Se&&(Be+=Se.copyBytesInto(Fe,Be),Fe[Be++]=CharCodes$1.Newline,Fe[Be++]=CharCodes$1.Newline),Be+=Re.copyBytesInto(Fe,Be),[2,Fe]}})})},Ee.prototype.computeIndirectObjectSize=function(t){var Ae=t[0],_e=t[1],xe=Ae.sizeInBytes()+3,Ce=_e.sizeInBytes()+9;return xe+Ce},Ee.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},Ee.prototype.computeBufferSize=function(){return __awaiter$1(this,void 0,void 0,function(){var t,Ae,_e,xe,Ce,Se,Re,Be,Fe,Ie,Ue;return __generator(this,function(ke){switch(ke.label){case 0:t=PDFHeader.forVersion(1,7),Ae=t.sizeInBytes()+2,_e=PDFCrossRefSection.create(),xe=this.context.enumerateIndirectObjects(),Ce=0,Se=xe.length,ke.label=1;case 1:return Ce<Se?(Re=xe[Ce],Be=Re[0],_e.addEntry(Be,Ae),Ae+=this.computeIndirectObjectSize(Re),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4];case 2:ke.sent(),ke.label=3;case 3:return Ce++,[3,1];case 4:return Fe=Ae,Ae+=_e.sizeInBytes()+1,Ie=PDFTrailerDict.of(this.createTrailerDict()),Ae+=Ie.sizeInBytes()+2,Ue=PDFTrailer.forLastCrossRefSectionOffset(Fe),Ae+=Ue.sizeInBytes(),[2,{size:Ae,header:t,indirectObjects:xe,xref:_e,trailerDict:Ie,trailer:Ue}]}})})},Ee.forContext=function(t,Ae){return new Ee(t,Ae)},Ee}(),PDFInvalidObject=function(Ee){__extends(t,Ee);function t(Ae){var _e=Ee.call(this)||this;return _e.data=Ae,_e}return t.prototype.clone=function(){return t.of(this.data.slice())},t.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},t.prototype.sizeInBytes=function(){return this.data.length},t.prototype.copyBytesInto=function(Ae,_e){for(var xe=this.data.length,Ce=0;Ce<xe;Ce++)Ae[_e++]=this.data[Ce];return xe},t.of=function(Ae){return new t(Ae)},t}(PDFObject),EntryType;(function(Ee){Ee[Ee.Deleted=0]="Deleted",Ee[Ee.Uncompressed=1]="Uncompressed",Ee[Ee.Compressed=2]="Compressed"})(EntryType||(EntryType={}));var PDFCrossRefStream=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){xe===void 0&&(xe=!0);var Ce=Ee.call(this,Ae,xe)||this;return Ce.computeIndex=function(){for(var Se=[],Re=0,Be=0,Fe=Ce.entries.length;Be<Fe;Be++){var Ie=Ce.entries[Be],Ue=Ce.entries[Be-1];Be===0?Se.push(Ie.ref.objectNumber):Ie.ref.objectNumber-Ue.ref.objectNumber>1&&(Se.push(Re),Se.push(Ie.ref.objectNumber),Re=0),Re+=1}return Se.push(Re),Se},Ce.computeEntryTuples=function(){for(var Se=new Array(Ce.entries.length),Re=0,Be=Ce.entries.length;Re<Be;Re++){var Fe=Ce.entries[Re];if(Fe.type===EntryType.Deleted){var Ie=Fe.type,Ue=Fe.nextFreeObjectNumber,ke=Fe.ref;Se[Re]=[Ie,Ue,ke.generationNumber]}if(Fe.type===EntryType.Uncompressed){var Ie=Fe.type,Oe=Fe.offset,ke=Fe.ref;Se[Re]=[Ie,Oe,ke.generationNumber]}if(Fe.type===EntryType.Compressed){var Ie=Fe.type,je=Fe.objectStreamRef,Ke=Fe.index;Se[Re]=[Ie,je.objectNumber,Ke]}}return Se},Ce.computeMaxEntryByteWidths=function(){for(var Se=Ce.entryTuplesCache.access(),Re=[0,0,0],Be=0,Fe=Se.length;Be<Fe;Be++){var Ie=Se[Be],Ue=Ie[0],ke=Ie[1],Oe=Ie[2],je=sizeInBytes(Ue),Ke=sizeInBytes(ke),ze=sizeInBytes(Oe);je>Re[0]&&(Re[0]=je),Ke>Re[1]&&(Re[1]=Ke),ze>Re[2]&&(Re[2]=ze)}return Re},Ce.entries=_e||[],Ce.entryTuplesCache=Cache.populatedBy(Ce.computeEntryTuples),Ce.maxByteWidthsCache=Cache.populatedBy(Ce.computeMaxEntryByteWidths),Ce.indexCache=Cache.populatedBy(Ce.computeIndex),Ae.set(PDFName.of("Type"),PDFName.of("XRef")),Ce}return t.prototype.addDeletedEntry=function(Ae,_e){var xe=EntryType.Deleted;this.entries.push({type:xe,ref:Ae,nextFreeObjectNumber:_e}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addUncompressedEntry=function(Ae,_e){var xe=EntryType.Uncompressed;this.entries.push({type:xe,ref:Ae,offset:_e}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addCompressedEntry=function(Ae,_e,xe){var Ce=EntryType.Compressed;this.entries.push({type:Ce,ref:Ae,objectStreamRef:_e,index:xe}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.clone=function(Ae){var _e=this,xe=_e.dict,Ce=_e.entries,Se=_e.encode;return t.of(xe.clone(Ae),Ce.slice(),Se)},t.prototype.getContentsString=function(){for(var Ae=this.entryTuplesCache.access(),_e=this.maxByteWidthsCache.access(),xe="",Ce=0,Se=Ae.length;Ce<Se;Ce++){for(var Re=Ae[Ce],Be=Re[0],Fe=Re[1],Ie=Re[2],Ue=reverseArray(bytesFor(Be)),ke=reverseArray(bytesFor(Fe)),Oe=reverseArray(bytesFor(Ie)),je=_e[0]-1;je>=0;je--)xe+=(Ue[je]||0).toString(2);for(var je=_e[1]-1;je>=0;je--)xe+=(ke[je]||0).toString(2);for(var je=_e[2]-1;je>=0;je--)xe+=(Oe[je]||0).toString(2)}return xe},t.prototype.getUnencodedContents=function(){for(var Ae=this.entryTuplesCache.access(),_e=this.maxByteWidthsCache.access(),xe=new Uint8Array(this.getUnencodedContentsSize()),Ce=0,Se=0,Re=Ae.length;Se<Re;Se++){for(var Be=Ae[Se],Fe=Be[0],Ie=Be[1],Ue=Be[2],ke=reverseArray(bytesFor(Fe)),Oe=reverseArray(bytesFor(Ie)),je=reverseArray(bytesFor(Ue)),Ke=_e[0]-1;Ke>=0;Ke--)xe[Ce++]=ke[Ke]||0;for(var Ke=_e[1]-1;Ke>=0;Ke--)xe[Ce++]=Oe[Ke]||0;for(var Ke=_e[2]-1;Ke>=0;Ke--)xe[Ce++]=je[Ke]||0}return xe},t.prototype.getUnencodedContentsSize=function(){var Ae=this.maxByteWidthsCache.access(),_e=sum(Ae);return _e*this.entries.length},t.prototype.updateDict=function(){Ee.prototype.updateDict.call(this);var Ae=this.maxByteWidthsCache.access(),_e=this.indexCache.access(),xe=this.dict.context;this.dict.set(PDFName.of("W"),xe.obj(Ae)),this.dict.set(PDFName.of("Index"),xe.obj(_e))},t.create=function(Ae,_e){_e===void 0&&(_e=!0);var xe=new t(Ae,[],_e);return xe.addDeletedEntry(PDFRef.of(0,65535),0),xe},t.of=function(Ae,_e,xe){return xe===void 0&&(xe=!0),new t(Ae,_e,xe)},t}(PDFFlateStream),PDFStreamWriter=function(Ee){__extends(t,Ee);function t(Ae,_e,xe,Ce){var Se=Ee.call(this,Ae,_e)||this;return Se.encodeStreams=xe,Se.objectsPerStream=Ce,Se}return t.prototype.computeBufferSize=function(){return __awaiter$1(this,void 0,void 0,function(){var Ae,_e,xe,Ce,Se,Re,Be,Fe,je,Ke,Ie,Ve,Ue,ke,ze,Oe,je,Ke,ze,Ve,Xe,ir,sr,rr;return __generator(this,function(nr){switch(nr.label){case 0:Ae=this.context.largestObjectNumber+1,_e=PDFHeader.forVersion(1,7),xe=_e.sizeInBytes()+2,Ce=PDFCrossRefStream.create(this.createTrailerDict(),this.encodeStreams),Se=[],Re=[],Be=[],Fe=this.context.enumerateIndirectObjects(),je=0,Ke=Fe.length,nr.label=1;case 1:return je<Ke?(Ie=Fe[je],Ve=Ie[0],Ue=Ie[1],ke=Ve===this.context.trailerInfo.Encrypt||Ue instanceof PDFStream||Ue instanceof PDFInvalidObject||Ve.generationNumber!==0,ke?(Se.push(Ie),Ce.addUncompressedEntry(Ve,xe),xe+=this.computeIndirectObjectSize(Ie),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4]):[3,6];case 2:nr.sent(),nr.label=3;case 3:return[3,5];case 4:ze=last(Re),Oe=last(Be),(!ze||ze.length%this.objectsPerStream===0)&&(ze=[],Re.push(ze),Oe=PDFRef.of(Ae++),Be.push(Oe)),Ce.addCompressedEntry(Ve,Oe,ze.length),ze.push(Ie),nr.label=5;case 5:return je++,[3,1];case 6:je=0,Ke=Re.length,nr.label=7;case 7:return je<Ke?(ze=Re[je],Ve=Be[je],Xe=PDFObjectStream.withContextAndObjects(this.context,ze,this.encodeStreams),Ce.addUncompressedEntry(Ve,xe),xe+=this.computeIndirectObjectSize([Ve,Xe]),Se.push([Ve,Xe]),this.shouldWaitForTick(ze.length)?[4,waitForTick()]:[3,9]):[3,10];case 8:nr.sent(),nr.label=9;case 9:return je++,[3,7];case 10:return ir=PDFRef.of(Ae++),Ce.dict.set(PDFName.of("Size"),PDFNumber.of(Ae)),Ce.addUncompressedEntry(ir,xe),sr=xe,xe+=this.computeIndirectObjectSize([ir,Ce]),Se.push([ir,Ce]),rr=PDFTrailer.forLastCrossRefSectionOffset(sr),xe+=rr.sizeInBytes(),[2,{size:xe,header:_e,indirectObjects:Se,trailer:rr}]}})})},t.forContext=function(Ae,_e,xe,Ce){return xe===void 0&&(xe=!0),Ce===void 0&&(Ce=50),new t(Ae,_e,xe,Ce)},t}(PDFWriter),PDFHexString=function(Ee){__extends(t,Ee);function t(Ae){var _e=Ee.call(this)||this;return _e.value=Ae,_e}return t.prototype.asBytes=function(){for(var Ae=this.value+(this.value.length%2===1?"0":""),_e=Ae.length,xe=new Uint8Array(Ae.length/2),Ce=0,Se=0;Ce<_e;){var Re=parseInt(Ae.substring(Ce,Ce+2),16);xe[Se]=Re,Ce+=2,Se+=1}return xe},t.prototype.decodeText=function(){var Ae=this.asBytes();return hasUtf16BOM(Ae)?utf16Decode(Ae):pdfDocEncodingDecode(Ae)},t.prototype.decodeDate=function(){var Ae=this.decodeText(),_e=parseDate(Ae);if(!_e)throw new InvalidPDFDateStringError(Ae);return _e},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"<"+this.value+">"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(Ae,_e){return Ae[_e++]=CharCodes$1.LessThan,_e+=copyStringIntoBuffer(this.value,Ae,_e),Ae[_e++]=CharCodes$1.GreaterThan,this.value.length+2},t.of=function(Ae){return new t(Ae)},t.fromText=function(Ae){for(var _e=utf16Encode(Ae),xe="",Ce=0,Se=_e.length;Ce<Se;Ce++)xe+=toHexStringOfMinLength(_e[Ce],4);return new t(xe)},t}(PDFObject),StandardFontEmbedder=function(){function Ee(t,Ae){this.encoding=t===FontNames.ZapfDingbats?Encodings.ZapfDingbats:t===FontNames.Symbol?Encodings.Symbol:Encodings.WinAnsi,this.font=Font.load(t),this.fontName=this.font.FontName,this.customName=Ae}return Ee.prototype.encodeText=function(t){for(var Ae=this.encodeTextAsGlyphs(t),_e=new Array(Ae.length),xe=0,Ce=Ae.length;xe<Ce;xe++)_e[xe]=toHexString(Ae[xe].code);return PDFHexString.of(_e.join(""))},Ee.prototype.widthOfTextAtSize=function(t,Ae){for(var _e=this.encodeTextAsGlyphs(t),xe=0,Ce=0,Se=_e.length;Ce<Se;Ce++){var Re=_e[Ce].name,Be=(_e[Ce+1]||{}).name,Fe=this.font.getXAxisKerningForPair(Re,Be)||0;xe+=this.widthOfGlyph(Re)+Fe}var Ie=Ae/1e3;return xe*Ie},Ee.prototype.heightOfFontAtSize=function(t,Ae){Ae===void 0&&(Ae={});var _e=Ae.descender,xe=_e===void 0?!0:_e,Ce=this.font,Se=Ce.Ascender,Re=Ce.Descender,Be=Ce.FontBBox,Fe=Se||Be[3],Ie=Re||Be[1],Ue=Fe-Ie;return xe||(Ue+=Re||0),Ue/1e3*t},Ee.prototype.sizeOfFontAtHeight=function(t){var Ae=this.font,_e=Ae.Ascender,xe=Ae.Descender,Ce=Ae.FontBBox,Se=_e||Ce[3],Re=xe||Ce[1];return 1e3*t/(Se-Re)},Ee.prototype.embedIntoContext=function(t,Ae){var _e=t.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===Encodings.WinAnsi?"WinAnsiEncoding":void 0});return Ae?(t.assign(Ae,_e),Ae):t.register(_e)},Ee.prototype.widthOfGlyph=function(t){return this.font.getWidthOfGlyph(t)||250},Ee.prototype.encodeTextAsGlyphs=function(t){for(var Ae=Array.from(t),_e=new Array(Ae.length),xe=0,Ce=Ae.length;xe<Ce;xe++){var Se=toCodePoint(Ae[xe]);_e[xe]=this.encoding.encodeUnicodeCodePoint(Se)}return _e},Ee.for=function(t,Ae){return new Ee(t,Ae)},Ee}(),createCmap=function(Ee,t){for(var Ae=new Array(Ee.length),_e=0,xe=Ee.length;_e<xe;_e++){var Ce=Ee[_e],Se=cmapHexFormat(cmapHexString(t(Ce))),Re=cmapHexFormat.apply(void 0,Ce.codePoints.map(cmapCodePointFormat));Ae[_e]=[Se,Re]}return fillCmapTemplate(Ae)},fillCmapTemplate=function(Ee){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+Ee.length+` beginbfchar
`+Ee.map(function(t){var Ae=t[0],_e=t[1];return Ae+" "+_e}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},cmapHexFormat=function(){for(var Ee=[],t=0;t<arguments.length;t++)Ee[t]=arguments[t];return"<"+Ee.join("")+">"},cmapHexString=function(Ee){return toHexStringOfMinLength(Ee,4)},cmapCodePointFormat=function(Ee){if(isWithinBMP(Ee))return cmapHexString(Ee);if(hasSurrogates(Ee)){var t=highSurrogate(Ee),Ae=lowSurrogate(Ee);return""+cmapHexString(t)+cmapHexString(Ae)}var _e=toHexString(Ee),xe="0x"+_e+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(xe)},makeFontFlags=function(Ee){var t=0,Ae=function(_e){t|=1<<_e-1};return Ee.fixedPitch&&Ae(1),Ee.serif&&Ae(2),Ae(3),Ee.script&&Ae(4),Ee.nonsymbolic&&Ae(6),Ee.italic&&Ae(7),Ee.allCap&&Ae(17),Ee.smallCap&&Ae(18),Ee.forceBold&&Ae(19),t},deriveFontFlags=function(Ee){var t=Ee["OS/2"]?Ee["OS/2"].sFamilyClass:0,Ae=makeFontFlags({fixedPitch:Ee.post.isFixedPitch,serif:1<=t&&t<=7,script:t===10,italic:Ee.head.macStyle.italic});return Ae},PDFString=function(Ee){__extends(t,Ee);function t(Ae){var _e=Ee.call(this)||this;return _e.value=Ae,_e}return t.prototype.asBytes=function(){for(var Ae=[],_e="",xe=!1,Ce=function(Ue){Ue!==void 0&&Ae.push(Ue),xe=!1},Se=0,Re=this.value.length;Se<Re;Se++){var Be=this.value[Se],Fe=toCharCode(Be),Ie=this.value[Se+1];xe?Fe===CharCodes$1.Newline||Fe===CharCodes$1.CarriageReturn?Ce():Fe===CharCodes$1.n?Ce(CharCodes$1.Newline):Fe===CharCodes$1.r?Ce(CharCodes$1.CarriageReturn):Fe===CharCodes$1.t?Ce(CharCodes$1.Tab):Fe===CharCodes$1.b?Ce(CharCodes$1.Backspace):Fe===CharCodes$1.f?Ce(CharCodes$1.FormFeed):Fe===CharCodes$1.LeftParen?Ce(CharCodes$1.LeftParen):Fe===CharCodes$1.RightParen?Ce(CharCodes$1.RightParen):Fe===CharCodes$1.Backspace?Ce(CharCodes$1.BackSlash):Fe>=CharCodes$1.Zero&&Fe<=CharCodes$1.Seven?(_e+=Be,(_e.length===3||!(Ie>="0"&&Ie<="7"))&&(Ce(parseInt(_e,8)),_e="")):Ce(Fe):Fe===CharCodes$1.BackSlash?xe=!0:Ce(Fe)}return new Uint8Array(Ae)},t.prototype.decodeText=function(){var Ae=this.asBytes();return hasUtf16BOM(Ae)?utf16Decode(Ae):pdfDocEncodingDecode(Ae)},t.prototype.decodeDate=function(){var Ae=this.decodeText(),_e=parseDate(Ae);if(!_e)throw new InvalidPDFDateStringError(Ae);return _e},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"("+this.value+")"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(Ae,_e){return Ae[_e++]=CharCodes$1.LeftParen,_e+=copyStringIntoBuffer(this.value,Ae,_e),Ae[_e++]=CharCodes$1.RightParen,this.value.length+2},t.of=function(Ae){return new t(Ae)},t.fromDate=function(Ae){var _e=padStart$1(String(Ae.getUTCFullYear()),4,"0"),xe=padStart$1(String(Ae.getUTCMonth()+1),2,"0"),Ce=padStart$1(String(Ae.getUTCDate()),2,"0"),Se=padStart$1(String(Ae.getUTCHours()),2,"0"),Re=padStart$1(String(Ae.getUTCMinutes()),2,"0"),Be=padStart$1(String(Ae.getUTCSeconds()),2,"0");return new t("D:"+_e+xe+Ce+Se+Re+Be+"Z")},t}(PDFObject),CustomFontEmbedder=function(){function Ee(t,Ae,_e,xe){var Ce=this;this.allGlyphsInFontSortedById=function(){for(var Se=new Array(Ce.font.characterSet.length),Re=0,Be=Se.length;Re<Be;Re++){var Fe=Ce.font.characterSet[Re];Se[Re]=Ce.font.glyphForCodePoint(Fe)}return sortedUniq(Se.sort(byAscendingId),function(Ie){return Ie.id})},this.font=t,this.scale=1e3/this.font.unitsPerEm,this.fontData=Ae,this.fontName=this.font.postscriptName||"Font",this.customName=_e,this.fontFeatures=xe,this.baseFontName="",this.glyphCache=Cache.populatedBy(this.allGlyphsInFontSortedById)}return Ee.for=function(t,Ae,_e,xe){return __awaiter$1(this,void 0,void 0,function(){var Ce;return __generator(this,function(Se){switch(Se.label){case 0:return[4,t.create(Ae)];case 1:return Ce=Se.sent(),[2,new Ee(Ce,Ae,_e,xe)]}})})},Ee.prototype.encodeText=function(t){for(var Ae=this.font.layout(t,this.fontFeatures).glyphs,_e=new Array(Ae.length),xe=0,Ce=Ae.length;xe<Ce;xe++)_e[xe]=toHexStringOfMinLength(Ae[xe].id,4);return PDFHexString.of(_e.join(""))},Ee.prototype.widthOfTextAtSize=function(t,Ae){for(var _e=this.font.layout(t,this.fontFeatures).glyphs,xe=0,Ce=0,Se=_e.length;Ce<Se;Ce++)xe+=_e[Ce].advanceWidth*this.scale;var Re=Ae/1e3;return xe*Re},Ee.prototype.heightOfFontAtSize=function(t,Ae){Ae===void 0&&(Ae={});var _e=Ae.descender,xe=_e===void 0?!0:_e,Ce=this.font,Se=Ce.ascent,Re=Ce.descent,Be=Ce.bbox,Fe=(Se||Be.maxY)*this.scale,Ie=(Re||Be.minY)*this.scale,Ue=Fe-Ie;return xe||(Ue-=Math.abs(Re)||0),Ue/1e3*t},Ee.prototype.sizeOfFontAtHeight=function(t){var Ae=this.font,_e=Ae.ascent,xe=Ae.descent,Ce=Ae.bbox,Se=(_e||Ce.maxY)*this.scale,Re=(xe||Ce.minY)*this.scale;return 1e3*t/(Se-Re)},Ee.prototype.embedIntoContext=function(t,Ae){return this.baseFontName=this.customName||t.addRandomSuffix(this.fontName),this.embedFontDict(t,Ae)},Ee.prototype.embedFontDict=function(t,Ae){return __awaiter$1(this,void 0,void 0,function(){var _e,xe,Ce;return __generator(this,function(Se){switch(Se.label){case 0:return[4,this.embedCIDFontDict(t)];case 1:return _e=Se.sent(),xe=this.embedUnicodeCmap(t),Ce=t.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[_e],ToUnicode:xe}),Ae?(t.assign(Ae,Ce),[2,Ae]):[2,t.register(Ce)]}})})},Ee.prototype.isCFF=function(){return this.font.cff},Ee.prototype.embedCIDFontDict=function(t){return __awaiter$1(this,void 0,void 0,function(){var Ae,_e;return __generator(this,function(xe){switch(xe.label){case 0:return[4,this.embedFontDescriptor(t)];case 1:return Ae=xe.sent(),_e=t.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:PDFString.of("Adobe"),Ordering:PDFString.of("Identity"),Supplement:0},FontDescriptor:Ae,W:this.computeWidths()}),[2,t.register(_e)]}})})},Ee.prototype.embedFontDescriptor=function(t){return __awaiter$1(this,void 0,void 0,function(){var Ae,_e,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke,Oe,je,Ke,ze;return __generator(this,function(Ve){switch(Ve.label){case 0:return[4,this.embedFontStream(t)];case 1:return Ae=Ve.sent(),_e=this.scale,xe=this.font,Ce=xe.italicAngle,Se=xe.ascent,Re=xe.descent,Be=xe.capHeight,Fe=xe.xHeight,Ie=this.font.bbox,Ue=Ie.minX,ke=Ie.minY,Oe=Ie.maxX,je=Ie.maxY,Ke=t.obj((ze={Type:"FontDescriptor",FontName:this.baseFontName,Flags:deriveFontFlags(this.font),FontBBox:[Ue*_e,ke*_e,Oe*_e,je*_e],ItalicAngle:Ce,Ascent:Se*_e,Descent:Re*_e,CapHeight:(Be||Se)*_e,XHeight:(Fe||0)*_e,StemV:0},ze[this.isCFF()?"FontFile3":"FontFile2"]=Ae,ze)),[2,t.register(Ke)]}})})},Ee.prototype.serializeFont=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(t){return[2,this.fontData]})})},Ee.prototype.embedFontStream=function(t){return __awaiter$1(this,void 0,void 0,function(){var Ae,_e,xe;return __generator(this,function(Ce){switch(Ce.label){case 0:return xe=(_e=t).flateStream,[4,this.serializeFont()];case 1:return Ae=xe.apply(_e,[Ce.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,t.register(Ae)]}})})},Ee.prototype.embedUnicodeCmap=function(t){var Ae=createCmap(this.glyphCache.access(),this.glyphId.bind(this)),_e=t.flateStream(Ae);return t.register(_e)},Ee.prototype.glyphId=function(t){return t?t.id:-1},Ee.prototype.computeWidths=function(){for(var t=this.glyphCache.access(),Ae=[],_e=[],xe=0,Ce=t.length;xe<Ce;xe++){var Se=t[xe],Re=t[xe-1],Be=this.glyphId(Se),Fe=this.glyphId(Re);xe===0?Ae.push(Be):Be-Fe!==1&&(Ae.push(_e),Ae.push(Be),_e=[]),_e.push(Se.advanceWidth*this.scale)}return Ae.push(_e),Ae},Ee}(),CustomFontSubsetEmbedder=function(Ee){__extends(t,Ee);function t(Ae,_e,xe,Ce){var Se=Ee.call(this,Ae,_e,xe,Ce)||this;return Se.subset=Se.font.createSubset(),Se.glyphs=[],Se.glyphCache=Cache.populatedBy(function(){return Se.glyphs}),Se.glyphIdMap=new Map,Se}return t.for=function(Ae,_e,xe,Ce){return __awaiter$1(this,void 0,void 0,function(){var Se;return __generator(this,function(Re){switch(Re.label){case 0:return[4,Ae.create(_e)];case 1:return Se=Re.sent(),[2,new t(Se,_e,xe,Ce)]}})})},t.prototype.encodeText=function(Ae){for(var _e=this.font.layout(Ae,this.fontFeatures).glyphs,xe=new Array(_e.length),Ce=0,Se=_e.length;Ce<Se;Ce++){var Re=_e[Ce],Be=this.subset.includeGlyph(Re);this.glyphs[Be-1]=Re,this.glyphIdMap.set(Re.id,Be),xe[Ce]=toHexStringOfMinLength(Be,4)}return this.glyphCache.invalidate(),PDFHexString.of(xe.join(""))},t.prototype.isCFF=function(){return this.subset.cff},t.prototype.glyphId=function(Ae){return Ae?this.glyphIdMap.get(Ae.id):-1},t.prototype.serializeFont=function(){var Ae=this;return new Promise(function(_e,xe){var Ce=[];Ae.subset.encodeStream().on("data",function(Se){return Ce.push(Se)}).on("end",function(){return _e(mergeUint8Arrays(Ce))}).on("error",function(Se){return xe(Se)})})},t}(CustomFontEmbedder),AFRelationship;(function(Ee){Ee.Source="Source",Ee.Data="Data",Ee.Alternative="Alternative",Ee.Supplement="Supplement",Ee.EncryptedPayload="EncryptedPayload",Ee.FormData="EncryptedPayload",Ee.Schema="Schema",Ee.Unspecified="Unspecified"})(AFRelationship||(AFRelationship={}));var FileEmbedder=function(){function Ee(t,Ae,_e){_e===void 0&&(_e={}),this.fileData=t,this.fileName=Ae,this.options=_e}return Ee.for=function(t,Ae,_e){return _e===void 0&&(_e={}),new Ee(t,Ae,_e)},Ee.prototype.embedIntoContext=function(t,Ae){return __awaiter$1(this,void 0,void 0,function(){var _e,xe,Ce,Se,Re,Be,Fe,Ie,Ue;return __generator(this,function(ke){return _e=this.options,xe=_e.mimeType,Ce=_e.description,Se=_e.creationDate,Re=_e.modificationDate,Be=_e.afRelationship,Fe=t.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:xe??void 0,Params:{Size:this.fileData.length,CreationDate:Se?PDFString.fromDate(Se):void 0,ModDate:Re?PDFString.fromDate(Re):void 0}}),Ie=t.register(Fe),Ue=t.obj({Type:"Filespec",F:PDFString.of(this.fileName),UF:PDFHexString.fromText(this.fileName),EF:{F:Ie},Desc:Ce?PDFHexString.fromText(Ce):void 0,AFRelationship:Be??void 0}),Ae?(t.assign(Ae,Ue),[2,Ae]):[2,t.register(Ue)]})})},Ee}(),MARKERS=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],ColorSpace;(function(Ee){Ee.DeviceGray="DeviceGray",Ee.DeviceRGB="DeviceRGB",Ee.DeviceCMYK="DeviceCMYK"})(ColorSpace||(ColorSpace={}));var ChannelToColorSpace={1:ColorSpace.DeviceGray,3:ColorSpace.DeviceRGB,4:ColorSpace.DeviceCMYK},JpegEmbedder=function(){function Ee(t,Ae,_e,xe,Ce){this.imageData=t,this.bitsPerComponent=Ae,this.width=_e,this.height=xe,this.colorSpace=Ce}return Ee.for=function(t){return __awaiter$1(this,void 0,void 0,function(){var Ae,_e,xe,Ce,Se,Re,Be,Fe,Ie,Ue;return __generator(this,function(ke){if(Ae=new DataView(t.buffer),_e=Ae.getUint16(0),_e!==65496)throw new Error("SOI not found in JPEG");for(xe=2;xe<Ae.byteLength&&(Ce=Ae.getUint16(xe),xe+=2,!MARKERS.includes(Ce));)xe+=Ae.getUint16(xe);if(!MARKERS.includes(Ce))throw new Error("Invalid JPEG");if(xe+=2,Se=Ae.getUint8(xe++),Re=Ae.getUint16(xe),xe+=2,Be=Ae.getUint16(xe),xe+=2,Fe=Ae.getUint8(xe++),Ie=ChannelToColorSpace[Fe],!Ie)throw new Error("Unknown JPEG channel.");return Ue=Ie,[2,new Ee(t,Se,Be,Re,Ue)]})})},Ee.prototype.embedIntoContext=function(t,Ae){return __awaiter$1(this,void 0,void 0,function(){var _e;return __generator(this,function(xe){return _e=t.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===ColorSpace.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),Ae?(t.assign(Ae,_e),[2,Ae]):[2,t.register(_e)]})})},Ee}(),UPNG={};UPNG.toRGBA8=function(Ee){var t=Ee.width,Ae=Ee.height;if(Ee.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(Ee.data,t,Ae,Ee).buffer];var _e=[];Ee.frames[0].data==null&&(Ee.frames[0].data=Ee.data);for(var xe=t*Ae*4,Ce=new Uint8Array(xe),Se=new Uint8Array(xe),Re=new Uint8Array(xe),Be=0;Be<Ee.frames.length;Be++){var Fe=Ee.frames[Be],Ie=Fe.rect.x,Ue=Fe.rect.y,ke=Fe.rect.width,Oe=Fe.rect.height,je=UPNG.toRGBA8.decodeImage(Fe.data,ke,Oe,Ee);if(Be!=0)for(var Ke=0;Ke<xe;Ke++)Re[Ke]=Ce[Ke];if(Fe.blend==0?UPNG._copyTile(je,ke,Oe,Ce,t,Ae,Ie,Ue,0):Fe.blend==1&&UPNG._copyTile(je,ke,Oe,Ce,t,Ae,Ie,Ue,1),_e.push(Ce.buffer.slice(0)),Fe.dispose!=0){if(Fe.dispose==1)UPNG._copyTile(Se,ke,Oe,Ce,t,Ae,Ie,Ue,0);else if(Fe.dispose==2)for(var Ke=0;Ke<xe;Ke++)Ce[Ke]=Re[Ke]}}return _e};UPNG.toRGBA8.decodeImage=function(Ee,t,Ae,_e){var xe=t*Ae,Ce=UPNG.decode._getBPP(_e),Se=Math.ceil(t*Ce/8),Re=new Uint8Array(xe*4),Be=new Uint32Array(Re.buffer),Fe=_e.ctype,Ie=_e.depth,Ue=UPNG._bin.readUshort;if(Fe==6){var ke=xe<<2;if(Ie==8)for(var Oe=0;Oe<ke;Oe+=4)Re[Oe]=Ee[Oe],Re[Oe+1]=Ee[Oe+1],Re[Oe+2]=Ee[Oe+2],Re[Oe+3]=Ee[Oe+3];if(Ie==16)for(var Oe=0;Oe<ke;Oe++)Re[Oe]=Ee[Oe<<1]}else if(Fe==2){var je=_e.tabs.tRNS;if(je==null){if(Ie==8)for(var Oe=0;Oe<xe;Oe++){var Ke=Oe*3;Be[Oe]=255<<24|Ee[Ke+2]<<16|Ee[Ke+1]<<8|Ee[Ke]}if(Ie==16)for(var Oe=0;Oe<xe;Oe++){var Ke=Oe*6;Be[Oe]=255<<24|Ee[Ke+4]<<16|Ee[Ke+2]<<8|Ee[Ke]}}else{var ze=je[0],Ve=je[1],Xe=je[2];if(Ie==8)for(var Oe=0;Oe<xe;Oe++){var ir=Oe<<2,Ke=Oe*3;Be[Oe]=255<<24|Ee[Ke+2]<<16|Ee[Ke+1]<<8|Ee[Ke],Ee[Ke]==ze&&Ee[Ke+1]==Ve&&Ee[Ke+2]==Xe&&(Re[ir+3]=0)}if(Ie==16)for(var Oe=0;Oe<xe;Oe++){var ir=Oe<<2,Ke=Oe*6;Be[Oe]=255<<24|Ee[Ke+4]<<16|Ee[Ke+2]<<8|Ee[Ke],Ue(Ee,Ke)==ze&&Ue(Ee,Ke+2)==Ve&&Ue(Ee,Ke+4)==Xe&&(Re[ir+3]=0)}}}else if(Fe==3){var sr=_e.tabs.PLTE,rr=_e.tabs.tRNS,nr=rr?rr.length:0;if(Ie==1)for(var We=0;We<Ae;We++)for(var Ge=We*Se,Ze=We*t,Oe=0;Oe<t;Oe++){var ir=Ze+Oe<<2,or=Ee[Ge+(Oe>>3)]>>7-((Oe&7)<<0)&1,He=3*or;Re[ir]=sr[He],Re[ir+1]=sr[He+1],Re[ir+2]=sr[He+2],Re[ir+3]=or<nr?rr[or]:255}if(Ie==2)for(var We=0;We<Ae;We++)for(var Ge=We*Se,Ze=We*t,Oe=0;Oe<t;Oe++){var ir=Ze+Oe<<2,or=Ee[Ge+(Oe>>2)]>>6-((Oe&3)<<1)&3,He=3*or;Re[ir]=sr[He],Re[ir+1]=sr[He+1],Re[ir+2]=sr[He+2],Re[ir+3]=or<nr?rr[or]:255}if(Ie==4)for(var We=0;We<Ae;We++)for(var Ge=We*Se,Ze=We*t,Oe=0;Oe<t;Oe++){var ir=Ze+Oe<<2,or=Ee[Ge+(Oe>>1)]>>4-((Oe&1)<<2)&15,He=3*or;Re[ir]=sr[He],Re[ir+1]=sr[He+1],Re[ir+2]=sr[He+2],Re[ir+3]=or<nr?rr[or]:255}if(Ie==8)for(var Oe=0;Oe<xe;Oe++){var ir=Oe<<2,or=Ee[Oe],He=3*or;Re[ir]=sr[He],Re[ir+1]=sr[He+1],Re[ir+2]=sr[He+2],Re[ir+3]=or<nr?rr[or]:255}}else if(Fe==4){if(Ie==8)for(var Oe=0;Oe<xe;Oe++){var ir=Oe<<2,Je=Oe<<1,$e=Ee[Je];Re[ir]=$e,Re[ir+1]=$e,Re[ir+2]=$e,Re[ir+3]=Ee[Je+1]}if(Ie==16)for(var Oe=0;Oe<xe;Oe++){var ir=Oe<<2,Je=Oe<<2,$e=Ee[Je];Re[ir]=$e,Re[ir+1]=$e,Re[ir+2]=$e,Re[ir+3]=Ee[Je+2]}}else if(Fe==0)for(var ze=_e.tabs.tRNS?_e.tabs.tRNS:-1,We=0;We<Ae;We++){var mr=We*Se,wr=We*t;if(Ie==1)for(var vr=0;vr<t;vr++){var $e=255*(Ee[mr+(vr>>>3)]>>>7-(vr&7)&1),ur=$e==ze*255?0:255;Be[wr+vr]=ur<<24|$e<<16|$e<<8|$e}else if(Ie==2)for(var vr=0;vr<t;vr++){var $e=85*(Ee[mr+(vr>>>2)]>>>6-((vr&3)<<1)&3),ur=$e==ze*85?0:255;Be[wr+vr]=ur<<24|$e<<16|$e<<8|$e}else if(Ie==4)for(var vr=0;vr<t;vr++){var $e=17*(Ee[mr+(vr>>>1)]>>>4-((vr&1)<<2)&15),ur=$e==ze*17?0:255;Be[wr+vr]=ur<<24|$e<<16|$e<<8|$e}else if(Ie==8)for(var vr=0;vr<t;vr++){var $e=Ee[mr+vr],ur=$e==ze?0:255;Be[wr+vr]=ur<<24|$e<<16|$e<<8|$e}else if(Ie==16)for(var vr=0;vr<t;vr++){var $e=Ee[mr+(vr<<1)],ur=Ue(Ee,mr+(vr<<Oe))==ze?0:255;Be[wr+vr]=ur<<24|$e<<16|$e<<8|$e}}return Re};UPNG.decode=function(Ee){for(var t=new Uint8Array(Ee),Ae=8,_e=UPNG._bin,xe=_e.readUshort,Ce=_e.readUint,Se={tabs:{},frames:[]},Re=new Uint8Array(t.length),Be=0,Fe,Ie=0,Ue=[137,80,78,71,13,10,26,10],ke=0;ke<8;ke++)if(t[ke]!=Ue[ke])throw"The input is not a PNG file!";for(;Ae<t.length;){var Oe=_e.readUint(t,Ae);Ae+=4;var je=_e.readASCII(t,Ae,4);if(Ae+=4,je=="IHDR")UPNG.decode._IHDR(t,Ae,Se);else if(je=="IDAT"){for(var ke=0;ke<Oe;ke++)Re[Be+ke]=t[Ae+ke];Be+=Oe}else if(je=="acTL")Se.tabs[je]={num_frames:Ce(t,Ae),num_plays:Ce(t,Ae+4)},Fe=new Uint8Array(t.length);else if(je=="fcTL"){if(Ie!=0){var Ke=Se.frames[Se.frames.length-1];Ke.data=UPNG.decode._decompress(Se,Fe.slice(0,Ie),Ke.rect.width,Ke.rect.height),Ie=0}var ze={x:Ce(t,Ae+12),y:Ce(t,Ae+16),width:Ce(t,Ae+4),height:Ce(t,Ae+8)},Ve=xe(t,Ae+22);Ve=xe(t,Ae+20)/(Ve==0?100:Ve);var Xe={rect:ze,delay:Math.round(Ve*1e3),dispose:t[Ae+24],blend:t[Ae+25]};Se.frames.push(Xe)}else if(je=="fdAT"){for(var ke=0;ke<Oe-4;ke++)Fe[Ie+ke]=t[Ae+ke+4];Ie+=Oe-4}else if(je=="pHYs")Se.tabs[je]=[_e.readUint(t,Ae),_e.readUint(t,Ae+4),t[Ae+8]];else if(je=="cHRM"){Se.tabs[je]=[];for(var ke=0;ke<8;ke++)Se.tabs[je].push(_e.readUint(t,Ae+ke*4))}else if(je=="tEXt"){Se.tabs[je]==null&&(Se.tabs[je]={});var ir=_e.nextZero(t,Ae),sr=_e.readASCII(t,Ae,ir-Ae),rr=_e.readASCII(t,ir+1,Ae+Oe-ir-1);Se.tabs[je][sr]=rr}else if(je=="iTXt"){Se.tabs[je]==null&&(Se.tabs[je]={});var ir=0,nr=Ae;ir=_e.nextZero(t,nr);var sr=_e.readASCII(t,nr,ir-nr);nr=ir+1,t[nr],t[nr+1],nr+=2,ir=_e.nextZero(t,nr),_e.readASCII(t,nr,ir-nr),nr=ir+1,ir=_e.nextZero(t,nr),_e.readUTF8(t,nr,ir-nr),nr=ir+1;var rr=_e.readUTF8(t,nr,Oe-(nr-Ae));Se.tabs[je][sr]=rr}else if(je=="PLTE")Se.tabs[je]=_e.readBytes(t,Ae,Oe);else if(je=="hIST"){var We=Se.tabs.PLTE.length/3;Se.tabs[je]=[];for(var ke=0;ke<We;ke++)Se.tabs[je].push(xe(t,Ae+ke*2))}else if(je=="tRNS")Se.ctype==3?Se.tabs[je]=_e.readBytes(t,Ae,Oe):Se.ctype==0?Se.tabs[je]=xe(t,Ae):Se.ctype==2&&(Se.tabs[je]=[xe(t,Ae),xe(t,Ae+2),xe(t,Ae+4)]);else if(je=="gAMA")Se.tabs[je]=_e.readUint(t,Ae)/1e5;else if(je=="sRGB")Se.tabs[je]=t[Ae];else if(je=="bKGD")Se.ctype==0||Se.ctype==4?Se.tabs[je]=[xe(t,Ae)]:Se.ctype==2||Se.ctype==6?Se.tabs[je]=[xe(t,Ae),xe(t,Ae+2),xe(t,Ae+4)]:Se.ctype==3&&(Se.tabs[je]=t[Ae]);else if(je=="IEND")break;Ae+=Oe,_e.readUint(t,Ae),Ae+=4}if(Ie!=0){var Ke=Se.frames[Se.frames.length-1];Ke.data=UPNG.decode._decompress(Se,Fe.slice(0,Ie),Ke.rect.width,Ke.rect.height),Ie=0}return Se.data=UPNG.decode._decompress(Se,Re,Se.width,Se.height),delete Se.compress,delete Se.interlace,delete Se.filter,Se};UPNG.decode._decompress=function(Ee,t,Ae,_e){var xe=UPNG.decode._getBPP(Ee),Ce=Math.ceil(Ae*xe/8),Se=new Uint8Array((Ce+1+Ee.interlace)*_e);return t=UPNG.decode._inflate(t,Se),Ee.interlace==0?t=UPNG.decode._filterZero(t,Ee,0,Ae,_e):Ee.interlace==1&&(t=UPNG.decode._readInterlace(t,Ee)),t};UPNG.decode._inflate=function(Ee,t){var Ae=UPNG.inflateRaw(new Uint8Array(Ee.buffer,2,Ee.length-6),t);return Ae};UPNG.inflateRaw=function(){var Ee={};return Ee.H={},Ee.H.N=function(t,Ae){var _e=Uint8Array,xe=0,Ce=0,Se=0,Re=0,Be=0,Fe=0,Ie=0,Ue=0,ke=0,Oe,je;if(t[0]==3&&t[1]==0)return Ae||new _e(0);var Ke=Ee.H,ze=Ke.b,Ve=Ke.e,Xe=Ke.R,ir=Ke.n,sr=Ke.A,rr=Ke.Z,nr=Ke.m,We=Ae==null;for(We&&(Ae=new _e(t.length>>>2<<3));xe==0;){if(xe=ze(t,ke,1),Ce=ze(t,ke+1,2),ke+=3,Ce==0){(ke&7)!=0&&(ke+=8-(ke&7));var Ge=(ke>>>3)+4,Ze=t[Ge-4]|t[Ge-3]<<8;We&&(Ae=Ee.H.W(Ae,Ue+Ze)),Ae.set(new _e(t.buffer,t.byteOffset+Ge,Ze),Ue),ke=Ge+Ze<<3,Ue+=Ze;continue}if(We&&(Ae=Ee.H.W(Ae,Ue+(1<<17))),Ce==1&&(Oe=nr.J,je=nr.h,Fe=511,Ie=31),Ce==2){Se=Ve(t,ke,5)+257,Re=Ve(t,ke+5,5)+1,Be=Ve(t,ke+10,4)+4,ke+=14;for(var or=1,He=0;He<38;He+=2)nr.Q[He]=0,nr.Q[He+1]=0;for(var He=0;He<Be;He++){var Je=Ve(t,ke+He*3,3);nr.Q[(nr.X[He]<<1)+1]=Je,Je>or&&(or=Je)}ke+=3*Be,ir(nr.Q,or),sr(nr.Q,or,nr.u),Oe=nr.w,je=nr.d,ke=Xe(nr.u,(1<<or)-1,Se+Re,t,ke,nr.v);var $e=Ke.V(nr.v,0,Se,nr.C);Fe=(1<<$e)-1;var mr=Ke.V(nr.v,Se,Re,nr.D);Ie=(1<<mr)-1,ir(nr.C,$e),sr(nr.C,$e,Oe),ir(nr.D,mr),sr(nr.D,mr,je)}for(;;){var wr=Oe[rr(t,ke)&Fe];ke+=wr&15;var vr=wr>>>4;if(!(vr>>>8))Ae[Ue++]=vr;else{if(vr==256)break;var ur=Ue+vr-254;if(vr>264){var Cr=nr.q[vr-257];ur=Ue+(Cr>>>3)+Ve(t,ke,Cr&7),ke+=Cr&7}var _r=je[rr(t,ke)&Ie];ke+=_r&15;var hr=_r>>>4,Sr=nr.c[hr],ar=(Sr>>>4)+ze(t,ke,Sr&15);for(ke+=Sr&15;Ue<ur;)Ae[Ue]=Ae[Ue++-ar],Ae[Ue]=Ae[Ue++-ar],Ae[Ue]=Ae[Ue++-ar],Ae[Ue]=Ae[Ue++-ar];Ue=ur}}}return Ae.length==Ue?Ae:Ae.slice(0,Ue)},Ee.H.W=function(t,Ae){var _e=t.length;if(Ae<=_e)return t;var xe=new Uint8Array(_e<<1);return xe.set(t,0),xe},Ee.H.R=function(t,Ae,_e,xe,Ce,Se){for(var Re=Ee.H.e,Be=Ee.H.Z,Fe=0;Fe<_e;){var Ie=t[Be(xe,Ce)&Ae];Ce+=Ie&15;var Ue=Ie>>>4;if(Ue<=15)Se[Fe]=Ue,Fe++;else{var ke=0,Oe=0;Ue==16?(Oe=3+Re(xe,Ce,2),Ce+=2,ke=Se[Fe-1]):Ue==17?(Oe=3+Re(xe,Ce,3),Ce+=3):Ue==18&&(Oe=11+Re(xe,Ce,7),Ce+=7);for(var je=Fe+Oe;Fe<je;)Se[Fe]=ke,Fe++}}return Ce},Ee.H.V=function(t,Ae,_e,xe){for(var Ce=0,Se=0,Re=xe.length>>>1;Se<_e;){var Be=t[Se+Ae];xe[Se<<1]=0,xe[(Se<<1)+1]=Be,Be>Ce&&(Ce=Be),Se++}for(;Se<Re;)xe[Se<<1]=0,xe[(Se<<1)+1]=0,Se++;return Ce},Ee.H.n=function(t,Ae){for(var _e=Ee.H.m,xe=t.length,Ce,Se,Re,Be,Fe,Ie=_e.j,Be=0;Be<=Ae;Be++)Ie[Be]=0;for(Be=1;Be<xe;Be+=2)Ie[t[Be]]++;var Ue=_e.K;for(Ce=0,Ie[0]=0,Se=1;Se<=Ae;Se++)Ce=Ce+Ie[Se-1]<<1,Ue[Se]=Ce;for(Re=0;Re<xe;Re+=2)Fe=t[Re+1],Fe!=0&&(t[Re]=Ue[Fe],Ue[Fe]++)},Ee.H.A=function(t,Ae,_e){for(var xe=t.length,Ce=Ee.H.m,Se=Ce.r,Re=0;Re<xe;Re+=2)if(t[Re+1]!=0)for(var Be=Re>>1,Fe=t[Re+1],Ie=Be<<4|Fe,Ue=Ae-Fe,ke=t[Re]<<Ue,Oe=ke+(1<<Ue);ke!=Oe;){var je=Se[ke]>>>15-Ae;_e[je]=Ie,ke++}},Ee.H.l=function(t,Ae){for(var _e=Ee.H.m.r,xe=15-Ae,Ce=0;Ce<t.length;Ce+=2){var Se=t[Ce]<<Ae-t[Ce+1];t[Ce]=_e[Se]>>>xe}},Ee.H.M=function(t,Ae,_e){_e=_e<<(Ae&7);var xe=Ae>>>3;t[xe]|=_e,t[xe+1]|=_e>>>8},Ee.H.I=function(t,Ae,_e){_e=_e<<(Ae&7);var xe=Ae>>>3;t[xe]|=_e,t[xe+1]|=_e>>>8,t[xe+2]|=_e>>>16},Ee.H.e=function(t,Ae,_e){return(t[Ae>>>3]|t[(Ae>>>3)+1]<<8)>>>(Ae&7)&(1<<_e)-1},Ee.H.b=function(t,Ae,_e){return(t[Ae>>>3]|t[(Ae>>>3)+1]<<8|t[(Ae>>>3)+2]<<16)>>>(Ae&7)&(1<<_e)-1},Ee.H.Z=function(t,Ae){return(t[Ae>>>3]|t[(Ae>>>3)+1]<<8|t[(Ae>>>3)+2]<<16)>>>(Ae&7)},Ee.H.i=function(t,Ae){return(t[Ae>>>3]|t[(Ae>>>3)+1]<<8|t[(Ae>>>3)+2]<<16|t[(Ae>>>3)+3]<<24)>>>(Ae&7)},Ee.H.m=function(){var t=Uint16Array,Ae=Uint32Array;return{K:new t(16),j:new t(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new t(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new Ae(32),J:new t(512),_:[],h:new t(32),$:[],w:new t(32768),C:[],v:[],d:new t(32768),D:[],u:new t(512),Q:[],r:new t(32768),s:new Ae(286),Y:new Ae(30),a:new Ae(19),t:new Ae(15e3),k:new t(65536),g:new t(32768)}}(),function(){for(var t=Ee.H.m,Ae=32768,_e=0;_e<Ae;_e++){var xe=_e;xe=(xe&2863311530)>>>1|(xe&1431655765)<<1,xe=(xe&3435973836)>>>2|(xe&858993459)<<2,xe=(xe&4042322160)>>>4|(xe&252645135)<<4,xe=(xe&4278255360)>>>8|(xe&16711935)<<8,t.r[_e]=(xe>>>16|xe<<16)>>>17}function Ce(Se,Re,Be){for(;Re--!=0;)Se.push(0,Be)}for(var _e=0;_e<32;_e++)t.q[_e]=t.S[_e]<<3|t.T[_e],t.c[_e]=t.p[_e]<<4|t.z[_e];Ce(t._,144,8),Ce(t._,112,9),Ce(t._,24,7),Ce(t._,8,8),Ee.H.n(t._,9),Ee.H.A(t._,9,t.J),Ee.H.l(t._,9),Ce(t.$,32,5),Ee.H.n(t.$,5),Ee.H.A(t.$,5,t.h),Ee.H.l(t.$,5),Ce(t.Q,19,0),Ce(t.C,286,0),Ce(t.D,30,0),Ce(t.v,320,0)}(),Ee.H.N}();UPNG.decode._readInterlace=function(Ee,t){for(var Ae=t.width,_e=t.height,xe=UPNG.decode._getBPP(t),Ce=xe>>3,Se=Math.ceil(Ae*xe/8),Re=new Uint8Array(_e*Se),Be=0,Fe=[0,0,4,0,2,0,1],Ie=[0,4,0,2,0,1,0],Ue=[8,8,8,4,4,2,2],ke=[8,8,4,4,2,2,1],Oe=0;Oe<7;){for(var je=Ue[Oe],Ke=ke[Oe],ze=0,Ve=0,Xe=Fe[Oe];Xe<_e;)Xe+=je,Ve++;for(var ir=Ie[Oe];ir<Ae;)ir+=Ke,ze++;var sr=Math.ceil(ze*xe/8);UPNG.decode._filterZero(Ee,t,Be,ze,Ve);for(var rr=0,nr=Fe[Oe];nr<_e;){for(var We=Ie[Oe],Ge=Be+rr*sr<<3;We<Ae;){if(xe==1){var Ze=Ee[Ge>>3];Ze=Ze>>7-(Ge&7)&1,Re[nr*Se+(We>>3)]|=Ze<<7-((We&7)<<0)}if(xe==2){var Ze=Ee[Ge>>3];Ze=Ze>>6-(Ge&7)&3,Re[nr*Se+(We>>2)]|=Ze<<6-((We&3)<<1)}if(xe==4){var Ze=Ee[Ge>>3];Ze=Ze>>4-(Ge&7)&15,Re[nr*Se+(We>>1)]|=Ze<<4-((We&1)<<2)}if(xe>=8)for(var or=nr*Se+We*Ce,He=0;He<Ce;He++)Re[or+He]=Ee[(Ge>>3)+He];Ge+=xe,We+=Ke}rr++,nr+=je}ze*Ve!=0&&(Be+=Ve*(1+sr)),Oe=Oe+1}return Re};UPNG.decode._getBPP=function(Ee){var t=[1,null,3,1,2,null,4][Ee.ctype];return t*Ee.depth};UPNG.decode._filterZero=function(Ee,t,Ae,_e,xe){var Ce=UPNG.decode._getBPP(t),Se=Math.ceil(_e*Ce/8),Re=UPNG.decode._paeth;Ce=Math.ceil(Ce/8);var Be=0,Fe=1,Ie=Ee[Ae],Ue=0;if(Ie>1&&(Ee[Ae]=[0,0,1][Ie-2]),Ie==3)for(Ue=Ce;Ue<Se;Ue++)Ee[Ue+1]=Ee[Ue+1]+(Ee[Ue+1-Ce]>>>1)&255;for(var ke=0;ke<xe;ke++)if(Be=Ae+ke*Se,Fe=Be+ke+1,Ie=Ee[Fe-1],Ue=0,Ie==0)for(;Ue<Se;Ue++)Ee[Be+Ue]=Ee[Fe+Ue];else if(Ie==1){for(;Ue<Ce;Ue++)Ee[Be+Ue]=Ee[Fe+Ue];for(;Ue<Se;Ue++)Ee[Be+Ue]=Ee[Fe+Ue]+Ee[Be+Ue-Ce]}else if(Ie==2)for(;Ue<Se;Ue++)Ee[Be+Ue]=Ee[Fe+Ue]+Ee[Be+Ue-Se];else if(Ie==3){for(;Ue<Ce;Ue++)Ee[Be+Ue]=Ee[Fe+Ue]+(Ee[Be+Ue-Se]>>>1);for(;Ue<Se;Ue++)Ee[Be+Ue]=Ee[Fe+Ue]+(Ee[Be+Ue-Se]+Ee[Be+Ue-Ce]>>>1)}else{for(;Ue<Ce;Ue++)Ee[Be+Ue]=Ee[Fe+Ue]+Re(0,Ee[Be+Ue-Se],0);for(;Ue<Se;Ue++)Ee[Be+Ue]=Ee[Fe+Ue]+Re(Ee[Be+Ue-Ce],Ee[Be+Ue-Se],Ee[Be+Ue-Ce-Se])}return Ee};UPNG.decode._paeth=function(Ee,t,Ae){var _e=Ee+t-Ae,xe=_e-Ee,Ce=_e-t,Se=_e-Ae;return xe*xe<=Ce*Ce&&xe*xe<=Se*Se?Ee:Ce*Ce<=Se*Se?t:Ae};UPNG.decode._IHDR=function(Ee,t,Ae){var _e=UPNG._bin;Ae.width=_e.readUint(Ee,t),t+=4,Ae.height=_e.readUint(Ee,t),t+=4,Ae.depth=Ee[t],t++,Ae.ctype=Ee[t],t++,Ae.compress=Ee[t],t++,Ae.filter=Ee[t],t++,Ae.interlace=Ee[t],t++};UPNG._bin={nextZero:function(Ee,t){for(;Ee[t]!=0;)t++;return t},readUshort:function(Ee,t){return Ee[t]<<8|Ee[t+1]},writeUshort:function(Ee,t,Ae){Ee[t]=Ae>>8&255,Ee[t+1]=Ae&255},readUint:function(Ee,t){return Ee[t]*(256*256*256)+(Ee[t+1]<<16|Ee[t+2]<<8|Ee[t+3])},writeUint:function(Ee,t,Ae){Ee[t]=Ae>>24&255,Ee[t+1]=Ae>>16&255,Ee[t+2]=Ae>>8&255,Ee[t+3]=Ae&255},readASCII:function(Ee,t,Ae){for(var _e="",xe=0;xe<Ae;xe++)_e+=String.fromCharCode(Ee[t+xe]);return _e},writeASCII:function(Ee,t,Ae){for(var _e=0;_e<Ae.length;_e++)Ee[t+_e]=Ae.charCodeAt(_e)},readBytes:function(Ee,t,Ae){for(var _e=[],xe=0;xe<Ae;xe++)_e.push(Ee[t+xe]);return _e},pad:function(Ee){return Ee.length<2?"0"+Ee:Ee},readUTF8:function(Ee,t,Ae){for(var _e="",xe,Ce=0;Ce<Ae;Ce++)_e+="%"+UPNG._bin.pad(Ee[t+Ce].toString(16));try{xe=decodeURIComponent(_e)}catch{return UPNG._bin.readASCII(Ee,t,Ae)}return xe}};UPNG._copyTile=function(Ee,t,Ae,_e,xe,Ce,Se,Re,Be){for(var Fe=Math.min(t,xe),Ie=Math.min(Ae,Ce),Ue=0,ke=0,Oe=0;Oe<Ie;Oe++)for(var je=0;je<Fe;je++)if(Se>=0&&Re>=0?(Ue=Oe*t+je<<2,ke=(Re+Oe)*xe+Se+je<<2):(Ue=(-Re+Oe)*t-Se+je<<2,ke=Oe*xe+je<<2),Be==0)_e[ke]=Ee[Ue],_e[ke+1]=Ee[Ue+1],_e[ke+2]=Ee[Ue+2],_e[ke+3]=Ee[Ue+3];else if(Be==1){var Ke=Ee[Ue+3]*.00392156862745098,ze=Ee[Ue]*Ke,Ve=Ee[Ue+1]*Ke,Xe=Ee[Ue+2]*Ke,ir=_e[ke+3]*(1/255),sr=_e[ke]*ir,rr=_e[ke+1]*ir,nr=_e[ke+2]*ir,We=1-Ke,Ge=Ke+ir*We,Ze=Ge==0?0:1/Ge;_e[ke+3]=255*Ge,_e[ke+0]=(ze+sr*We)*Ze,_e[ke+1]=(Ve+rr*We)*Ze,_e[ke+2]=(Xe+nr*We)*Ze}else if(Be==2){var Ke=Ee[Ue+3],ze=Ee[Ue],Ve=Ee[Ue+1],Xe=Ee[Ue+2],ir=_e[ke+3],sr=_e[ke],rr=_e[ke+1],nr=_e[ke+2];Ke==ir&&ze==sr&&Ve==rr&&Xe==nr?(_e[ke]=0,_e[ke+1]=0,_e[ke+2]=0,_e[ke+3]=0):(_e[ke]=ze,_e[ke+1]=Ve,_e[ke+2]=Xe,_e[ke+3]=Ke)}else if(Be==3){var Ke=Ee[Ue+3],ze=Ee[Ue],Ve=Ee[Ue+1],Xe=Ee[Ue+2],ir=_e[ke+3],sr=_e[ke],rr=_e[ke+1],nr=_e[ke+2];if(Ke==ir&&ze==sr&&Ve==rr&&Xe==nr)continue;if(Ke<220&&ir>20)return!1}return!0};UPNG.encode=function(Ee,t,Ae,_e,xe,Ce,Se){_e==null&&(_e=0),Se==null&&(Se=!1);var Re=UPNG.encode.compress(Ee,t,Ae,_e,[!1,!1,!1,0,Se]);return UPNG.encode.compressPNG(Re,-1),UPNG.encode._main(Re,t,Ae,xe,Ce)};UPNG.encodeLL=function(Ee,t,Ae,_e,xe,Ce,Se,Re){for(var Be={ctype:0+(_e==1?0:2)+(xe==0?0:4),depth:Ce,frames:[]},Fe=(_e+xe)*Ce,Ie=Fe*t,Ue=0;Ue<Ee.length;Ue++)Be.frames.push({rect:{x:0,y:0,width:t,height:Ae},img:new Uint8Array(Ee[Ue]),blend:0,dispose:1,bpp:Math.ceil(Fe/8),bpl:Math.ceil(Ie/8)});UPNG.encode.compressPNG(Be,0,!0);var ke=UPNG.encode._main(Be,t,Ae,Se,Re);return ke};UPNG.encode._main=function(Ee,t,Ae,_e,xe){xe==null&&(xe={});var Ce=UPNG.crc.crc,Se=UPNG._bin.writeUint,Re=UPNG._bin.writeUshort,Be=UPNG._bin.writeASCII,Fe=8,Ie=Ee.frames.length>1,Ue=!1,ke=33+(Ie?20:0);if(xe.sRGB!=null&&(ke+=13),xe.pHYs!=null&&(ke+=21),Ee.ctype==3){for(var Oe=Ee.plte.length,je=0;je<Oe;je++)Ee.plte[je]>>>24!=255&&(Ue=!0);ke+=8+Oe*3+4+(Ue?8+Oe*1+4:0)}for(var Ke=0;Ke<Ee.frames.length;Ke++){var ze=Ee.frames[Ke];Ie&&(ke+=38),ke+=ze.cimg.length+12,Ke!=0&&(ke+=4)}ke+=12;for(var Ve=new Uint8Array(ke),Xe=[137,80,78,71,13,10,26,10],je=0;je<8;je++)Ve[je]=Xe[je];if(Se(Ve,Fe,13),Fe+=4,Be(Ve,Fe,"IHDR"),Fe+=4,Se(Ve,Fe,t),Fe+=4,Se(Ve,Fe,Ae),Fe+=4,Ve[Fe]=Ee.depth,Fe++,Ve[Fe]=Ee.ctype,Fe++,Ve[Fe]=0,Fe++,Ve[Fe]=0,Fe++,Ve[Fe]=0,Fe++,Se(Ve,Fe,Ce(Ve,Fe-17,17)),Fe+=4,xe.sRGB!=null&&(Se(Ve,Fe,1),Fe+=4,Be(Ve,Fe,"sRGB"),Fe+=4,Ve[Fe]=xe.sRGB,Fe++,Se(Ve,Fe,Ce(Ve,Fe-5,5)),Fe+=4),xe.pHYs!=null&&(Se(Ve,Fe,9),Fe+=4,Be(Ve,Fe,"pHYs"),Fe+=4,Se(Ve,Fe,xe.pHYs[0]),Fe+=4,Se(Ve,Fe,xe.pHYs[1]),Fe+=4,Ve[Fe]=xe.pHYs[2],Fe++,Se(Ve,Fe,Ce(Ve,Fe-13,13)),Fe+=4),Ie&&(Se(Ve,Fe,8),Fe+=4,Be(Ve,Fe,"acTL"),Fe+=4,Se(Ve,Fe,Ee.frames.length),Fe+=4,Se(Ve,Fe,xe.loop!=null?xe.loop:0),Fe+=4,Se(Ve,Fe,Ce(Ve,Fe-12,12)),Fe+=4),Ee.ctype==3){var Oe=Ee.plte.length;Se(Ve,Fe,Oe*3),Fe+=4,Be(Ve,Fe,"PLTE"),Fe+=4;for(var je=0;je<Oe;je++){var ir=je*3,sr=Ee.plte[je],rr=sr&255,nr=sr>>>8&255,We=sr>>>16&255;Ve[Fe+ir+0]=rr,Ve[Fe+ir+1]=nr,Ve[Fe+ir+2]=We}if(Fe+=Oe*3,Se(Ve,Fe,Ce(Ve,Fe-Oe*3-4,Oe*3+4)),Fe+=4,Ue){Se(Ve,Fe,Oe),Fe+=4,Be(Ve,Fe,"tRNS"),Fe+=4;for(var je=0;je<Oe;je++)Ve[Fe+je]=Ee.plte[je]>>>24&255;Fe+=Oe,Se(Ve,Fe,Ce(Ve,Fe-Oe-4,Oe+4)),Fe+=4}}for(var Ge=0,Ke=0;Ke<Ee.frames.length;Ke++){var ze=Ee.frames[Ke];Ie&&(Se(Ve,Fe,26),Fe+=4,Be(Ve,Fe,"fcTL"),Fe+=4,Se(Ve,Fe,Ge++),Fe+=4,Se(Ve,Fe,ze.rect.width),Fe+=4,Se(Ve,Fe,ze.rect.height),Fe+=4,Se(Ve,Fe,ze.rect.x),Fe+=4,Se(Ve,Fe,ze.rect.y),Fe+=4,Re(Ve,Fe,_e[Ke]),Fe+=2,Re(Ve,Fe,1e3),Fe+=2,Ve[Fe]=ze.dispose,Fe++,Ve[Fe]=ze.blend,Fe++,Se(Ve,Fe,Ce(Ve,Fe-30,30)),Fe+=4);var Ze=ze.cimg,Oe=Ze.length;Se(Ve,Fe,Oe+(Ke==0?0:4)),Fe+=4;var or=Fe;Be(Ve,Fe,Ke==0?"IDAT":"fdAT"),Fe+=4,Ke!=0&&(Se(Ve,Fe,Ge++),Fe+=4),Ve.set(Ze,Fe),Fe+=Oe,Se(Ve,Fe,Ce(Ve,or,Fe-or)),Fe+=4}return Se(Ve,Fe,0),Fe+=4,Be(Ve,Fe,"IEND"),Fe+=4,Se(Ve,Fe,Ce(Ve,Fe-4,4)),Fe+=4,Ve.buffer};UPNG.encode.compressPNG=function(Ee,t,Ae){for(var _e=0;_e<Ee.frames.length;_e++){var xe=Ee.frames[_e];xe.rect.width;var Ce=xe.rect.height,Se=new Uint8Array(Ce*xe.bpl+Ce);xe.cimg=UPNG.encode._filterZero(xe.img,Ce,xe.bpp,xe.bpl,Se,t,Ae)}};UPNG.encode.compress=function(Ee,t,Ae,_e,xe){for(var Ce=xe[0],Se=xe[1],Re=xe[2],Be=xe[3],Fe=xe[4],Ie=6,Ue=8,ke=255,Oe=0;Oe<Ee.length;Oe++)for(var je=new Uint8Array(Ee[Oe]),Ke=je.length,ze=0;ze<Ke;ze+=4)ke&=je[ze+3];var Ve=ke!=255,Xe=UPNG.encode.framize(Ee,t,Ae,Ce,Se,Re),ir={},sr=[],rr=[];if(_e!=0){for(var nr=[],ze=0;ze<Xe.length;ze++)nr.push(Xe[ze].img.buffer);for(var We=UPNG.encode.concatRGBA(nr),Ge=UPNG.quantize(We,_e),Ze=0,or=new Uint8Array(Ge.abuf),ze=0;ze<Xe.length;ze++){var He=Xe[ze].img,Je=He.length;rr.push(new Uint8Array(Ge.inds.buffer,Ze>>2,Je>>2));for(var Oe=0;Oe<Je;Oe+=4)He[Oe]=or[Ze+Oe],He[Oe+1]=or[Ze+Oe+1],He[Oe+2]=or[Ze+Oe+2],He[Oe+3]=or[Ze+Oe+3];Ze+=Je}for(var ze=0;ze<Ge.plte.length;ze++)sr.push(Ge.plte[ze].est.rgba)}else for(var Oe=0;Oe<Xe.length;Oe++){var $e=Xe[Oe],mr=new Uint32Array($e.img.buffer),wr=$e.rect.width,Ke=mr.length,vr=new Uint8Array(Ke);rr.push(vr);for(var ze=0;ze<Ke;ze++){var ur=mr[ze];if(ze!=0&&ur==mr[ze-1])vr[ze]=vr[ze-1];else if(ze>wr&&ur==mr[ze-wr])vr[ze]=vr[ze-wr];else{var Cr=ir[ur];if(Cr==null&&(ir[ur]=Cr=sr.length,sr.push(ur),sr.length>=300))break;vr[ze]=Cr}}}var _r=sr.length;_r<=256&&Fe==!1&&(_r<=2?Ue=1:_r<=4?Ue=2:_r<=16?Ue=4:Ue=8,Ue=Math.max(Ue,Be));for(var Oe=0;Oe<Xe.length;Oe++){var $e=Xe[Oe];$e.rect.x,$e.rect.y;var wr=$e.rect.width,hr=$e.rect.height,Sr=$e.img;new Uint32Array(Sr.buffer);var ar=4*wr,tr=4;if(_r<=256&&Fe==!1){ar=Math.ceil(Ue*wr/8);for(var lr=new Uint8Array(ar*hr),pr=rr[Oe],Er=0;Er<hr;Er++){var ze=Er*ar,Rr=Er*wr;if(Ue==8)for(var Tr=0;Tr<wr;Tr++)lr[ze+Tr]=pr[Rr+Tr];else if(Ue==4)for(var Tr=0;Tr<wr;Tr++)lr[ze+(Tr>>1)]|=pr[Rr+Tr]<<4-(Tr&1)*4;else if(Ue==2)for(var Tr=0;Tr<wr;Tr++)lr[ze+(Tr>>2)]|=pr[Rr+Tr]<<6-(Tr&3)*2;else if(Ue==1)for(var Tr=0;Tr<wr;Tr++)lr[ze+(Tr>>3)]|=pr[Rr+Tr]<<7-(Tr&7)*1}Sr=lr,Ie=3,tr=1}else if(Ve==!1&&Xe.length==1){for(var lr=new Uint8Array(wr*hr*3),Ir=wr*hr,ze=0;ze<Ir;ze++){var He=ze*3,Zr=ze*4;lr[He]=Sr[Zr],lr[He+1]=Sr[Zr+1],lr[He+2]=Sr[Zr+2]}Sr=lr,Ie=2,tr=3,ar=3*wr}$e.img=Sr,$e.bpl=ar,$e.bpp=tr}return{ctype:Ie,depth:Ue,plte:sr,frames:Xe}};UPNG.encode.framize=function(Ee,t,Ae,_e,xe,Ce){for(var Se=[],Re=0;Re<Ee.length;Re++){var Be=new Uint8Array(Ee[Re]),Fe=new Uint32Array(Be.buffer),Ie,Ue=0,ke=0,Oe=t,je=Ae,Ke=_e?1:0;if(Re!=0){for(var ze=Ce||_e||Re==1||Se[Re-2].dispose!=0?1:2,Ve=0,Xe=1e9,ir=0;ir<ze;ir++){for(var $e=new Uint8Array(Ee[Re-1-ir]),sr=new Uint32Array(Ee[Re-1-ir]),rr=t,nr=Ae,We=-1,Ge=-1,Ze=0;Ze<Ae;Ze++)for(var or=0;or<t;or++){var He=Ze*t+or;Fe[He]!=sr[He]&&(or<rr&&(rr=or),or>We&&(We=or),Ze<nr&&(nr=Ze),Ze>Ge&&(Ge=Ze))}We==-1&&(rr=nr=We=Ge=0),xe&&((rr&1)==1&&rr--,(nr&1)==1&&nr--);var Je=(We-rr+1)*(Ge-nr+1);Je<Xe&&(Xe=Je,Ve=ir,Ue=rr,ke=nr,Oe=We-rr+1,je=Ge-nr+1)}var $e=new Uint8Array(Ee[Re-1-Ve]);Ve==1&&(Se[Re-1].dispose=2),Ie=new Uint8Array(Oe*je*4),UPNG._copyTile($e,t,Ae,Ie,Oe,je,-Ue,-ke,0),Ke=UPNG._copyTile(Be,t,Ae,Ie,Oe,je,-Ue,-ke,3)?1:0,Ke==1?UPNG.encode._prepareDiff(Be,t,Ae,Ie,{x:Ue,y:ke,width:Oe,height:je}):UPNG._copyTile(Be,t,Ae,Ie,Oe,je,-Ue,-ke,0)}else Ie=Be.slice(0);Se.push({rect:{x:Ue,y:ke,width:Oe,height:je},img:Ie,blend:Ke,dispose:0})}if(_e)for(var Re=0;Re<Se.length;Re++){var mr=Se[Re];if(mr.blend!=1){var wr=mr.rect,vr=Se[Re-1].rect,ur=Math.min(wr.x,vr.x),Cr=Math.min(wr.y,vr.y),_r=Math.max(wr.x+wr.width,vr.x+vr.width),hr=Math.max(wr.y+wr.height,vr.y+vr.height),Sr={x:ur,y:Cr,width:_r-ur,height:hr-Cr};Se[Re-1].dispose=1,Re-1!=0&&UPNG.encode._updateFrame(Ee,t,Ae,Se,Re-1,Sr,xe),UPNG.encode._updateFrame(Ee,t,Ae,Se,Re,Sr,xe)}}var ar=0;if(Ee.length!=1)for(var He=0;He<Se.length;He++){var mr=Se[He];ar+=mr.rect.width*mr.rect.height}return Se};UPNG.encode._updateFrame=function(Ee,t,Ae,_e,xe,Ce,Se){for(var Re=Uint8Array,Be=Uint32Array,Fe=new Re(Ee[xe-1]),Ie=new Be(Ee[xe-1]),Ue=xe+1<Ee.length?new Re(Ee[xe+1]):null,ke=new Re(Ee[xe]),Oe=new Be(ke.buffer),je=t,Ke=Ae,ze=-1,Ve=-1,Xe=0;Xe<Ce.height;Xe++)for(var ir=0;ir<Ce.width;ir++){var sr=Ce.x+ir,rr=Ce.y+Xe,nr=rr*t+sr,We=Oe[nr];We==0||_e[xe-1].dispose==0&&Ie[nr]==We&&(Ue==null||Ue[nr*4+3]!=0)||(sr<je&&(je=sr),sr>ze&&(ze=sr),rr<Ke&&(Ke=rr),rr>Ve&&(Ve=rr))}ze==-1&&(je=Ke=ze=Ve=0),Se&&((je&1)==1&&je--,(Ke&1)==1&&Ke--),Ce={x:je,y:Ke,width:ze-je+1,height:Ve-Ke+1};var Ge=_e[xe];Ge.rect=Ce,Ge.blend=1,Ge.img=new Uint8Array(Ce.width*Ce.height*4),_e[xe-1].dispose==0?(UPNG._copyTile(Fe,t,Ae,Ge.img,Ce.width,Ce.height,-Ce.x,-Ce.y,0),UPNG.encode._prepareDiff(ke,t,Ae,Ge.img,Ce)):UPNG._copyTile(ke,t,Ae,Ge.img,Ce.width,Ce.height,-Ce.x,-Ce.y,0)};UPNG.encode._prepareDiff=function(Ee,t,Ae,_e,xe){UPNG._copyTile(Ee,t,Ae,_e,xe.width,xe.height,-xe.x,-xe.y,2)};UPNG.encode._filterZero=function(Ee,t,Ae,_e,xe,Ce,Se){var Re=[],Be=[0,1,2,3,4];Ce!=-1?Be=[Ce]:(t*_e>5e5||Ae==1)&&(Be=[0]);var Fe;Se&&(Fe={level:0});for(var Ie=Se&&UZIP!=null?UZIP:pako,Ue=0;Ue<Be.length;Ue++){for(var ke=0;ke<t;ke++)UPNG.encode._filterLine(xe,Ee,ke,_e,Ae,Be[Ue]);Re.push(Ie.deflate(xe,Fe))}for(var Oe,je=1e9,Ue=0;Ue<Re.length;Ue++)Re[Ue].length<je&&(Oe=Ue,je=Re[Ue].length);return Re[Oe]};UPNG.encode._filterLine=function(Ee,t,Ae,_e,xe,Ce){var Se=Ae*_e,Re=Se+Ae,Be=UPNG.decode._paeth;if(Ee[Re]=Ce,Re++,Ce==0)if(_e<500)for(var Fe=0;Fe<_e;Fe++)Ee[Re+Fe]=t[Se+Fe];else Ee.set(new Uint8Array(t.buffer,Se,_e),Re);else if(Ce==1){for(var Fe=0;Fe<xe;Fe++)Ee[Re+Fe]=t[Se+Fe];for(var Fe=xe;Fe<_e;Fe++)Ee[Re+Fe]=t[Se+Fe]-t[Se+Fe-xe]+256&255}else if(Ae==0){for(var Fe=0;Fe<xe;Fe++)Ee[Re+Fe]=t[Se+Fe];if(Ce==2)for(var Fe=xe;Fe<_e;Fe++)Ee[Re+Fe]=t[Se+Fe];if(Ce==3)for(var Fe=xe;Fe<_e;Fe++)Ee[Re+Fe]=t[Se+Fe]-(t[Se+Fe-xe]>>1)+256&255;if(Ce==4)for(var Fe=xe;Fe<_e;Fe++)Ee[Re+Fe]=t[Se+Fe]-Be(t[Se+Fe-xe],0,0)+256&255}else{if(Ce==2)for(var Fe=0;Fe<_e;Fe++)Ee[Re+Fe]=t[Se+Fe]+256-t[Se+Fe-_e]&255;if(Ce==3){for(var Fe=0;Fe<xe;Fe++)Ee[Re+Fe]=t[Se+Fe]+256-(t[Se+Fe-_e]>>1)&255;for(var Fe=xe;Fe<_e;Fe++)Ee[Re+Fe]=t[Se+Fe]+256-(t[Se+Fe-_e]+t[Se+Fe-xe]>>1)&255}if(Ce==4){for(var Fe=0;Fe<xe;Fe++)Ee[Re+Fe]=t[Se+Fe]+256-Be(0,t[Se+Fe-_e],0)&255;for(var Fe=xe;Fe<_e;Fe++)Ee[Re+Fe]=t[Se+Fe]+256-Be(t[Se+Fe-xe],t[Se+Fe-_e],t[Se+Fe-xe-_e])&255}}};UPNG.crc={table:function(){for(var Ee=new Uint32Array(256),t=0;t<256;t++){for(var Ae=t,_e=0;_e<8;_e++)Ae&1?Ae=3988292384^Ae>>>1:Ae=Ae>>>1;Ee[t]=Ae}return Ee}(),update:function(Ee,t,Ae,_e){for(var xe=0;xe<_e;xe++)Ee=UPNG.crc.table[(Ee^t[Ae+xe])&255]^Ee>>>8;return Ee},crc:function(Ee,t,Ae){return UPNG.crc.update(4294967295,Ee,t,Ae)^4294967295}};UPNG.quantize=function(Ee,t){var Ae=new Uint8Array(Ee),_e=Ae.slice(0),xe=new Uint32Array(_e.buffer),Ce=UPNG.quantize.getKDtree(_e,t),Se=Ce[0],Re=Ce[1];UPNG.quantize.planeDst;for(var Be=Ae,Fe=xe,Ie=Be.length,Ue=new Uint8Array(Ae.length>>2),ke=0;ke<Ie;ke+=4){var Oe=Be[ke]*.00392156862745098,je=Be[ke+1]*(1/255),Ke=Be[ke+2]*(1/255),ze=Be[ke+3]*(1/255),Ve=UPNG.quantize.getNearest(Se,Oe,je,Ke,ze);Ue[ke>>2]=Ve.ind,Fe[ke>>2]=Ve.est.rgba}return{abuf:_e.buffer,inds:Ue,plte:Re}};UPNG.quantize.getKDtree=function(Ee,t,Ae){Ae==null&&(Ae=1e-4);var _e=new Uint32Array(Ee.buffer),xe={i0:0,i1:Ee.length,bst:null,est:null,tdst:0,left:null,right:null};xe.bst=UPNG.quantize.stats(Ee,xe.i0,xe.i1),xe.est=UPNG.quantize.estats(xe.bst);for(var Ce=[xe];Ce.length<t;){for(var Se=0,Re=0,Be=0;Be<Ce.length;Be++)Ce[Be].est.L>Se&&(Se=Ce[Be].est.L,Re=Be);if(Se<Ae)break;var Fe=Ce[Re],Ie=UPNG.quantize.splitPixels(Ee,_e,Fe.i0,Fe.i1,Fe.est.e,Fe.est.eMq255),Ue=Fe.i0>=Ie||Fe.i1<=Ie;if(Ue){Fe.est.L=0;continue}var ke={i0:Fe.i0,i1:Ie,bst:null,est:null,tdst:0,left:null,right:null};ke.bst=UPNG.quantize.stats(Ee,ke.i0,ke.i1),ke.est=UPNG.quantize.estats(ke.bst);var Oe={i0:Ie,i1:Fe.i1,bst:null,est:null,tdst:0,left:null,right:null};Oe.bst={R:[],m:[],N:Fe.bst.N-ke.bst.N};for(var Be=0;Be<16;Be++)Oe.bst.R[Be]=Fe.bst.R[Be]-ke.bst.R[Be];for(var Be=0;Be<4;Be++)Oe.bst.m[Be]=Fe.bst.m[Be]-ke.bst.m[Be];Oe.est=UPNG.quantize.estats(Oe.bst),Fe.left=ke,Fe.right=Oe,Ce[Re]=ke,Ce.push(Oe)}Ce.sort(function(je,Ke){return Ke.bst.N-je.bst.N});for(var Be=0;Be<Ce.length;Be++)Ce[Be].ind=Be;return[xe,Ce]};UPNG.quantize.getNearest=function(Ee,t,Ae,_e,xe){if(Ee.left==null)return Ee.tdst=UPNG.quantize.dist(Ee.est.q,t,Ae,_e,xe),Ee;var Ce=UPNG.quantize.planeDst(Ee.est,t,Ae,_e,xe),Se=Ee.left,Re=Ee.right;Ce>0&&(Se=Ee.right,Re=Ee.left);var Be=UPNG.quantize.getNearest(Se,t,Ae,_e,xe);if(Be.tdst<=Ce*Ce)return Be;var Fe=UPNG.quantize.getNearest(Re,t,Ae,_e,xe);return Fe.tdst<Be.tdst?Fe:Be};UPNG.quantize.planeDst=function(Ee,t,Ae,_e,xe){var Ce=Ee.e;return Ce[0]*t+Ce[1]*Ae+Ce[2]*_e+Ce[3]*xe-Ee.eMq};UPNG.quantize.dist=function(Ee,t,Ae,_e,xe){var Ce=t-Ee[0],Se=Ae-Ee[1],Re=_e-Ee[2],Be=xe-Ee[3];return Ce*Ce+Se*Se+Re*Re+Be*Be};UPNG.quantize.splitPixels=function(Ee,t,Ae,_e,xe,Ce){var Se=UPNG.quantize.vecDot;for(_e-=4;Ae<_e;){for(;Se(Ee,Ae,xe)<=Ce;)Ae+=4;for(;Se(Ee,_e,xe)>Ce;)_e-=4;if(Ae>=_e)break;var Re=t[Ae>>2];t[Ae>>2]=t[_e>>2],t[_e>>2]=Re,Ae+=4,_e-=4}for(;Se(Ee,Ae,xe)>Ce;)Ae-=4;return Ae+4};UPNG.quantize.vecDot=function(Ee,t,Ae){return Ee[t]*Ae[0]+Ee[t+1]*Ae[1]+Ee[t+2]*Ae[2]+Ee[t+3]*Ae[3]};UPNG.quantize.stats=function(Ee,t,Ae){for(var _e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],xe=[0,0,0,0],Ce=Ae-t>>2,Se=t;Se<Ae;Se+=4){var Re=Ee[Se]*.00392156862745098,Be=Ee[Se+1]*(1/255),Fe=Ee[Se+2]*(1/255),Ie=Ee[Se+3]*(1/255);xe[0]+=Re,xe[1]+=Be,xe[2]+=Fe,xe[3]+=Ie,_e[0]+=Re*Re,_e[1]+=Re*Be,_e[2]+=Re*Fe,_e[3]+=Re*Ie,_e[5]+=Be*Be,_e[6]+=Be*Fe,_e[7]+=Be*Ie,_e[10]+=Fe*Fe,_e[11]+=Fe*Ie,_e[15]+=Ie*Ie}return _e[4]=_e[1],_e[8]=_e[2],_e[9]=_e[6],_e[12]=_e[3],_e[13]=_e[7],_e[14]=_e[11],{R:_e,m:xe,N:Ce}};UPNG.quantize.estats=function(Ee){var t=Ee.R,Ae=Ee.m,_e=Ee.N,xe=Ae[0],Ce=Ae[1],Se=Ae[2],Re=Ae[3],Be=_e==0?0:1/_e,Fe=[t[0]-xe*xe*Be,t[1]-xe*Ce*Be,t[2]-xe*Se*Be,t[3]-xe*Re*Be,t[4]-Ce*xe*Be,t[5]-Ce*Ce*Be,t[6]-Ce*Se*Be,t[7]-Ce*Re*Be,t[8]-Se*xe*Be,t[9]-Se*Ce*Be,t[10]-Se*Se*Be,t[11]-Se*Re*Be,t[12]-Re*xe*Be,t[13]-Re*Ce*Be,t[14]-Re*Se*Be,t[15]-Re*Re*Be],Ie=Fe,Ue=UPNG.M4,ke=[.5,.5,.5,.5],Oe=0,je=0;if(_e!=0)for(var Ke=0;Ke<10&&(ke=Ue.multVec(Ie,ke),je=Math.sqrt(Ue.dot(ke,ke)),ke=Ue.sml(1/je,ke),!(Math.abs(je-Oe)<1e-9));Ke++)Oe=je;var ze=[xe*Be,Ce*Be,Se*Be,Re*Be],Ve=Ue.dot(Ue.sml(255,ze),ke);return{Cov:Fe,q:ze,e:ke,L:Oe,eMq255:Ve,eMq:Ue.dot(ke,ze),rgba:(Math.round(255*ze[3])<<24|Math.round(255*ze[2])<<16|Math.round(255*ze[1])<<8|Math.round(255*ze[0])<<0)>>>0}};UPNG.M4={multVec:function(Ee,t){return[Ee[0]*t[0]+Ee[1]*t[1]+Ee[2]*t[2]+Ee[3]*t[3],Ee[4]*t[0]+Ee[5]*t[1]+Ee[6]*t[2]+Ee[7]*t[3],Ee[8]*t[0]+Ee[9]*t[1]+Ee[10]*t[2]+Ee[11]*t[3],Ee[12]*t[0]+Ee[13]*t[1]+Ee[14]*t[2]+Ee[15]*t[3]]},dot:function(Ee,t){return Ee[0]*t[0]+Ee[1]*t[1]+Ee[2]*t[2]+Ee[3]*t[3]},sml:function(Ee,t){return[Ee*t[0],Ee*t[1],Ee*t[2],Ee*t[3]]}};UPNG.encode.concatRGBA=function(Ee){for(var t=0,Ae=0;Ae<Ee.length;Ae++)t+=Ee[Ae].byteLength;for(var _e=new Uint8Array(t),xe=0,Ae=0;Ae<Ee.length;Ae++){for(var Ce=new Uint8Array(Ee[Ae]),Se=Ce.length,Re=0;Re<Se;Re+=4){var Be=Ce[Re],Fe=Ce[Re+1],Ie=Ce[Re+2],Ue=Ce[Re+3];Ue==0&&(Be=Fe=Ie=0),_e[xe+Re]=Be,_e[xe+Re+1]=Fe,_e[xe+Re+2]=Ie,_e[xe+Re+3]=Ue}xe+=Se}return _e.buffer};var getImageType=function(Ee){if(Ee===0)return PngType.Greyscale;if(Ee===2)return PngType.Truecolour;if(Ee===3)return PngType.IndexedColour;if(Ee===4)return PngType.GreyscaleWithAlpha;if(Ee===6)return PngType.TruecolourWithAlpha;throw new Error("Unknown color type: "+Ee)},splitAlphaChannel=function(Ee){for(var t=Math.floor(Ee.length/4),Ae=new Uint8Array(t*3),_e=new Uint8Array(t*1),xe=0,Ce=0,Se=0;xe<Ee.length;)Ae[Ce++]=Ee[xe++],Ae[Ce++]=Ee[xe++],Ae[Ce++]=Ee[xe++],_e[Se++]=Ee[xe++];return{rgbChannel:Ae,alphaChannel:_e}},PngType;(function(Ee){Ee.Greyscale="Greyscale",Ee.Truecolour="Truecolour",Ee.IndexedColour="IndexedColour",Ee.GreyscaleWithAlpha="GreyscaleWithAlpha",Ee.TruecolourWithAlpha="TruecolourWithAlpha"})(PngType||(PngType={}));var PNG=function(){function Ee(t){var Ae=UPNG.decode(t),_e=UPNG.toRGBA8(Ae);if(_e.length>1)throw new Error("Animated PNGs are not supported");var xe=new Uint8Array(_e[0]),Ce=splitAlphaChannel(xe),Se=Ce.rgbChannel,Re=Ce.alphaChannel;this.rgbChannel=Se;var Be=Re.some(function(Fe){return Fe<255});Be&&(this.alphaChannel=Re),this.type=getImageType(Ae.ctype),this.width=Ae.width,this.height=Ae.height,this.bitsPerComponent=8}return Ee.load=function(t){return new Ee(t)},Ee}(),PngEmbedder=function(){function Ee(t){this.image=t,this.bitsPerComponent=t.bitsPerComponent,this.width=t.width,this.height=t.height,this.colorSpace="DeviceRGB"}return Ee.for=function(t){return __awaiter$1(this,void 0,void 0,function(){var Ae;return __generator(this,function(_e){return Ae=PNG.load(t),[2,new Ee(Ae)]})})},Ee.prototype.embedIntoContext=function(t,Ae){return __awaiter$1(this,void 0,void 0,function(){var _e,xe;return __generator(this,function(Ce){return _e=this.embedAlphaChannel(t),xe=t.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:_e}),Ae?(t.assign(Ae,xe),[2,Ae]):[2,t.register(xe)]})})},Ee.prototype.embedAlphaChannel=function(t){if(this.image.alphaChannel){var Ae=t.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return t.register(Ae)}},Ee}(),Stream=function(){function Ee(t,Ae,_e){this.bytes=t,this.start=Ae||0,this.pos=this.start,this.end=Ae&&_e?Ae+_e:this.bytes.length}return Object.defineProperty(Ee.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(Ee.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),Ee.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},Ee.prototype.getUint16=function(){var t=this.getByte(),Ae=this.getByte();return t===-1||Ae===-1?-1:(t<<8)+Ae},Ee.prototype.getInt32=function(){var t=this.getByte(),Ae=this.getByte(),_e=this.getByte(),xe=this.getByte();return(t<<24)+(Ae<<16)+(_e<<8)+xe},Ee.prototype.getBytes=function(t,Ae){Ae===void 0&&(Ae=!1);var _e=this.bytes,xe=this.pos,Ce=this.end;if(t){var Re=xe+t;Re>Ce&&(Re=Ce),this.pos=Re;var Se=_e.subarray(xe,Re);return Ae?new Uint8ClampedArray(Se):Se}else{var Se=_e.subarray(xe,Ce);return Ae?new Uint8ClampedArray(Se):Se}},Ee.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},Ee.prototype.peekBytes=function(t,Ae){Ae===void 0&&(Ae=!1);var _e=this.getBytes(t,Ae);return this.pos-=_e.length,_e},Ee.prototype.skip=function(t){t||(t=1),this.pos+=t},Ee.prototype.reset=function(){this.pos=this.start},Ee.prototype.moveStart=function(){this.start=this.pos},Ee.prototype.makeSubStream=function(t,Ae){return new Ee(this.bytes,t,Ae)},Ee.prototype.decode=function(){return this.bytes},Ee}(),emptyBuffer=new Uint8Array(0),DecodeStream=function(){function Ee(t){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=emptyBuffer,this.minBufferLength=512,t)for(;this.minBufferLength<t;)this.minBufferLength*=2}return Object.defineProperty(Ee.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),Ee.prototype.getByte=function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},Ee.prototype.getUint16=function(){var t=this.getByte(),Ae=this.getByte();return t===-1||Ae===-1?-1:(t<<8)+Ae},Ee.prototype.getInt32=function(){var t=this.getByte(),Ae=this.getByte(),_e=this.getByte(),xe=this.getByte();return(t<<24)+(Ae<<16)+(_e<<8)+xe},Ee.prototype.getBytes=function(t,Ae){Ae===void 0&&(Ae=!1);var _e,xe=this.pos;if(t){for(this.ensureBuffer(xe+t),_e=xe+t;!this.eof&&this.bufferLength<_e;)this.readBlock();var Ce=this.bufferLength;_e>Ce&&(_e=Ce)}else{for(;!this.eof;)this.readBlock();_e=this.bufferLength}this.pos=_e;var Se=this.buffer.subarray(xe,_e);return Ae&&!(Se instanceof Uint8ClampedArray)?new Uint8ClampedArray(Se):Se},Ee.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},Ee.prototype.peekBytes=function(t,Ae){Ae===void 0&&(Ae=!1);var _e=this.getBytes(t,Ae);return this.pos-=_e.length,_e},Ee.prototype.skip=function(t){t||(t=1),this.pos+=t},Ee.prototype.reset=function(){this.pos=0},Ee.prototype.makeSubStream=function(t,Ae){for(var _e=t+Ae;this.bufferLength<=_e&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,Ae)},Ee.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},Ee.prototype.readBlock=function(){throw new MethodNotImplementedError(this.constructor.name,"readBlock")},Ee.prototype.ensureBuffer=function(t){var Ae=this.buffer;if(t<=Ae.byteLength)return Ae;for(var _e=this.minBufferLength;_e<t;)_e*=2;var xe=new Uint8Array(_e);return xe.set(Ae),this.buffer=xe},Ee}(),isSpace=function(Ee){return Ee===32||Ee===9||Ee===13||Ee===10},Ascii85Stream=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=Ee.call(this,_e)||this;return xe.stream=Ae,xe.input=new Uint8Array(5),_e&&(_e=.8*_e),xe}return t.prototype.readBlock=function(){for(var Ae=126,_e=122,xe=-1,Ce=this.stream,Se=Ce.getByte();isSpace(Se);)Se=Ce.getByte();if(Se===xe||Se===Ae){this.eof=!0;return}var Re=this.bufferLength,Be,Fe;if(Se===_e){for(Be=this.ensureBuffer(Re+4),Fe=0;Fe<4;++Fe)Be[Re+Fe]=0;this.bufferLength+=4}else{var Ie=this.input;for(Ie[0]=Se,Fe=1;Fe<5;++Fe){for(Se=Ce.getByte();isSpace(Se);)Se=Ce.getByte();if(Ie[Fe]=Se,Se===xe||Se===Ae)break}if(Be=this.ensureBuffer(Re+Fe-1),this.bufferLength+=Fe-1,Fe<5){for(;Fe<5;++Fe)Ie[Fe]=117;this.eof=!0}var Ue=0;for(Fe=0;Fe<5;++Fe)Ue=Ue*85+(Ie[Fe]-33);for(Fe=3;Fe>=0;--Fe)Be[Re+Fe]=Ue&255,Ue>>=8}},t}(DecodeStream),AsciiHexStream=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=Ee.call(this,_e)||this;return xe.stream=Ae,xe.firstDigit=-1,_e&&(_e=.5*_e),xe}return t.prototype.readBlock=function(){var Ae=8e3,_e=this.stream.getBytes(Ae);if(!_e.length){this.eof=!0;return}for(var xe=_e.length+1>>1,Ce=this.ensureBuffer(this.bufferLength+xe),Se=this.bufferLength,Re=this.firstDigit,Be=0,Fe=_e.length;Be<Fe;Be++){var Ie=_e[Be],Ue=void 0;if(Ie>=48&&Ie<=57)Ue=Ie&15;else if(Ie>=65&&Ie<=70||Ie>=97&&Ie<=102)Ue=(Ie&15)+9;else if(Ie===62){this.eof=!0;break}else continue;Re<0?Re=Ue:(Ce[Se++]=Re<<4|Ue,Re=-1)}Re>=0&&this.eof&&(Ce[Se++]=Re<<4,Re=-1),this.firstDigit=Re,this.bufferLength=Se},t}(DecodeStream),codeLenCodeMap=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],FlateStream=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=Ee.call(this,_e)||this;xe.stream=Ae;var Ce=Ae.getByte(),Se=Ae.getByte();if(Ce===-1||Se===-1)throw new Error("Invalid header in flate stream: "+Ce+", "+Se);if((Ce&15)!==8)throw new Error("Unknown compression method in flate stream: "+Ce+", "+Se);if(((Ce<<8)+Se)%31!==0)throw new Error("Bad FCHECK in flate stream: "+Ce+", "+Se);if(Se&32)throw new Error("FDICT bit set in flate stream: "+Ce+", "+Se);return xe.codeSize=0,xe.codeBuf=0,xe}return t.prototype.readBlock=function(){var Ae,_e,xe=this.stream,Ce=this.getBits(3);if(Ce&1&&(this.eof=!0),Ce>>=1,Ce===0){var Se=void 0;if((Se=xe.getByte())===-1)throw new Error("Bad block header in flate stream");var Re=Se;if((Se=xe.getByte())===-1)throw new Error("Bad block header in flate stream");if(Re|=Se<<8,(Se=xe.getByte())===-1)throw new Error("Bad block header in flate stream");var Be=Se;if((Se=xe.getByte())===-1)throw new Error("Bad block header in flate stream");if(Be|=Se<<8,Be!==(~Re&65535)&&(Re!==0||Be!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var Fe=this.bufferLength;Ae=this.ensureBuffer(Fe+Re);var Ie=Fe+Re;if(this.bufferLength=Ie,Re===0)xe.peekByte()===-1&&(this.eof=!0);else for(var Ue=Fe;Ue<Ie;++Ue){if((Se=xe.getByte())===-1){this.eof=!0;break}Ae[Ue]=Se}return}var ke,Oe;if(Ce===1)ke=fixedLitCodeTab,Oe=fixedDistCodeTab;else if(Ce===2){var je=this.getBits(5)+257,Ke=this.getBits(5)+1,ze=this.getBits(4)+4,Ve=new Uint8Array(codeLenCodeMap.length),Xe=void 0;for(Xe=0;Xe<ze;++Xe)Ve[codeLenCodeMap[Xe]]=this.getBits(3);var ir=this.generateHuffmanTable(Ve);_e=0,Xe=0;for(var sr=je+Ke,rr=new Uint8Array(sr),nr=void 0,We=void 0,Ge=void 0;Xe<sr;){var Ze=this.getCode(ir);if(Ze===16)nr=2,We=3,Ge=_e;else if(Ze===17)nr=3,We=3,Ge=_e=0;else if(Ze===18)nr=7,We=11,Ge=_e=0;else{rr[Xe++]=_e=Ze;continue}for(var or=this.getBits(nr)+We;or-- >0;)rr[Xe++]=Ge}ke=this.generateHuffmanTable(rr.subarray(0,je)),Oe=this.generateHuffmanTable(rr.subarray(je,sr))}else throw new Error("Unknown block type in flate stream");Ae=this.buffer;for(var He=Ae?Ae.length:0,Je=this.bufferLength;;){var $e=this.getCode(ke);if($e<256){Je+1>=He&&(Ae=this.ensureBuffer(Je+1),He=Ae.length),Ae[Je++]=$e;continue}if($e===256){this.bufferLength=Je;return}$e-=257,$e=lengthDecode[$e];var mr=$e>>16;mr>0&&(mr=this.getBits(mr)),_e=($e&65535)+mr,$e=this.getCode(Oe),$e=distDecode[$e],mr=$e>>16,mr>0&&(mr=this.getBits(mr));var wr=($e&65535)+mr;Je+_e>=He&&(Ae=this.ensureBuffer(Je+_e),He=Ae.length);for(var vr=0;vr<_e;++vr,++Je)Ae[Je]=Ae[Je-wr]}},t.prototype.getBits=function(Ae){for(var _e=this.stream,xe=this.codeSize,Ce=this.codeBuf,Se;xe<Ae;){if((Se=_e.getByte())===-1)throw new Error("Bad encoding in flate stream");Ce|=Se<<xe,xe+=8}return Se=Ce&(1<<Ae)-1,this.codeBuf=Ce>>Ae,this.codeSize=xe-=Ae,Se},t.prototype.getCode=function(Ae){for(var _e=this.stream,xe=Ae[0],Ce=Ae[1],Se=this.codeSize,Re=this.codeBuf,Be;Se<Ce&&(Be=_e.getByte())!==-1;)Re|=Be<<Se,Se+=8;var Fe=xe[Re&(1<<Ce)-1];typeof xe=="number"&&console.log("FLATE:",Fe);var Ie=Fe>>16,Ue=Fe&65535;if(Ie<1||Se<Ie)throw new Error("Bad encoding in flate stream");return this.codeBuf=Re>>Ie,this.codeSize=Se-Ie,Ue},t.prototype.generateHuffmanTable=function(Ae){var _e=Ae.length,xe=0,Ce;for(Ce=0;Ce<_e;++Ce)Ae[Ce]>xe&&(xe=Ae[Ce]);for(var Se=1<<xe,Re=new Int32Array(Se),Be=1,Fe=0,Ie=2;Be<=xe;++Be,Fe<<=1,Ie<<=1)for(var Ue=0;Ue<_e;++Ue)if(Ae[Ue]===Be){var ke=0,Oe=Fe;for(Ce=0;Ce<Be;++Ce)ke=ke<<1|Oe&1,Oe>>=1;for(Ce=ke;Ce<Se;Ce+=Ie)Re[Ce]=Be<<16|Ue;++Fe}return[Re,xe]},t}(DecodeStream),LZWStream=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){var Ce=Ee.call(this,_e)||this;Ce.stream=Ae,Ce.cachedData=0,Ce.bitsCached=0;for(var Se=4096,Re={earlyChange:xe,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(Se),dictionaryLengths:new Uint16Array(Se),dictionaryPrevCodes:new Uint16Array(Se),currentSequence:new Uint8Array(Se),currentSequenceLength:0},Be=0;Be<256;++Be)Re.dictionaryValues[Be]=Be,Re.dictionaryLengths[Be]=1;return Ce.lzwState=Re,Ce}return t.prototype.readBlock=function(){var Ae=512,_e=Ae*2,xe=Ae,Ce,Se,Re,Be=this.lzwState;if(Be){var Fe=Be.earlyChange,Ie=Be.nextCode,Ue=Be.dictionaryValues,ke=Be.dictionaryLengths,Oe=Be.dictionaryPrevCodes,je=Be.codeLength,Ke=Be.prevCode,ze=Be.currentSequence,Ve=Be.currentSequenceLength,Xe=0,ir=this.bufferLength,sr=this.ensureBuffer(this.bufferLength+_e);for(Ce=0;Ce<Ae;Ce++){var rr=this.readBits(je),nr=Ve>0;if(!rr||rr<256)ze[0]=rr,Ve=1;else if(rr>=258)if(rr<Ie)for(Ve=ke[rr],Se=Ve-1,Re=rr;Se>=0;Se--)ze[Se]=Ue[Re],Re=Oe[Re];else ze[Ve++]=ze[0];else if(rr===256){je=9,Ie=258,Ve=0;continue}else{this.eof=!0,delete this.lzwState;break}if(nr&&(Oe[Ie]=Ke,ke[Ie]=ke[Ke]+1,Ue[Ie]=ze[0],Ie++,je=Ie+Fe&Ie+Fe-1?je:Math.min(Math.log(Ie+Fe)/.6931471805599453+1,12)|0),Ke=rr,Xe+=Ve,_e<Xe){do _e+=xe;while(_e<Xe);sr=this.ensureBuffer(this.bufferLength+_e)}for(Se=0;Se<Ve;Se++)sr[ir++]=ze[Se]}Be.nextCode=Ie,Be.codeLength=je,Be.prevCode=Ke,Be.currentSequenceLength=Ve,this.bufferLength=ir}},t.prototype.readBits=function(Ae){for(var _e=this.bitsCached,xe=this.cachedData;_e<Ae;){var Ce=this.stream.getByte();if(Ce===-1)return this.eof=!0,null;xe=xe<<8|Ce,_e+=8}return this.bitsCached=_e-=Ae,this.cachedData=xe,xe>>>_e&(1<<Ae)-1},t}(DecodeStream),RunLengthStream=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=Ee.call(this,_e)||this;return xe.stream=Ae,xe}return t.prototype.readBlock=function(){var Ae=this.stream.getBytes(2);if(!Ae||Ae.length<2||Ae[0]===128){this.eof=!0;return}var _e,xe=this.bufferLength,Ce=Ae[0];if(Ce<128){if(_e=this.ensureBuffer(xe+Ce+1),_e[xe++]=Ae[1],Ce>0){var Se=this.stream.getBytes(Ce);_e.set(Se,xe),xe+=Ce}}else{Ce=257-Ce;var Re=Ae[1];_e=this.ensureBuffer(xe+Ce+1);for(var Be=0;Be<Ce;Be++)_e[xe++]=Re}this.bufferLength=xe},t}(DecodeStream),decodeStream=function(Ee,t,Ae){if(t===PDFName.of("FlateDecode"))return new FlateStream(Ee);if(t===PDFName.of("LZWDecode")){var _e=1;if(Ae instanceof PDFDict){var xe=Ae.lookup(PDFName.of("EarlyChange"));xe instanceof PDFNumber&&(_e=xe.asNumber())}return new LZWStream(Ee,void 0,_e)}if(t===PDFName.of("ASCII85Decode"))return new Ascii85Stream(Ee);if(t===PDFName.of("ASCIIHexDecode"))return new AsciiHexStream(Ee);if(t===PDFName.of("RunLengthDecode"))return new RunLengthStream(Ee);throw new UnsupportedEncodingError(t.asString())},decodePDFRawStream=function(Ee){var t=Ee.dict,Ae=Ee.contents,_e=new Stream(Ae),xe=t.lookup(PDFName.of("Filter")),Ce=t.lookup(PDFName.of("DecodeParms"));if(xe instanceof PDFName)_e=decodeStream(_e,xe,Ce);else if(xe instanceof PDFArray)for(var Se=0,Re=xe.size();Se<Re;Se++)_e=decodeStream(_e,xe.lookup(Se,PDFName),Ce&&Ce.lookupMaybe(Se,PDFDict));else if(xe)throw new UnexpectedObjectTypeError([PDFName,PDFArray],xe);return _e},fullPageBoundingBox=function(Ee){var t=Ee.MediaBox(),Ae=t.lookup(2,PDFNumber).asNumber()-t.lookup(0,PDFNumber).asNumber(),_e=t.lookup(3,PDFNumber).asNumber()-t.lookup(1,PDFNumber).asNumber();return{left:0,bottom:0,right:Ae,top:_e}},boundingBoxAdjustedMatrix=function(Ee){return[1,0,0,1,-Ee.left,-Ee.bottom]},PDFPageEmbedder=function(){function Ee(t,Ae,_e){this.page=t;var xe=Ae??fullPageBoundingBox(t);this.width=xe.right-xe.left,this.height=xe.top-xe.bottom,this.boundingBox=xe,this.transformationMatrix=_e??boundingBoxAdjustedMatrix(xe)}return Ee.for=function(t,Ae,_e){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(xe){return[2,new Ee(t,Ae,_e)]})})},Ee.prototype.embedIntoContext=function(t,Ae){return __awaiter$1(this,void 0,void 0,function(){var _e,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke;return __generator(this,function(Oe){if(_e=this.page.normalizedEntries(),xe=_e.Contents,Ce=_e.Resources,!xe)throw new MissingPageContentsEmbeddingError;return Se=this.decodeContents(xe),Re=this.boundingBox,Be=Re.left,Fe=Re.bottom,Ie=Re.right,Ue=Re.top,ke=t.flateStream(Se,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[Be,Fe,Ie,Ue],Matrix:this.transformationMatrix,Resources:Ce}),Ae?(t.assign(Ae,ke),[2,Ae]):[2,t.register(ke)]})})},Ee.prototype.decodeContents=function(t){for(var Ae=Uint8Array.of(CharCodes$1.Newline),_e=[],xe=0,Ce=t.size();xe<Ce;xe++){var Se=t.lookup(xe,PDFStream),Re=void 0;if(Se instanceof PDFRawStream)Re=decodePDFRawStream(Se).decode();else if(Se instanceof PDFContentStream)Re=Se.getUnencodedContents();else throw new UnrecognizedStreamTypeError(Se);_e.push(Re,Ae)}return mergeIntoTypedArray.apply(void 0,_e)},Ee}(),asEnum=function(Ee,t){if(Ee!==void 0)return t[Ee]},NonFullScreenPageMode;(function(Ee){Ee.UseNone="UseNone",Ee.UseOutlines="UseOutlines",Ee.UseThumbs="UseThumbs",Ee.UseOC="UseOC"})(NonFullScreenPageMode||(NonFullScreenPageMode={}));var ReadingDirection;(function(Ee){Ee.L2R="L2R",Ee.R2L="R2L"})(ReadingDirection||(ReadingDirection={}));var PrintScaling;(function(Ee){Ee.None="None",Ee.AppDefault="AppDefault"})(PrintScaling||(PrintScaling={}));var Duplex;(function(Ee){Ee.Simplex="Simplex",Ee.DuplexFlipShortEdge="DuplexFlipShortEdge",Ee.DuplexFlipLongEdge="DuplexFlipLongEdge"})(Duplex||(Duplex={}));var ViewerPreferences=function(){function Ee(t){this.dict=t}return Ee.prototype.lookupBool=function(t){var Ae=this.dict.lookup(PDFName.of(t));if(Ae instanceof PDFBool)return Ae},Ee.prototype.lookupName=function(t){var Ae=this.dict.lookup(PDFName.of(t));if(Ae instanceof PDFName)return Ae},Ee.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},Ee.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},Ee.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},Ee.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},Ee.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},Ee.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},Ee.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},Ee.prototype.Direction=function(){return this.lookupName("Direction")},Ee.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},Ee.prototype.Duplex=function(){return this.lookupName("Duplex")},Ee.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},Ee.prototype.PrintPageRange=function(){var t=this.dict.lookup(PDFName.of("PrintPageRange"));if(t instanceof PDFArray)return t},Ee.prototype.NumCopies=function(){var t=this.dict.lookup(PDFName.of("NumCopies"));if(t instanceof PDFNumber)return t},Ee.prototype.getHideToolbar=function(){var t,Ae;return(Ae=(t=this.HideToolbar())===null||t===void 0?void 0:t.asBoolean())!==null&&Ae!==void 0?Ae:!1},Ee.prototype.getHideMenubar=function(){var t,Ae;return(Ae=(t=this.HideMenubar())===null||t===void 0?void 0:t.asBoolean())!==null&&Ae!==void 0?Ae:!1},Ee.prototype.getHideWindowUI=function(){var t,Ae;return(Ae=(t=this.HideWindowUI())===null||t===void 0?void 0:t.asBoolean())!==null&&Ae!==void 0?Ae:!1},Ee.prototype.getFitWindow=function(){var t,Ae;return(Ae=(t=this.FitWindow())===null||t===void 0?void 0:t.asBoolean())!==null&&Ae!==void 0?Ae:!1},Ee.prototype.getCenterWindow=function(){var t,Ae;return(Ae=(t=this.CenterWindow())===null||t===void 0?void 0:t.asBoolean())!==null&&Ae!==void 0?Ae:!1},Ee.prototype.getDisplayDocTitle=function(){var t,Ae;return(Ae=(t=this.DisplayDocTitle())===null||t===void 0?void 0:t.asBoolean())!==null&&Ae!==void 0?Ae:!1},Ee.prototype.getNonFullScreenPageMode=function(){var t,Ae,_e=(t=this.NonFullScreenPageMode())===null||t===void 0?void 0:t.decodeText();return(Ae=asEnum(_e,NonFullScreenPageMode))!==null&&Ae!==void 0?Ae:NonFullScreenPageMode.UseNone},Ee.prototype.getReadingDirection=function(){var t,Ae,_e=(t=this.Direction())===null||t===void 0?void 0:t.decodeText();return(Ae=asEnum(_e,ReadingDirection))!==null&&Ae!==void 0?Ae:ReadingDirection.L2R},Ee.prototype.getPrintScaling=function(){var t,Ae,_e=(t=this.PrintScaling())===null||t===void 0?void 0:t.decodeText();return(Ae=asEnum(_e,PrintScaling))!==null&&Ae!==void 0?Ae:PrintScaling.AppDefault},Ee.prototype.getDuplex=function(){var t,Ae=(t=this.Duplex())===null||t===void 0?void 0:t.decodeText();return asEnum(Ae,Duplex)},Ee.prototype.getPickTrayByPDFSize=function(){var t;return(t=this.PickTrayByPDFSize())===null||t===void 0?void 0:t.asBoolean()},Ee.prototype.getPrintPageRange=function(){var t=this.PrintPageRange();if(!t)return[];for(var Ae=[],_e=0;_e<t.size();_e+=2){var xe=t.lookup(_e,PDFNumber).asNumber(),Ce=t.lookup(_e+1,PDFNumber).asNumber();Ae.push({start:xe,end:Ce})}return Ae},Ee.prototype.getNumCopies=function(){var t,Ae;return(Ae=(t=this.NumCopies())===null||t===void 0?void 0:t.asNumber())!==null&&Ae!==void 0?Ae:1},Ee.prototype.setHideToolbar=function(t){var Ae=this.dict.context.obj(t);this.dict.set(PDFName.of("HideToolbar"),Ae)},Ee.prototype.setHideMenubar=function(t){var Ae=this.dict.context.obj(t);this.dict.set(PDFName.of("HideMenubar"),Ae)},Ee.prototype.setHideWindowUI=function(t){var Ae=this.dict.context.obj(t);this.dict.set(PDFName.of("HideWindowUI"),Ae)},Ee.prototype.setFitWindow=function(t){var Ae=this.dict.context.obj(t);this.dict.set(PDFName.of("FitWindow"),Ae)},Ee.prototype.setCenterWindow=function(t){var Ae=this.dict.context.obj(t);this.dict.set(PDFName.of("CenterWindow"),Ae)},Ee.prototype.setDisplayDocTitle=function(t){var Ae=this.dict.context.obj(t);this.dict.set(PDFName.of("DisplayDocTitle"),Ae)},Ee.prototype.setNonFullScreenPageMode=function(t){assertIsOneOf(t,"nonFullScreenPageMode",NonFullScreenPageMode);var Ae=PDFName.of(t);this.dict.set(PDFName.of("NonFullScreenPageMode"),Ae)},Ee.prototype.setReadingDirection=function(t){assertIsOneOf(t,"readingDirection",ReadingDirection);var Ae=PDFName.of(t);this.dict.set(PDFName.of("Direction"),Ae)},Ee.prototype.setPrintScaling=function(t){assertIsOneOf(t,"printScaling",PrintScaling);var Ae=PDFName.of(t);this.dict.set(PDFName.of("PrintScaling"),Ae)},Ee.prototype.setDuplex=function(t){assertIsOneOf(t,"duplex",Duplex);var Ae=PDFName.of(t);this.dict.set(PDFName.of("Duplex"),Ae)},Ee.prototype.setPickTrayByPDFSize=function(t){var Ae=this.dict.context.obj(t);this.dict.set(PDFName.of("PickTrayByPDFSize"),Ae)},Ee.prototype.setPrintPageRange=function(t){Array.isArray(t)||(t=[t]);for(var Ae=[],_e=0,xe=t.length;_e<xe;_e++)Ae.push(t[_e].start),Ae.push(t[_e].end);assertEachIs(Ae,"printPageRange",["number"]);var Ce=this.dict.context.obj(Ae);this.dict.set(PDFName.of("PrintPageRange"),Ce)},Ee.prototype.setNumCopies=function(t){assertRange(t,"numCopies",1,Number.MAX_VALUE),assertInteger(t,"numCopies");var Ae=this.dict.context.obj(t);this.dict.set(PDFName.of("NumCopies"),Ae)},Ee.fromDict=function(t){return new Ee(t)},Ee.create=function(t){var Ae=t.obj({});return new Ee(Ae)},Ee}(),tfRegex$1=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,PDFAcroField=function(){function Ee(t,Ae){this.dict=t,this.ref=Ae}return Ee.prototype.T=function(){return this.dict.lookupMaybe(PDFName.of("T"),PDFString,PDFHexString)},Ee.prototype.Ff=function(){var t=this.getInheritableAttribute(PDFName.of("Ff"));return this.dict.context.lookupMaybe(t,PDFNumber)},Ee.prototype.V=function(){var t=this.getInheritableAttribute(PDFName.of("V"));return this.dict.context.lookup(t)},Ee.prototype.Kids=function(){return this.dict.lookupMaybe(PDFName.of("Kids"),PDFArray)},Ee.prototype.DA=function(){var t=this.dict.lookup(PDFName.of("DA"));if(t instanceof PDFString||t instanceof PDFHexString)return t},Ee.prototype.setKids=function(t){this.dict.set(PDFName.of("Kids"),this.dict.context.obj(t))},Ee.prototype.getParent=function(){var t=this.dict.get(PDFName.of("Parent"));if(t instanceof PDFRef){var Ae=this.dict.lookup(PDFName.of("Parent"),PDFDict);return new Ee(Ae,t)}},Ee.prototype.setParent=function(t){t?this.dict.set(PDFName.of("Parent"),t):this.dict.delete(PDFName.of("Parent"))},Ee.prototype.getFullyQualifiedName=function(){var t=this.getParent();return t?t.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},Ee.prototype.getPartialName=function(){var t;return(t=this.T())===null||t===void 0?void 0:t.decodeText()},Ee.prototype.setPartialName=function(t){t?this.dict.set(PDFName.of("T"),PDFHexString.fromText(t)):this.dict.delete(PDFName.of("T"))},Ee.prototype.setDefaultAppearance=function(t){this.dict.set(PDFName.of("DA"),PDFString.of(t))},Ee.prototype.getDefaultAppearance=function(){var t=this.DA();return t instanceof PDFHexString?t.decodeText():t==null?void 0:t.asString()},Ee.prototype.setFontSize=function(t){var Ae,_e=(Ae=this.getFullyQualifiedName())!==null&&Ae!==void 0?Ae:"",xe=this.getDefaultAppearance();if(!xe)throw new MissingDAEntryError(_e);var Ce=findLastMatch(xe,tfRegex$1);if(!Ce.match)throw new MissingTfOperatorError(_e);var Se=xe.slice(0,Ce.pos-Ce.match[0].length),Re=Ce.pos<=xe.length?xe.slice(Ce.pos):"",Be=Ce.match[1],Fe=Se+" /"+Be+" "+t+" Tf "+Re;this.setDefaultAppearance(Fe)},Ee.prototype.getFlags=function(){var t,Ae;return(Ae=(t=this.Ff())===null||t===void 0?void 0:t.asNumber())!==null&&Ae!==void 0?Ae:0},Ee.prototype.setFlags=function(t){this.dict.set(PDFName.of("Ff"),PDFNumber.of(t))},Ee.prototype.hasFlag=function(t){var Ae=this.getFlags();return(Ae&t)!==0},Ee.prototype.setFlag=function(t){var Ae=this.getFlags();this.setFlags(Ae|t)},Ee.prototype.clearFlag=function(t){var Ae=this.getFlags();this.setFlags(Ae&~t)},Ee.prototype.setFlagTo=function(t,Ae){Ae?this.setFlag(t):this.clearFlag(t)},Ee.prototype.getInheritableAttribute=function(t){var Ae;return this.ascend(function(_e){Ae||(Ae=_e.dict.get(t))}),Ae},Ee.prototype.ascend=function(t){t(this);var Ae=this.getParent();Ae&&Ae.ascend(t)},Ee}(),BorderStyle=function(){function Ee(t){this.dict=t}return Ee.prototype.W=function(){var t=this.dict.lookup(PDFName.of("W"));if(t instanceof PDFNumber)return t},Ee.prototype.getWidth=function(){var t,Ae;return(Ae=(t=this.W())===null||t===void 0?void 0:t.asNumber())!==null&&Ae!==void 0?Ae:1},Ee.prototype.setWidth=function(t){var Ae=this.dict.context.obj(t);this.dict.set(PDFName.of("W"),Ae)},Ee.fromDict=function(t){return new Ee(t)},Ee}(),PDFAnnotation=function(){function Ee(t){this.dict=t}return Ee.prototype.Rect=function(){return this.dict.lookup(PDFName.of("Rect"),PDFArray)},Ee.prototype.AP=function(){return this.dict.lookupMaybe(PDFName.of("AP"),PDFDict)},Ee.prototype.F=function(){var t=this.dict.lookup(PDFName.of("F"));return this.dict.context.lookupMaybe(t,PDFNumber)},Ee.prototype.getRectangle=function(){var t,Ae=this.Rect();return(t=Ae==null?void 0:Ae.asRectangle())!==null&&t!==void 0?t:{x:0,y:0,width:0,height:0}},Ee.prototype.setRectangle=function(t){var Ae=t.x,_e=t.y,xe=t.width,Ce=t.height,Se=this.dict.context.obj([Ae,_e,Ae+xe,_e+Ce]);this.dict.set(PDFName.of("Rect"),Se)},Ee.prototype.getAppearanceState=function(){var t=this.dict.lookup(PDFName.of("AS"));if(t instanceof PDFName)return t},Ee.prototype.setAppearanceState=function(t){this.dict.set(PDFName.of("AS"),t)},Ee.prototype.setAppearances=function(t){this.dict.set(PDFName.of("AP"),t)},Ee.prototype.ensureAP=function(){var t=this.AP();return t||(t=this.dict.context.obj({}),this.dict.set(PDFName.of("AP"),t)),t},Ee.prototype.getNormalAppearance=function(){var t=this.ensureAP(),Ae=t.get(PDFName.of("N"));if(Ae instanceof PDFRef||Ae instanceof PDFDict)return Ae;throw new Error("Unexpected N type: "+(Ae==null?void 0:Ae.constructor.name))},Ee.prototype.setNormalAppearance=function(t){var Ae=this.ensureAP();Ae.set(PDFName.of("N"),t)},Ee.prototype.setRolloverAppearance=function(t){var Ae=this.ensureAP();Ae.set(PDFName.of("R"),t)},Ee.prototype.setDownAppearance=function(t){var Ae=this.ensureAP();Ae.set(PDFName.of("D"),t)},Ee.prototype.removeRolloverAppearance=function(){var t=this.AP();t==null||t.delete(PDFName.of("R"))},Ee.prototype.removeDownAppearance=function(){var t=this.AP();t==null||t.delete(PDFName.of("D"))},Ee.prototype.getAppearances=function(){var t=this.AP();if(t){var Ae=t.lookup(PDFName.of("N"),PDFDict,PDFStream),_e=t.lookupMaybe(PDFName.of("R"),PDFDict,PDFStream),xe=t.lookupMaybe(PDFName.of("D"),PDFDict,PDFStream);return{normal:Ae,rollover:_e,down:xe}}},Ee.prototype.getFlags=function(){var t,Ae;return(Ae=(t=this.F())===null||t===void 0?void 0:t.asNumber())!==null&&Ae!==void 0?Ae:0},Ee.prototype.setFlags=function(t){this.dict.set(PDFName.of("F"),PDFNumber.of(t))},Ee.prototype.hasFlag=function(t){var Ae=this.getFlags();return(Ae&t)!==0},Ee.prototype.setFlag=function(t){var Ae=this.getFlags();this.setFlags(Ae|t)},Ee.prototype.clearFlag=function(t){var Ae=this.getFlags();this.setFlags(Ae&~t)},Ee.prototype.setFlagTo=function(t,Ae){Ae?this.setFlag(t):this.clearFlag(t)},Ee.fromDict=function(t){return new Ee(t)},Ee}(),AppearanceCharacteristics=function(){function Ee(t){this.dict=t}return Ee.prototype.R=function(){var t=this.dict.lookup(PDFName.of("R"));if(t instanceof PDFNumber)return t},Ee.prototype.BC=function(){var t=this.dict.lookup(PDFName.of("BC"));if(t instanceof PDFArray)return t},Ee.prototype.BG=function(){var t=this.dict.lookup(PDFName.of("BG"));if(t instanceof PDFArray)return t},Ee.prototype.CA=function(){var t=this.dict.lookup(PDFName.of("CA"));if(t instanceof PDFHexString||t instanceof PDFString)return t},Ee.prototype.RC=function(){var t=this.dict.lookup(PDFName.of("RC"));if(t instanceof PDFHexString||t instanceof PDFString)return t},Ee.prototype.AC=function(){var t=this.dict.lookup(PDFName.of("AC"));if(t instanceof PDFHexString||t instanceof PDFString)return t},Ee.prototype.getRotation=function(){var t;return(t=this.R())===null||t===void 0?void 0:t.asNumber()},Ee.prototype.getBorderColor=function(){var t=this.BC();if(t){for(var Ae=[],_e=0,xe=t==null?void 0:t.size();_e<xe;_e++){var Ce=t.get(_e);Ce instanceof PDFNumber&&Ae.push(Ce.asNumber())}return Ae}},Ee.prototype.getBackgroundColor=function(){var t=this.BG();if(t){for(var Ae=[],_e=0,xe=t==null?void 0:t.size();_e<xe;_e++){var Ce=t.get(_e);Ce instanceof PDFNumber&&Ae.push(Ce.asNumber())}return Ae}},Ee.prototype.getCaptions=function(){var t=this.CA(),Ae=this.RC(),_e=this.AC();return{normal:t==null?void 0:t.decodeText(),rollover:Ae==null?void 0:Ae.decodeText(),down:_e==null?void 0:_e.decodeText()}},Ee.prototype.setRotation=function(t){var Ae=this.dict.context.obj(t);this.dict.set(PDFName.of("R"),Ae)},Ee.prototype.setBorderColor=function(t){var Ae=this.dict.context.obj(t);this.dict.set(PDFName.of("BC"),Ae)},Ee.prototype.setBackgroundColor=function(t){var Ae=this.dict.context.obj(t);this.dict.set(PDFName.of("BG"),Ae)},Ee.prototype.setCaptions=function(t){var Ae=PDFHexString.fromText(t.normal);if(this.dict.set(PDFName.of("CA"),Ae),t.rollover){var _e=PDFHexString.fromText(t.rollover);this.dict.set(PDFName.of("RC"),_e)}else this.dict.delete(PDFName.of("RC"));if(t.down){var xe=PDFHexString.fromText(t.down);this.dict.set(PDFName.of("AC"),xe)}else this.dict.delete(PDFName.of("AC"))},Ee.fromDict=function(t){return new Ee(t)},Ee}(),PDFWidgetAnnotation=function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.MK=function(){var Ae=this.dict.lookup(PDFName.of("MK"));if(Ae instanceof PDFDict)return Ae},t.prototype.BS=function(){var Ae=this.dict.lookup(PDFName.of("BS"));if(Ae instanceof PDFDict)return Ae},t.prototype.DA=function(){var Ae=this.dict.lookup(PDFName.of("DA"));if(Ae instanceof PDFString||Ae instanceof PDFHexString)return Ae},t.prototype.P=function(){var Ae=this.dict.get(PDFName.of("P"));if(Ae instanceof PDFRef)return Ae},t.prototype.setP=function(Ae){this.dict.set(PDFName.of("P"),Ae)},t.prototype.setDefaultAppearance=function(Ae){this.dict.set(PDFName.of("DA"),PDFString.of(Ae))},t.prototype.getDefaultAppearance=function(){var Ae=this.DA();return Ae instanceof PDFHexString?Ae.decodeText():Ae==null?void 0:Ae.asString()},t.prototype.getAppearanceCharacteristics=function(){var Ae=this.MK();if(Ae)return AppearanceCharacteristics.fromDict(Ae)},t.prototype.getOrCreateAppearanceCharacteristics=function(){var Ae=this.MK();if(Ae)return AppearanceCharacteristics.fromDict(Ae);var _e=AppearanceCharacteristics.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("MK"),_e.dict),_e},t.prototype.getBorderStyle=function(){var Ae=this.BS();if(Ae)return BorderStyle.fromDict(Ae)},t.prototype.getOrCreateBorderStyle=function(){var Ae=this.BS();if(Ae)return BorderStyle.fromDict(Ae);var _e=BorderStyle.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("BS"),_e.dict),_e},t.prototype.getOnValue=function(){var Ae,_e=(Ae=this.getAppearances())===null||Ae===void 0?void 0:Ae.normal;if(_e instanceof PDFDict)for(var xe=_e.keys(),Ce=0,Se=xe.length;Ce<Se;Ce++){var Re=xe[Ce];if(Re!==PDFName.of("Off"))return Re}},t.fromDict=function(Ae){return new t(Ae)},t.create=function(Ae,_e){var xe=Ae.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:_e});return new t(xe)},t}(PDFAnnotation),PDFAcroTerminal=function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.FT=function(){var Ae=this.getInheritableAttribute(PDFName.of("FT"));return this.dict.context.lookup(Ae,PDFName)},t.prototype.getWidgets=function(){var Ae=this.Kids();if(!Ae)return[PDFWidgetAnnotation.fromDict(this.dict)];for(var _e=new Array(Ae.size()),xe=0,Ce=Ae.size();xe<Ce;xe++){var Se=Ae.lookup(xe,PDFDict);_e[xe]=PDFWidgetAnnotation.fromDict(Se)}return _e},t.prototype.addWidget=function(Ae){var _e=this.normalizedEntries().Kids;_e.push(Ae)},t.prototype.removeWidget=function(Ae){var _e=this.Kids();if(_e){if(Ae<0||Ae>_e.size())throw new IndexOutOfBoundsError(Ae,0,_e.size());_e.remove(Ae)}else{if(Ae!==0)throw new IndexOutOfBoundsError(Ae,0,0);this.setKids([])}},t.prototype.normalizedEntries=function(){var Ae=this.Kids();return Ae||(Ae=this.dict.context.obj([this.ref]),this.dict.set(PDFName.of("Kids"),Ae)),{Kids:Ae}},t.fromDict=function(Ae,_e){return new t(Ae,_e)},t}(PDFAcroField),PDFAcroButton=function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},t.prototype.setOpt=function(Ae){this.dict.set(PDFName.of("Opt"),this.dict.context.obj(Ae))},t.prototype.getExportValues=function(){var Ae=this.Opt();if(Ae){if(Ae instanceof PDFString||Ae instanceof PDFHexString)return[Ae];for(var _e=[],xe=0,Ce=Ae.size();xe<Ce;xe++){var Se=Ae.lookup(xe);(Se instanceof PDFString||Se instanceof PDFHexString)&&_e.push(Se)}return _e}},t.prototype.removeExportValue=function(Ae){var _e=this.Opt();if(_e)if(_e instanceof PDFString||_e instanceof PDFHexString){if(Ae!==0)throw new IndexOutOfBoundsError(Ae,0,0);this.setOpt([])}else{if(Ae<0||Ae>_e.size())throw new IndexOutOfBoundsError(Ae,0,_e.size());_e.remove(Ae)}},t.prototype.normalizeExportValues=function(){for(var Ae,_e,xe,Ce,Se=(Ae=this.getExportValues())!==null&&Ae!==void 0?Ae:[],Re=[],Be=this.getWidgets(),Fe=0,Ie=Be.length;Fe<Ie;Fe++){var Ue=Be[Fe],ke=(_e=Se[Fe])!==null&&_e!==void 0?_e:PDFHexString.fromText((Ce=(xe=Ue.getOnValue())===null||xe===void 0?void 0:xe.decodeText())!==null&&Ce!==void 0?Ce:"");Re.push(ke)}this.setOpt(Re)},t.prototype.addOpt=function(Ae,_e){var xe;this.normalizeExportValues();var Ce=Ae.decodeText(),Se;if(_e)for(var Re=(xe=this.getExportValues())!==null&&xe!==void 0?xe:[],Be=0,Fe=Re.length;Be<Fe;Be++){var Ie=Re[Be];Ie.decodeText()===Ce&&(Se=Be)}var Ue=this.Opt();return Ue.push(Ae),Se??Ue.size()-1},t.prototype.addWidgetWithOpt=function(Ae,_e,xe){var Ce=this.addOpt(_e,xe),Se=PDFName.of(String(Ce));return this.addWidget(Ae),Se},t}(PDFAcroTerminal),PDFAcroCheckBox=function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.setValue=function(Ae){var _e,xe=(_e=this.getOnValue())!==null&&_e!==void 0?_e:PDFName.of("Yes");if(Ae!==xe&&Ae!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),Ae);for(var Ce=this.getWidgets(),Se=0,Re=Ce.length;Se<Re;Se++){var Be=Ce[Se],Fe=Be.getOnValue()===Ae?Ae:PDFName.of("Off");Be.setAppearanceState(Fe)}},t.prototype.getValue=function(){var Ae=this.V();return Ae instanceof PDFName?Ae:PDFName.of("Off")},t.prototype.getOnValue=function(){var Ae=this.getWidgets()[0];return Ae==null?void 0:Ae.getOnValue()},t.fromDict=function(Ae,_e){return new t(Ae,_e)},t.create=function(Ae){var _e=Ae.obj({FT:"Btn",Kids:[]}),xe=Ae.register(_e);return new t(_e,xe)},t}(PDFAcroButton),flag$1=function(Ee){return 1<<Ee},AcroFieldFlags;(function(Ee){Ee[Ee.ReadOnly=flag$1(0)]="ReadOnly",Ee[Ee.Required=flag$1(1)]="Required",Ee[Ee.NoExport=flag$1(2)]="NoExport"})(AcroFieldFlags||(AcroFieldFlags={}));var AcroButtonFlags;(function(Ee){Ee[Ee.NoToggleToOff=flag$1(14)]="NoToggleToOff",Ee[Ee.Radio=flag$1(15)]="Radio",Ee[Ee.PushButton=flag$1(16)]="PushButton",Ee[Ee.RadiosInUnison=flag$1(25)]="RadiosInUnison"})(AcroButtonFlags||(AcroButtonFlags={}));var AcroTextFlags;(function(Ee){Ee[Ee.Multiline=flag$1(12)]="Multiline",Ee[Ee.Password=flag$1(13)]="Password",Ee[Ee.FileSelect=flag$1(20)]="FileSelect",Ee[Ee.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",Ee[Ee.DoNotScroll=flag$1(23)]="DoNotScroll",Ee[Ee.Comb=flag$1(24)]="Comb",Ee[Ee.RichText=flag$1(25)]="RichText"})(AcroTextFlags||(AcroTextFlags={}));var AcroChoiceFlags;(function(Ee){Ee[Ee.Combo=flag$1(17)]="Combo",Ee[Ee.Edit=flag$1(18)]="Edit",Ee[Ee.Sort=flag$1(19)]="Sort",Ee[Ee.MultiSelect=flag$1(21)]="MultiSelect",Ee[Ee.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",Ee[Ee.CommitOnSelChange=flag$1(26)]="CommitOnSelChange"})(AcroChoiceFlags||(AcroChoiceFlags={}));var PDFAcroChoice=function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.setValues=function(Ae){if(this.hasFlag(AcroChoiceFlags.Combo)&&!this.hasFlag(AcroChoiceFlags.Edit)&&!this.valuesAreValid(Ae))throw new InvalidAcroFieldValueError;if(Ae.length===0&&this.dict.delete(PDFName.of("V")),Ae.length===1&&this.dict.set(PDFName.of("V"),Ae[0]),Ae.length>1){if(!this.hasFlag(AcroChoiceFlags.MultiSelect))throw new MultiSelectValueError;this.dict.set(PDFName.of("V"),this.dict.context.obj(Ae))}this.updateSelectedIndices(Ae)},t.prototype.valuesAreValid=function(Ae){for(var _e=this.getOptions(),xe=function(Be,Fe){var Ie=Ae[Be].decodeText();if(!_e.find(function(Ue){return Ie===(Ue.display||Ue.value).decodeText()}))return{value:!1}},Ce=0,Se=Ae.length;Ce<Se;Ce++){var Re=xe(Ce);if(typeof Re=="object")return Re.value}return!0},t.prototype.updateSelectedIndices=function(Ae){if(Ae.length>1){for(var _e=new Array(Ae.length),xe=this.getOptions(),Ce=function(Be,Fe){var Ie=Ae[Be].decodeText();_e[Be]=xe.findIndex(function(Ue){return Ie===(Ue.display||Ue.value).decodeText()})},Se=0,Re=Ae.length;Se<Re;Se++)Ce(Se,Re);this.dict.set(PDFName.of("I"),this.dict.context.obj(_e.sort()))}else this.dict.delete(PDFName.of("I"))},t.prototype.getValues=function(){var Ae=this.V();if(Ae instanceof PDFString||Ae instanceof PDFHexString)return[Ae];if(Ae instanceof PDFArray){for(var _e=[],xe=0,Ce=Ae.size();xe<Ce;xe++){var Se=Ae.lookup(xe);(Se instanceof PDFString||Se instanceof PDFHexString)&&_e.push(Se)}return _e}return[]},t.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},t.prototype.setOptions=function(Ae){for(var _e=new Array(Ae.length),xe=0,Ce=Ae.length;xe<Ce;xe++){var Se=Ae[xe],Re=Se.value,Be=Se.display;_e[xe]=this.dict.context.obj([Re,Be||Re])}this.dict.set(PDFName.of("Opt"),this.dict.context.obj(_e))},t.prototype.getOptions=function(){var Ae=this.Opt();if(Ae instanceof PDFString||Ae instanceof PDFHexString)return[{value:Ae,display:Ae}];if(Ae instanceof PDFArray){for(var _e=[],xe=0,Ce=Ae.size();xe<Ce;xe++){var Se=Ae.lookup(xe);if((Se instanceof PDFString||Se instanceof PDFHexString)&&_e.push({value:Se,display:Se}),Se instanceof PDFArray&&Se.size()>0){var Re=Se.lookup(0,PDFString,PDFHexString),Be=Se.lookupMaybe(1,PDFString,PDFHexString);_e.push({value:Re,display:Be||Re})}}return _e}return[]},t}(PDFAcroTerminal),PDFAcroComboBox=function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.fromDict=function(Ae,_e){return new t(Ae,_e)},t.create=function(Ae){var _e=Ae.obj({FT:"Ch",Ff:AcroChoiceFlags.Combo,Kids:[]}),xe=Ae.register(_e);return new t(_e,xe)},t}(PDFAcroChoice),PDFAcroNonTerminal=function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.addField=function(Ae){var _e=this.normalizedEntries().Kids;_e==null||_e.push(Ae)},t.prototype.normalizedEntries=function(){var Ae=this.Kids();return Ae||(Ae=this.dict.context.obj([]),this.dict.set(PDFName.of("Kids"),Ae)),{Kids:Ae}},t.fromDict=function(Ae,_e){return new t(Ae,_e)},t.create=function(Ae){var _e=Ae.obj({}),xe=Ae.register(_e);return new t(_e,xe)},t}(PDFAcroField),PDFAcroSignature=function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.fromDict=function(Ae,_e){return new t(Ae,_e)},t}(PDFAcroTerminal),PDFAcroText=function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.MaxLen=function(){var Ae=this.dict.lookup(PDFName.of("MaxLen"));if(Ae instanceof PDFNumber)return Ae},t.prototype.Q=function(){var Ae=this.dict.lookup(PDFName.of("Q"));if(Ae instanceof PDFNumber)return Ae},t.prototype.setMaxLength=function(Ae){this.dict.set(PDFName.of("MaxLen"),PDFNumber.of(Ae))},t.prototype.removeMaxLength=function(){this.dict.delete(PDFName.of("MaxLen"))},t.prototype.getMaxLength=function(){var Ae;return(Ae=this.MaxLen())===null||Ae===void 0?void 0:Ae.asNumber()},t.prototype.setQuadding=function(Ae){this.dict.set(PDFName.of("Q"),PDFNumber.of(Ae))},t.prototype.getQuadding=function(){var Ae;return(Ae=this.Q())===null||Ae===void 0?void 0:Ae.asNumber()},t.prototype.setValue=function(Ae){this.dict.set(PDFName.of("V"),Ae)},t.prototype.removeValue=function(){this.dict.delete(PDFName.of("V"))},t.prototype.getValue=function(){var Ae=this.V();if(Ae instanceof PDFString||Ae instanceof PDFHexString)return Ae},t.fromDict=function(Ae,_e){return new t(Ae,_e)},t.create=function(Ae){var _e=Ae.obj({FT:"Tx",Kids:[]}),xe=Ae.register(_e);return new t(_e,xe)},t}(PDFAcroTerminal),PDFAcroPushButton=function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.fromDict=function(Ae,_e){return new t(Ae,_e)},t.create=function(Ae){var _e=Ae.obj({FT:"Btn",Ff:AcroButtonFlags.PushButton,Kids:[]}),xe=Ae.register(_e);return new t(_e,xe)},t}(PDFAcroButton),PDFAcroRadioButton=function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.setValue=function(Ae){var _e=this.getOnValues();if(!_e.includes(Ae)&&Ae!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),Ae);for(var xe=this.getWidgets(),Ce=0,Se=xe.length;Ce<Se;Ce++){var Re=xe[Ce],Be=Re.getOnValue()===Ae?Ae:PDFName.of("Off");Re.setAppearanceState(Be)}},t.prototype.getValue=function(){var Ae=this.V();return Ae instanceof PDFName?Ae:PDFName.of("Off")},t.prototype.getOnValues=function(){for(var Ae=this.getWidgets(),_e=[],xe=0,Ce=Ae.length;xe<Ce;xe++){var Se=Ae[xe].getOnValue();Se&&_e.push(Se)}return _e},t.fromDict=function(Ae,_e){return new t(Ae,_e)},t.create=function(Ae){var _e=Ae.obj({FT:"Btn",Ff:AcroButtonFlags.Radio,Kids:[]}),xe=Ae.register(_e);return new t(_e,xe)},t}(PDFAcroButton),PDFAcroListBox=function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.fromDict=function(Ae,_e){return new t(Ae,_e)},t.create=function(Ae){var _e=Ae.obj({FT:"Ch",Kids:[]}),xe=Ae.register(_e);return new t(_e,xe)},t}(PDFAcroChoice),createPDFAcroFields=function(Ee){if(!Ee)return[];for(var t=[],Ae=0,_e=Ee.size();Ae<_e;Ae++){var xe=Ee.get(Ae),Ce=Ee.lookup(Ae);xe instanceof PDFRef&&Ce instanceof PDFDict&&t.push([createPDFAcroField(Ce,xe),xe])}return t},createPDFAcroField=function(Ee,t){var Ae=isNonTerminalAcroField(Ee);return Ae?PDFAcroNonTerminal.fromDict(Ee,t):createPDFAcroTerminal(Ee,t)},isNonTerminalAcroField=function(Ee){var t=Ee.lookup(PDFName.of("Kids"));if(t instanceof PDFArray)for(var Ae=0,_e=t.size();Ae<_e;Ae++){var xe=t.lookup(Ae),Ce=xe instanceof PDFDict&&xe.has(PDFName.of("T"));if(Ce)return!0}return!1},createPDFAcroTerminal=function(Ee,t){var Ae=getInheritableAttribute(Ee,PDFName.of("FT")),_e=Ee.context.lookup(Ae,PDFName);return _e===PDFName.of("Btn")?createPDFAcroButton(Ee,t):_e===PDFName.of("Ch")?createPDFAcroChoice(Ee,t):_e===PDFName.of("Tx")?PDFAcroText.fromDict(Ee,t):_e===PDFName.of("Sig")?PDFAcroSignature.fromDict(Ee,t):PDFAcroTerminal.fromDict(Ee,t)},createPDFAcroButton=function(Ee,t){var Ae,_e=getInheritableAttribute(Ee,PDFName.of("Ff")),xe=Ee.context.lookupMaybe(_e,PDFNumber),Ce=(Ae=xe==null?void 0:xe.asNumber())!==null&&Ae!==void 0?Ae:0;return flagIsSet(Ce,AcroButtonFlags.PushButton)?PDFAcroPushButton.fromDict(Ee,t):flagIsSet(Ce,AcroButtonFlags.Radio)?PDFAcroRadioButton.fromDict(Ee,t):PDFAcroCheckBox.fromDict(Ee,t)},createPDFAcroChoice=function(Ee,t){var Ae,_e=getInheritableAttribute(Ee,PDFName.of("Ff")),xe=Ee.context.lookupMaybe(_e,PDFNumber),Ce=(Ae=xe==null?void 0:xe.asNumber())!==null&&Ae!==void 0?Ae:0;return flagIsSet(Ce,AcroChoiceFlags.Combo)?PDFAcroComboBox.fromDict(Ee,t):PDFAcroListBox.fromDict(Ee,t)},flagIsSet=function(Ee,t){return(Ee&t)!==0},getInheritableAttribute=function(Ee,t){var Ae;return ascend(Ee,function(_e){Ae||(Ae=_e.get(t))}),Ae},ascend=function(Ee,t){t(Ee);var Ae=Ee.lookupMaybe(PDFName.of("Parent"),PDFDict);Ae&&ascend(Ae,t)},PDFAcroForm=function(){function Ee(t){this.dict=t}return Ee.prototype.Fields=function(){var t=this.dict.lookup(PDFName.of("Fields"));if(t instanceof PDFArray)return t},Ee.prototype.getFields=function(){for(var t=this.normalizedEntries().Fields,Ae=new Array(t.size()),_e=0,xe=t.size();_e<xe;_e++){var Ce=t.get(_e),Se=t.lookup(_e,PDFDict);Ae[_e]=[createPDFAcroField(Se,Ce),Ce]}return Ae},Ee.prototype.getAllFields=function(){var t=[],Ae=function(_e){if(_e)for(var xe=0,Ce=_e.length;xe<Ce;xe++){var Se=_e[xe];t.push(Se);var Re=Se[0];Re instanceof PDFAcroNonTerminal&&Ae(createPDFAcroFields(Re.Kids()))}};return Ae(this.getFields()),t},Ee.prototype.addField=function(t){var Ae=this.normalizedEntries().Fields;Ae==null||Ae.push(t)},Ee.prototype.removeField=function(t){var Ae=t.getParent(),_e=Ae===void 0?this.normalizedEntries().Fields:Ae.Kids(),xe=_e==null?void 0:_e.indexOf(t.ref);if(_e===void 0||xe===void 0)throw new Error("Tried to remove inexistent field "+t.getFullyQualifiedName());_e.remove(xe),Ae!==void 0&&_e.size()===0&&this.removeField(Ae)},Ee.prototype.normalizedEntries=function(){var t=this.Fields();return t||(t=this.dict.context.obj([]),this.dict.set(PDFName.of("Fields"),t)),{Fields:t}},Ee.fromDict=function(t){return new Ee(t)},Ee.create=function(t){var Ae=t.obj({Fields:[]});return new Ee(Ae)},Ee}(),PDFCatalog=function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.Pages=function(){return this.lookup(PDFName.of("Pages"),PDFDict)},t.prototype.AcroForm=function(){return this.lookupMaybe(PDFName.of("AcroForm"),PDFDict)},t.prototype.getAcroForm=function(){var Ae=this.AcroForm();if(Ae)return PDFAcroForm.fromDict(Ae)},t.prototype.getOrCreateAcroForm=function(){var Ae=this.getAcroForm();if(!Ae){Ae=PDFAcroForm.create(this.context);var _e=this.context.register(Ae.dict);this.set(PDFName.of("AcroForm"),_e)}return Ae},t.prototype.ViewerPreferences=function(){return this.lookupMaybe(PDFName.of("ViewerPreferences"),PDFDict)},t.prototype.getViewerPreferences=function(){var Ae=this.ViewerPreferences();if(Ae)return ViewerPreferences.fromDict(Ae)},t.prototype.getOrCreateViewerPreferences=function(){var Ae=this.getViewerPreferences();if(!Ae){Ae=ViewerPreferences.create(this.context);var _e=this.context.register(Ae.dict);this.set(PDFName.of("ViewerPreferences"),_e)}return Ae},t.prototype.insertLeafNode=function(Ae,_e){var xe=this.get(PDFName.of("Pages")),Ce=this.Pages().insertLeafNode(Ae,_e);return Ce||xe},t.prototype.removeLeafNode=function(Ae){this.Pages().removeLeafNode(Ae)},t.withContextAndPages=function(Ae,_e){var xe=new Map;return xe.set(PDFName.of("Type"),PDFName.of("Catalog")),xe.set(PDFName.of("Pages"),_e),new t(xe,Ae)},t.fromMapWithContext=function(Ae,_e){return new t(Ae,_e)},t}(PDFDict),PDFPageTree=function(Ee){__extends(t,Ee);function t(){return Ee!==null&&Ee.apply(this,arguments)||this}return t.prototype.Parent=function(){return this.lookup(PDFName.of("Parent"))},t.prototype.Kids=function(){return this.lookup(PDFName.of("Kids"),PDFArray)},t.prototype.Count=function(){return this.lookup(PDFName.of("Count"),PDFNumber)},t.prototype.pushTreeNode=function(Ae){var _e=this.Kids();_e.push(Ae)},t.prototype.pushLeafNode=function(Ae){var _e=this.Kids();this.insertLeafKid(_e.size(),Ae)},t.prototype.insertLeafNode=function(Ae,_e){var xe=this.Kids(),Ce=this.Count().asNumber();if(_e>Ce)throw new InvalidTargetIndexError(_e,Ce);for(var Se=_e,Re=0,Be=xe.size();Re<Be;Re++){if(Se===0){this.insertLeafKid(Re,Ae);return}var Fe=xe.get(Re),Ie=this.context.lookup(Fe);if(Ie instanceof t){if(Ie.Count().asNumber()>Se)return Ie.insertLeafNode(Ae,Se)||Fe;Se-=Ie.Count().asNumber()}Ie instanceof PDFPageLeaf&&(Se-=1)}if(Se===0){this.insertLeafKid(xe.size(),Ae);return}throw new CorruptPageTreeError(_e,"insertLeafNode")},t.prototype.removeLeafNode=function(Ae,_e){_e===void 0&&(_e=!0);var xe=this.Kids(),Ce=this.Count().asNumber();if(Ae>=Ce)throw new InvalidTargetIndexError(Ae,Ce);for(var Se=Ae,Re=0,Be=xe.size();Re<Be;Re++){var Fe=xe.get(Re),Ie=this.context.lookup(Fe);if(Ie instanceof t)if(Ie.Count().asNumber()>Se){Ie.removeLeafNode(Se,_e),_e&&Ie.Kids().size()===0&&xe.remove(Re);return}else Se-=Ie.Count().asNumber();if(Ie instanceof PDFPageLeaf)if(Se===0){this.removeKid(Re);return}else Se-=1}throw new CorruptPageTreeError(Ae,"removeLeafNode")},t.prototype.ascend=function(Ae){Ae(this);var _e=this.Parent();_e&&_e.ascend(Ae)},t.prototype.traverse=function(Ae){for(var _e=this.Kids(),xe=0,Ce=_e.size();xe<Ce;xe++){var Se=_e.get(xe),Re=this.context.lookup(Se);Re instanceof t&&Re.traverse(Ae),Ae(Re,Se)}},t.prototype.insertLeafKid=function(Ae,_e){var xe=this.Kids();this.ascend(function(Ce){var Se=Ce.Count().asNumber()+1;Ce.set(PDFName.of("Count"),PDFNumber.of(Se))}),xe.insert(Ae,_e)},t.prototype.removeKid=function(Ae){var _e=this.Kids(),xe=_e.lookup(Ae);xe instanceof PDFPageLeaf&&this.ascend(function(Ce){var Se=Ce.Count().asNumber()-1;Ce.set(PDFName.of("Count"),PDFNumber.of(Se))}),_e.remove(Ae)},t.withContext=function(Ae,_e){var xe=new Map;return xe.set(PDFName.of("Type"),PDFName.of("Pages")),xe.set(PDFName.of("Kids"),Ae.obj([])),xe.set(PDFName.of("Count"),Ae.obj(0)),_e&&xe.set(PDFName.of("Parent"),_e),new t(xe,Ae)},t.fromMapWithContext=function(Ae,_e){return new t(Ae,_e)},t}(PDFDict),IsDigit=new Uint8Array(256);IsDigit[CharCodes$1.Zero]=1;IsDigit[CharCodes$1.One]=1;IsDigit[CharCodes$1.Two]=1;IsDigit[CharCodes$1.Three]=1;IsDigit[CharCodes$1.Four]=1;IsDigit[CharCodes$1.Five]=1;IsDigit[CharCodes$1.Six]=1;IsDigit[CharCodes$1.Seven]=1;IsDigit[CharCodes$1.Eight]=1;IsDigit[CharCodes$1.Nine]=1;var IsNumericPrefix=new Uint8Array(256);IsNumericPrefix[CharCodes$1.Period]=1;IsNumericPrefix[CharCodes$1.Plus]=1;IsNumericPrefix[CharCodes$1.Minus]=1;var IsNumeric=new Uint8Array(256);for(var idx=0,len=256;idx<len;idx++)IsNumeric[idx]=IsDigit[idx]||IsNumericPrefix[idx]?1:0;var Newline$1=CharCodes$1.Newline,CarriageReturn$1=CharCodes$1.CarriageReturn,BaseParser=function(){function Ee(t,Ae){Ae===void 0&&(Ae=!1),this.bytes=t,this.capNumbers=Ae}return Ee.prototype.parseRawInt=function(){for(var t="";!this.bytes.done();){var Ae=this.bytes.peek();if(!IsDigit[Ae])break;t+=charFromCode(this.bytes.next())}var _e=Number(t);if(!t||!isFinite(_e))throw new NumberParsingError(this.bytes.position(),t);return _e},Ee.prototype.parseRawNumber=function(){for(var t="";!this.bytes.done();){var Ae=this.bytes.peek();if(!IsNumeric[Ae]||(t+=charFromCode(this.bytes.next()),Ae===CharCodes$1.Period))break}for(;!this.bytes.done();){var Ae=this.bytes.peek();if(!IsDigit[Ae])break;t+=charFromCode(this.bytes.next())}var _e=Number(t);if(!t||!isFinite(_e))throw new NumberParsingError(this.bytes.position(),t);if(_e>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var xe="Parsed number that is too large for some PDF readers: "+t+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(xe),Number.MAX_SAFE_INTEGER}else{var xe="Parsed number that is too large for some PDF readers: "+t+", not capping.";console.warn(xe)}return _e},Ee.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&IsWhitespace[this.bytes.peek()];)this.bytes.next()},Ee.prototype.skipLine=function(){for(;!this.bytes.done();){var t=this.bytes.peek();if(t===Newline$1||t===CarriageReturn$1)return;this.bytes.next()}},Ee.prototype.skipComment=function(){if(this.bytes.peek()!==CharCodes$1.Percent)return!1;for(;!this.bytes.done();){var t=this.bytes.peek();if(t===Newline$1||t===CarriageReturn$1)return!0;this.bytes.next()}return!0},Ee.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},Ee.prototype.matchKeyword=function(t){for(var Ae=this.bytes.offset(),_e=0,xe=t.length;_e<xe;_e++)if(this.bytes.done()||this.bytes.next()!==t[_e])return this.bytes.moveTo(Ae),!1;return!0},Ee}(),ByteStream=function(){function Ee(t){this.idx=0,this.line=0,this.column=0,this.bytes=t,this.length=this.bytes.length}return Ee.prototype.moveTo=function(t){this.idx=t},Ee.prototype.next=function(){var t=this.bytes[this.idx++];return t===CharCodes$1.Newline?(this.line+=1,this.column=0):this.column+=1,t},Ee.prototype.assertNext=function(t){if(this.peek()!==t)throw new NextByteAssertionError(this.position(),t,this.peek());return this.next()},Ee.prototype.peek=function(){return this.bytes[this.idx]},Ee.prototype.peekAhead=function(t){return this.bytes[this.idx+t]},Ee.prototype.peekAt=function(t){return this.bytes[t]},Ee.prototype.done=function(){return this.idx>=this.length},Ee.prototype.offset=function(){return this.idx},Ee.prototype.slice=function(t,Ae){return this.bytes.slice(t,Ae)},Ee.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},Ee.of=function(t){return new Ee(t)},Ee.fromPDFRawStream=function(t){return Ee.of(decodePDFRawStream(t).decode())},Ee}(),Space=CharCodes$1.Space,CarriageReturn=CharCodes$1.CarriageReturn,Newline=CharCodes$1.Newline,stream=[CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],endstream=[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],Keywords={header:[CharCodes$1.Percent,CharCodes$1.P,CharCodes$1.D,CharCodes$1.F,CharCodes$1.Dash],eof:[CharCodes$1.Percent,CharCodes$1.Percent,CharCodes$1.E,CharCodes$1.O,CharCodes$1.F],obj:[CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],endobj:[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],xref:[CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],trailer:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.a,CharCodes$1.i,CharCodes$1.l,CharCodes$1.e,CharCodes$1.r],startxref:[CharCodes$1.s,CharCodes$1.t,CharCodes$1.a,CharCodes$1.r,CharCodes$1.t,CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],true:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.u,CharCodes$1.e],false:[CharCodes$1.f,CharCodes$1.a,CharCodes$1.l,CharCodes$1.s,CharCodes$1.e],null:[CharCodes$1.n,CharCodes$1.u,CharCodes$1.l,CharCodes$1.l],stream,streamEOF1:__spreadArrays(stream,[Space,CarriageReturn,Newline]),streamEOF2:__spreadArrays(stream,[CarriageReturn,Newline]),streamEOF3:__spreadArrays(stream,[CarriageReturn]),streamEOF4:__spreadArrays(stream,[Newline]),endstream,EOF1endstream:__spreadArrays([CarriageReturn,Newline],endstream),EOF2endstream:__spreadArrays([CarriageReturn],endstream),EOF3endstream:__spreadArrays([Newline],endstream)},PDFObjectParser=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){xe===void 0&&(xe=!1);var Ce=Ee.call(this,Ae,xe)||this;return Ce.context=_e,Ce}return t.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.true))return PDFBool.True;if(this.matchKeyword(Keywords.false))return PDFBool.False;if(this.matchKeyword(Keywords.null))return PDFNull$1;var Ae=this.bytes.peek();if(Ae===CharCodes$1.LessThan&&this.bytes.peekAhead(1)===CharCodes$1.LessThan)return this.parseDictOrStream();if(Ae===CharCodes$1.LessThan)return this.parseHexString();if(Ae===CharCodes$1.LeftParen)return this.parseString();if(Ae===CharCodes$1.ForwardSlash)return this.parseName();if(Ae===CharCodes$1.LeftSquareBracket)return this.parseArray();if(IsNumeric[Ae])return this.parseNumberOrRef();throw new PDFObjectParsingError(this.bytes.position(),Ae)},t.prototype.parseNumberOrRef=function(){var Ae=this.parseRawNumber();this.skipWhitespaceAndComments();var _e=this.bytes.offset();if(IsDigit[this.bytes.peek()]){var xe=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===CharCodes$1.R)return this.bytes.assertNext(CharCodes$1.R),PDFRef.of(Ae,xe)}return this.bytes.moveTo(_e),PDFNumber.of(Ae)},t.prototype.parseHexString=function(){var Ae="";for(this.bytes.assertNext(CharCodes$1.LessThan);!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan;)Ae+=charFromCode(this.bytes.next());return this.bytes.assertNext(CharCodes$1.GreaterThan),PDFHexString.of(Ae)},t.prototype.parseString=function(){for(var Ae=0,_e=!1,xe="";!this.bytes.done();){var Ce=this.bytes.next();if(xe+=charFromCode(Ce),_e||(Ce===CharCodes$1.LeftParen&&(Ae+=1),Ce===CharCodes$1.RightParen&&(Ae-=1)),Ce===CharCodes$1.BackSlash?_e=!_e:_e&&(_e=!1),Ae===0)return PDFString.of(xe.substring(1,xe.length-1))}throw new UnbalancedParenthesisError(this.bytes.position())},t.prototype.parseName=function(){this.bytes.assertNext(CharCodes$1.ForwardSlash);for(var Ae="";!this.bytes.done();){var _e=this.bytes.peek();if(IsWhitespace[_e]||IsDelimiter[_e])break;Ae+=charFromCode(_e),this.bytes.next()}return PDFName.of(Ae)},t.prototype.parseArray=function(){this.bytes.assertNext(CharCodes$1.LeftSquareBracket),this.skipWhitespaceAndComments();for(var Ae=PDFArray.withContext(this.context);this.bytes.peek()!==CharCodes$1.RightSquareBracket;){var _e=this.parseObject();Ae.push(_e),this.skipWhitespaceAndComments()}return this.bytes.assertNext(CharCodes$1.RightSquareBracket),Ae},t.prototype.parseDict=function(){this.bytes.assertNext(CharCodes$1.LessThan),this.bytes.assertNext(CharCodes$1.LessThan),this.skipWhitespaceAndComments();for(var Ae=new Map;!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan&&this.bytes.peekAhead(1)!==CharCodes$1.GreaterThan;){var _e=this.parseName(),xe=this.parseObject();Ae.set(_e,xe),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(CharCodes$1.GreaterThan),this.bytes.assertNext(CharCodes$1.GreaterThan);var Ce=Ae.get(PDFName.of("Type"));return Ce===PDFName.of("Catalog")?PDFCatalog.fromMapWithContext(Ae,this.context):Ce===PDFName.of("Pages")?PDFPageTree.fromMapWithContext(Ae,this.context):Ce===PDFName.of("Page")?PDFPageLeaf.fromMapWithContext(Ae,this.context):PDFDict.fromMapWithContext(Ae,this.context)},t.prototype.parseDictOrStream=function(){var Ae=this.bytes.position(),_e=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.streamEOF1)&&!this.matchKeyword(Keywords.streamEOF2)&&!this.matchKeyword(Keywords.streamEOF3)&&!this.matchKeyword(Keywords.streamEOF4)&&!this.matchKeyword(Keywords.stream))return _e;var xe=this.bytes.offset(),Ce,Se=_e.get(PDFName.of("Length"));Se instanceof PDFNumber?(Ce=xe+Se.asNumber(),this.bytes.moveTo(Ce),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endstream)||(this.bytes.moveTo(xe),Ce=this.findEndOfStreamFallback(Ae))):Ce=this.findEndOfStreamFallback(Ae);var Re=this.bytes.slice(xe,Ce);return PDFRawStream.of(_e,Re)},t.prototype.findEndOfStreamFallback=function(Ae){for(var _e=1,xe=this.bytes.offset();!this.bytes.done()&&(xe=this.bytes.offset(),this.matchKeyword(Keywords.stream)?_e+=1:this.matchKeyword(Keywords.EOF1endstream)||this.matchKeyword(Keywords.EOF2endstream)||this.matchKeyword(Keywords.EOF3endstream)||this.matchKeyword(Keywords.endstream)?_e-=1:this.bytes.next(),_e!==0););if(_e!==0)throw new PDFStreamParsingError(Ae);return xe},t.forBytes=function(Ae,_e,xe){return new t(ByteStream.of(Ae),_e,xe)},t.forByteStream=function(Ae,_e,xe){return xe===void 0&&(xe=!1),new t(Ae,_e,xe)},t}(BaseParser),PDFObjectStreamParser=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=Ee.call(this,ByteStream.fromPDFRawStream(Ae),Ae.dict.context)||this,Ce=Ae.dict;return xe.alreadyParsed=!1,xe.shouldWaitForTick=_e||function(){return!1},xe.firstOffset=Ce.lookup(PDFName.of("First"),PDFNumber).asNumber(),xe.objectCount=Ce.lookup(PDFName.of("N"),PDFNumber).asNumber(),xe}return t.prototype.parseIntoContext=function(){return __awaiter$1(this,void 0,void 0,function(){var Ae,_e,xe,Ce,Se,Re,Be,Fe;return __generator(this,function(Ie){switch(Ie.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,Ae=this.parseOffsetsAndObjectNumbers(),_e=0,xe=Ae.length,Ie.label=1;case 1:return _e<xe?(Ce=Ae[_e],Se=Ce.objectNumber,Re=Ce.offset,this.bytes.moveTo(this.firstOffset+Re),Be=this.parseObject(),Fe=PDFRef.of(Se,0),this.context.assign(Fe,Be),this.shouldWaitForTick()?[4,waitForTick()]:[3,3]):[3,4];case 2:Ie.sent(),Ie.label=3;case 3:return _e++,[3,1];case 4:return[2]}})})},t.prototype.parseOffsetsAndObjectNumbers=function(){for(var Ae=[],_e=0,xe=this.objectCount;_e<xe;_e++){this.skipWhitespaceAndComments();var Ce=this.parseRawInt();this.skipWhitespaceAndComments();var Se=this.parseRawInt();Ae.push({objectNumber:Ce,offset:Se})}return Ae},t.forStream=function(Ae,_e){return new t(Ae,_e)},t}(PDFObjectParser),PDFXRefStreamParser=function(){function Ee(t){this.alreadyParsed=!1,this.dict=t.dict,this.bytes=ByteStream.fromPDFRawStream(t),this.context=this.dict.context;var Ae=this.dict.lookup(PDFName.of("Size"),PDFNumber),_e=this.dict.lookup(PDFName.of("Index"));if(_e instanceof PDFArray){this.subsections=[];for(var xe=0,Ce=_e.size();xe<Ce;xe+=2){var Se=_e.lookup(xe+0,PDFNumber).asNumber(),Re=_e.lookup(xe+1,PDFNumber).asNumber();this.subsections.push({firstObjectNumber:Se,length:Re})}}else this.subsections=[{firstObjectNumber:0,length:Ae.asNumber()}];var Be=this.dict.lookup(PDFName.of("W"),PDFArray);this.byteWidths=[-1,-1,-1];for(var xe=0,Ce=Be.size();xe<Ce;xe++)this.byteWidths[xe]=Be.lookup(xe,PDFNumber).asNumber()}return Ee.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new ReparseError("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(PDFName.of("Root")),Encrypt:this.dict.get(PDFName.of("Encrypt")),Info:this.dict.get(PDFName.of("Info")),ID:this.dict.get(PDFName.of("ID"))};var t=this.parseEntries();return t},Ee.prototype.parseEntries=function(){for(var t=[],Ae=this.byteWidths,_e=Ae[0],xe=Ae[1],Ce=Ae[2],Se=0,Re=this.subsections.length;Se<Re;Se++)for(var Be=this.subsections[Se],Fe=Be.firstObjectNumber,Ie=Be.length,Ue=0;Ue<Ie;Ue++){for(var ke=0,Oe=0,je=_e;Oe<je;Oe++)ke=ke<<8|this.bytes.next();for(var Ke=0,Oe=0,je=xe;Oe<je;Oe++)Ke=Ke<<8|this.bytes.next();for(var ze=0,Oe=0,je=Ce;Oe<je;Oe++)ze=ze<<8|this.bytes.next();_e===0&&(ke=1);var Ve=Fe+Ue,Xe={ref:PDFRef.of(Ve,ze),offset:Ke,deleted:ke===0,inObjectStream:ke===2};t.push(Xe)}return t},Ee.forStream=function(t){return new Ee(t)},Ee}(),PDFParser=function(Ee){__extends(t,Ee);function t(Ae,_e,xe,Ce){_e===void 0&&(_e=1/0),xe===void 0&&(xe=!1),Ce===void 0&&(Ce=!1);var Se=Ee.call(this,ByteStream.of(Ae),PDFContext.create(),Ce)||this;return Se.alreadyParsed=!1,Se.parsedObjects=0,Se.shouldWaitForTick=function(){return Se.parsedObjects+=1,Se.parsedObjects%Se.objectsPerTick===0},Se.objectsPerTick=_e,Se.throwOnInvalidObject=xe,Se}return t.prototype.parseDocument=function(){return __awaiter$1(this,void 0,void 0,function(){var Ae,_e;return __generator(this,function(xe){switch(xe.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),xe.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(xe.sent(),_e=this.bytes.offset(),_e===Ae)throw new StalledParserError(this.bytes.position());return Ae=_e,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(PDFRef.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(PDFRef.of(0))),[2,this.context]}})})},t.prototype.maybeRecoverRoot=function(){var Ae=function(Ie){return Ie instanceof PDFDict&&Ie.lookup(PDFName.of("Type"))===PDFName.of("Catalog")},_e=this.context.lookup(this.context.trailerInfo.Root);if(!Ae(_e))for(var xe=this.context.enumerateIndirectObjects(),Ce=0,Se=xe.length;Ce<Se;Ce++){var Re=xe[Ce],Be=Re[0],Fe=Re[1];Ae(Fe)&&(this.context.trailerInfo.Root=Be)}},t.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(Keywords.header)){var Ae=this.parseRawInt();this.bytes.assertNext(CharCodes$1.Period);var _e=this.parseRawInt(),xe=PDFHeader.forVersion(Ae,_e);return this.skipBinaryHeaderComment(),xe}this.bytes.next()}throw new MissingPDFHeaderError(this.bytes.position())},t.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var Ae=this.parseRawInt();this.skipWhitespaceAndComments();var _e=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.obj))throw new MissingKeywordError(this.bytes.position(),Keywords.obj);return PDFRef.of(Ae,_e)},t.prototype.matchIndirectObjectHeader=function(){var Ae=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(Ae),!1}},t.prototype.parseIndirectObject=function(){return __awaiter$1(this,void 0,void 0,function(){var Ae,_e;return __generator(this,function(xe){switch(xe.label){case 0:return Ae=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),_e=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endobj),_e instanceof PDFRawStream&&_e.dict.lookup(PDFName.of("Type"))===PDFName.of("ObjStm")?[4,PDFObjectStreamParser.forStream(_e,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return xe.sent(),[3,3];case 2:_e instanceof PDFRawStream&&_e.dict.lookup(PDFName.of("Type"))===PDFName.of("XRef")?PDFXRefStreamParser.forStream(_e).parseIntoContext():this.context.assign(Ae,_e),xe.label=3;case 3:return[2,Ae]}})})},t.prototype.tryToParseInvalidIndirectObject=function(){var Ae=this.bytes.position(),_e="Trying to parse invalid object: "+JSON.stringify(Ae)+")";if(this.throwOnInvalidObject)throw new Error(_e);console.warn(_e);var xe=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+xe),this.skipWhitespaceAndComments();for(var Ce=this.bytes.offset(),Se=!0;!this.bytes.done()&&(this.matchKeyword(Keywords.endobj)&&(Se=!1),!!Se);)this.bytes.next();if(Se)throw new PDFInvalidObjectParsingError(Ae);var Re=this.bytes.offset()-Keywords.endobj.length,Be=PDFInvalidObject.of(this.bytes.slice(Ce,Re));return this.context.assign(xe,Be),xe},t.prototype.parseIndirectObjects=function(){return __awaiter$1(this,void 0,void 0,function(){var Ae;return __generator(this,function(_e){switch(_e.label){case 0:this.skipWhitespaceAndComments(),_e.label=1;case 1:if(!(!this.bytes.done()&&IsDigit[this.bytes.peek()]))return[3,8];Ae=this.bytes.offset(),_e.label=2;case 2:return _e.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return _e.sent(),[3,5];case 4:return _e.sent(),this.bytes.moveTo(Ae),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,waitForTick()]:[3,7];case 6:_e.sent(),_e.label=7;case 7:return[3,1];case 8:return[2]}})})},t.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.xref)){this.skipWhitespaceAndComments();for(var Ae=-1,_e=PDFCrossRefSection.createEmpty();!this.bytes.done()&&IsDigit[this.bytes.peek()];){var xe=this.parseRawInt();this.skipWhitespaceAndComments();var Ce=this.parseRawInt();this.skipWhitespaceAndComments();var Se=this.bytes.peek();if(Se===CharCodes$1.n||Se===CharCodes$1.f){var Re=PDFRef.of(Ae,Ce);this.bytes.next()===CharCodes$1.n?_e.addEntry(Re,xe):_e.addDeletedEntry(Re,xe),Ae+=1}else Ae=xe;this.skipWhitespaceAndComments()}return _e}},t.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.trailer)){this.skipWhitespaceAndComments();var Ae=this.parseDict(),_e=this.context;_e.trailerInfo={Root:Ae.get(PDFName.of("Root"))||_e.trailerInfo.Root,Encrypt:Ae.get(PDFName.of("Encrypt"))||_e.trailerInfo.Encrypt,Info:Ae.get(PDFName.of("Info"))||_e.trailerInfo.Info,ID:Ae.get(PDFName.of("ID"))||_e.trailerInfo.ID}}},t.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.startxref)){this.skipWhitespaceAndComments();var Ae=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),PDFTrailer.forLastCrossRefSectionOffset(Ae)}},t.prototype.parseDocumentSection=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(Ae){switch(Ae.label){case 0:return[4,this.parseIndirectObjects()];case 1:return Ae.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},t.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var Ae=this.bytes.offset(),_e=this.bytes.peek(),xe=_e>=CharCodes$1.Space&&_e<=CharCodes$1.Tilde;if(xe&&(this.matchKeyword(Keywords.xref)||this.matchKeyword(Keywords.trailer)||this.matchKeyword(Keywords.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(Ae);break}this.bytes.next()}},t.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var Ae=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(Ae)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},t.forBytesWithOptions=function(Ae,_e,xe,Ce){return new t(Ae,_e,xe,Ce)},t}(PDFObjectParser),flag=function(Ee){return 1<<Ee},AnnotationFlags;(function(Ee){Ee[Ee.Invisible=flag(0)]="Invisible",Ee[Ee.Hidden=flag(1)]="Hidden",Ee[Ee.Print=flag(2)]="Print",Ee[Ee.NoZoom=flag(3)]="NoZoom",Ee[Ee.NoRotate=flag(4)]="NoRotate",Ee[Ee.NoView=flag(5)]="NoView",Ee[Ee.ReadOnly=flag(6)]="ReadOnly",Ee[Ee.Locked=flag(7)]="Locked",Ee[Ee.ToggleNoView=flag(8)]="ToggleNoView",Ee[Ee.LockedContents=flag(9)]="LockedContents"})(AnnotationFlags||(AnnotationFlags={}));var asPDFName=function(Ee){return Ee instanceof PDFName?Ee:PDFName.of(Ee)},asPDFNumber=function(Ee){return Ee instanceof PDFNumber?Ee:PDFNumber.of(Ee)},asNumber=function(Ee){return Ee instanceof PDFNumber?Ee.asNumber():Ee},RotationTypes;(function(Ee){Ee.Degrees="degrees",Ee.Radians="radians"})(RotationTypes||(RotationTypes={}));var degrees=function(Ee){return assertIs(Ee,"degreeAngle",["number"]),{type:RotationTypes.Degrees,angle:Ee}},Radians=RotationTypes.Radians,Degrees=RotationTypes.Degrees,degreesToRadians=function(Ee){return Ee*Math.PI/180},radiansToDegrees=function(Ee){return Ee*180/Math.PI},toRadians=function(Ee){return Ee.type===Radians?Ee.angle:Ee.type===Degrees?degreesToRadians(Ee.angle):error("Invalid rotation: "+JSON.stringify(Ee))},toDegrees=function(Ee){return Ee.type===Radians?radiansToDegrees(Ee.angle):Ee.type===Degrees?Ee.angle:error("Invalid rotation: "+JSON.stringify(Ee))},reduceRotation=function(Ee){Ee===void 0&&(Ee=0);var t=Ee/90%4;return t===0?0:t===1?90:t===2?180:t===3?270:0},adjustDimsForRotation=function(Ee,t){t===void 0&&(t=0);var Ae=reduceRotation(t);return Ae===90||Ae===270?{width:Ee.height,height:Ee.width}:{width:Ee.width,height:Ee.height}},rotateRectangle=function(Ee,t,Ae){t===void 0&&(t=0),Ae===void 0&&(Ae=0);var _e=Ee.x,xe=Ee.y,Ce=Ee.width,Se=Ee.height,Re=reduceRotation(Ae),Be=t/2;return Re===0?{x:_e-Be,y:xe-Be,width:Ce,height:Se}:Re===90?{x:_e-Se+Be,y:xe-Be,width:Se,height:Ce}:Re===180?{x:_e-Ce+Be,y:xe-Se+Be,width:Ce,height:Se}:Re===270?{x:_e-Be,y:xe-Ce+Be,width:Se,height:Ce}:{x:_e-Be,y:xe-Be,width:Ce,height:Se}},clip=function(){return PDFOperator.of(Ops.ClipNonZero)},cos=Math.cos,sin=Math.sin,tan=Math.tan,concatTransformationMatrix=function(Ee,t,Ae,_e,xe,Ce){return PDFOperator.of(Ops.ConcatTransformationMatrix,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(Ae),asPDFNumber(_e),asPDFNumber(xe),asPDFNumber(Ce)])},translate=function(Ee,t){return concatTransformationMatrix(1,0,0,1,Ee,t)},scale=function(Ee,t){return concatTransformationMatrix(Ee,0,0,t,0,0)},rotateRadians=function(Ee){return concatTransformationMatrix(cos(asNumber(Ee)),sin(asNumber(Ee)),-sin(asNumber(Ee)),cos(asNumber(Ee)),0,0)},rotateDegrees=function(Ee){return rotateRadians(degreesToRadians(asNumber(Ee)))},skewRadians=function(Ee,t){return concatTransformationMatrix(1,tan(asNumber(Ee)),tan(asNumber(t)),1,0,0)},setDashPattern=function(Ee,t){return PDFOperator.of(Ops.SetLineDashPattern,["["+Ee.map(asPDFNumber).join(" ")+"]",asPDFNumber(t)])},LineCapStyle;(function(Ee){Ee[Ee.Butt=0]="Butt",Ee[Ee.Round=1]="Round",Ee[Ee.Projecting=2]="Projecting"})(LineCapStyle||(LineCapStyle={}));var setLineCap=function(Ee){return PDFOperator.of(Ops.SetLineCapStyle,[asPDFNumber(Ee)])},LineJoinStyle;(function(Ee){Ee[Ee.Miter=0]="Miter",Ee[Ee.Round=1]="Round",Ee[Ee.Bevel=2]="Bevel"})(LineJoinStyle||(LineJoinStyle={}));var setGraphicsState=function(Ee){return PDFOperator.of(Ops.SetGraphicsStateParams,[asPDFName(Ee)])},pushGraphicsState=function(){return PDFOperator.of(Ops.PushGraphicsState)},popGraphicsState=function(){return PDFOperator.of(Ops.PopGraphicsState)},setLineWidth=function(Ee){return PDFOperator.of(Ops.SetLineWidth,[asPDFNumber(Ee)])},appendBezierCurve=function(Ee,t,Ae,_e,xe,Ce){return PDFOperator.of(Ops.AppendBezierCurve,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(Ae),asPDFNumber(_e),asPDFNumber(xe),asPDFNumber(Ce)])},appendQuadraticCurve=function(Ee,t,Ae,_e){return PDFOperator.of(Ops.CurveToReplicateInitialPoint,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(Ae),asPDFNumber(_e)])},closePath=function(){return PDFOperator.of(Ops.ClosePath)},moveTo=function(Ee,t){return PDFOperator.of(Ops.MoveTo,[asPDFNumber(Ee),asPDFNumber(t)])},lineTo=function(Ee,t){return PDFOperator.of(Ops.LineTo,[asPDFNumber(Ee),asPDFNumber(t)])},stroke=function(){return PDFOperator.of(Ops.StrokePath)},fill=function(){return PDFOperator.of(Ops.FillNonZero)},fillAndStroke=function(){return PDFOperator.of(Ops.FillNonZeroAndStroke)},endPath=function(){return PDFOperator.of(Ops.EndPath)},nextLine=function(){return PDFOperator.of(Ops.NextLine)},showText=function(Ee){return PDFOperator.of(Ops.ShowText,[Ee])},beginText=function(){return PDFOperator.of(Ops.BeginText)},endText=function(){return PDFOperator.of(Ops.EndText)},setFontAndSize=function(Ee,t){return PDFOperator.of(Ops.SetFontAndSize,[asPDFName(Ee),asPDFNumber(t)])},setLineHeight=function(Ee){return PDFOperator.of(Ops.SetTextLineHeight,[asPDFNumber(Ee)])},TextRenderingMode;(function(Ee){Ee[Ee.Fill=0]="Fill",Ee[Ee.Outline=1]="Outline",Ee[Ee.FillAndOutline=2]="FillAndOutline",Ee[Ee.Invisible=3]="Invisible",Ee[Ee.FillAndClip=4]="FillAndClip",Ee[Ee.OutlineAndClip=5]="OutlineAndClip",Ee[Ee.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",Ee[Ee.Clip=7]="Clip"})(TextRenderingMode||(TextRenderingMode={}));var setTextMatrix=function(Ee,t,Ae,_e,xe,Ce){return PDFOperator.of(Ops.SetTextMatrix,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(Ae),asPDFNumber(_e),asPDFNumber(xe),asPDFNumber(Ce)])},rotateAndSkewTextRadiansAndTranslate=function(Ee,t,Ae,_e,xe){return setTextMatrix(cos(asNumber(Ee)),sin(asNumber(Ee))+tan(asNumber(t)),-sin(asNumber(Ee))+tan(asNumber(Ae)),cos(asNumber(Ee)),_e,xe)},drawObject=function(Ee){return PDFOperator.of(Ops.DrawObject,[asPDFName(Ee)])},setFillingGrayscaleColor=function(Ee){return PDFOperator.of(Ops.NonStrokingColorGray,[asPDFNumber(Ee)])},setStrokingGrayscaleColor=function(Ee){return PDFOperator.of(Ops.StrokingColorGray,[asPDFNumber(Ee)])},setFillingRgbColor=function(Ee,t,Ae){return PDFOperator.of(Ops.NonStrokingColorRgb,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(Ae)])},setStrokingRgbColor=function(Ee,t,Ae){return PDFOperator.of(Ops.StrokingColorRgb,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(Ae)])},setFillingCmykColor=function(Ee,t,Ae,_e){return PDFOperator.of(Ops.NonStrokingColorCmyk,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(Ae),asPDFNumber(_e)])},setStrokingCmykColor=function(Ee,t,Ae,_e){return PDFOperator.of(Ops.StrokingColorCmyk,[asPDFNumber(Ee),asPDFNumber(t),asPDFNumber(Ae),asPDFNumber(_e)])},beginMarkedContent=function(Ee){return PDFOperator.of(Ops.BeginMarkedContent,[asPDFName(Ee)])},endMarkedContent=function(){return PDFOperator.of(Ops.EndMarkedContent)},ColorTypes;(function(Ee){Ee.Grayscale="Grayscale",Ee.RGB="RGB",Ee.CMYK="CMYK"})(ColorTypes||(ColorTypes={}));var grayscale=function(Ee){return assertRange(Ee,"gray",0,1),{type:ColorTypes.Grayscale,gray:Ee}},rgb=function(Ee,t,Ae){return assertRange(Ee,"red",0,1),assertRange(t,"green",0,1),assertRange(Ae,"blue",0,1),{type:ColorTypes.RGB,red:Ee,green:t,blue:Ae}},cmyk=function(Ee,t,Ae,_e){return assertRange(Ee,"cyan",0,1),assertRange(t,"magenta",0,1),assertRange(Ae,"yellow",0,1),assertRange(_e,"key",0,1),{type:ColorTypes.CMYK,cyan:Ee,magenta:t,yellow:Ae,key:_e}},Grayscale=ColorTypes.Grayscale,RGB=ColorTypes.RGB,CMYK=ColorTypes.CMYK,setFillingColor=function(Ee){return Ee.type===Grayscale?setFillingGrayscaleColor(Ee.gray):Ee.type===RGB?setFillingRgbColor(Ee.red,Ee.green,Ee.blue):Ee.type===CMYK?setFillingCmykColor(Ee.cyan,Ee.magenta,Ee.yellow,Ee.key):error("Invalid color: "+JSON.stringify(Ee))},setStrokingColor=function(Ee){return Ee.type===Grayscale?setStrokingGrayscaleColor(Ee.gray):Ee.type===RGB?setStrokingRgbColor(Ee.red,Ee.green,Ee.blue):Ee.type===CMYK?setStrokingCmykColor(Ee.cyan,Ee.magenta,Ee.yellow,Ee.key):error("Invalid color: "+JSON.stringify(Ee))},componentsToColor=function(Ee,t){return t===void 0&&(t=1),(Ee==null?void 0:Ee.length)===1?grayscale(Ee[0]*t):(Ee==null?void 0:Ee.length)===3?rgb(Ee[0]*t,Ee[1]*t,Ee[2]*t):(Ee==null?void 0:Ee.length)===4?cmyk(Ee[0]*t,Ee[1]*t,Ee[2]*t,Ee[3]*t):void 0},colorToComponents=function(Ee){return Ee.type===Grayscale?[Ee.gray]:Ee.type===RGB?[Ee.red,Ee.green,Ee.blue]:Ee.type===CMYK?[Ee.cyan,Ee.magenta,Ee.yellow,Ee.key]:error("Invalid color: "+JSON.stringify(Ee))},cx=0,cy=0,px=0,py=0,sx=0,sy=0,parameters=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),parse=function(Ee){for(var t,Ae=[],_e=[],xe="",Ce=!1,Se=0,Re=0,Be=Ee;Re<Be.length;Re++){var Fe=Be[Re];if(parameters.has(Fe))Se=parameters.get(Fe),t&&(xe.length>0&&(_e[_e.length]=+xe),Ae[Ae.length]={cmd:t,args:_e},_e=[],xe="",Ce=!1),t=Fe;else if([" ",","].includes(Fe)||Fe==="-"&&xe.length>0&&xe[xe.length-1]!=="e"||Fe==="."&&Ce){if(xe.length===0)continue;_e.length===Se?(Ae[Ae.length]={cmd:t,args:_e},_e=[+xe],t==="M"&&(t="L"),t==="m"&&(t="l")):_e[_e.length]=+xe,Ce=Fe===".",xe=["-","."].includes(Fe)?Fe:""}else xe+=Fe,Fe==="."&&(Ce=!0)}return xe.length>0&&(_e.length===Se?(Ae[Ae.length]={cmd:t,args:_e},_e=[+xe],t==="M"&&(t="L"),t==="m"&&(t="l")):_e[_e.length]=+xe),Ae[Ae.length]={cmd:t,args:_e},Ae},apply=function(Ee){cx=cy=px=py=sx=sy=0;for(var t=[],Ae=0;Ae<Ee.length;Ae++){var _e=Ee[Ae];if(_e.cmd&&typeof runners[_e.cmd]=="function"){var xe=runners[_e.cmd](_e.args);Array.isArray(xe)?t=t.concat(xe):t.push(xe)}}return t},runners={M:function(Ee){return cx=Ee[0],cy=Ee[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},m:function(Ee){return cx+=Ee[0],cy+=Ee[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},C:function(Ee){return cx=Ee[4],cy=Ee[5],px=Ee[2],py=Ee[3],appendBezierCurve(Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5])},c:function(Ee){var t=appendBezierCurve(Ee[0]+cx,Ee[1]+cy,Ee[2]+cx,Ee[3]+cy,Ee[4]+cx,Ee[5]+cy);return px=cx+Ee[2],py=cy+Ee[3],cx+=Ee[4],cy+=Ee[5],t},S:function(Ee){(px===null||py===null)&&(px=cx,py=cy);var t=appendBezierCurve(cx-(px-cx),cy-(py-cy),Ee[0],Ee[1],Ee[2],Ee[3]);return px=Ee[0],py=Ee[1],cx=Ee[2],cy=Ee[3],t},s:function(Ee){(px===null||py===null)&&(px=cx,py=cy);var t=appendBezierCurve(cx-(px-cx),cy-(py-cy),cx+Ee[0],cy+Ee[1],cx+Ee[2],cy+Ee[3]);return px=cx+Ee[0],py=cy+Ee[1],cx+=Ee[2],cy+=Ee[3],t},Q:function(Ee){return px=Ee[0],py=Ee[1],cx=Ee[2],cy=Ee[3],appendQuadraticCurve(Ee[0],Ee[1],cx,cy)},q:function(Ee){var t=appendQuadraticCurve(Ee[0]+cx,Ee[1]+cy,Ee[2]+cx,Ee[3]+cy);return px=cx+Ee[0],py=cy+Ee[1],cx+=Ee[2],cy+=Ee[3],t},T:function(Ee){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var t=appendQuadraticCurve(px,py,Ee[0],Ee[1]);return px=cx-(px-cx),py=cy-(py-cy),cx=Ee[0],cy=Ee[1],t},t:function(Ee){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var t=appendQuadraticCurve(px,py,cx+Ee[0],cy+Ee[1]);return cx+=Ee[0],cy+=Ee[1],t},A:function(Ee){var t=solveArc(cx,cy,Ee);return cx=Ee[5],cy=Ee[6],t},a:function(Ee){Ee[5]+=cx,Ee[6]+=cy;var t=solveArc(cx,cy,Ee);return cx=Ee[5],cy=Ee[6],t},L:function(Ee){return cx=Ee[0],cy=Ee[1],px=py=null,lineTo(cx,cy)},l:function(Ee){return cx+=Ee[0],cy+=Ee[1],px=py=null,lineTo(cx,cy)},H:function(Ee){return cx=Ee[0],px=py=null,lineTo(cx,cy)},h:function(Ee){return cx+=Ee[0],px=py=null,lineTo(cx,cy)},V:function(Ee){return cy=Ee[0],px=py=null,lineTo(cx,cy)},v:function(Ee){return cy+=Ee[0],px=py=null,lineTo(cx,cy)},Z:function(){var Ee=closePath();return cx=sx,cy=sy,Ee},z:function(){var Ee=closePath();return cx=sx,cy=sy,Ee}},solveArc=function(Ee,t,Ae){for(var _e=Ae[0],xe=Ae[1],Ce=Ae[2],Se=Ae[3],Re=Ae[4],Be=Ae[5],Fe=Ae[6],Ie=arcToSegments(Be,Fe,_e,xe,Se,Re,Ce,Ee,t),Ue=[],ke=0,Oe=Ie;ke<Oe.length;ke++){var je=Oe[ke],Ke=segmentToBezier.apply(void 0,je);Ue.push(appendBezierCurve.apply(void 0,Ke))}return Ue},arcToSegments=function(Ee,t,Ae,_e,xe,Ce,Se,Re,Be){var Fe=Se*(Math.PI/180),Ie=Math.sin(Fe),Ue=Math.cos(Fe);Ae=Math.abs(Ae),_e=Math.abs(_e),px=Ue*(Re-Ee)*.5+Ie*(Be-t)*.5,py=Ue*(Be-t)*.5-Ie*(Re-Ee)*.5;var ke=px*px/(Ae*Ae)+py*py/(_e*_e);ke>1&&(ke=Math.sqrt(ke),Ae*=ke,_e*=ke);var Oe=Ue/Ae,je=Ie/Ae,Ke=-Ie/_e,ze=Ue/_e,Ve=Oe*Re+je*Be,Xe=Ke*Re+ze*Be,ir=Oe*Ee+je*t,sr=Ke*Ee+ze*t,rr=(ir-Ve)*(ir-Ve)+(sr-Xe)*(sr-Xe),nr=1/rr-.25;nr<0&&(nr=0);var We=Math.sqrt(nr);Ce===xe&&(We=-We);var Ge=.5*(Ve+ir)-We*(sr-Xe),Ze=.5*(Xe+sr)+We*(ir-Ve),or=Math.atan2(Xe-Ze,Ve-Ge),He=Math.atan2(sr-Ze,ir-Ge),Je=He-or;Je<0&&Ce===1?Je+=2*Math.PI:Je>0&&Ce===0&&(Je-=2*Math.PI);for(var $e=Math.ceil(Math.abs(Je/(Math.PI*.5+.001))),mr=[],wr=0;wr<$e;wr++){var vr=or+wr*Je/$e,ur=or+(wr+1)*Je/$e;mr[wr]=[Ge,Ze,vr,ur,Ae,_e,Ie,Ue]}return mr},segmentToBezier=function(Ee,t,Ae,_e,xe,Ce,Se,Re){var Be=Re*xe,Fe=-Se*Ce,Ie=Se*xe,Ue=Re*Ce,ke=.5*(_e-Ae),Oe=8/3*Math.sin(ke*.5)*Math.sin(ke*.5)/Math.sin(ke),je=Ee+Math.cos(Ae)-Oe*Math.sin(Ae),Ke=t+Math.sin(Ae)+Oe*Math.cos(Ae),ze=Ee+Math.cos(_e),Ve=t+Math.sin(_e),Xe=ze+Oe*Math.sin(_e),ir=Ve-Oe*Math.cos(_e),sr=[Be*je+Fe*Ke,Ie*je+Ue*Ke,Be*Xe+Fe*ir,Ie*Xe+Ue*ir,Be*ze+Fe*Ve,Ie*ze+Ue*Ve];return sr},svgPathToOperators=function(Ee){return apply(parse(Ee))},drawLinesOfText=function(Ee,t){for(var Ae=[pushGraphicsState(),t.graphicsState&&setGraphicsState(t.graphicsState),beginText(),setFillingColor(t.color),setFontAndSize(t.font,t.size),setLineHeight(t.lineHeight),rotateAndSkewTextRadiansAndTranslate(toRadians(t.rotate),toRadians(t.xSkew),toRadians(t.ySkew),t.x,t.y)].filter(Boolean),_e=0,xe=Ee.length;_e<xe;_e++)Ae.push(showText(Ee[_e]),nextLine());return Ae.push(endText(),popGraphicsState()),Ae},drawImage=function(Ee,t){return[pushGraphicsState(),t.graphicsState&&setGraphicsState(t.graphicsState),translate(t.x,t.y),rotateRadians(toRadians(t.rotate)),scale(t.width,t.height),skewRadians(toRadians(t.xSkew),toRadians(t.ySkew)),drawObject(Ee),popGraphicsState()].filter(Boolean)},drawPage=function(Ee,t){return[pushGraphicsState(),t.graphicsState&&setGraphicsState(t.graphicsState),translate(t.x,t.y),rotateRadians(toRadians(t.rotate)),scale(t.xScale,t.yScale),skewRadians(toRadians(t.xSkew),toRadians(t.ySkew)),drawObject(Ee),popGraphicsState()].filter(Boolean)},drawLine=function(Ee){var t,Ae;return[pushGraphicsState(),Ee.graphicsState&&setGraphicsState(Ee.graphicsState),Ee.color&&setStrokingColor(Ee.color),setLineWidth(Ee.thickness),setDashPattern((t=Ee.dashArray)!==null&&t!==void 0?t:[],(Ae=Ee.dashPhase)!==null&&Ae!==void 0?Ae:0),moveTo(Ee.start.x,Ee.start.y),Ee.lineCap&&setLineCap(Ee.lineCap),moveTo(Ee.start.x,Ee.start.y),lineTo(Ee.end.x,Ee.end.y),stroke(),popGraphicsState()].filter(Boolean)},drawRectangle=function(Ee){var t,Ae;return[pushGraphicsState(),Ee.graphicsState&&setGraphicsState(Ee.graphicsState),Ee.color&&setFillingColor(Ee.color),Ee.borderColor&&setStrokingColor(Ee.borderColor),setLineWidth(Ee.borderWidth),Ee.borderLineCap&&setLineCap(Ee.borderLineCap),setDashPattern((t=Ee.borderDashArray)!==null&&t!==void 0?t:[],(Ae=Ee.borderDashPhase)!==null&&Ae!==void 0?Ae:0),translate(Ee.x,Ee.y),rotateRadians(toRadians(Ee.rotate)),skewRadians(toRadians(Ee.xSkew),toRadians(Ee.ySkew)),moveTo(0,0),lineTo(0,Ee.height),lineTo(Ee.width,Ee.height),lineTo(Ee.width,0),closePath(),Ee.color&&Ee.borderWidth?fillAndStroke():Ee.color?fill():Ee.borderColor?stroke():closePath(),popGraphicsState()].filter(Boolean)},KAPPA=4*((Math.sqrt(2)-1)/3),drawEllipsePath=function(Ee){var t=asNumber(Ee.x),Ae=asNumber(Ee.y),_e=asNumber(Ee.xScale),xe=asNumber(Ee.yScale);t-=_e,Ae-=xe;var Ce=_e*KAPPA,Se=xe*KAPPA,Re=t+_e*2,Be=Ae+xe*2,Fe=t+_e,Ie=Ae+xe;return[pushGraphicsState(),moveTo(t,Ie),appendBezierCurve(t,Ie-Se,Fe-Ce,Ae,Fe,Ae),appendBezierCurve(Fe+Ce,Ae,Re,Ie-Se,Re,Ie),appendBezierCurve(Re,Ie+Se,Fe+Ce,Be,Fe,Be),appendBezierCurve(Fe-Ce,Be,t,Ie+Se,t,Ie),popGraphicsState()]},drawEllipseCurves=function(Ee){var t=asNumber(Ee.x),Ae=asNumber(Ee.y),_e=asNumber(Ee.xScale),xe=asNumber(Ee.yScale),Ce=-_e,Se=-xe,Re=_e*KAPPA,Be=xe*KAPPA,Fe=Ce+_e*2,Ie=Se+xe*2,Ue=Ce+_e,ke=Se+xe;return[translate(t,Ae),rotateRadians(toRadians(Ee.rotate)),moveTo(Ce,ke),appendBezierCurve(Ce,ke-Be,Ue-Re,Se,Ue,Se),appendBezierCurve(Ue+Re,Se,Fe,ke-Be,Fe,ke),appendBezierCurve(Fe,ke+Be,Ue+Re,Ie,Ue,Ie),appendBezierCurve(Ue-Re,Ie,Ce,ke+Be,Ce,ke)]},drawEllipse=function(Ee){var t,Ae,_e;return __spreadArrays([pushGraphicsState(),Ee.graphicsState&&setGraphicsState(Ee.graphicsState),Ee.color&&setFillingColor(Ee.color),Ee.borderColor&&setStrokingColor(Ee.borderColor),setLineWidth(Ee.borderWidth),Ee.borderLineCap&&setLineCap(Ee.borderLineCap),setDashPattern((t=Ee.borderDashArray)!==null&&t!==void 0?t:[],(Ae=Ee.borderDashPhase)!==null&&Ae!==void 0?Ae:0)],Ee.rotate===void 0?drawEllipsePath({x:Ee.x,y:Ee.y,xScale:Ee.xScale,yScale:Ee.yScale}):drawEllipseCurves({x:Ee.x,y:Ee.y,xScale:Ee.xScale,yScale:Ee.yScale,rotate:(_e=Ee.rotate)!==null&&_e!==void 0?_e:degrees(0)}),[Ee.color&&Ee.borderWidth?fillAndStroke():Ee.color?fill():Ee.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawSvgPath=function(Ee,t){var Ae,_e,xe;return __spreadArrays([pushGraphicsState(),t.graphicsState&&setGraphicsState(t.graphicsState),translate(t.x,t.y),rotateRadians(toRadians((Ae=t.rotate)!==null&&Ae!==void 0?Ae:degrees(0))),t.scale?scale(t.scale,-t.scale):scale(1,-1),t.color&&setFillingColor(t.color),t.borderColor&&setStrokingColor(t.borderColor),t.borderWidth&&setLineWidth(t.borderWidth),t.borderLineCap&&setLineCap(t.borderLineCap),setDashPattern((_e=t.borderDashArray)!==null&&_e!==void 0?_e:[],(xe=t.borderDashPhase)!==null&&xe!==void 0?xe:0)],svgPathToOperators(Ee),[t.color&&t.borderWidth?fillAndStroke():t.color?fill():t.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawCheckMark=function(Ee){var t=asNumber(Ee.size),Ae=-1+.75,_e=-1+.51,xe=1-.525,Ce=1-.31,Se=-1+.325,Re=.3995/(xe-_e)+_e;return[pushGraphicsState(),Ee.color&&setStrokingColor(Ee.color),setLineWidth(Ee.thickness),translate(Ee.x,Ee.y),moveTo(Se*t,Re*t),lineTo(Ae*t,_e*t),lineTo(Ce*t,xe*t),stroke(),popGraphicsState()].filter(Boolean)},rotateInPlace=function(Ee){return Ee.rotation===0?[translate(0,0),rotateDegrees(0)]:Ee.rotation===90?[translate(Ee.width,0),rotateDegrees(90)]:Ee.rotation===180?[translate(Ee.width,Ee.height),rotateDegrees(180)]:Ee.rotation===270?[translate(0,Ee.height),rotateDegrees(270)]:[]},drawCheckBox=function(Ee){var t=drawRectangle({x:Ee.x,y:Ee.y,width:Ee.width,height:Ee.height,borderWidth:Ee.borderWidth,color:Ee.color,borderColor:Ee.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});if(!Ee.filled)return t;var Ae=asNumber(Ee.width),_e=asNumber(Ee.height),xe=Math.min(Ae,_e)/2,Ce=drawCheckMark({x:Ae/2,y:_e/2,size:xe,thickness:Ee.thickness,color:Ee.markColor});return __spreadArrays([pushGraphicsState()],t,Ce,[popGraphicsState()])},drawRadioButton=function(Ee){var t=asNumber(Ee.width),Ae=asNumber(Ee.height),_e=Math.min(t,Ae)/2,xe=drawEllipse({x:Ee.x,y:Ee.y,xScale:_e,yScale:_e,color:Ee.color,borderColor:Ee.borderColor,borderWidth:Ee.borderWidth});if(!Ee.filled)return xe;var Ce=drawEllipse({x:Ee.x,y:Ee.y,xScale:_e*.45,yScale:_e*.45,color:Ee.dotColor,borderColor:void 0,borderWidth:0});return __spreadArrays([pushGraphicsState()],xe,Ce,[popGraphicsState()])},drawButton=function(Ee){var t=asNumber(Ee.x),Ae=asNumber(Ee.y),_e=asNumber(Ee.width),xe=asNumber(Ee.height),Ce=drawRectangle({x:t,y:Ae,width:_e,height:xe,borderWidth:Ee.borderWidth,color:Ee.color,borderColor:Ee.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),Se=drawTextLines(Ee.textLines,{color:Ee.textColor,font:Ee.font,size:Ee.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});return __spreadArrays([pushGraphicsState()],Ce,Se,[popGraphicsState()])},drawTextLines=function(Ee,t){for(var Ae=[beginText(),setFillingColor(t.color),setFontAndSize(t.font,t.size)],_e=0,xe=Ee.length;_e<xe;_e++){var Ce=Ee[_e],Se=Ce.encoded,Re=Ce.x,Be=Ce.y;Ae.push(rotateAndSkewTextRadiansAndTranslate(toRadians(t.rotate),toRadians(t.xSkew),toRadians(t.ySkew),Re,Be),showText(Se))}return Ae.push(endText()),Ae},drawTextField=function(Ee){var t=asNumber(Ee.x),Ae=asNumber(Ee.y),_e=asNumber(Ee.width),xe=asNumber(Ee.height),Ce=asNumber(Ee.borderWidth),Se=asNumber(Ee.padding),Re=t+Ce/2+Se,Be=Ae+Ce/2+Se,Fe=_e-(Ce/2+Se)*2,Ie=xe-(Ce/2+Se)*2,Ue=[moveTo(Re,Be),lineTo(Re,Be+Ie),lineTo(Re+Fe,Be+Ie),lineTo(Re+Fe,Be),closePath(),clip(),endPath()],ke=drawRectangle({x:t,y:Ae,width:_e,height:xe,borderWidth:Ee.borderWidth,color:Ee.color,borderColor:Ee.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),Oe=drawTextLines(Ee.textLines,{color:Ee.textColor,font:Ee.font,size:Ee.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),je=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],Oe,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],ke,Ue,je,[popGraphicsState()])},drawOptionList=function(Ee){for(var t=asNumber(Ee.x),Ae=asNumber(Ee.y),_e=asNumber(Ee.width),xe=asNumber(Ee.height),Ce=asNumber(Ee.lineHeight),Se=asNumber(Ee.borderWidth),Re=asNumber(Ee.padding),Be=t+Se/2+Re,Fe=Ae+Se/2+Re,Ie=_e-(Se/2+Re)*2,Ue=xe-(Se/2+Re)*2,ke=[moveTo(Be,Fe),lineTo(Be,Fe+Ue),lineTo(Be+Ie,Fe+Ue),lineTo(Be+Ie,Fe),closePath(),clip(),endPath()],Oe=drawRectangle({x:t,y:Ae,width:_e,height:xe,borderWidth:Ee.borderWidth,color:Ee.color,borderColor:Ee.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),je=[],Ke=0,ze=Ee.selectedLines.length;Ke<ze;Ke++){var Ve=Ee.textLines[Ee.selectedLines[Ke]];je.push.apply(je,drawRectangle({x:Ve.x-Re,y:Ve.y-(Ce-Ve.height)/2,width:_e-Se,height:Ve.height+(Ce-Ve.height)/2,borderWidth:0,color:Ee.selectedColor,borderColor:void 0,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}))}var Xe=drawTextLines(Ee.textLines,{color:Ee.textColor,font:Ee.font,size:Ee.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),ir=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],Xe,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],Oe,je,ke,ir,[popGraphicsState()])},EncryptedPDFError=function(Ee){__extends(t,Ee);function t(){var Ae=this,_e="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return Ae=Ee.call(this,_e)||this,Ae}return t}(Error),FontkitNotRegisteredError=function(Ee){__extends(t,Ee);function t(){var Ae=this,_e="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return Ae=Ee.call(this,_e)||this,Ae}return t}(Error),ForeignPageError=function(Ee){__extends(t,Ee);function t(){var Ae=this,_e="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return Ae=Ee.call(this,_e)||this,Ae}return t}(Error),RemovePageFromEmptyDocumentError=function(Ee){__extends(t,Ee);function t(){var Ae=this,_e="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return Ae=Ee.call(this,_e)||this,Ae}return t}(Error),NoSuchFieldError=function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe='PDFDocument has no form field with the name "'+Ae+'"';return _e=Ee.call(this,xe)||this,_e}return t}(Error),UnexpectedFieldTypeError=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){var Ce,Se,Re=this,Be=_e==null?void 0:_e.name,Fe=(Se=(Ce=xe==null?void 0:xe.constructor)===null||Ce===void 0?void 0:Ce.name)!==null&&Se!==void 0?Se:xe,Ie='Expected field "'+Ae+'" to be of type '+Be+", "+("but it is actually of type "+Fe);return Re=Ee.call(this,Ie)||this,Re}return t}(Error);(function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe='Failed to select check box due to missing onValue: "'+Ae+'"';return _e=Ee.call(this,xe)||this,_e}return t})(Error);var FieldAlreadyExistsError=function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe='A field already exists with the specified name: "'+Ae+'"';return _e=Ee.call(this,xe)||this,_e}return t}(Error),InvalidFieldNamePartError=function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe='Field name contains invalid component: "'+Ae+'"';return _e=Ee.call(this,xe)||this,_e}return t}(Error);(function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe='A non-terminal field already exists with the specified name: "'+Ae+'"';return _e=Ee.call(this,xe)||this,_e}return t})(Error);var RichTextFieldReadError=function(Ee){__extends(t,Ee);function t(Ae){var _e=this,xe="Reading rich text fields is not supported: Attempted to read rich text field: "+Ae;return _e=Ee.call(this,xe)||this,_e}return t}(Error),CombedTextLayoutError=function(Ee){__extends(t,Ee);function t(Ae,_e){var xe=this,Ce="Failed to layout combed text as lineLength="+Ae+" is greater than cellCount="+_e;return xe=Ee.call(this,Ce)||this,xe}return t}(Error),ExceededMaxLengthError=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){var Ce=this,Se="Attempted to set text with length="+Ae+" for TextField with maxLength="+_e+" and name="+xe;return Ce=Ee.call(this,Se)||this,Ce}return t}(Error),InvalidMaxLengthError=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){var Ce=this,Se="Attempted to set maxLength="+_e+", which is less than "+Ae+", the length of this field's current value (name="+xe+")";return Ce=Ee.call(this,Se)||this,Ce}return t}(Error),TextAlignment;(function(Ee){Ee[Ee.Left=0]="Left",Ee[Ee.Center=1]="Center",Ee[Ee.Right=2]="Right"})(TextAlignment||(TextAlignment={}));var MIN_FONT_SIZE=4,MAX_FONT_SIZE=500,computeFontSize=function(Ee,t,Ae,_e){_e===void 0&&(_e=!1);for(var xe=MIN_FONT_SIZE;xe<MAX_FONT_SIZE;){for(var Ce=0,Se=0,Re=Ee.length;Se<Re;Se++){Ce+=1;for(var Be=Ee[Se],Fe=Be.split(" "),Ie=Ae.width,Ue=0,ke=Fe.length;Ue<ke;Ue++){var Oe=Ue===ke-1,je=Oe?Fe[Ue]:Fe[Ue]+" ",Ke=t.widthOfTextAtSize(je,xe);Ie-=Ke,Ie<=0&&(Ce+=1,Ie=Ae.width-Ke)}}if(!_e&&Ce>Ee.length)return xe-1;var ze=t.heightAtSize(xe),Ve=ze+ze*.2,Xe=Ve*Ce;if(Xe>Math.abs(Ae.height))return xe-1;xe+=1}return xe},computeCombedFontSize=function(Ee,t,Ae,_e){for(var xe=Ae.width/_e,Ce=Ae.height,Se=MIN_FONT_SIZE,Re=charSplit(Ee);Se<MAX_FONT_SIZE;){for(var Be=0,Fe=Re.length;Be<Fe;Be++){var Ie=Re[Be],Ue=t.widthOfTextAtSize(Ie,Se)>xe*.75;if(Ue)return Se-1}var ke=t.heightAtSize(Se,{descender:!1});if(ke>Ce)return Se-1;Se+=1}return Se},lastIndexOfWhitespace=function(Ee){for(var t=Ee.length;t>0;t--)if(/\s/.test(Ee[t]))return t},splitOutLines=function(Ee,t,Ae,_e){for(var xe,Ce=Ee.length;Ce>0;){var Se=Ee.substring(0,Ce),Re=Ae.encodeText(Se),Be=Ae.widthOfTextAtSize(Se,_e);if(Be<t){var Fe=Ee.substring(Ce)||void 0;return{line:Se,encoded:Re,width:Be,remainder:Fe}}Ce=(xe=lastIndexOfWhitespace(Se))!==null&&xe!==void 0?xe:0}return{line:Ee,encoded:Ae.encodeText(Ee),width:Ae.widthOfTextAtSize(Ee,_e),remainder:void 0}},layoutMultilineText=function(Ee,t){var Ae=t.alignment,_e=t.fontSize,xe=t.font,Ce=t.bounds,Se=lineSplit(cleanText(Ee));(_e===void 0||_e===0)&&(_e=computeFontSize(Se,xe,Ce,!0));for(var Re=xe.heightAtSize(_e),Be=Re+Re*.2,Fe=[],Ie=Ce.x,Ue=Ce.y,ke=Ce.x+Ce.width,Oe=Ce.y+Ce.height,je=Ce.y+Ce.height,Ke=0,ze=Se.length;Ke<ze;Ke++)for(var Ve=Se[Ke];Ve!==void 0;){var Xe=splitOutLines(Ve,Ce.width,xe,_e),ir=Xe.line,sr=Xe.encoded,rr=Xe.width,nr=Xe.remainder,We=Ae===TextAlignment.Left?Ce.x:Ae===TextAlignment.Center?Ce.x+Ce.width/2-rr/2:Ae===TextAlignment.Right?Ce.x+Ce.width-rr:Ce.x;je-=Be,We<Ie&&(Ie=We),je<Ue&&(Ue=je),We+rr>ke&&(ke=We+rr),je+Re>Oe&&(Oe=je+Re),Fe.push({text:ir,encoded:sr,width:rr,height:Re,x:We,y:je}),Ve=nr==null?void 0:nr.trim()}return{fontSize:_e,lineHeight:Be,lines:Fe,bounds:{x:Ie,y:Ue,width:ke-Ie,height:Oe-Ue}}},layoutCombedText=function(Ee,t){var Ae=t.fontSize,_e=t.font,xe=t.bounds,Ce=t.cellCount,Se=mergeLines(cleanText(Ee));if(Se.length>Ce)throw new CombedTextLayoutError(Se.length,Ce);(Ae===void 0||Ae===0)&&(Ae=computeCombedFontSize(Se,_e,xe,Ce));for(var Re=xe.width/Ce,Be=_e.heightAtSize(Ae,{descender:!1}),Fe=xe.y+(xe.height/2-Be/2),Ie=[],Ue=xe.x,ke=xe.y,Oe=xe.x+xe.width,je=xe.y+xe.height,Ke=0,ze=0;Ke<Ce;){var Ve=charAtIndex(Se,ze),Xe=Ve[0],ir=Ve[1],sr=_e.encodeText(Xe),rr=_e.widthOfTextAtSize(Xe,Ae),nr=xe.x+(Re*Ke+Re/2),We=nr-rr/2;We<Ue&&(Ue=We),Fe<ke&&(ke=Fe),We+rr>Oe&&(Oe=We+rr),Fe+Be>je&&(je=Fe+Be),Ie.push({text:Se,encoded:sr,width:rr,height:Be,x:We,y:Fe}),Ke+=1,ze+=ir}return{fontSize:Ae,cells:Ie,bounds:{x:Ue,y:ke,width:Oe-Ue,height:je-ke}}},layoutSinglelineText=function(Ee,t){var Ae=t.alignment,_e=t.fontSize,xe=t.font,Ce=t.bounds,Se=mergeLines(cleanText(Ee));(_e===void 0||_e===0)&&(_e=computeFontSize([Se],xe,Ce));var Re=xe.encodeText(Se),Be=xe.widthOfTextAtSize(Se,_e),Fe=xe.heightAtSize(_e,{descender:!1}),Ie=Ae===TextAlignment.Left?Ce.x:Ae===TextAlignment.Center?Ce.x+Ce.width/2-Be/2:Ae===TextAlignment.Right?Ce.x+Ce.width-Be:Ce.x,Ue=Ce.y+(Ce.height/2-Fe/2);return{fontSize:_e,line:{text:Se,encoded:Re,width:Be,height:Fe,x:Ie,y:Ue},bounds:{x:Ie,y:Ue,width:Be,height:Fe}}},normalizeAppearance=function(Ee){return"normal"in Ee?Ee:{normal:Ee}},tfRegex=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,getDefaultFontSize=function(Ee){var t,Ae,_e=(t=Ee.getDefaultAppearance())!==null&&t!==void 0?t:"",xe=(Ae=findLastMatch(_e,tfRegex).match)!==null&&Ae!==void 0?Ae:[],Ce=Number(xe[2]);return isFinite(Ce)?Ce:void 0},colorRegex=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,getDefaultColor=function(Ee){var t,Ae=(t=Ee.getDefaultAppearance())!==null&&t!==void 0?t:"",_e=findLastMatch(Ae,colorRegex).match,xe=_e??[],Ce=xe[1],Se=xe[2],Re=xe[3],Be=xe[4],Fe=xe[5];if(Fe==="g"&&Ce)return grayscale(Number(Ce));if(Fe==="rg"&&Ce&&Se&&Re)return rgb(Number(Ce),Number(Se),Number(Re));if(Fe==="k"&&Ce&&Se&&Re&&Be)return cmyk(Number(Ce),Number(Se),Number(Re),Number(Be))},updateDefaultAppearance=function(Ee,t,Ae,_e){var xe;_e===void 0&&(_e=0);var Ce=[setFillingColor(t).toString(),setFontAndSize((xe=Ae==null?void 0:Ae.name)!==null&&xe!==void 0?xe:"dummy__noop",_e).toString()].join(`
`);Ee.setDefaultAppearance(Ce)},defaultCheckBoxAppearanceProvider=function(Ee,t){var Ae,_e,xe,Ce=getDefaultColor(t),Se=getDefaultColor(Ee.acroField),Re=t.getRectangle(),Be=t.getAppearanceCharacteristics(),Fe=t.getBorderStyle(),Ie=(Ae=Fe==null?void 0:Fe.getWidth())!==null&&Ae!==void 0?Ae:0,Ue=reduceRotation(Be==null?void 0:Be.getRotation()),ke=adjustDimsForRotation(Re,Ue),Oe=ke.width,je=ke.height,Ke=rotateInPlace(__assign(__assign({},Re),{rotation:Ue})),ze=rgb(0,0,0),Ve=(_e=componentsToColor(Be==null?void 0:Be.getBorderColor()))!==null&&_e!==void 0?_e:ze,Xe=componentsToColor(Be==null?void 0:Be.getBackgroundColor()),ir=componentsToColor(Be==null?void 0:Be.getBackgroundColor(),.8),sr=(xe=Ce??Se)!==null&&xe!==void 0?xe:ze;updateDefaultAppearance(Ce?t:Ee.acroField,sr);var rr={x:0+Ie/2,y:0+Ie/2,width:Oe-Ie,height:je-Ie,thickness:1.5,borderWidth:Ie,borderColor:Ve,markColor:sr};return{normal:{on:__spreadArrays(Ke,drawCheckBox(__assign(__assign({},rr),{color:Xe,filled:!0}))),off:__spreadArrays(Ke,drawCheckBox(__assign(__assign({},rr),{color:Xe,filled:!1})))},down:{on:__spreadArrays(Ke,drawCheckBox(__assign(__assign({},rr),{color:ir,filled:!0}))),off:__spreadArrays(Ke,drawCheckBox(__assign(__assign({},rr),{color:ir,filled:!1})))}}},defaultRadioGroupAppearanceProvider=function(Ee,t){var Ae,_e,xe,Ce=getDefaultColor(t),Se=getDefaultColor(Ee.acroField),Re=t.getRectangle(),Be=t.getAppearanceCharacteristics(),Fe=t.getBorderStyle(),Ie=(Ae=Fe==null?void 0:Fe.getWidth())!==null&&Ae!==void 0?Ae:0,Ue=reduceRotation(Be==null?void 0:Be.getRotation()),ke=adjustDimsForRotation(Re,Ue),Oe=ke.width,je=ke.height,Ke=rotateInPlace(__assign(__assign({},Re),{rotation:Ue})),ze=rgb(0,0,0),Ve=(_e=componentsToColor(Be==null?void 0:Be.getBorderColor()))!==null&&_e!==void 0?_e:ze,Xe=componentsToColor(Be==null?void 0:Be.getBackgroundColor()),ir=componentsToColor(Be==null?void 0:Be.getBackgroundColor(),.8),sr=(xe=Ce??Se)!==null&&xe!==void 0?xe:ze;updateDefaultAppearance(Ce?t:Ee.acroField,sr);var rr={x:Oe/2,y:je/2,width:Oe-Ie,height:je-Ie,borderWidth:Ie,borderColor:Ve,dotColor:sr};return{normal:{on:__spreadArrays(Ke,drawRadioButton(__assign(__assign({},rr),{color:Xe,filled:!0}))),off:__spreadArrays(Ke,drawRadioButton(__assign(__assign({},rr),{color:Xe,filled:!1})))},down:{on:__spreadArrays(Ke,drawRadioButton(__assign(__assign({},rr),{color:ir,filled:!0}))),off:__spreadArrays(Ke,drawRadioButton(__assign(__assign({},rr),{color:ir,filled:!1})))}}},defaultButtonAppearanceProvider=function(Ee,t,Ae){var _e,xe,Ce,Se,Re,Be=getDefaultColor(t),Fe=getDefaultColor(Ee.acroField),Ie=getDefaultFontSize(t),Ue=getDefaultFontSize(Ee.acroField),ke=t.getRectangle(),Oe=t.getAppearanceCharacteristics(),je=t.getBorderStyle(),Ke=Oe==null?void 0:Oe.getCaptions(),ze=(_e=Ke==null?void 0:Ke.normal)!==null&&_e!==void 0?_e:"",Ve=(Ce=(xe=Ke==null?void 0:Ke.down)!==null&&xe!==void 0?xe:ze)!==null&&Ce!==void 0?Ce:"",Xe=(Se=je==null?void 0:je.getWidth())!==null&&Se!==void 0?Se:0,ir=reduceRotation(Oe==null?void 0:Oe.getRotation()),sr=adjustDimsForRotation(ke,ir),rr=sr.width,nr=sr.height,We=rotateInPlace(__assign(__assign({},ke),{rotation:ir})),Ge=rgb(0,0,0),Ze=componentsToColor(Oe==null?void 0:Oe.getBorderColor()),or=componentsToColor(Oe==null?void 0:Oe.getBackgroundColor()),He=componentsToColor(Oe==null?void 0:Oe.getBackgroundColor(),.8),Je={x:Xe,y:Xe,width:rr-Xe*2,height:nr-Xe*2},$e=layoutSinglelineText(ze,{alignment:TextAlignment.Center,fontSize:Ie??Ue,font:Ae,bounds:Je}),mr=layoutSinglelineText(Ve,{alignment:TextAlignment.Center,fontSize:Ie??Ue,font:Ae,bounds:Je}),wr=Math.min($e.fontSize,mr.fontSize),vr=(Re=Be??Fe)!==null&&Re!==void 0?Re:Ge;updateDefaultAppearance(Be||Ie!==void 0?t:Ee.acroField,vr,Ae,wr);var ur={x:0+Xe/2,y:0+Xe/2,width:rr-Xe,height:nr-Xe,borderWidth:Xe,borderColor:Ze,textColor:vr,font:Ae.name,fontSize:wr};return{normal:__spreadArrays(We,drawButton(__assign(__assign({},ur),{color:or,textLines:[$e.line]}))),down:__spreadArrays(We,drawButton(__assign(__assign({},ur),{color:He,textLines:[mr.line]})))}},defaultTextFieldAppearanceProvider=function(Ee,t,Ae){var _e,xe,Ce,Se,Re=getDefaultColor(t),Be=getDefaultColor(Ee.acroField),Fe=getDefaultFontSize(t),Ie=getDefaultFontSize(Ee.acroField),Ue=t.getRectangle(),ke=t.getAppearanceCharacteristics(),Oe=t.getBorderStyle(),je=(_e=Ee.getText())!==null&&_e!==void 0?_e:"",Ke=(xe=Oe==null?void 0:Oe.getWidth())!==null&&xe!==void 0?xe:0,ze=reduceRotation(ke==null?void 0:ke.getRotation()),Ve=adjustDimsForRotation(Ue,ze),Xe=Ve.width,ir=Ve.height,sr=rotateInPlace(__assign(__assign({},Ue),{rotation:ze})),rr=rgb(0,0,0),nr=componentsToColor(ke==null?void 0:ke.getBorderColor()),We=componentsToColor(ke==null?void 0:ke.getBackgroundColor()),Ge,Ze,or=Ee.isCombed()?0:1,He={x:Ke+or,y:Ke+or,width:Xe-(Ke+or)*2,height:ir-(Ke+or)*2};if(Ee.isMultiline()){var Je=layoutMultilineText(je,{alignment:Ee.getAlignment(),fontSize:Fe??Ie,font:Ae,bounds:He});Ge=Je.lines,Ze=Je.fontSize}else if(Ee.isCombed()){var Je=layoutCombedText(je,{fontSize:Fe??Ie,font:Ae,bounds:He,cellCount:(Ce=Ee.getMaxLength())!==null&&Ce!==void 0?Ce:0});Ge=Je.cells,Ze=Je.fontSize}else{var Je=layoutSinglelineText(je,{alignment:Ee.getAlignment(),fontSize:Fe??Ie,font:Ae,bounds:He});Ge=[Je.line],Ze=Je.fontSize}var $e=(Se=Re??Be)!==null&&Se!==void 0?Se:rr;updateDefaultAppearance(Re||Fe!==void 0?t:Ee.acroField,$e,Ae,Ze);var mr={x:0+Ke/2,y:0+Ke/2,width:Xe-Ke,height:ir-Ke,borderWidth:Ke??0,borderColor:nr,textColor:$e,font:Ae.name,fontSize:Ze,color:We,textLines:Ge,padding:or};return __spreadArrays(sr,drawTextField(mr))},defaultDropdownAppearanceProvider=function(Ee,t,Ae){var _e,xe,Ce,Se=getDefaultColor(t),Re=getDefaultColor(Ee.acroField),Be=getDefaultFontSize(t),Fe=getDefaultFontSize(Ee.acroField),Ie=t.getRectangle(),Ue=t.getAppearanceCharacteristics(),ke=t.getBorderStyle(),Oe=(_e=Ee.getSelected()[0])!==null&&_e!==void 0?_e:"",je=(xe=ke==null?void 0:ke.getWidth())!==null&&xe!==void 0?xe:0,Ke=reduceRotation(Ue==null?void 0:Ue.getRotation()),ze=adjustDimsForRotation(Ie,Ke),Ve=ze.width,Xe=ze.height,ir=rotateInPlace(__assign(__assign({},Ie),{rotation:Ke})),sr=rgb(0,0,0),rr=componentsToColor(Ue==null?void 0:Ue.getBorderColor()),nr=componentsToColor(Ue==null?void 0:Ue.getBackgroundColor()),We=1,Ge={x:je+We,y:je+We,width:Ve-(je+We)*2,height:Xe-(je+We)*2},Ze=layoutSinglelineText(Oe,{alignment:TextAlignment.Left,fontSize:Be??Fe,font:Ae,bounds:Ge}),or=Ze.line,He=Ze.fontSize,Je=(Ce=Se??Re)!==null&&Ce!==void 0?Ce:sr;updateDefaultAppearance(Se||Be!==void 0?t:Ee.acroField,Je,Ae,He);var $e={x:0+je/2,y:0+je/2,width:Ve-je,height:Xe-je,borderWidth:je??0,borderColor:rr,textColor:Je,font:Ae.name,fontSize:He,color:nr,textLines:[or],padding:We};return __spreadArrays(ir,drawTextField($e))},defaultOptionListAppearanceProvider=function(Ee,t,Ae){var _e,xe,Ce=getDefaultColor(t),Se=getDefaultColor(Ee.acroField),Re=getDefaultFontSize(t),Be=getDefaultFontSize(Ee.acroField),Fe=t.getRectangle(),Ie=t.getAppearanceCharacteristics(),Ue=t.getBorderStyle(),ke=(_e=Ue==null?void 0:Ue.getWidth())!==null&&_e!==void 0?_e:0,Oe=reduceRotation(Ie==null?void 0:Ie.getRotation()),je=adjustDimsForRotation(Fe,Oe),Ke=je.width,ze=je.height,Ve=rotateInPlace(__assign(__assign({},Fe),{rotation:Oe})),Xe=rgb(0,0,0),ir=componentsToColor(Ie==null?void 0:Ie.getBorderColor()),sr=componentsToColor(Ie==null?void 0:Ie.getBackgroundColor()),rr=Ee.getOptions(),nr=Ee.getSelected();Ee.isSorted()&&rr.sort();for(var We="",Ge=0,Ze=rr.length;Ge<Ze;Ge++)We+=rr[Ge],Ge<Ze-1&&(We+=`
`);for(var or=1,He={x:ke+or,y:ke+or,width:Ke-(ke+or)*2,height:ze-(ke+or)*2},Je=layoutMultilineText(We,{alignment:TextAlignment.Left,fontSize:Re??Be,font:Ae,bounds:He}),$e=Je.lines,mr=Je.fontSize,wr=Je.lineHeight,vr=[],Ge=0,Ze=$e.length;Ge<Ze;Ge++){var ur=$e[Ge];nr.includes(ur.text)&&vr.push(Ge)}var Cr=rgb(153/255,193/255,218/255),_r=(xe=Ce??Se)!==null&&xe!==void 0?xe:Xe;return updateDefaultAppearance(Ce||Re!==void 0?t:Ee.acroField,_r,Ae,mr),__spreadArrays(Ve,drawOptionList({x:0+ke/2,y:0+ke/2,width:Ke-ke,height:ze-ke,borderWidth:ke??0,borderColor:ir,textColor:_r,font:Ae.name,fontSize:mr,color:sr,textLines:$e,lineHeight:wr,selectedColor:Cr,selectedLines:vr,padding:or}))},PDFEmbeddedPage=function(){function Ee(t,Ae,_e){this.alreadyEmbedded=!1,assertIs(t,"ref",[[PDFRef,"PDFRef"]]),assertIs(Ae,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(_e,"embedder",[[PDFPageEmbedder,"PDFPageEmbedder"]]),this.ref=t,this.doc=Ae,this.width=_e.width,this.height=_e.height,this.embedder=_e}return Ee.prototype.scale=function(t){return assertIs(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},Ee.prototype.size=function(){return this.scale(1)},Ee.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t.sent(),this.alreadyEmbedded=!0,t.label=2;case 2:return[2]}})})},Ee.of=function(t,Ae,_e){return new Ee(t,Ae,_e)},Ee}(),PDFFont=function(){function Ee(t,Ae,_e){this.modified=!0,assertIs(t,"ref",[[PDFRef,"PDFRef"]]),assertIs(Ae,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(_e,"embedder",[[CustomFontEmbedder,"CustomFontEmbedder"],[StandardFontEmbedder,"StandardFontEmbedder"]]),this.ref=t,this.doc=Ae,this.name=_e.fontName,this.embedder=_e}return Ee.prototype.encodeText=function(t){return assertIs(t,"text",["string"]),this.modified=!0,this.embedder.encodeText(t)},Ee.prototype.widthOfTextAtSize=function(t,Ae){return assertIs(t,"text",["string"]),assertIs(Ae,"size",["number"]),this.embedder.widthOfTextAtSize(t,Ae)},Ee.prototype.heightAtSize=function(t,Ae){var _e;return assertIs(t,"size",["number"]),assertOrUndefined(Ae==null?void 0:Ae.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(t,{descender:(_e=Ae==null?void 0:Ae.descender)!==null&&_e!==void 0?_e:!0})},Ee.prototype.sizeAtHeight=function(t){return assertIs(t,"height",["number"]),this.embedder.sizeOfFontAtHeight(t)},Ee.prototype.getCharacterSet=function(){return this.embedder instanceof StandardFontEmbedder?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},Ee.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:t.sent(),this.modified=!1,t.label=2;case 2:return[2]}})})},Ee.of=function(t,Ae,_e){return new Ee(t,Ae,_e)},Ee}(),PDFImage=function(){function Ee(t,Ae,_e){assertIs(t,"ref",[[PDFRef,"PDFRef"]]),assertIs(Ae,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(_e,"embedder",[[JpegEmbedder,"JpegEmbedder"],[PngEmbedder,"PngEmbedder"]]),this.ref=t,this.doc=Ae,this.width=_e.width,this.height=_e.height,this.embedder=_e}return Ee.prototype.scale=function(t){return assertIs(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},Ee.prototype.scaleToFit=function(t,Ae){assertIs(t,"width",["number"]),assertIs(Ae,"height",["number"]);var _e=t/this.width,xe=Ae/this.height,Ce=Math.min(_e,xe);return this.scale(Ce)},Ee.prototype.size=function(){return this.scale(1)},Ee.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){var t,Ae,_e;return __generator(this,function(xe){switch(xe.label){case 0:return this.embedder?(this.embedTask||(t=this,Ae=t.doc,_e=t.ref,this.embedTask=this.embedder.embedIntoContext(Ae.context,_e)),[4,this.embedTask]):[2];case 1:return xe.sent(),this.embedder=void 0,[2]}})})},Ee.of=function(t,Ae,_e){return new Ee(t,Ae,_e)},Ee}(),ImageAlignment;(function(Ee){Ee[Ee.Left=0]="Left",Ee[Ee.Center=1]="Center",Ee[Ee.Right=2]="Right"})(ImageAlignment||(ImageAlignment={}));var assertFieldAppearanceOptions=function(Ee){assertOrUndefined(Ee==null?void 0:Ee.x,"options.x",["number"]),assertOrUndefined(Ee==null?void 0:Ee.y,"options.y",["number"]),assertOrUndefined(Ee==null?void 0:Ee.width,"options.width",["number"]),assertOrUndefined(Ee==null?void 0:Ee.height,"options.height",["number"]),assertOrUndefined(Ee==null?void 0:Ee.textColor,"options.textColor",[[Object,"Color"]]),assertOrUndefined(Ee==null?void 0:Ee.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),assertOrUndefined(Ee==null?void 0:Ee.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(Ee==null?void 0:Ee.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(Ee==null?void 0:Ee.rotate,"options.rotate",[[Object,"Rotation"]])},PDFField=function(){function Ee(t,Ae,_e){assertIs(t,"acroField",[[PDFAcroTerminal,"PDFAcroTerminal"]]),assertIs(Ae,"ref",[[PDFRef,"PDFRef"]]),assertIs(_e,"doc",[[PDFDocument,"PDFDocument"]]),this.acroField=t,this.ref=Ae,this.doc=_e}return Ee.prototype.getName=function(){var t;return(t=this.acroField.getFullyQualifiedName())!==null&&t!==void 0?t:""},Ee.prototype.isReadOnly=function(){return this.acroField.hasFlag(AcroFieldFlags.ReadOnly)},Ee.prototype.enableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!0)},Ee.prototype.disableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!1)},Ee.prototype.isRequired=function(){return this.acroField.hasFlag(AcroFieldFlags.Required)},Ee.prototype.enableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!0)},Ee.prototype.disableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!1)},Ee.prototype.isExported=function(){return!this.acroField.hasFlag(AcroFieldFlags.NoExport)},Ee.prototype.enableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!1)},Ee.prototype.disableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!0)},Ee.prototype.needsAppearancesUpdate=function(){throw new MethodNotImplementedError(this.constructor.name,"needsAppearancesUpdate")},Ee.prototype.defaultUpdateAppearances=function(t){throw new MethodNotImplementedError(this.constructor.name,"defaultUpdateAppearances")},Ee.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},Ee.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},Ee.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},Ee.prototype.createWidget=function(t){var Ae,_e=t.textColor,xe=t.backgroundColor,Ce=t.borderColor,Se=t.borderWidth,Re=toDegrees(t.rotate),Be=t.caption,Fe=t.x,Ie=t.y,Ue=t.width+Se,ke=t.height+Se,Oe=!!t.hidden,je=t.page;assertMultiple(Re,"degreesAngle",90);var Ke=PDFWidgetAnnotation.create(this.doc.context,this.ref),ze=rotateRectangle({x:Fe,y:Ie,width:Ue,height:ke},Se,Re);Ke.setRectangle(ze),je&&Ke.setP(je);var Ve=Ke.getOrCreateAppearanceCharacteristics();xe&&Ve.setBackgroundColor(colorToComponents(xe)),Ve.setRotation(Re),Be&&Ve.setCaptions({normal:Be}),Ce&&Ve.setBorderColor(colorToComponents(Ce));var Xe=Ke.getOrCreateBorderStyle();if(Se!==void 0&&Xe.setWidth(Se),Ke.setFlagTo(AnnotationFlags.Print,!0),Ke.setFlagTo(AnnotationFlags.Hidden,Oe),Ke.setFlagTo(AnnotationFlags.Invisible,!1),_e){var ir=(Ae=this.acroField.getDefaultAppearance())!==null&&Ae!==void 0?Ae:"",sr=ir+`
`+setFillingColor(_e).toString();this.acroField.setDefaultAppearance(sr)}return Ke},Ee.prototype.updateWidgetAppearanceWithFont=function(t,Ae,_e){var xe=_e.normal,Ce=_e.rollover,Se=_e.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceStream(t,xe,Ae),rollover:Ce&&this.createAppearanceStream(t,Ce,Ae),down:Se&&this.createAppearanceStream(t,Se,Ae)})},Ee.prototype.updateOnOffWidgetAppearance=function(t,Ae,_e){var xe=_e.normal,Ce=_e.rollover,Se=_e.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceDict(t,xe,Ae),rollover:Ce&&this.createAppearanceDict(t,Ce,Ae),down:Se&&this.createAppearanceDict(t,Se,Ae)})},Ee.prototype.updateWidgetAppearances=function(t,Ae){var _e=Ae.normal,xe=Ae.rollover,Ce=Ae.down;t.setNormalAppearance(_e),xe?t.setRolloverAppearance(xe):t.removeRolloverAppearance(),Ce?t.setDownAppearance(Ce):t.removeDownAppearance()},Ee.prototype.createAppearanceStream=function(t,Ae,_e){var xe,Ce=this.acroField.dict.context,Se=t.getRectangle(),Re=Se.width,Be=Se.height,Fe=_e&&{Font:(xe={},xe[_e.name]=_e.ref,xe)},Ie=Ce.formXObject(Ae,{Resources:Fe,BBox:Ce.obj([0,0,Re,Be]),Matrix:Ce.obj([1,0,0,1,0,0])}),Ue=Ce.register(Ie);return Ue},Ee.prototype.createImageAppearanceStream=function(t,Ae,_e){var xe,Ce,Se=this.acroField.dict.context,Re=t.getRectangle(),Be=t.getAppearanceCharacteristics(),Fe=t.getBorderStyle(),Ie=(Ce=Fe==null?void 0:Fe.getWidth())!==null&&Ce!==void 0?Ce:0,Ue=reduceRotation(Be==null?void 0:Be.getRotation()),ke=rotateInPlace(__assign(__assign({},Re),{rotation:Ue})),Oe=adjustDimsForRotation(Re,Ue),je=Ae.scaleToFit(Oe.width-Ie*2,Oe.height-Ie*2),Ke={x:Ie,y:Ie,width:je.width,height:je.height,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)};_e===ImageAlignment.Center?(Ke.x+=(Oe.width-Ie*2)/2-je.width/2,Ke.y+=(Oe.height-Ie*2)/2-je.height/2):_e===ImageAlignment.Right&&(Ke.x=Oe.width-Ie-je.width,Ke.y=Oe.height-Ie-je.height);var ze=this.doc.context.addRandomSuffix("Image",10),Ve=__spreadArrays(ke,drawImage(ze,Ke)),Xe={XObject:(xe={},xe[ze]=Ae.ref,xe)},ir=Se.formXObject(Ve,{Resources:Xe,BBox:Se.obj([0,0,Re.width,Re.height]),Matrix:Se.obj([1,0,0,1,0,0])});return Se.register(ir)},Ee.prototype.createAppearanceDict=function(t,Ae,_e){var xe=this.acroField.dict.context,Ce=this.createAppearanceStream(t,Ae.on),Se=this.createAppearanceStream(t,Ae.off),Re=xe.obj({});return Re.set(_e,Ce),Re.set(PDFName.of("Off"),Se),Re},Ee}(),PDFCheckBox=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){var Ce=Ee.call(this,Ae,_e,xe)||this;return assertIs(Ae,"acroCheckBox",[[PDFAcroCheckBox,"PDFAcroCheckBox"]]),Ce.acroField=Ae,Ce}return t.prototype.check=function(){var Ae,_e=(Ae=this.acroField.getOnValue())!==null&&Ae!==void 0?Ae:PDFName.of("Yes");this.markAsDirty(),this.acroField.setValue(_e)},t.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},t.prototype.isChecked=function(){var Ae=this.acroField.getOnValue();return!!Ae&&Ae===this.acroField.getValue()},t.prototype.addToPage=function(Ae,_e){var xe,Ce,Se,Re,Be,Fe;assertIs(Ae,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(_e),_e||(_e={}),"textColor"in _e||(_e.textColor=rgb(0,0,0)),"backgroundColor"in _e||(_e.backgroundColor=rgb(1,1,1)),"borderColor"in _e||(_e.borderColor=rgb(0,0,0)),"borderWidth"in _e||(_e.borderWidth=1);var Ie=this.createWidget({x:(xe=_e.x)!==null&&xe!==void 0?xe:0,y:(Ce=_e.y)!==null&&Ce!==void 0?Ce:0,width:(Se=_e.width)!==null&&Se!==void 0?Se:50,height:(Re=_e.height)!==null&&Re!==void 0?Re:50,textColor:_e.textColor,backgroundColor:_e.backgroundColor,borderColor:_e.borderColor,borderWidth:(Be=_e.borderWidth)!==null&&Be!==void 0?Be:0,rotate:(Fe=_e.rotate)!==null&&Fe!==void 0?Fe:degrees(0),hidden:_e.hidden,page:Ae.ref}),Ue=this.doc.context.register(Ie.dict);this.acroField.addWidget(Ue),Ie.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(Ie,PDFName.of("Yes")),Ae.node.addAnnot(Ue)},t.prototype.needsAppearancesUpdate=function(){for(var Ae,_e=this.acroField.getWidgets(),xe=0,Ce=_e.length;xe<Ce;xe++){var Se=_e[xe],Re=Se.getAppearanceState(),Be=(Ae=Se.getAppearances())===null||Ae===void 0?void 0:Ae.normal;if(!(Be instanceof PDFDict)||Re&&!Be.has(Re))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(Ae){var _e;assertOrUndefined(Ae,"provider",[Function]);for(var xe=this.acroField.getWidgets(),Ce=0,Se=xe.length;Ce<Se;Ce++){var Re=xe[Ce],Be=(_e=Re.getOnValue())!==null&&_e!==void 0?_e:PDFName.of("Yes");Be&&this.updateWidgetAppearance(Re,Be,Ae)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(Ae,_e,xe){var Ce=xe??defaultCheckBoxAppearanceProvider,Se=normalizeAppearance(Ce(this,Ae));this.updateOnOffWidgetAppearance(Ae,_e,Se)},t.of=function(Ae,_e,xe){return new t(Ae,_e,xe)},t}(PDFField),PDFDropdown=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){var Ce=Ee.call(this,Ae,_e,xe)||this;return assertIs(Ae,"acroComboBox",[[PDFAcroComboBox,"PDFAcroComboBox"]]),Ce.acroField=Ae,Ce}return t.prototype.getOptions=function(){for(var Ae=this.acroField.getOptions(),_e=new Array(Ae.length),xe=0,Ce=_e.length;xe<Ce;xe++){var Se=Ae[xe],Re=Se.display,Be=Se.value;_e[xe]=(Re??Be).decodeText()}return _e},t.prototype.getSelected=function(){for(var Ae=this.acroField.getValues(),_e=new Array(Ae.length),xe=0,Ce=Ae.length;xe<Ce;xe++)_e[xe]=Ae[xe].decodeText();return _e},t.prototype.setOptions=function(Ae){assertIs(Ae,"options",[Array]);for(var _e=new Array(Ae.length),xe=0,Ce=Ae.length;xe<Ce;xe++)_e[xe]={value:PDFHexString.fromText(Ae[xe])};this.acroField.setOptions(_e)},t.prototype.addOptions=function(Ae){assertIs(Ae,"options",["string",Array]);for(var _e=Array.isArray(Ae)?Ae:[Ae],xe=this.acroField.getOptions(),Ce=new Array(_e.length),Se=0,Re=_e.length;Se<Re;Se++)Ce[Se]={value:PDFHexString.fromText(_e[Se])};this.acroField.setOptions(xe.concat(Ce))},t.prototype.select=function(Ae,_e){_e===void 0&&(_e=!1),assertIs(Ae,"options",["string",Array]),assertIs(_e,"merge",["boolean"]);var xe=Array.isArray(Ae)?Ae:[Ae],Ce=this.getOptions(),Se=xe.find(function(Ue){return!Ce.includes(Ue)});Se&&this.enableEditing(),this.markAsDirty(),(xe.length>1||xe.length===1&&_e)&&this.enableMultiselect();for(var Re=new Array(xe.length),Be=0,Fe=xe.length;Be<Fe;Be++)Re[Be]=PDFHexString.fromText(xe[Be]);if(_e){var Ie=this.acroField.getValues();this.acroField.setValues(Ie.concat(Re))}else this.acroField.setValues(Re)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(Ae){assertPositive(Ae,"fontSize"),this.acroField.setFontSize(Ae),this.markAsDirty()},t.prototype.isEditable=function(){return this.acroField.hasFlag(AcroChoiceFlags.Edit)},t.prototype.enableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!0)},t.prototype.disableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!1)},t.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroChoiceFlags.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!0)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},t.prototype.addToPage=function(Ae,_e){var xe,Ce,Se,Re,Be,Fe,Ie;assertIs(Ae,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(_e),_e||(_e={}),"textColor"in _e||(_e.textColor=rgb(0,0,0)),"backgroundColor"in _e||(_e.backgroundColor=rgb(1,1,1)),"borderColor"in _e||(_e.borderColor=rgb(0,0,0)),"borderWidth"in _e||(_e.borderWidth=1);var Ue=this.createWidget({x:(xe=_e.x)!==null&&xe!==void 0?xe:0,y:(Ce=_e.y)!==null&&Ce!==void 0?Ce:0,width:(Se=_e.width)!==null&&Se!==void 0?Se:200,height:(Re=_e.height)!==null&&Re!==void 0?Re:50,textColor:_e.textColor,backgroundColor:_e.backgroundColor,borderColor:_e.borderColor,borderWidth:(Be=_e.borderWidth)!==null&&Be!==void 0?Be:0,rotate:(Fe=_e.rotate)!==null&&Fe!==void 0?Fe:degrees(0),hidden:_e.hidden,page:Ae.ref}),ke=this.doc.context.register(Ue.dict);this.acroField.addWidget(ke);var Oe=(Ie=_e.font)!==null&&Ie!==void 0?Ie:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(Ue,Oe),Ae.node.addAnnot(ke)},t.prototype.needsAppearancesUpdate=function(){var Ae;if(this.isDirty())return!0;for(var _e=this.acroField.getWidgets(),xe=0,Ce=_e.length;xe<Ce;xe++){var Se=_e[xe],Re=((Ae=Se.getAppearances())===null||Ae===void 0?void 0:Ae.normal)instanceof PDFStream;if(!Re)return!0}return!1},t.prototype.defaultUpdateAppearances=function(Ae){assertIs(Ae,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(Ae)},t.prototype.updateAppearances=function(Ae,_e){assertIs(Ae,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(_e,"provider",[Function]);for(var xe=this.acroField.getWidgets(),Ce=0,Se=xe.length;Ce<Se;Ce++){var Re=xe[Ce];this.updateWidgetAppearance(Re,Ae,_e)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(Ae,_e,xe){var Ce=xe??defaultDropdownAppearanceProvider,Se=normalizeAppearance(Ce(this,Ae,_e));this.updateWidgetAppearanceWithFont(Ae,_e,Se)},t.of=function(Ae,_e,xe){return new t(Ae,_e,xe)},t}(PDFField),PDFOptionList=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){var Ce=Ee.call(this,Ae,_e,xe)||this;return assertIs(Ae,"acroListBox",[[PDFAcroListBox,"PDFAcroListBox"]]),Ce.acroField=Ae,Ce}return t.prototype.getOptions=function(){for(var Ae=this.acroField.getOptions(),_e=new Array(Ae.length),xe=0,Ce=_e.length;xe<Ce;xe++){var Se=Ae[xe],Re=Se.display,Be=Se.value;_e[xe]=(Re??Be).decodeText()}return _e},t.prototype.getSelected=function(){for(var Ae=this.acroField.getValues(),_e=new Array(Ae.length),xe=0,Ce=Ae.length;xe<Ce;xe++)_e[xe]=Ae[xe].decodeText();return _e},t.prototype.setOptions=function(Ae){assertIs(Ae,"options",[Array]),this.markAsDirty();for(var _e=new Array(Ae.length),xe=0,Ce=Ae.length;xe<Ce;xe++)_e[xe]={value:PDFHexString.fromText(Ae[xe])};this.acroField.setOptions(_e)},t.prototype.addOptions=function(Ae){assertIs(Ae,"options",["string",Array]),this.markAsDirty();for(var _e=Array.isArray(Ae)?Ae:[Ae],xe=this.acroField.getOptions(),Ce=new Array(_e.length),Se=0,Re=_e.length;Se<Re;Se++)Ce[Se]={value:PDFHexString.fromText(_e[Se])};this.acroField.setOptions(xe.concat(Ce))},t.prototype.select=function(Ae,_e){_e===void 0&&(_e=!1),assertIs(Ae,"options",["string",Array]),assertIs(_e,"merge",["boolean"]);var xe=Array.isArray(Ae)?Ae:[Ae],Ce=this.getOptions();assertIsSubset(xe,"option",Ce),this.markAsDirty(),(xe.length>1||xe.length===1&&_e)&&this.enableMultiselect();for(var Se=new Array(xe.length),Re=0,Be=xe.length;Re<Be;Re++)Se[Re]=PDFHexString.fromText(xe[Re]);if(_e){var Fe=this.acroField.getValues();this.acroField.setValues(Fe.concat(Se))}else this.acroField.setValues(Se)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(Ae){assertPositive(Ae,"fontSize"),this.acroField.setFontSize(Ae),this.markAsDirty()},t.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},t.prototype.addToPage=function(Ae,_e){var xe,Ce,Se,Re,Be,Fe,Ie;assertIs(Ae,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(_e),_e||(_e={}),"textColor"in _e||(_e.textColor=rgb(0,0,0)),"backgroundColor"in _e||(_e.backgroundColor=rgb(1,1,1)),"borderColor"in _e||(_e.borderColor=rgb(0,0,0)),"borderWidth"in _e||(_e.borderWidth=1);var Ue=this.createWidget({x:(xe=_e.x)!==null&&xe!==void 0?xe:0,y:(Ce=_e.y)!==null&&Ce!==void 0?Ce:0,width:(Se=_e.width)!==null&&Se!==void 0?Se:200,height:(Re=_e.height)!==null&&Re!==void 0?Re:100,textColor:_e.textColor,backgroundColor:_e.backgroundColor,borderColor:_e.borderColor,borderWidth:(Be=_e.borderWidth)!==null&&Be!==void 0?Be:0,rotate:(Fe=_e.rotate)!==null&&Fe!==void 0?Fe:degrees(0),hidden:_e.hidden,page:Ae.ref}),ke=this.doc.context.register(Ue.dict);this.acroField.addWidget(ke);var Oe=(Ie=_e.font)!==null&&Ie!==void 0?Ie:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(Ue,Oe),Ae.node.addAnnot(ke)},t.prototype.needsAppearancesUpdate=function(){var Ae;if(this.isDirty())return!0;for(var _e=this.acroField.getWidgets(),xe=0,Ce=_e.length;xe<Ce;xe++){var Se=_e[xe],Re=((Ae=Se.getAppearances())===null||Ae===void 0?void 0:Ae.normal)instanceof PDFStream;if(!Re)return!0}return!1},t.prototype.defaultUpdateAppearances=function(Ae){assertIs(Ae,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(Ae)},t.prototype.updateAppearances=function(Ae,_e){assertIs(Ae,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(_e,"provider",[Function]);for(var xe=this.acroField.getWidgets(),Ce=0,Se=xe.length;Ce<Se;Ce++){var Re=xe[Ce];this.updateWidgetAppearance(Re,Ae,_e)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(Ae,_e,xe){var Ce=xe??defaultOptionListAppearanceProvider,Se=normalizeAppearance(Ce(this,Ae,_e));this.updateWidgetAppearanceWithFont(Ae,_e,Se)},t.of=function(Ae,_e,xe){return new t(Ae,_e,xe)},t}(PDFField),PDFRadioGroup=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){var Ce=Ee.call(this,Ae,_e,xe)||this;return assertIs(Ae,"acroRadioButton",[[PDFAcroRadioButton,"PDFAcroRadioButton"]]),Ce.acroField=Ae,Ce}return t.prototype.getOptions=function(){var Ae=this.acroField.getExportValues();if(Ae){for(var _e=new Array(Ae.length),xe=0,Ce=Ae.length;xe<Ce;xe++)_e[xe]=Ae[xe].decodeText();return _e}for(var Se=this.acroField.getOnValues(),Re=new Array(Se.length),xe=0,Ce=Re.length;xe<Ce;xe++)Re[xe]=Se[xe].decodeText();return Re},t.prototype.getSelected=function(){var Ae=this.acroField.getValue();if(Ae!==PDFName.of("Off")){var _e=this.acroField.getExportValues();if(_e){for(var xe=this.acroField.getOnValues(),Ce=0,Se=xe.length;Ce<Se;Ce++)if(xe[Ce]===Ae)return _e[Ce].decodeText()}return Ae.decodeText()}},t.prototype.select=function(Ae){assertIs(Ae,"option",["string"]);var _e=this.getOptions();assertIsOneOf(Ae,"option",_e),this.markAsDirty();var xe=this.acroField.getOnValues(),Ce=this.acroField.getExportValues();if(Ce)for(var Se=0,Re=Ce.length;Se<Re;Se++)Ce[Se].decodeText()===Ae&&this.acroField.setValue(xe[Se]);else for(var Se=0,Re=xe.length;Se<Re;Se++){var Be=xe[Se];Be.decodeText()===Ae&&this.acroField.setValue(Be)}},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},t.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(AcroButtonFlags.NoToggleToOff)},t.prototype.enableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!1)},t.prototype.disableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!0)},t.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(AcroButtonFlags.RadiosInUnison)},t.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!1)},t.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!0)},t.prototype.addOptionToPage=function(Ae,_e,xe){var Ce,Se,Re,Be,Fe,Ie,Ue,ke,Oe;assertIs(Ae,"option",["string"]),assertIs(_e,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(xe);var je=this.createWidget({x:(Ce=xe==null?void 0:xe.x)!==null&&Ce!==void 0?Ce:0,y:(Se=xe==null?void 0:xe.y)!==null&&Se!==void 0?Se:0,width:(Re=xe==null?void 0:xe.width)!==null&&Re!==void 0?Re:50,height:(Be=xe==null?void 0:xe.height)!==null&&Be!==void 0?Be:50,textColor:(Fe=xe==null?void 0:xe.textColor)!==null&&Fe!==void 0?Fe:rgb(0,0,0),backgroundColor:(Ie=xe==null?void 0:xe.backgroundColor)!==null&&Ie!==void 0?Ie:rgb(1,1,1),borderColor:(Ue=xe==null?void 0:xe.borderColor)!==null&&Ue!==void 0?Ue:rgb(0,0,0),borderWidth:(ke=xe==null?void 0:xe.borderWidth)!==null&&ke!==void 0?ke:1,rotate:(Oe=xe==null?void 0:xe.rotate)!==null&&Oe!==void 0?Oe:degrees(0),hidden:xe==null?void 0:xe.hidden,page:_e.ref}),Ke=this.doc.context.register(je.dict),ze=this.acroField.addWidgetWithOpt(Ke,PDFHexString.fromText(Ae),!this.isMutuallyExclusive());je.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(je,ze),_e.node.addAnnot(Ke)},t.prototype.needsAppearancesUpdate=function(){for(var Ae,_e=this.acroField.getWidgets(),xe=0,Ce=_e.length;xe<Ce;xe++){var Se=_e[xe],Re=Se.getAppearanceState(),Be=(Ae=Se.getAppearances())===null||Ae===void 0?void 0:Ae.normal;if(!(Be instanceof PDFDict)||Re&&!Be.has(Re))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(Ae){assertOrUndefined(Ae,"provider",[Function]);for(var _e=this.acroField.getWidgets(),xe=0,Ce=_e.length;xe<Ce;xe++){var Se=_e[xe],Re=Se.getOnValue();Re&&this.updateWidgetAppearance(Se,Re,Ae)}},t.prototype.updateWidgetAppearance=function(Ae,_e,xe){var Ce=xe??defaultRadioGroupAppearanceProvider,Se=normalizeAppearance(Ce(this,Ae));this.updateOnOffWidgetAppearance(Ae,_e,Se)},t.of=function(Ae,_e,xe){return new t(Ae,_e,xe)},t}(PDFField),PDFSignature=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){var Ce=Ee.call(this,Ae,_e,xe)||this;return assertIs(Ae,"acroSignature",[[PDFAcroSignature,"PDFAcroSignature"]]),Ce.acroField=Ae,Ce}return t.prototype.needsAppearancesUpdate=function(){return!1},t.of=function(Ae,_e,xe){return new t(Ae,_e,xe)},t}(PDFField),PDFTextField=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){var Ce=Ee.call(this,Ae,_e,xe)||this;return assertIs(Ae,"acroText",[[PDFAcroText,"PDFAcroText"]]),Ce.acroField=Ae,Ce}return t.prototype.getText=function(){var Ae=this.acroField.getValue();if(!Ae&&this.isRichFormatted())throw new RichTextFieldReadError(this.getName());return Ae==null?void 0:Ae.decodeText()},t.prototype.setText=function(Ae){assertOrUndefined(Ae,"text",["string"]);var _e=this.getMaxLength();if(_e!==void 0&&Ae&&Ae.length>_e)throw new ExceededMaxLengthError(Ae.length,_e,this.getName());this.markAsDirty(),this.disableRichFormatting(),Ae?this.acroField.setValue(PDFHexString.fromText(Ae)):this.acroField.removeValue()},t.prototype.getAlignment=function(){var Ae=this.acroField.getQuadding();return Ae===0?TextAlignment.Left:Ae===1?TextAlignment.Center:Ae===2?TextAlignment.Right:TextAlignment.Left},t.prototype.setAlignment=function(Ae){assertIsOneOf(Ae,"alignment",TextAlignment),this.markAsDirty(),this.acroField.setQuadding(Ae)},t.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},t.prototype.setMaxLength=function(Ae){if(assertRangeOrUndefined(Ae,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),Ae===void 0)this.acroField.removeMaxLength();else{var _e=this.getText();if(_e&&_e.length>Ae)throw new InvalidMaxLengthError(_e.length,Ae,this.getName());this.acroField.setMaxLength(Ae)}},t.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},t.prototype.setImage=function(Ae){for(var _e=this.getAlignment(),xe=_e===TextAlignment.Center?ImageAlignment.Center:_e===TextAlignment.Right?ImageAlignment.Right:ImageAlignment.Left,Ce=this.acroField.getWidgets(),Se=0,Re=Ce.length;Se<Re;Se++){var Be=Ce[Se],Fe=this.createImageAppearanceStream(Be,Ae,xe);this.updateWidgetAppearances(Be,{normal:Fe})}this.markAsClean()},t.prototype.setFontSize=function(Ae){assertPositive(Ae,"fontSize"),this.acroField.setFontSize(Ae),this.markAsDirty()},t.prototype.isMultiline=function(){return this.acroField.hasFlag(AcroTextFlags.Multiline)},t.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!0)},t.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!1)},t.prototype.isPassword=function(){return this.acroField.hasFlag(AcroTextFlags.Password)},t.prototype.enablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!0)},t.prototype.disablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!1)},t.prototype.isFileSelector=function(){return this.acroField.hasFlag(AcroTextFlags.FileSelect)},t.prototype.enableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!0)},t.prototype.disableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!0)},t.prototype.isScrollable=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotScroll)},t.prototype.enableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!1)},t.prototype.disableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!0)},t.prototype.isCombed=function(){return this.acroField.hasFlag(AcroTextFlags.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},t.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var Ae="PDFTextFields must have a max length in order to be combed";console.warn(Ae)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(AcroTextFlags.Comb,!0)},t.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Comb,!1)},t.prototype.isRichFormatted=function(){return this.acroField.hasFlag(AcroTextFlags.RichText)},t.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!0)},t.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!1)},t.prototype.addToPage=function(Ae,_e){var xe,Ce,Se,Re,Be,Fe,Ie;assertIs(Ae,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(_e),_e||(_e={}),"textColor"in _e||(_e.textColor=rgb(0,0,0)),"backgroundColor"in _e||(_e.backgroundColor=rgb(1,1,1)),"borderColor"in _e||(_e.borderColor=rgb(0,0,0)),"borderWidth"in _e||(_e.borderWidth=1);var Ue=this.createWidget({x:(xe=_e.x)!==null&&xe!==void 0?xe:0,y:(Ce=_e.y)!==null&&Ce!==void 0?Ce:0,width:(Se=_e.width)!==null&&Se!==void 0?Se:200,height:(Re=_e.height)!==null&&Re!==void 0?Re:50,textColor:_e.textColor,backgroundColor:_e.backgroundColor,borderColor:_e.borderColor,borderWidth:(Be=_e.borderWidth)!==null&&Be!==void 0?Be:0,rotate:(Fe=_e.rotate)!==null&&Fe!==void 0?Fe:degrees(0),hidden:_e.hidden,page:Ae.ref}),ke=this.doc.context.register(Ue.dict);this.acroField.addWidget(ke);var Oe=(Ie=_e.font)!==null&&Ie!==void 0?Ie:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(Ue,Oe),Ae.node.addAnnot(ke)},t.prototype.needsAppearancesUpdate=function(){var Ae;if(this.isDirty())return!0;for(var _e=this.acroField.getWidgets(),xe=0,Ce=_e.length;xe<Ce;xe++){var Se=_e[xe],Re=((Ae=Se.getAppearances())===null||Ae===void 0?void 0:Ae.normal)instanceof PDFStream;if(!Re)return!0}return!1},t.prototype.defaultUpdateAppearances=function(Ae){assertIs(Ae,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(Ae)},t.prototype.updateAppearances=function(Ae,_e){assertIs(Ae,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(_e,"provider",[Function]);for(var xe=this.acroField.getWidgets(),Ce=0,Se=xe.length;Ce<Se;Ce++){var Re=xe[Ce];this.updateWidgetAppearance(Re,Ae,_e)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(Ae,_e,xe){var Ce=xe??defaultTextFieldAppearanceProvider,Se=normalizeAppearance(Ce(this,Ae,_e));this.updateWidgetAppearanceWithFont(Ae,_e,Se)},t.of=function(Ae,_e,xe){return new t(Ae,_e,xe)},t}(PDFField),StandardFonts;(function(Ee){Ee.Courier="Courier",Ee.CourierBold="Courier-Bold",Ee.CourierOblique="Courier-Oblique",Ee.CourierBoldOblique="Courier-BoldOblique",Ee.Helvetica="Helvetica",Ee.HelveticaBold="Helvetica-Bold",Ee.HelveticaOblique="Helvetica-Oblique",Ee.HelveticaBoldOblique="Helvetica-BoldOblique",Ee.TimesRoman="Times-Roman",Ee.TimesRomanBold="Times-Bold",Ee.TimesRomanItalic="Times-Italic",Ee.TimesRomanBoldItalic="Times-BoldItalic",Ee.Symbol="Symbol",Ee.ZapfDingbats="ZapfDingbats"})(StandardFonts||(StandardFonts={}));var PDFForm=function(){function Ee(t,Ae){var _e=this;this.embedDefaultFont=function(){return _e.doc.embedStandardFont(StandardFonts.Helvetica)},assertIs(t,"acroForm",[[PDFAcroForm,"PDFAcroForm"]]),assertIs(Ae,"doc",[[PDFDocument,"PDFDocument"]]),this.acroForm=t,this.doc=Ae,this.dirtyFields=new Set,this.defaultFontCache=Cache.populatedBy(this.embedDefaultFont)}return Ee.prototype.hasXFA=function(){return this.acroForm.dict.has(PDFName.of("XFA"))},Ee.prototype.deleteXFA=function(){this.acroForm.dict.delete(PDFName.of("XFA"))},Ee.prototype.getFields=function(){for(var t=this.acroForm.getAllFields(),Ae=[],_e=0,xe=t.length;_e<xe;_e++){var Ce=t[_e],Se=Ce[0],Re=Ce[1],Be=convertToPDFField(Se,Re,this.doc);Be&&Ae.push(Be)}return Ae},Ee.prototype.getFieldMaybe=function(t){assertIs(t,"name",["string"]);for(var Ae=this.getFields(),_e=0,xe=Ae.length;_e<xe;_e++){var Ce=Ae[_e];if(Ce.getName()===t)return Ce}},Ee.prototype.getField=function(t){assertIs(t,"name",["string"]);var Ae=this.getFieldMaybe(t);if(Ae)return Ae;throw new NoSuchFieldError(t)},Ee.prototype.getButton=function(t){assertIs(t,"name",["string"]);var Ae=this.getField(t);if(Ae instanceof PDFButton)return Ae;throw new UnexpectedFieldTypeError(t,PDFButton,Ae)},Ee.prototype.getCheckBox=function(t){assertIs(t,"name",["string"]);var Ae=this.getField(t);if(Ae instanceof PDFCheckBox)return Ae;throw new UnexpectedFieldTypeError(t,PDFCheckBox,Ae)},Ee.prototype.getDropdown=function(t){assertIs(t,"name",["string"]);var Ae=this.getField(t);if(Ae instanceof PDFDropdown)return Ae;throw new UnexpectedFieldTypeError(t,PDFDropdown,Ae)},Ee.prototype.getOptionList=function(t){assertIs(t,"name",["string"]);var Ae=this.getField(t);if(Ae instanceof PDFOptionList)return Ae;throw new UnexpectedFieldTypeError(t,PDFOptionList,Ae)},Ee.prototype.getRadioGroup=function(t){assertIs(t,"name",["string"]);var Ae=this.getField(t);if(Ae instanceof PDFRadioGroup)return Ae;throw new UnexpectedFieldTypeError(t,PDFRadioGroup,Ae)},Ee.prototype.getSignature=function(t){assertIs(t,"name",["string"]);var Ae=this.getField(t);if(Ae instanceof PDFSignature)return Ae;throw new UnexpectedFieldTypeError(t,PDFSignature,Ae)},Ee.prototype.getTextField=function(t){assertIs(t,"name",["string"]);var Ae=this.getField(t);if(Ae instanceof PDFTextField)return Ae;throw new UnexpectedFieldTypeError(t,PDFTextField,Ae)},Ee.prototype.createButton=function(t){assertIs(t,"name",["string"]);var Ae=splitFieldName(t),_e=this.findOrCreateNonTerminals(Ae.nonTerminal),xe=PDFAcroPushButton.create(this.doc.context);return xe.setPartialName(Ae.terminal),addFieldToParent(_e,[xe,xe.ref],Ae.terminal),PDFButton.of(xe,xe.ref,this.doc)},Ee.prototype.createCheckBox=function(t){assertIs(t,"name",["string"]);var Ae=splitFieldName(t),_e=this.findOrCreateNonTerminals(Ae.nonTerminal),xe=PDFAcroCheckBox.create(this.doc.context);return xe.setPartialName(Ae.terminal),addFieldToParent(_e,[xe,xe.ref],Ae.terminal),PDFCheckBox.of(xe,xe.ref,this.doc)},Ee.prototype.createDropdown=function(t){assertIs(t,"name",["string"]);var Ae=splitFieldName(t),_e=this.findOrCreateNonTerminals(Ae.nonTerminal),xe=PDFAcroComboBox.create(this.doc.context);return xe.setPartialName(Ae.terminal),addFieldToParent(_e,[xe,xe.ref],Ae.terminal),PDFDropdown.of(xe,xe.ref,this.doc)},Ee.prototype.createOptionList=function(t){assertIs(t,"name",["string"]);var Ae=splitFieldName(t),_e=this.findOrCreateNonTerminals(Ae.nonTerminal),xe=PDFAcroListBox.create(this.doc.context);return xe.setPartialName(Ae.terminal),addFieldToParent(_e,[xe,xe.ref],Ae.terminal),PDFOptionList.of(xe,xe.ref,this.doc)},Ee.prototype.createRadioGroup=function(t){assertIs(t,"name",["string"]);var Ae=splitFieldName(t),_e=this.findOrCreateNonTerminals(Ae.nonTerminal),xe=PDFAcroRadioButton.create(this.doc.context);return xe.setPartialName(Ae.terminal),addFieldToParent(_e,[xe,xe.ref],Ae.terminal),PDFRadioGroup.of(xe,xe.ref,this.doc)},Ee.prototype.createTextField=function(t){assertIs(t,"name",["string"]);var Ae=splitFieldName(t),_e=this.findOrCreateNonTerminals(Ae.nonTerminal),xe=PDFAcroText.create(this.doc.context);return xe.setPartialName(Ae.terminal),addFieldToParent(_e,[xe,xe.ref],Ae.terminal),PDFTextField.of(xe,xe.ref,this.doc)},Ee.prototype.flatten=function(t){t===void 0&&(t={updateFieldAppearances:!0}),t.updateFieldAppearances&&this.updateFieldAppearances();for(var Ae=this.getFields(),_e=0,xe=Ae.length;_e<xe;_e++){for(var Ce=Ae[_e],Se=Ce.acroField.getWidgets(),Re=0,Be=Se.length;Re<Be;Re++){var Fe=Se[Re],Ie=this.findWidgetPage(Fe),Ue=this.findWidgetAppearanceRef(Ce,Fe),ke=Ie.node.newXObject("FlatWidget",Ue),Oe=Fe.getRectangle(),je=__spreadArrays([pushGraphicsState(),translate(Oe.x,Oe.y)],rotateInPlace(__assign(__assign({},Oe),{rotation:0})),[drawObject(ke),popGraphicsState()]).filter(Boolean);Ie.pushOperators.apply(Ie,je)}this.removeField(Ce)}},Ee.prototype.removeField=function(t){for(var Ae=t.acroField.getWidgets(),_e=new Set,xe=0,Ce=Ae.length;xe<Ce;xe++){var Se=Ae[xe],Re=this.findWidgetAppearanceRef(t,Se),Be=this.findWidgetPage(Se);_e.add(Be),Be.node.removeAnnot(Re)}_e.forEach(function(Oe){return Oe.node.removeAnnot(t.ref)}),this.acroForm.removeField(t.acroField);for(var Fe=t.acroField.normalizedEntries().Kids,Ie=Fe.size(),Ue=0;Ue<Ie;Ue++){var ke=Fe.get(Ue);ke instanceof PDFRef&&this.doc.context.delete(ke)}this.doc.context.delete(t.ref)},Ee.prototype.updateFieldAppearances=function(t){assertOrUndefined(t,"font",[[PDFFont,"PDFFont"]]),t=t??this.getDefaultFont();for(var Ae=this.getFields(),_e=0,xe=Ae.length;_e<xe;_e++){var Ce=Ae[_e];Ce.needsAppearancesUpdate()&&Ce.defaultUpdateAppearances(t)}},Ee.prototype.markFieldAsDirty=function(t){assertOrUndefined(t,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.add(t)},Ee.prototype.markFieldAsClean=function(t){assertOrUndefined(t,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.delete(t)},Ee.prototype.fieldIsDirty=function(t){return assertOrUndefined(t,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.has(t)},Ee.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},Ee.prototype.findWidgetPage=function(t){var Ae=t.P(),_e=this.doc.getPages().find(function(Ce){return Ce.ref===Ae});if(_e===void 0){var xe=this.doc.context.getObjectRef(t.dict);if(xe===void 0)throw new Error("Could not find PDFRef for PDFObject");if(_e=this.doc.findPageForAnnotationRef(xe),_e===void 0)throw new Error("Could not find page for PDFRef "+xe)}return _e},Ee.prototype.findWidgetAppearanceRef=function(t,Ae){var _e,xe=Ae.getNormalAppearance();if(xe instanceof PDFDict&&(t instanceof PDFCheckBox||t instanceof PDFRadioGroup)){var Ce=t.acroField.getValue(),Se=(_e=xe.get(Ce))!==null&&_e!==void 0?_e:xe.get(PDFName.of("Off"));Se instanceof PDFRef&&(xe=Se)}if(!(xe instanceof PDFRef)){var Re=t.getName();throw new Error("Failed to extract appearance ref for: "+Re)}return xe},Ee.prototype.findOrCreateNonTerminals=function(t){for(var Ae=[this.acroForm],_e=0,xe=t.length;_e<xe;_e++){var Ce=t[_e];if(!Ce)throw new InvalidFieldNamePartError(Ce);var Se=Ae[0],Re=Ae[1],Be=this.findNonTerminal(Ce,Se);if(Be)Ae=Be;else{var Fe=PDFAcroNonTerminal.create(this.doc.context);Fe.setPartialName(Ce),Fe.setParent(Re);var Ie=this.doc.context.register(Fe.dict);Se.addField(Ie),Ae=[Fe,Ie]}}return Ae},Ee.prototype.findNonTerminal=function(t,Ae){for(var _e=Ae instanceof PDFAcroForm?this.acroForm.getFields():createPDFAcroFields(Ae.Kids()),xe=0,Ce=_e.length;xe<Ce;xe++){var Se=_e[xe],Re=Se[0],Be=Se[1];if(Re.getPartialName()===t){if(Re instanceof PDFAcroNonTerminal)return[Re,Be];throw new FieldAlreadyExistsError(t)}}},Ee.of=function(t,Ae){return new Ee(t,Ae)},Ee}(),convertToPDFField=function(Ee,t,Ae){if(Ee instanceof PDFAcroPushButton)return PDFButton.of(Ee,t,Ae);if(Ee instanceof PDFAcroCheckBox)return PDFCheckBox.of(Ee,t,Ae);if(Ee instanceof PDFAcroComboBox)return PDFDropdown.of(Ee,t,Ae);if(Ee instanceof PDFAcroListBox)return PDFOptionList.of(Ee,t,Ae);if(Ee instanceof PDFAcroText)return PDFTextField.of(Ee,t,Ae);if(Ee instanceof PDFAcroRadioButton)return PDFRadioGroup.of(Ee,t,Ae);if(Ee instanceof PDFAcroSignature)return PDFSignature.of(Ee,t,Ae)},splitFieldName=function(Ee){if(Ee.length===0)throw new Error("PDF field names must not be empty strings");for(var t=Ee.split("."),Ae=0,_e=t.length;Ae<_e;Ae++)if(t[Ae]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+Ee+'"');return t.length===1?{nonTerminal:[],terminal:t[0]}:{nonTerminal:t.slice(0,t.length-1),terminal:t[t.length-1]}},addFieldToParent=function(Ee,t,Ae){for(var _e=Ee[0],xe=Ee[1],Ce=t[0],Se=t[1],Re=_e.normalizedEntries(),Be=createPDFAcroFields("Kids"in Re?Re.Kids:Re.Fields),Fe=0,Ie=Be.length;Fe<Ie;Fe++)if(Be[Fe][0].getPartialName()===Ae)throw new FieldAlreadyExistsError(Ae);_e.addField(Se),Ce.setParent(xe)},PageSizes={A4:[595.28,841.89]},ParseSpeeds;(function(Ee){Ee[Ee.Fastest=1/0]="Fastest",Ee[Ee.Fast=1500]="Fast",Ee[Ee.Medium=500]="Medium",Ee[Ee.Slow=100]="Slow"})(ParseSpeeds||(ParseSpeeds={}));var PDFEmbeddedFile=function(){function Ee(t,Ae,_e){this.alreadyEmbedded=!1,this.ref=t,this.doc=Ae,this.embedder=_e}return Ee.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){var t,Ae,_e,xe,Ce;return __generator(this,function(Se){switch(Se.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t=Se.sent(),this.doc.catalog.has(PDFName.of("Names"))||this.doc.catalog.set(PDFName.of("Names"),this.doc.context.obj({})),Ae=this.doc.catalog.lookup(PDFName.of("Names"),PDFDict),Ae.has(PDFName.of("EmbeddedFiles"))||Ae.set(PDFName.of("EmbeddedFiles"),this.doc.context.obj({})),_e=Ae.lookup(PDFName.of("EmbeddedFiles"),PDFDict),_e.has(PDFName.of("Names"))||_e.set(PDFName.of("Names"),this.doc.context.obj([])),xe=_e.lookup(PDFName.of("Names"),PDFArray),xe.push(PDFHexString.fromText(this.embedder.fileName)),xe.push(t),this.doc.catalog.has(PDFName.of("AF"))||this.doc.catalog.set(PDFName.of("AF"),this.doc.context.obj([])),Ce=this.doc.catalog.lookup(PDFName.of("AF"),PDFArray),Ce.push(t),this.alreadyEmbedded=!0,Se.label=2;case 2:return[2]}})})},Ee.of=function(t,Ae,_e){return new Ee(t,Ae,_e)},Ee}(),PDFJavaScript=function(){function Ee(t,Ae,_e){this.alreadyEmbedded=!1,this.ref=t,this.doc=Ae,this.embedder=_e}return Ee.prototype.embed=function(){return __awaiter$1(this,void 0,void 0,function(){var t,Ae,_e,xe,Ce,Se,Re;return __generator(this,function(Be){switch(Be.label){case 0:return this.alreadyEmbedded?[3,2]:(t=this.doc,Ae=t.catalog,_e=t.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:xe=Be.sent(),Ae.has(PDFName.of("Names"))||Ae.set(PDFName.of("Names"),_e.obj({})),Ce=Ae.lookup(PDFName.of("Names"),PDFDict),Ce.has(PDFName.of("JavaScript"))||Ce.set(PDFName.of("JavaScript"),_e.obj({})),Se=Ce.lookup(PDFName.of("JavaScript"),PDFDict),Se.has(PDFName.of("Names"))||Se.set(PDFName.of("Names"),_e.obj([])),Re=Se.lookup(PDFName.of("Names"),PDFArray),Re.push(PDFHexString.fromText(this.embedder.scriptName)),Re.push(xe),this.alreadyEmbedded=!0,Be.label=2;case 2:return[2]}})})},Ee.of=function(t,Ae,_e){return new Ee(t,Ae,_e)},Ee}(),JavaScriptEmbedder=function(){function Ee(t,Ae){this.script=t,this.scriptName=Ae}return Ee.for=function(t,Ae){return new Ee(t,Ae)},Ee.prototype.embedIntoContext=function(t,Ae){return __awaiter$1(this,void 0,void 0,function(){var _e;return __generator(this,function(xe){return _e=t.obj({Type:"Action",S:"JavaScript",JS:PDFHexString.fromText(this.script)}),Ae?(t.assign(Ae,_e),[2,Ae]):[2,t.register(_e)]})})},Ee}(),PDFDocument=function(){function Ee(t,Ae,_e){var xe=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var Ce=[];return xe.catalog.Pages().traverse(function(Se,Re){if(Se instanceof PDFPageLeaf){var Be=xe.pageMap.get(Se);Be||(Be=PDFPage.of(Se,Re,xe),xe.pageMap.set(Se,Be)),Ce.push(Be)}}),Ce},this.getOrCreateForm=function(){var Ce=xe.catalog.getOrCreateAcroForm();return PDFForm.of(Ce,xe)},assertIs(t,"context",[[PDFContext,"PDFContext"]]),assertIs(Ae,"ignoreEncryption",["boolean"]),this.context=t,this.catalog=t.lookup(t.trailerInfo.Root),this.isEncrypted=!!t.lookup(t.trailerInfo.Encrypt),this.pageCache=Cache.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Cache.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!Ae&&this.isEncrypted)throw new EncryptedPDFError;_e&&this.updateInfoDict()}return Ee.load=function(t,Ae){return Ae===void 0&&(Ae={}),__awaiter$1(this,void 0,void 0,function(){var _e,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke,Oe,je;return __generator(this,function(Ke){switch(Ke.label){case 0:return _e=Ae.ignoreEncryption,xe=_e===void 0?!1:_e,Ce=Ae.parseSpeed,Se=Ce===void 0?ParseSpeeds.Slow:Ce,Re=Ae.throwOnInvalidObject,Be=Re===void 0?!1:Re,Fe=Ae.updateMetadata,Ie=Fe===void 0?!0:Fe,Ue=Ae.capNumbers,ke=Ue===void 0?!1:Ue,assertIs(t,"pdf",["string",Uint8Array,ArrayBuffer]),assertIs(xe,"ignoreEncryption",["boolean"]),assertIs(Se,"parseSpeed",["number"]),assertIs(Be,"throwOnInvalidObject",["boolean"]),Oe=toUint8Array(t),[4,PDFParser.forBytesWithOptions(Oe,Se,Be,ke).parseDocument()];case 1:return je=Ke.sent(),[2,new Ee(je,xe,Ie)]}})})},Ee.create=function(t){return t===void 0&&(t={}),__awaiter$1(this,void 0,void 0,function(){var Ae,_e,xe,Ce,Se,Re;return __generator(this,function(Be){return Ae=t.updateMetadata,_e=Ae===void 0?!0:Ae,xe=PDFContext.create(),Ce=PDFPageTree.withContext(xe),Se=xe.register(Ce),Re=PDFCatalog.withContextAndPages(xe,Se),xe.trailerInfo.Root=xe.register(Re),[2,new Ee(xe,!1,_e)]})})},Ee.prototype.registerFontkit=function(t){this.fontkit=t},Ee.prototype.getForm=function(){var t=this.formCache.access();return t.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),t.deleteXFA()),t},Ee.prototype.getTitle=function(){var t=this.getInfoDict().lookup(PDFName.Title);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},Ee.prototype.getAuthor=function(){var t=this.getInfoDict().lookup(PDFName.Author);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},Ee.prototype.getSubject=function(){var t=this.getInfoDict().lookup(PDFName.Subject);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},Ee.prototype.getKeywords=function(){var t=this.getInfoDict().lookup(PDFName.Keywords);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},Ee.prototype.getCreator=function(){var t=this.getInfoDict().lookup(PDFName.Creator);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},Ee.prototype.getProducer=function(){var t=this.getInfoDict().lookup(PDFName.Producer);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},Ee.prototype.getCreationDate=function(){var t=this.getInfoDict().lookup(PDFName.CreationDate);if(t)return assertIsLiteralOrHexString(t),t.decodeDate()},Ee.prototype.getModificationDate=function(){var t=this.getInfoDict().lookup(PDFName.ModDate);if(t)return assertIsLiteralOrHexString(t),t.decodeDate()},Ee.prototype.setTitle=function(t,Ae){assertIs(t,"title",["string"]);var _e=PDFName.of("Title");if(this.getInfoDict().set(_e,PDFHexString.fromText(t)),Ae!=null&&Ae.showInWindowTitleBar){var xe=this.catalog.getOrCreateViewerPreferences();xe.setDisplayDocTitle(!0)}},Ee.prototype.setAuthor=function(t){assertIs(t,"author",["string"]);var Ae=PDFName.of("Author");this.getInfoDict().set(Ae,PDFHexString.fromText(t))},Ee.prototype.setSubject=function(t){assertIs(t,"author",["string"]);var Ae=PDFName.of("Subject");this.getInfoDict().set(Ae,PDFHexString.fromText(t))},Ee.prototype.setKeywords=function(t){assertIs(t,"keywords",[Array]);var Ae=PDFName.of("Keywords");this.getInfoDict().set(Ae,PDFHexString.fromText(t.join(" ")))},Ee.prototype.setCreator=function(t){assertIs(t,"creator",["string"]);var Ae=PDFName.of("Creator");this.getInfoDict().set(Ae,PDFHexString.fromText(t))},Ee.prototype.setProducer=function(t){assertIs(t,"creator",["string"]);var Ae=PDFName.of("Producer");this.getInfoDict().set(Ae,PDFHexString.fromText(t))},Ee.prototype.setLanguage=function(t){assertIs(t,"language",["string"]);var Ae=PDFName.of("Lang");this.catalog.set(Ae,PDFString.of(t))},Ee.prototype.setCreationDate=function(t){assertIs(t,"creationDate",[[Date,"Date"]]);var Ae=PDFName.of("CreationDate");this.getInfoDict().set(Ae,PDFString.fromDate(t))},Ee.prototype.setModificationDate=function(t){assertIs(t,"modificationDate",[[Date,"Date"]]);var Ae=PDFName.of("ModDate");this.getInfoDict().set(Ae,PDFString.fromDate(t))},Ee.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},Ee.prototype.getPages=function(){return this.pageCache.access()},Ee.prototype.getPage=function(t){var Ae=this.getPages();return assertRange(t,"index",0,Ae.length-1),Ae[t]},Ee.prototype.getPageIndices=function(){return range(0,this.getPageCount())},Ee.prototype.removePage=function(t){var Ae=this.getPageCount();if(this.pageCount===0)throw new RemovePageFromEmptyDocumentError;assertRange(t,"index",0,Ae-1),this.catalog.removeLeafNode(t),this.pageCount=Ae-1},Ee.prototype.addPage=function(t){return assertIs(t,"page",["undefined",[PDFPage,"PDFPage"],Array]),this.insertPage(this.getPageCount(),t)},Ee.prototype.insertPage=function(t,Ae){var _e=this.getPageCount();if(assertRange(t,"index",0,_e),assertIs(Ae,"page",["undefined",[PDFPage,"PDFPage"],Array]),!Ae||Array.isArray(Ae)){var xe=Array.isArray(Ae)?Ae:PageSizes.A4;Ae=PDFPage.create(this),Ae.setSize.apply(Ae,xe)}else if(Ae.doc!==this)throw new ForeignPageError;var Ce=this.catalog.insertLeafNode(Ae.ref,t);return Ae.node.setParent(Ce),this.pageMap.set(Ae.node,Ae),this.pageCache.invalidate(),this.pageCount=_e+1,Ae},Ee.prototype.copyPages=function(t,Ae){return __awaiter$1(this,void 0,void 0,function(){var _e,xe,Ce,Se,Re,Be,Fe,Ie;return __generator(this,function(Ue){switch(Ue.label){case 0:return assertIs(t,"srcDoc",[[Ee,"PDFDocument"]]),assertIs(Ae,"indices",[Array]),[4,t.flush()];case 1:for(Ue.sent(),_e=PDFObjectCopier.for(t.context,this.context),xe=t.getPages(),Ce=new Array(Ae.length),Se=0,Re=Ae.length;Se<Re;Se++)Be=xe[Ae[Se]],Fe=_e.copy(Be.node),Ie=this.context.register(Fe),Ce[Se]=PDFPage.of(Fe,Ie,this);return[2,Ce]}})})},Ee.prototype.copy=function(){return __awaiter$1(this,void 0,void 0,function(){var t,Ae,_e,xe;return __generator(this,function(Ce){switch(Ce.label){case 0:return[4,Ee.create()];case 1:return t=Ce.sent(),[4,t.copyPages(this,this.getPageIndices())];case 2:for(Ae=Ce.sent(),_e=0,xe=Ae.length;_e<xe;_e++)t.addPage(Ae[_e]);return this.getAuthor()!==void 0&&t.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&t.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&t.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&t.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&t.setProducer(this.getProducer()),this.getSubject()!==void 0&&t.setSubject(this.getSubject()),this.getTitle()!==void 0&&t.setTitle(this.getTitle()),t.defaultWordBreaks=this.defaultWordBreaks,[2,t]}})})},Ee.prototype.addJavaScript=function(t,Ae){assertIs(t,"name",["string"]),assertIs(Ae,"script",["string"]);var _e=JavaScriptEmbedder.for(Ae,t),xe=this.context.nextRef(),Ce=PDFJavaScript.of(xe,this,_e);this.javaScripts.push(Ce)},Ee.prototype.attach=function(t,Ae,_e){return _e===void 0&&(_e={}),__awaiter$1(this,void 0,void 0,function(){var xe,Ce,Se,Re;return __generator(this,function(Be){return assertIs(t,"attachment",["string",Uint8Array,ArrayBuffer]),assertIs(Ae,"name",["string"]),assertOrUndefined(_e.mimeType,"mimeType",["string"]),assertOrUndefined(_e.description,"description",["string"]),assertOrUndefined(_e.creationDate,"options.creationDate",[Date]),assertOrUndefined(_e.modificationDate,"options.modificationDate",[Date]),assertIsOneOfOrUndefined(_e.afRelationship,"options.afRelationship",AFRelationship),xe=toUint8Array(t),Ce=FileEmbedder.for(xe,Ae,_e),Se=this.context.nextRef(),Re=PDFEmbeddedFile.of(Se,this,Ce),this.embeddedFiles.push(Re),[2]})})},Ee.prototype.embedFont=function(t,Ae){return Ae===void 0&&(Ae={}),__awaiter$1(this,void 0,void 0,function(){var _e,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke;return __generator(this,function(Oe){switch(Oe.label){case 0:return _e=Ae.subset,xe=_e===void 0?!1:_e,Ce=Ae.customName,Se=Ae.features,assertIs(t,"font",["string",Uint8Array,ArrayBuffer]),assertIs(xe,"subset",["boolean"]),isStandardFont(t)?(Re=StandardFontEmbedder.for(t,Ce),[3,7]):[3,1];case 1:return canBeConvertedToUint8Array(t)?(Be=toUint8Array(t),Fe=this.assertFontkit(),xe?[4,CustomFontSubsetEmbedder.for(Fe,Be,Ce,Se)]:[3,3]):[3,6];case 2:return Ie=Oe.sent(),[3,5];case 3:return[4,CustomFontEmbedder.for(Fe,Be,Ce,Se)];case 4:Ie=Oe.sent(),Oe.label=5;case 5:return Re=Ie,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return Ue=this.context.nextRef(),ke=PDFFont.of(Ue,this,Re),this.fonts.push(ke),[2,ke]}})})},Ee.prototype.embedStandardFont=function(t,Ae){if(assertIs(t,"font",["string"]),!isStandardFont(t))throw new TypeError("`font` must be one of type `StandardFonts`");var _e=StandardFontEmbedder.for(t,Ae),xe=this.context.nextRef(),Ce=PDFFont.of(xe,this,_e);return this.fonts.push(Ce),Ce},Ee.prototype.embedJpg=function(t){return __awaiter$1(this,void 0,void 0,function(){var Ae,_e,xe,Ce;return __generator(this,function(Se){switch(Se.label){case 0:return assertIs(t,"jpg",["string",Uint8Array,ArrayBuffer]),Ae=toUint8Array(t),[4,JpegEmbedder.for(Ae)];case 1:return _e=Se.sent(),xe=this.context.nextRef(),Ce=PDFImage.of(xe,this,_e),this.images.push(Ce),[2,Ce]}})})},Ee.prototype.embedPng=function(t){return __awaiter$1(this,void 0,void 0,function(){var Ae,_e,xe,Ce;return __generator(this,function(Se){switch(Se.label){case 0:return assertIs(t,"png",["string",Uint8Array,ArrayBuffer]),Ae=toUint8Array(t),[4,PngEmbedder.for(Ae)];case 1:return _e=Se.sent(),xe=this.context.nextRef(),Ce=PDFImage.of(xe,this,_e),this.images.push(Ce),[2,Ce]}})})},Ee.prototype.embedPdf=function(t,Ae){return Ae===void 0&&(Ae=[0]),__awaiter$1(this,void 0,void 0,function(){var _e,xe,Ce;return __generator(this,function(Se){switch(Se.label){case 0:return assertIs(t,"pdf",["string",Uint8Array,ArrayBuffer,[Ee,"PDFDocument"]]),assertIs(Ae,"indices",[Array]),t instanceof Ee?(xe=t,[3,3]):[3,1];case 1:return[4,Ee.load(t)];case 2:xe=Se.sent(),Se.label=3;case 3:return _e=xe,Ce=pluckIndices(_e.getPages(),Ae),[2,this.embedPages(Ce)]}})})},Ee.prototype.embedPage=function(t,Ae,_e){return __awaiter$1(this,void 0,void 0,function(){var xe;return __generator(this,function(Ce){switch(Ce.label){case 0:return assertIs(t,"page",[[PDFPage,"PDFPage"]]),[4,this.embedPages([t],[Ae],[_e])];case 1:return xe=Ce.sent()[0],[2,xe]}})})},Ee.prototype.embedPages=function(t,Ae,_e){return Ae===void 0&&(Ae=[]),_e===void 0&&(_e=[]),__awaiter$1(this,void 0,void 0,function(){var Fe,Ie,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke,Oe,je,Ke,ze;return __generator(this,function(Ve){switch(Ve.label){case 0:if(t.length===0)return[2,[]];for(Fe=0,Ie=t.length-1;Fe<Ie;Fe++)if(xe=t[Fe],Ce=t[Fe+1],xe.node.context!==Ce.node.context)throw new PageEmbeddingMismatchedContextError;Se=t[0].node.context,Re=Se===this.context?function(Xe){return Xe}:PDFObjectCopier.for(Se,this.context).copy,Be=new Array(t.length),Fe=0,Ie=t.length,Ve.label=1;case 1:return Fe<Ie?(Ue=Re(t[Fe].node),ke=Ae[Fe],Oe=_e[Fe],[4,PDFPageEmbedder.for(Ue,ke,Oe)]):[3,4];case 2:je=Ve.sent(),Ke=this.context.nextRef(),Be[Fe]=PDFEmbeddedPage.of(Ke,this,je),Ve.label=3;case 3:return Fe++,[3,1];case 4:return(ze=this.embeddedPages).push.apply(ze,Be),[2,Be]}})})},Ee.prototype.flush=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return t.sent(),[4,this.embedAll(this.images)];case 2:return t.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return t.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return t.sent(),[4,this.embedAll(this.javaScripts)];case 5:return t.sent(),[2]}})})},Ee.prototype.save=function(t){return t===void 0&&(t={}),__awaiter$1(this,void 0,void 0,function(){var Ae,_e,xe,Ce,Se,Re,Be,Fe,Ie,Ue;return __generator(this,function(ke){switch(ke.label){case 0:return Ae=t.useObjectStreams,_e=Ae===void 0?!0:Ae,xe=t.addDefaultPage,Ce=xe===void 0?!0:xe,Se=t.objectsPerTick,Re=Se===void 0?50:Se,Be=t.updateFieldAppearances,Fe=Be===void 0?!0:Be,assertIs(_e,"useObjectStreams",["boolean"]),assertIs(Ce,"addDefaultPage",["boolean"]),assertIs(Re,"objectsPerTick",["number"]),assertIs(Fe,"updateFieldAppearances",["boolean"]),Ce&&this.getPageCount()===0&&this.addPage(),Fe&&(Ie=this.formCache.getValue(),Ie&&Ie.updateFieldAppearances()),[4,this.flush()];case 1:return ke.sent(),Ue=_e?PDFStreamWriter:PDFWriter,[2,Ue.forContext(this.context,Re).serializeToBuffer()]}})})},Ee.prototype.saveAsBase64=function(t){return t===void 0&&(t={}),__awaiter$1(this,void 0,void 0,function(){var Ae,_e,xe,Ce,Se;return __generator(this,function(Re){switch(Re.label){case 0:return Ae=t.dataUri,_e=Ae===void 0?!1:Ae,xe=__rest$2(t,["dataUri"]),assertIs(_e,"dataUri",["boolean"]),[4,this.save(xe)];case 1:return Ce=Re.sent(),Se=encodeToBase64(Ce),[2,_e?"data:application/pdf;base64,"+Se:Se]}})})},Ee.prototype.findPageForAnnotationRef=function(t){for(var Ae=this.getPages(),_e=0,xe=Ae.length;_e<xe;_e++){var Ce=Ae[_e],Se=Ce.node.Annots();if((Se==null?void 0:Se.indexOf(t))!==void 0)return Ce}},Ee.prototype.embedAll=function(t){return __awaiter$1(this,void 0,void 0,function(){var Ae,_e;return __generator(this,function(xe){switch(xe.label){case 0:Ae=0,_e=t.length,xe.label=1;case 1:return Ae<_e?[4,t[Ae].embed()]:[3,4];case 2:xe.sent(),xe.label=3;case 3:return Ae++,[3,1];case 4:return[2]}})})},Ee.prototype.updateInfoDict=function(){var t="pdf-lib (https://github.com/Hopding/pdf-lib)",Ae=new Date,_e=this.getInfoDict();this.setProducer(t),this.setModificationDate(Ae),_e.get(PDFName.of("Creator"))||this.setCreator(t),_e.get(PDFName.of("CreationDate"))||this.setCreationDate(Ae)},Ee.prototype.getInfoDict=function(){var t=this.context.lookup(this.context.trailerInfo.Info);if(t instanceof PDFDict)return t;var Ae=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(Ae),Ae},Ee.prototype.assertFontkit=function(){if(!this.fontkit)throw new FontkitNotRegisteredError;return this.fontkit},Ee}();function assertIsLiteralOrHexString(Ee){if(!(Ee instanceof PDFHexString)&&!(Ee instanceof PDFString))throw new UnexpectedObjectTypeError([PDFHexString,PDFString],Ee)}var BlendMode;(function(Ee){Ee.Normal="Normal",Ee.Multiply="Multiply",Ee.Screen="Screen",Ee.Overlay="Overlay",Ee.Darken="Darken",Ee.Lighten="Lighten",Ee.ColorDodge="ColorDodge",Ee.ColorBurn="ColorBurn",Ee.HardLight="HardLight",Ee.SoftLight="SoftLight",Ee.Difference="Difference",Ee.Exclusion="Exclusion"})(BlendMode||(BlendMode={}));var PDFPage=function(){function Ee(t,Ae,_e){this.fontSize=24,this.fontColor=rgb(0,0,0),this.lineHeight=24,this.x=0,this.y=0,assertIs(t,"leafNode",[[PDFPageLeaf,"PDFPageLeaf"]]),assertIs(Ae,"ref",[[PDFRef,"PDFRef"]]),assertIs(_e,"doc",[[PDFDocument,"PDFDocument"]]),this.node=t,this.ref=Ae,this.doc=_e}return Ee.prototype.setRotation=function(t){var Ae=toDegrees(t);assertMultiple(Ae,"degreesAngle",90),this.node.set(PDFName.of("Rotate"),this.doc.context.obj(Ae))},Ee.prototype.getRotation=function(){var t=this.node.Rotate();return degrees(t?t.asNumber():0)},Ee.prototype.setSize=function(t,Ae){assertIs(t,"width",["number"]),assertIs(Ae,"height",["number"]);var _e=this.getMediaBox();this.setMediaBox(_e.x,_e.y,t,Ae);var xe=this.getCropBox(),Ce=this.getBleedBox(),Se=this.getTrimBox(),Re=this.getArtBox(),Be=this.node.CropBox(),Fe=this.node.BleedBox(),Ie=this.node.TrimBox(),Ue=this.node.ArtBox();Be&&rectanglesAreEqual(xe,_e)&&this.setCropBox(_e.x,_e.y,t,Ae),Fe&&rectanglesAreEqual(Ce,_e)&&this.setBleedBox(_e.x,_e.y,t,Ae),Ie&&rectanglesAreEqual(Se,_e)&&this.setTrimBox(_e.x,_e.y,t,Ae),Ue&&rectanglesAreEqual(Re,_e)&&this.setArtBox(_e.x,_e.y,t,Ae)},Ee.prototype.setWidth=function(t){assertIs(t,"width",["number"]),this.setSize(t,this.getSize().height)},Ee.prototype.setHeight=function(t){assertIs(t,"height",["number"]),this.setSize(this.getSize().width,t)},Ee.prototype.setMediaBox=function(t,Ae,_e,xe){assertIs(t,"x",["number"]),assertIs(Ae,"y",["number"]),assertIs(_e,"width",["number"]),assertIs(xe,"height",["number"]);var Ce=this.doc.context.obj([t,Ae,t+_e,Ae+xe]);this.node.set(PDFName.MediaBox,Ce)},Ee.prototype.setCropBox=function(t,Ae,_e,xe){assertIs(t,"x",["number"]),assertIs(Ae,"y",["number"]),assertIs(_e,"width",["number"]),assertIs(xe,"height",["number"]);var Ce=this.doc.context.obj([t,Ae,t+_e,Ae+xe]);this.node.set(PDFName.CropBox,Ce)},Ee.prototype.setBleedBox=function(t,Ae,_e,xe){assertIs(t,"x",["number"]),assertIs(Ae,"y",["number"]),assertIs(_e,"width",["number"]),assertIs(xe,"height",["number"]);var Ce=this.doc.context.obj([t,Ae,t+_e,Ae+xe]);this.node.set(PDFName.BleedBox,Ce)},Ee.prototype.setTrimBox=function(t,Ae,_e,xe){assertIs(t,"x",["number"]),assertIs(Ae,"y",["number"]),assertIs(_e,"width",["number"]),assertIs(xe,"height",["number"]);var Ce=this.doc.context.obj([t,Ae,t+_e,Ae+xe]);this.node.set(PDFName.TrimBox,Ce)},Ee.prototype.setArtBox=function(t,Ae,_e,xe){assertIs(t,"x",["number"]),assertIs(Ae,"y",["number"]),assertIs(_e,"width",["number"]),assertIs(xe,"height",["number"]);var Ce=this.doc.context.obj([t,Ae,t+_e,Ae+xe]);this.node.set(PDFName.ArtBox,Ce)},Ee.prototype.getSize=function(){var t=this.getMediaBox(),Ae=t.width,_e=t.height;return{width:Ae,height:_e}},Ee.prototype.getWidth=function(){return this.getSize().width},Ee.prototype.getHeight=function(){return this.getSize().height},Ee.prototype.getMediaBox=function(){var t=this.node.MediaBox();return t.asRectangle()},Ee.prototype.getCropBox=function(){var t,Ae=this.node.CropBox();return(t=Ae==null?void 0:Ae.asRectangle())!==null&&t!==void 0?t:this.getMediaBox()},Ee.prototype.getBleedBox=function(){var t,Ae=this.node.BleedBox();return(t=Ae==null?void 0:Ae.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},Ee.prototype.getTrimBox=function(){var t,Ae=this.node.TrimBox();return(t=Ae==null?void 0:Ae.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},Ee.prototype.getArtBox=function(){var t,Ae=this.node.ArtBox();return(t=Ae==null?void 0:Ae.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},Ee.prototype.translateContent=function(t,Ae){assertIs(t,"x",["number"]),assertIs(Ae,"y",["number"]),this.node.normalize(),this.getContentStream();var _e=this.createContentStream(pushGraphicsState(),translate(t,Ae)),xe=this.doc.context.register(_e),Ce=this.createContentStream(popGraphicsState()),Se=this.doc.context.register(Ce);this.node.wrapContentStreams(xe,Se)},Ee.prototype.scale=function(t,Ae){assertIs(t,"x",["number"]),assertIs(Ae,"y",["number"]),this.setSize(this.getWidth()*t,this.getHeight()*Ae),this.scaleContent(t,Ae),this.scaleAnnotations(t,Ae)},Ee.prototype.scaleContent=function(t,Ae){assertIs(t,"x",["number"]),assertIs(Ae,"y",["number"]),this.node.normalize(),this.getContentStream();var _e=this.createContentStream(pushGraphicsState(),scale(t,Ae)),xe=this.doc.context.register(_e),Ce=this.createContentStream(popGraphicsState()),Se=this.doc.context.register(Ce);this.node.wrapContentStreams(xe,Se)},Ee.prototype.scaleAnnotations=function(t,Ae){assertIs(t,"x",["number"]),assertIs(Ae,"y",["number"]);var _e=this.node.Annots();if(_e)for(var xe=0;xe<_e.size();xe++){var Ce=_e.lookup(xe);Ce instanceof PDFDict&&this.scaleAnnot(Ce,t,Ae)}},Ee.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},Ee.prototype.setFont=function(t){assertIs(t,"font",[[PDFFont,"PDFFont"]]),this.font=t,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},Ee.prototype.setFontSize=function(t){assertIs(t,"fontSize",["number"]),this.fontSize=t},Ee.prototype.setFontColor=function(t){assertIs(t,"fontColor",[[Object,"Color"]]),this.fontColor=t},Ee.prototype.setLineHeight=function(t){assertIs(t,"lineHeight",["number"]),this.lineHeight=t},Ee.prototype.getPosition=function(){return{x:this.x,y:this.y}},Ee.prototype.getX=function(){return this.x},Ee.prototype.getY=function(){return this.y},Ee.prototype.moveTo=function(t,Ae){assertIs(t,"x",["number"]),assertIs(Ae,"y",["number"]),this.x=t,this.y=Ae},Ee.prototype.moveDown=function(t){assertIs(t,"yDecrease",["number"]),this.y-=t},Ee.prototype.moveUp=function(t){assertIs(t,"yIncrease",["number"]),this.y+=t},Ee.prototype.moveLeft=function(t){assertIs(t,"xDecrease",["number"]),this.x-=t},Ee.prototype.moveRight=function(t){assertIs(t,"xIncrease",["number"]),this.x+=t},Ee.prototype.pushOperators=function(){for(var t=[],Ae=0;Ae<arguments.length;Ae++)t[Ae]=arguments[Ae];assertEachIs(t,"operator",[[PDFOperator,"PDFOperator"]]);var _e=this.getContentStream();_e.push.apply(_e,t)},Ee.prototype.drawText=function(t,Ae){var _e,xe,Ce,Se,Re,Be,Fe;Ae===void 0&&(Ae={}),assertIs(t,"text",["string"]),assertOrUndefined(Ae.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(Ae.opacity,"opacity.opacity",0,1),assertOrUndefined(Ae.font,"options.font",[[PDFFont,"PDFFont"]]),assertOrUndefined(Ae.size,"options.size",["number"]),assertOrUndefined(Ae.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(Ae.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(Ae.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(Ae.x,"options.x",["number"]),assertOrUndefined(Ae.y,"options.y",["number"]),assertOrUndefined(Ae.lineHeight,"options.lineHeight",["number"]),assertOrUndefined(Ae.maxWidth,"options.maxWidth",["number"]),assertOrUndefined(Ae.wordBreaks,"options.wordBreaks",[Array]),assertIsOneOfOrUndefined(Ae.blendMode,"options.blendMode",BlendMode);for(var Ie=this.setOrEmbedFont(Ae.font),Ue=Ie.oldFont,ke=Ie.newFont,Oe=Ie.newFontKey,je=Ae.size||this.fontSize,Ke=Ae.wordBreaks||this.doc.defaultWordBreaks,ze=function(We){return ke.widthOfTextAtSize(We,je)},Ve=Ae.maxWidth===void 0?lineSplit(cleanText(t)):breakTextIntoLines(t,Ke,Ae.maxWidth,ze),Xe=new Array(Ve.length),ir=0,sr=Ve.length;ir<sr;ir++)Xe[ir]=ke.encodeText(Ve[ir]);var rr=this.maybeEmbedGraphicsState({opacity:Ae.opacity,blendMode:Ae.blendMode}),nr=this.getContentStream();nr.push.apply(nr,drawLinesOfText(Xe,{color:(_e=Ae.color)!==null&&_e!==void 0?_e:this.fontColor,font:Oe,size:je,rotate:(xe=Ae.rotate)!==null&&xe!==void 0?xe:degrees(0),xSkew:(Ce=Ae.xSkew)!==null&&Ce!==void 0?Ce:degrees(0),ySkew:(Se=Ae.ySkew)!==null&&Se!==void 0?Se:degrees(0),x:(Re=Ae.x)!==null&&Re!==void 0?Re:this.x,y:(Be=Ae.y)!==null&&Be!==void 0?Be:this.y,lineHeight:(Fe=Ae.lineHeight)!==null&&Fe!==void 0?Fe:this.lineHeight,graphicsState:rr})),Ae.font&&(Ue?this.setFont(Ue):this.resetFont())},Ee.prototype.drawImage=function(t,Ae){var _e,xe,Ce,Se,Re,Be,Fe;Ae===void 0&&(Ae={}),assertIs(t,"image",[[PDFImage,"PDFImage"]]),assertOrUndefined(Ae.x,"options.x",["number"]),assertOrUndefined(Ae.y,"options.y",["number"]),assertOrUndefined(Ae.width,"options.width",["number"]),assertOrUndefined(Ae.height,"options.height",["number"]),assertOrUndefined(Ae.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(Ae.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(Ae.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(Ae.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(Ae.blendMode,"options.blendMode",BlendMode);var Ie=this.node.newXObject("Image",t.ref),Ue=this.maybeEmbedGraphicsState({opacity:Ae.opacity,blendMode:Ae.blendMode}),ke=this.getContentStream();ke.push.apply(ke,drawImage(Ie,{x:(_e=Ae.x)!==null&&_e!==void 0?_e:this.x,y:(xe=Ae.y)!==null&&xe!==void 0?xe:this.y,width:(Ce=Ae.width)!==null&&Ce!==void 0?Ce:t.size().width,height:(Se=Ae.height)!==null&&Se!==void 0?Se:t.size().height,rotate:(Re=Ae.rotate)!==null&&Re!==void 0?Re:degrees(0),xSkew:(Be=Ae.xSkew)!==null&&Be!==void 0?Be:degrees(0),ySkew:(Fe=Ae.ySkew)!==null&&Fe!==void 0?Fe:degrees(0),graphicsState:Ue}))},Ee.prototype.drawPage=function(t,Ae){var _e,xe,Ce,Se,Re;Ae===void 0&&(Ae={}),assertIs(t,"embeddedPage",[[PDFEmbeddedPage,"PDFEmbeddedPage"]]),assertOrUndefined(Ae.x,"options.x",["number"]),assertOrUndefined(Ae.y,"options.y",["number"]),assertOrUndefined(Ae.xScale,"options.xScale",["number"]),assertOrUndefined(Ae.yScale,"options.yScale",["number"]),assertOrUndefined(Ae.width,"options.width",["number"]),assertOrUndefined(Ae.height,"options.height",["number"]),assertOrUndefined(Ae.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(Ae.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(Ae.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(Ae.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(Ae.blendMode,"options.blendMode",BlendMode);var Be=this.node.newXObject("EmbeddedPdfPage",t.ref),Fe=this.maybeEmbedGraphicsState({opacity:Ae.opacity,blendMode:Ae.blendMode}),Ie=Ae.width!==void 0?Ae.width/t.width:Ae.xScale!==void 0?Ae.xScale:1,Ue=Ae.height!==void 0?Ae.height/t.height:Ae.yScale!==void 0?Ae.yScale:1,ke=this.getContentStream();ke.push.apply(ke,drawPage(Be,{x:(_e=Ae.x)!==null&&_e!==void 0?_e:this.x,y:(xe=Ae.y)!==null&&xe!==void 0?xe:this.y,xScale:Ie,yScale:Ue,rotate:(Ce=Ae.rotate)!==null&&Ce!==void 0?Ce:degrees(0),xSkew:(Se=Ae.xSkew)!==null&&Se!==void 0?Se:degrees(0),ySkew:(Re=Ae.ySkew)!==null&&Re!==void 0?Re:degrees(0),graphicsState:Fe}))},Ee.prototype.drawSvgPath=function(t,Ae){var _e,xe,Ce,Se,Re,Be,Fe,Ie,Ue;Ae===void 0&&(Ae={}),assertIs(t,"path",["string"]),assertOrUndefined(Ae.x,"options.x",["number"]),assertOrUndefined(Ae.y,"options.y",["number"]),assertOrUndefined(Ae.scale,"options.scale",["number"]),assertOrUndefined(Ae.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(Ae.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(Ae.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(Ae.opacity,"opacity.opacity",0,1),assertOrUndefined(Ae.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(Ae.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(Ae.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(Ae.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(Ae.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(Ae.blendMode,"options.blendMode",BlendMode);var ke=this.maybeEmbedGraphicsState({opacity:Ae.opacity,borderOpacity:Ae.borderOpacity,blendMode:Ae.blendMode});!("color"in Ae)&&!("borderColor"in Ae)&&(Ae.borderColor=rgb(0,0,0));var Oe=this.getContentStream();Oe.push.apply(Oe,drawSvgPath(t,{x:(_e=Ae.x)!==null&&_e!==void 0?_e:this.x,y:(xe=Ae.y)!==null&&xe!==void 0?xe:this.y,scale:Ae.scale,rotate:(Ce=Ae.rotate)!==null&&Ce!==void 0?Ce:degrees(0),color:(Se=Ae.color)!==null&&Se!==void 0?Se:void 0,borderColor:(Re=Ae.borderColor)!==null&&Re!==void 0?Re:void 0,borderWidth:(Be=Ae.borderWidth)!==null&&Be!==void 0?Be:0,borderDashArray:(Fe=Ae.borderDashArray)!==null&&Fe!==void 0?Fe:void 0,borderDashPhase:(Ie=Ae.borderDashPhase)!==null&&Ie!==void 0?Ie:void 0,borderLineCap:(Ue=Ae.borderLineCap)!==null&&Ue!==void 0?Ue:void 0,graphicsState:ke}))},Ee.prototype.drawLine=function(t){var Ae,_e,xe,Ce,Se;assertIs(t.start,"options.start",[[Object,"{ x: number, y: number }"]]),assertIs(t.end,"options.end",[[Object,"{ x: number, y: number }"]]),assertIs(t.start.x,"options.start.x",["number"]),assertIs(t.start.y,"options.start.y",["number"]),assertIs(t.end.x,"options.end.x",["number"]),assertIs(t.end.y,"options.end.y",["number"]),assertOrUndefined(t.thickness,"options.thickness",["number"]),assertOrUndefined(t.color,"options.color",[[Object,"Color"]]),assertOrUndefined(t.dashArray,"options.dashArray",[Array]),assertOrUndefined(t.dashPhase,"options.dashPhase",["number"]),assertIsOneOfOrUndefined(t.lineCap,"options.lineCap",LineCapStyle),assertRangeOrUndefined(t.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(t.blendMode,"options.blendMode",BlendMode);var Re=this.maybeEmbedGraphicsState({borderOpacity:t.opacity,blendMode:t.blendMode});"color"in t||(t.color=rgb(0,0,0));var Be=this.getContentStream();Be.push.apply(Be,drawLine({start:t.start,end:t.end,thickness:(Ae=t.thickness)!==null&&Ae!==void 0?Ae:1,color:(_e=t.color)!==null&&_e!==void 0?_e:void 0,dashArray:(xe=t.dashArray)!==null&&xe!==void 0?xe:void 0,dashPhase:(Ce=t.dashPhase)!==null&&Ce!==void 0?Ce:void 0,lineCap:(Se=t.lineCap)!==null&&Se!==void 0?Se:void 0,graphicsState:Re}))},Ee.prototype.drawRectangle=function(t){var Ae,_e,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke,Oe,je;t===void 0&&(t={}),assertOrUndefined(t.x,"options.x",["number"]),assertOrUndefined(t.y,"options.y",["number"]),assertOrUndefined(t.width,"options.width",["number"]),assertOrUndefined(t.height,"options.height",["number"]),assertOrUndefined(t.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(t.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(t.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(t.opacity,"opacity.opacity",0,1),assertOrUndefined(t.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(t.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(t.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(t.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(t.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(t.blendMode,"options.blendMode",BlendMode);var Ke=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.color=rgb(0,0,0));var ze=this.getContentStream();ze.push.apply(ze,drawRectangle({x:(Ae=t.x)!==null&&Ae!==void 0?Ae:this.x,y:(_e=t.y)!==null&&_e!==void 0?_e:this.y,width:(xe=t.width)!==null&&xe!==void 0?xe:150,height:(Ce=t.height)!==null&&Ce!==void 0?Ce:100,rotate:(Se=t.rotate)!==null&&Se!==void 0?Se:degrees(0),xSkew:(Re=t.xSkew)!==null&&Re!==void 0?Re:degrees(0),ySkew:(Be=t.ySkew)!==null&&Be!==void 0?Be:degrees(0),borderWidth:(Fe=t.borderWidth)!==null&&Fe!==void 0?Fe:0,color:(Ie=t.color)!==null&&Ie!==void 0?Ie:void 0,borderColor:(Ue=t.borderColor)!==null&&Ue!==void 0?Ue:void 0,borderDashArray:(ke=t.borderDashArray)!==null&&ke!==void 0?ke:void 0,borderDashPhase:(Oe=t.borderDashPhase)!==null&&Oe!==void 0?Oe:void 0,graphicsState:Ke,borderLineCap:(je=t.borderLineCap)!==null&&je!==void 0?je:void 0}))},Ee.prototype.drawSquare=function(t){t===void 0&&(t={});var Ae=t.size;assertOrUndefined(Ae,"size",["number"]),this.drawRectangle(__assign(__assign({},t),{width:Ae,height:Ae}))},Ee.prototype.drawEllipse=function(t){var Ae,_e,xe,Ce,Se,Re,Be,Fe,Ie,Ue,ke;t===void 0&&(t={}),assertOrUndefined(t.x,"options.x",["number"]),assertOrUndefined(t.y,"options.y",["number"]),assertOrUndefined(t.xScale,"options.xScale",["number"]),assertOrUndefined(t.yScale,"options.yScale",["number"]),assertOrUndefined(t.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(t.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(t.opacity,"opacity.opacity",0,1),assertOrUndefined(t.borderColor,"options.borderColor",[[Object,"Color"]]),assertRangeOrUndefined(t.borderOpacity,"options.borderOpacity",0,1),assertOrUndefined(t.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(t.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(t.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(t.borderLineCap,"options.borderLineCap",LineCapStyle),assertIsOneOfOrUndefined(t.blendMode,"options.blendMode",BlendMode);var Oe=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.color=rgb(0,0,0));var je=this.getContentStream();je.push.apply(je,drawEllipse({x:(Ae=t.x)!==null&&Ae!==void 0?Ae:this.x,y:(_e=t.y)!==null&&_e!==void 0?_e:this.y,xScale:(xe=t.xScale)!==null&&xe!==void 0?xe:100,yScale:(Ce=t.yScale)!==null&&Ce!==void 0?Ce:100,rotate:(Se=t.rotate)!==null&&Se!==void 0?Se:void 0,color:(Re=t.color)!==null&&Re!==void 0?Re:void 0,borderColor:(Be=t.borderColor)!==null&&Be!==void 0?Be:void 0,borderWidth:(Fe=t.borderWidth)!==null&&Fe!==void 0?Fe:0,borderDashArray:(Ie=t.borderDashArray)!==null&&Ie!==void 0?Ie:void 0,borderDashPhase:(Ue=t.borderDashPhase)!==null&&Ue!==void 0?Ue:void 0,borderLineCap:(ke=t.borderLineCap)!==null&&ke!==void 0?ke:void 0,graphicsState:Oe}))},Ee.prototype.drawCircle=function(t){t===void 0&&(t={});var Ae=t.size,_e=Ae===void 0?100:Ae;assertOrUndefined(_e,"size",["number"]),this.drawEllipse(__assign(__assign({},t),{xScale:_e,yScale:_e}))},Ee.prototype.setOrEmbedFont=function(t){var Ae=this.font,_e=this.fontKey;t?this.setFont(t):this.getFont();var xe=this.font,Ce=this.fontKey;return{oldFont:Ae,oldFontKey:_e,newFont:xe,newFontKey:Ce}},Ee.prototype.getFont=function(){if(!this.font||!this.fontKey){var t=this.doc.embedStandardFont(StandardFonts.Helvetica);this.setFont(t)}return[this.font,this.fontKey]},Ee.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},Ee.prototype.getContentStream=function(t){return t===void 0&&(t=!0),t&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},Ee.prototype.createContentStream=function(){for(var t=[],Ae=0;Ae<arguments.length;Ae++)t[Ae]=arguments[Ae];var _e=this.doc.context.obj({}),xe=PDFContentStream.of(_e,t);return xe},Ee.prototype.maybeEmbedGraphicsState=function(t){var Ae=t.opacity,_e=t.borderOpacity,xe=t.blendMode;if(!(Ae===void 0&&_e===void 0&&xe===void 0)){var Ce=this.doc.context.obj({Type:"ExtGState",ca:Ae,CA:_e,BM:xe}),Se=this.node.newExtGState("GS",Ce);return Se}},Ee.prototype.scaleAnnot=function(t,Ae,_e){for(var xe=["RD","CL","Vertices","QuadPoints","L","Rect"],Ce=0,Se=xe.length;Ce<Se;Ce++){var Re=t.lookup(PDFName.of(xe[Ce]));Re instanceof PDFArray&&Re.scalePDFNumbers(Ae,_e)}var Be=t.lookup(PDFName.of("InkList"));if(Be instanceof PDFArray)for(var Ce=0,Se=Be.size();Ce<Se;Ce++){var Fe=Be.lookup(Ce);Fe instanceof PDFArray&&Fe.scalePDFNumbers(Ae,_e)}},Ee.of=function(t,Ae,_e){return new Ee(t,Ae,_e)},Ee.create=function(t){assertIs(t,"doc",[[PDFDocument,"PDFDocument"]]);var Ae=PDFRef.of(-1),_e=PDFPageLeaf.withContextAndParent(t.context,Ae),xe=t.context.register(_e);return new Ee(_e,xe,t)},Ee}(),PDFButton=function(Ee){__extends(t,Ee);function t(Ae,_e,xe){var Ce=Ee.call(this,Ae,_e,xe)||this;return assertIs(Ae,"acroButton",[[PDFAcroPushButton,"PDFAcroPushButton"]]),Ce.acroField=Ae,Ce}return t.prototype.setImage=function(Ae,_e){_e===void 0&&(_e=ImageAlignment.Center);for(var xe=this.acroField.getWidgets(),Ce=0,Se=xe.length;Ce<Se;Ce++){var Re=xe[Ce],Be=this.createImageAppearanceStream(Re,Ae,_e);this.updateWidgetAppearances(Re,{normal:Be})}this.markAsClean()},t.prototype.setFontSize=function(Ae){assertPositive(Ae,"fontSize"),this.acroField.setFontSize(Ae),this.markAsDirty()},t.prototype.addToPage=function(Ae,_e,xe){var Ce,Se,Re,Be,Fe,Ie,Ue,ke,Oe,je,Ke;assertOrUndefined(Ae,"text",["string"]),assertOrUndefined(_e,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(xe);var ze=this.createWidget({x:((Ce=xe==null?void 0:xe.x)!==null&&Ce!==void 0?Ce:0)-((Se=xe==null?void 0:xe.borderWidth)!==null&&Se!==void 0?Se:0)/2,y:((Re=xe==null?void 0:xe.y)!==null&&Re!==void 0?Re:0)-((Be=xe==null?void 0:xe.borderWidth)!==null&&Be!==void 0?Be:0)/2,width:(Fe=xe==null?void 0:xe.width)!==null&&Fe!==void 0?Fe:100,height:(Ie=xe==null?void 0:xe.height)!==null&&Ie!==void 0?Ie:50,textColor:(Ue=xe==null?void 0:xe.textColor)!==null&&Ue!==void 0?Ue:rgb(0,0,0),backgroundColor:(ke=xe==null?void 0:xe.backgroundColor)!==null&&ke!==void 0?ke:rgb(.75,.75,.75),borderColor:xe==null?void 0:xe.borderColor,borderWidth:(Oe=xe==null?void 0:xe.borderWidth)!==null&&Oe!==void 0?Oe:0,rotate:(je=xe==null?void 0:xe.rotate)!==null&&je!==void 0?je:degrees(0),caption:Ae,hidden:xe==null?void 0:xe.hidden,page:_e.ref}),Ve=this.doc.context.register(ze.dict);this.acroField.addWidget(Ve);var Xe=(Ke=xe==null?void 0:xe.font)!==null&&Ke!==void 0?Ke:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(ze,Xe),_e.node.addAnnot(Ve)},t.prototype.needsAppearancesUpdate=function(){var Ae;if(this.isDirty())return!0;for(var _e=this.acroField.getWidgets(),xe=0,Ce=_e.length;xe<Ce;xe++){var Se=_e[xe],Re=((Ae=Se.getAppearances())===null||Ae===void 0?void 0:Ae.normal)instanceof PDFStream;if(!Re)return!0}return!1},t.prototype.defaultUpdateAppearances=function(Ae){assertIs(Ae,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(Ae)},t.prototype.updateAppearances=function(Ae,_e){assertIs(Ae,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(_e,"provider",[Function]);for(var xe=this.acroField.getWidgets(),Ce=0,Se=xe.length;Ce<Se;Ce++){var Re=xe[Ce];this.updateWidgetAppearance(Re,Ae,_e)}},t.prototype.updateWidgetAppearance=function(Ae,_e,xe){var Ce=xe??defaultButtonAppearanceProvider,Se=normalizeAppearance(Ce(this,Ae,_e));this.updateWidgetAppearanceWithFont(Ae,_e,Se)},t.of=function(Ae,_e,xe){return new t(Ae,_e,xe)},t}(PDFField);function commonjsRequire(Ee){throw new Error('Could not dynamically require "'+Ee+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(t,Ae){module.exports=t.pdfjsLib=Ae()})(globalThis,()=>(()=>{var __webpack_modules__=[,(Ee,t)=>{var si;Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationReplyType=t.AnnotationPrefix=t.AnnotationMode=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=_r,t.bytesToString=zr,t.createValidAbsoluteUrl=Sr,t.getModificationDate=Qn,t.getUuid=In,t.getVerbosityLevel=wr,t.info=vr,t.isArrayBuffer=yn,t.isArrayEqual=Gn,t.isNodeJS=void 0,t.normalizeUnicode=Nr,t.objectFromMap=An,t.objectSize=bn,t.setVerbosityLevel=mr,t.shadow=ar,t.string32=vn,t.stringToBytes=$r,t.stringToPDFString=xn,t.stringToUTF8String=Dn,t.unreachable=Cr,t.utf8StringToString=On,t.warn=ur;const Ae=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=Ae;const _e=[1,0,0,1,0,0];t.IDENTITY_MATRIX=_e;const xe=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=xe;const Ce=1e7;t.MAX_IMAGE_SIZE_TO_CACHE=Ce;const Se=1.35;t.LINE_FACTOR=Se;const Re=.35;t.LINE_DESCENT_FACTOR=Re;const Be=Re/Se;t.BASELINE_FACTOR=Be;const Fe={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=Fe;const Ie={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=Ie;const Ue="pdfjs_internal_editor_";t.AnnotationEditorPrefix=Ue;const ke={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};t.AnnotationEditorType=ke;const Oe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};t.AnnotationEditorParamsType=Oe;const je={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=je;const Ke={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=Ke;const ze={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=ze;const Ve={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=Ve;const Xe={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=Xe;const ir={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=ir;const sr={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=sr;const rr={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=rr;const nr={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=nr;const We={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=We;const Ge={O:"PageOpen",C:"PageClose"};t.PageActionEventType=Ge;const Ze={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=Ze;const or={NONE:0,BINARY:1};t.CMapCompressionType=or;const He={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=He;const Je={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=Je;let $e=Ze.WARNINGS;function mr(Kr){Number.isInteger(Kr)&&($e=Kr)}function wr(){return $e}function vr(Kr){$e>=Ze.INFOS&&console.log(`Info: ${Kr}`)}function ur(Kr){$e>=Ze.WARNINGS&&console.log(`Warning: ${Kr}`)}function Cr(Kr){throw new Error(Kr)}function _r(Kr,Xr){Kr||Cr(Xr)}function hr(Kr){switch(Kr==null?void 0:Kr.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Sr(Kr,Xr=null,br=null){if(!Kr)return null;try{if(br&&typeof Kr=="string"){if(br.addDefaultProtocol&&Kr.startsWith("www.")){const vi=Kr.match(/\./g);(vi==null?void 0:vi.length)>=2&&(Kr=`http://${Kr}`)}if(br.tryConvertEncoding)try{Kr=Dn(Kr)}catch{}}const Sn=Xr?new URL(Kr,Xr):new URL(Kr);if(hr(Sn))return Sn}catch{}return null}function ar(Kr,Xr,br,Sn=!1){return Object.defineProperty(Kr,Xr,{value:br,enumerable:!Sn,configurable:!0,writable:!1}),br}const tr=function(){function Xr(br,Sn){this.constructor===Xr&&Cr("Cannot initialize BaseException."),this.message=br,this.name=Sn}return Xr.prototype=new Error,Xr.constructor=Xr,Xr}();t.BaseException=tr;class lr extends tr{constructor(Xr,br){super(Xr,"PasswordException"),this.code=br}}t.PasswordException=lr;class pr extends tr{constructor(Xr,br){super(Xr,"UnknownErrorException"),this.details=br}}t.UnknownErrorException=pr;class Er extends tr{constructor(Xr){super(Xr,"InvalidPDFException")}}t.InvalidPDFException=Er;class Rr extends tr{constructor(Xr){super(Xr,"MissingPDFException")}}t.MissingPDFException=Rr;class Tr extends tr{constructor(Xr,br){super(Xr,"UnexpectedResponseException"),this.status=br}}t.UnexpectedResponseException=Tr;class Ir extends tr{constructor(Xr){super(Xr,"FormatError")}}t.FormatError=Ir;class Zr extends tr{constructor(Xr){super(Xr,"AbortException")}}t.AbortException=Zr;function zr(Kr){(typeof Kr!="object"||(Kr==null?void 0:Kr.length)===void 0)&&Cr("Invalid argument for bytesToString");const Xr=Kr.length,br=8192;if(Xr<br)return String.fromCharCode.apply(null,Kr);const Sn=[];for(let vi=0;vi<Xr;vi+=br){const fr=Math.min(vi+br,Xr),Lr=Kr.subarray(vi,fr);Sn.push(String.fromCharCode.apply(null,Lr))}return Sn.join("")}function $r(Kr){typeof Kr!="string"&&Cr("Invalid argument for stringToBytes");const Xr=Kr.length,br=new Uint8Array(Xr);for(let Sn=0;Sn<Xr;++Sn)br[Sn]=Kr.charCodeAt(Sn)&255;return br}function vn(Kr){return String.fromCharCode(Kr>>24&255,Kr>>16&255,Kr>>8&255,Kr&255)}function bn(Kr){return Object.keys(Kr).length}function An(Kr){const Xr=Object.create(null);for(const[br,Sn]of Kr)Xr[br]=Sn;return Xr}function Fr(){const Kr=new Uint8Array(4);return Kr[0]=1,new Uint32Array(Kr.buffer,0,1)[0]===1}function dn(){try{return new Function(""),!0}catch{return!1}}class Dr{static get isLittleEndian(){return ar(this,"isLittleEndian",Fr())}static get isEvalSupported(){return ar(this,"isEvalSupported",dn())}static get isOffscreenCanvasSupported(){return ar(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?ar(this,"platform",{isWin:!1,isMac:!1}):ar(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Xr,br;return ar(this,"isCSSRoundSupported",(br=(Xr=globalThis.CSS)==null?void 0:Xr.supports)==null?void 0:br.call(Xr,"width: round(1.5px, 1px)"))}}t.FeatureTest=Dr;const jr=[...Array(256).keys()].map(Kr=>Kr.toString(16).padStart(2,"0"));class hn{static makeHexColor(Xr,br,Sn){return`#${jr[Xr]}${jr[br]}${jr[Sn]}`}static scaleMinMax(Xr,br){let Sn;Xr[0]?(Xr[0]<0&&(Sn=br[0],br[0]=br[1],br[1]=Sn),br[0]*=Xr[0],br[1]*=Xr[0],Xr[3]<0&&(Sn=br[2],br[2]=br[3],br[3]=Sn),br[2]*=Xr[3],br[3]*=Xr[3]):(Sn=br[0],br[0]=br[2],br[2]=Sn,Sn=br[1],br[1]=br[3],br[3]=Sn,Xr[1]<0&&(Sn=br[2],br[2]=br[3],br[3]=Sn),br[2]*=Xr[1],br[3]*=Xr[1],Xr[2]<0&&(Sn=br[0],br[0]=br[1],br[1]=Sn),br[0]*=Xr[2],br[1]*=Xr[2]),br[0]+=Xr[4],br[1]+=Xr[4],br[2]+=Xr[5],br[3]+=Xr[5]}static transform(Xr,br){return[Xr[0]*br[0]+Xr[2]*br[1],Xr[1]*br[0]+Xr[3]*br[1],Xr[0]*br[2]+Xr[2]*br[3],Xr[1]*br[2]+Xr[3]*br[3],Xr[0]*br[4]+Xr[2]*br[5]+Xr[4],Xr[1]*br[4]+Xr[3]*br[5]+Xr[5]]}static applyTransform(Xr,br){const Sn=Xr[0]*br[0]+Xr[1]*br[2]+br[4],vi=Xr[0]*br[1]+Xr[1]*br[3]+br[5];return[Sn,vi]}static applyInverseTransform(Xr,br){const Sn=br[0]*br[3]-br[1]*br[2],vi=(Xr[0]*br[3]-Xr[1]*br[2]+br[2]*br[5]-br[4]*br[3])/Sn,fr=(-Xr[0]*br[1]+Xr[1]*br[0]+br[4]*br[1]-br[5]*br[0])/Sn;return[vi,fr]}static getAxialAlignedBoundingBox(Xr,br){const Sn=this.applyTransform(Xr,br),vi=this.applyTransform(Xr.slice(2,4),br),fr=this.applyTransform([Xr[0],Xr[3]],br),Lr=this.applyTransform([Xr[2],Xr[1]],br);return[Math.min(Sn[0],vi[0],fr[0],Lr[0]),Math.min(Sn[1],vi[1],fr[1],Lr[1]),Math.max(Sn[0],vi[0],fr[0],Lr[0]),Math.max(Sn[1],vi[1],fr[1],Lr[1])]}static inverseTransform(Xr){const br=Xr[0]*Xr[3]-Xr[1]*Xr[2];return[Xr[3]/br,-Xr[1]/br,-Xr[2]/br,Xr[0]/br,(Xr[2]*Xr[5]-Xr[4]*Xr[3])/br,(Xr[4]*Xr[1]-Xr[5]*Xr[0])/br]}static singularValueDecompose2dScale(Xr){const br=[Xr[0],Xr[2],Xr[1],Xr[3]],Sn=Xr[0]*br[0]+Xr[1]*br[2],vi=Xr[0]*br[1]+Xr[1]*br[3],fr=Xr[2]*br[0]+Xr[3]*br[2],Lr=Xr[2]*br[1]+Xr[3]*br[3],un=(Sn+Lr)/2,Pr=Math.sqrt((Sn+Lr)**2-4*(Sn*Lr-fr*vi))/2,Yr=un+Pr||1,En=un-Pr||1;return[Math.sqrt(Yr),Math.sqrt(En)]}static normalizeRect(Xr){const br=Xr.slice(0);return Xr[0]>Xr[2]&&(br[0]=Xr[2],br[2]=Xr[0]),Xr[1]>Xr[3]&&(br[1]=Xr[3],br[3]=Xr[1]),br}static intersect(Xr,br){const Sn=Math.max(Math.min(Xr[0],Xr[2]),Math.min(br[0],br[2])),vi=Math.min(Math.max(Xr[0],Xr[2]),Math.max(br[0],br[2]));if(Sn>vi)return null;const fr=Math.max(Math.min(Xr[1],Xr[3]),Math.min(br[1],br[3])),Lr=Math.min(Math.max(Xr[1],Xr[3]),Math.max(br[1],br[3]));return fr>Lr?null:[Sn,fr,vi,Lr]}static bezierBoundingBox(Xr,br,Sn,vi,fr,Lr,un,Pr){const Yr=[],En=[[],[]];let Zn,Vr,Mr,gn,wn,Rn,Nn,zn;for(let Bi=0;Bi<2;++Bi){if(Bi===0?(Vr=6*Xr-12*Sn+6*fr,Zn=-3*Xr+9*Sn-9*fr+3*un,Mr=3*Sn-3*Xr):(Vr=6*br-12*vi+6*Lr,Zn=-3*br+9*vi-9*Lr+3*Pr,Mr=3*vi-3*br),Math.abs(Zn)<1e-12){if(Math.abs(Vr)<1e-12)continue;gn=-Mr/Vr,0<gn&&gn<1&&Yr.push(gn);continue}Nn=Vr*Vr-4*Mr*Zn,zn=Math.sqrt(Nn),!(Nn<0)&&(wn=(-Vr+zn)/(2*Zn),0<wn&&wn<1&&Yr.push(wn),Rn=(-Vr-zn)/(2*Zn),0<Rn&&Rn<1&&Yr.push(Rn))}let ci=Yr.length,ui;const oi=ci;for(;ci--;)gn=Yr[ci],ui=1-gn,En[0][ci]=ui*ui*ui*Xr+3*ui*ui*gn*Sn+3*ui*gn*gn*fr+gn*gn*gn*un,En[1][ci]=ui*ui*ui*br+3*ui*ui*gn*vi+3*ui*gn*gn*Lr+gn*gn*gn*Pr;return En[0][oi]=Xr,En[1][oi]=br,En[0][oi+1]=un,En[1][oi+1]=Pr,En[0].length=En[1].length=oi+2,[Math.min(...En[0]),Math.min(...En[1]),Math.max(...En[0]),Math.max(...En[1])]}}t.Util=hn;const pn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function xn(Kr){if(Kr[0]>="ï"){let br;if(Kr[0]==="þ"&&Kr[1]==="ÿ"?br="utf-16be":Kr[0]==="ÿ"&&Kr[1]==="þ"?br="utf-16le":Kr[0]==="ï"&&Kr[1]==="»"&&Kr[2]==="¿"&&(br="utf-8"),br)try{const Sn=new TextDecoder(br,{fatal:!0}),vi=$r(Kr);return Sn.decode(vi)}catch(Sn){ur(`stringToPDFString: "${Sn}".`)}}const Xr=[];for(let br=0,Sn=Kr.length;br<Sn;br++){const vi=pn[Kr.charCodeAt(br)];Xr.push(vi?String.fromCharCode(vi):Kr.charAt(br))}return Xr.join("")}function Dn(Kr){return decodeURIComponent(escape(Kr))}function On(Kr){return unescape(encodeURIComponent(Kr))}function yn(Kr){return typeof Kr=="object"&&(Kr==null?void 0:Kr.byteLength)!==void 0}function Gn(Kr,Xr){if(Kr.length!==Xr.length)return!1;for(let br=0,Sn=Kr.length;br<Sn;br++)if(Kr[br]!==Xr[br])return!1;return!0}function Qn(Kr=new Date){return[Kr.getUTCFullYear().toString(),(Kr.getUTCMonth()+1).toString().padStart(2,"0"),Kr.getUTCDate().toString().padStart(2,"0"),Kr.getUTCHours().toString().padStart(2,"0"),Kr.getUTCMinutes().toString().padStart(2,"0"),Kr.getUTCSeconds().toString().padStart(2,"0")].join("")}class di{constructor(){Vn(this,si,!1);this.promise=new Promise((Xr,br)=>{this.resolve=Sn=>{Hn(this,si,!0),Xr(Sn)},this.reject=Sn=>{Hn(this,si,!0),br(Sn)}})}get settled(){return yr(this,si)}}si=new WeakMap,t.PromiseCapability=di;let ni=null,wi=null;function Nr(Kr){return ni||(ni=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,wi=new Map([["ﬅ","ſt"]])),Kr.replaceAll(ni,(Xr,br,Sn)=>br?br.normalize("NFKC"):wi.get(Sn))}function In(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Kr=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Kr);else for(let Xr=0;Xr<32;Xr++)Kr[Xr]=Math.floor(Math.random()*255);return zr(Kr)}const Kn="pdfjs_internal_id_";t.AnnotationPrefix=Kn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var Ee,Ae,_e,xe,hu,od,Re,Be,Fe,Ie,Ue,ke,Oe,je,Ke,ld,Ve,Xe,Bf,sr,rr;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(We){if(typeof We=="string"||We instanceof URL?We={url:We}:(0,_util.isArrayBuffer)(We)&&(We={data:We}),typeof We!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!We.url&&!We.data&&!We.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Ge=new PDFDocumentLoadingTask,{docId:Ze}=Ge,or=We.url?getUrlProp(We.url):null,He=We.data?getDataProp(We.data):null,Je=We.httpHeaders||null,$e=We.withCredentials===!0,mr=We.password??null,wr=We.range instanceof PDFDataRangeTransport?We.range:null,vr=Number.isInteger(We.rangeChunkSize)&&We.rangeChunkSize>0?We.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ur=We.worker instanceof PDFWorker?We.worker:null;const Cr=We.verbosity,_r=typeof We.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(We.docBaseUrl)?We.docBaseUrl:null,hr=typeof We.cMapUrl=="string"?We.cMapUrl:null,Sr=We.cMapPacked!==!1,ar=We.CMapReaderFactory||DefaultCMapReaderFactory,tr=typeof We.standardFontDataUrl=="string"?We.standardFontDataUrl:null,lr=We.StandardFontDataFactory||DefaultStandardFontDataFactory,pr=We.stopAtErrors!==!0,Er=Number.isInteger(We.maxImageSize)&&We.maxImageSize>-1?We.maxImageSize:-1,Rr=We.isEvalSupported!==!1,Tr=typeof We.isOffscreenCanvasSupported=="boolean"?We.isOffscreenCanvasSupported:!_util.isNodeJS,Ir=Number.isInteger(We.canvasMaxAreaInBytes)?We.canvasMaxAreaInBytes:-1,Zr=typeof We.disableFontFace=="boolean"?We.disableFontFace:_util.isNodeJS,zr=We.fontExtraProperties===!0,$r=We.enableXfa===!0,vn=We.ownerDocument||globalThis.document,bn=We.disableRange===!0,An=We.disableStream===!0,Fr=We.disableAutoFetch===!0,dn=We.pdfBug===!0,Dr=wr?wr.length:We.length??NaN,jr=typeof We.useSystemFonts=="boolean"?We.useSystemFonts:!_util.isNodeJS&&!Zr,hn=typeof We.useWorkerFetch=="boolean"?We.useWorkerFetch:ar===_display_utils.DOMCMapReaderFactory&&lr===_display_utils.DOMStandardFontDataFactory&&hr&&tr&&(0,_display_utils.isValidFetchUrl)(hr,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(tr,document.baseURI),pn=We.canvasFactory||new DefaultCanvasFactory({ownerDocument:vn}),xn=We.filterFactory||new DefaultFilterFactory({docId:Ze,ownerDocument:vn}),Dn=null;(0,_util.setVerbosityLevel)(Cr);const On={canvasFactory:pn,filterFactory:xn};if(hn||(On.cMapReaderFactory=new ar({baseUrl:hr,isCompressed:Sr}),On.standardFontDataFactory=new lr({baseUrl:tr})),!ur){const Qn={verbosity:Cr,port:_worker_options.GlobalWorkerOptions.workerPort};ur=Qn.port?PDFWorker.fromPort(Qn):new PDFWorker(Qn),Ge._worker=ur}const yn={docId:Ze,apiVersion:"3.11.174",data:He,password:mr,disableAutoFetch:Fr,rangeChunkSize:vr,length:Dr,docBaseUrl:_r,enableXfa:$r,evaluatorOptions:{maxImageSize:Er,disableFontFace:Zr,ignoreErrors:pr,isEvalSupported:Rr,isOffscreenCanvasSupported:Tr,canvasMaxAreaInBytes:Ir,fontExtraProperties:zr,useSystemFonts:jr,cMapUrl:hn?hr:null,standardFontDataUrl:hn?tr:null}},Gn={ignoreErrors:pr,isEvalSupported:Rr,disableFontFace:Zr,fontExtraProperties:zr,enableXfa:$r,ownerDocument:vn,disableAutoFetch:Fr,pdfBug:dn,styleElement:Dn};return ur.promise.then(function(){if(Ge.destroyed)throw new Error("Loading aborted");const Qn=_fetchDocument(ur,yn),di=new Promise(function(ni){let wi;wr?wi=new _transport_stream.PDFDataTransportStream({length:Dr,initialData:wr.initialData,progressiveDone:wr.progressiveDone,contentDispositionFilename:wr.contentDispositionFilename,disableRange:bn,disableStream:An},wr):He||(wi=(In=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(In):(0,_display_utils.isValidFetchUrl)(In.url)?new _displayFetch_stream.PDFFetchStream(In):new _displayNetwork.PDFNetworkStream(In))({url:or,length:Dr,httpHeaders:Je,withCredentials:$e,rangeChunkSize:vr,disableRange:bn,disableStream:An})),ni(wi)});return Promise.all([Qn,di]).then(function([ni,wi]){if(Ge.destroyed)throw new Error("Loading aborted");const Nr=new _message_handler.MessageHandler(Ze,ni,ur.port),In=new WorkerTransport(Nr,Ge,wi,Gn,On);Ge._transport=In,Nr.send("Ready",null)})}).catch(Ge._capability.reject),Ge}async function _fetchDocument(We,Ge){if(We.destroyed)throw new Error("Worker was destroyed");const Ze=await We.messageHandler.sendWithPromise("GetDocRequest",Ge,Ge.data?[Ge.data.buffer]:null);if(We.destroyed)throw new Error("Worker was destroyed");return Ze}function getUrlProp(We){if(We instanceof URL)return We.href;try{return new URL(We,window.location).href}catch{if(_util.isNodeJS&&typeof We=="string")return We}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(We){if(_util.isNodeJS&&typeof Buffer<"u"&&We instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(We instanceof Uint8Array&&We.byteLength===We.buffer.byteLength)return We;if(typeof We=="string")return(0,_util.stringToBytes)(We);if(typeof We=="object"&&!isNaN(We==null?void 0:We.length)||(0,_util.isArrayBuffer)(We))return new Uint8Array(We);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const t=class t{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${th(t,Ee)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Ge,Ze,or;this.destroyed=!0;try{(Ge=this._worker)!=null&&Ge.port&&(this._worker._pendingDestroy=!0),await((Ze=this._transport)==null?void 0:Ze.destroy())}catch(He){throw(or=this._worker)!=null&&or.port&&delete this._worker._pendingDestroy,He}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Ee=new WeakMap,Vn(t,Ee,0);let PDFDocumentLoadingTask=t;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Ge,Ze,or=!1,He=null){this.length=Ge,this.initialData=Ze,this.progressiveDone=or,this.contentDispositionFilename=He,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Ge){this._rangeListeners.push(Ge)}addProgressListener(Ge){this._progressListeners.push(Ge)}addProgressiveReadListener(Ge){this._progressiveReadListeners.push(Ge)}addProgressiveDoneListener(Ge){this._progressiveDoneListeners.push(Ge)}onDataRange(Ge,Ze){for(const or of this._rangeListeners)or(Ge,Ze)}onDataProgress(Ge,Ze){this._readyCapability.promise.then(()=>{for(const or of this._progressListeners)or(Ge,Ze)})}onDataProgressiveRead(Ge){this._readyCapability.promise.then(()=>{for(const Ze of this._progressiveReadListeners)Ze(Ge)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Ge of this._progressiveDoneListeners)Ge()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Ge,Ze){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Ge,Ze){this._pdfInfo=Ge,this._transport=Ze,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(or=>{if(!or)return or;const He=[];for(const Je in or)He.push(...or[Je]);return He}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Ge){return this._transport.getPage(Ge)}getPageIndex(Ge){return this._transport.getPageIndex(Ge)}getDestinations(){return this._transport.getDestinations()}getDestination(Ge){return this._transport.getDestination(Ge)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Ge=!1){return this._transport.startCleanup(Ge||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Ge,Ze,or,He=!1){Vn(this,xe);Vn(this,Ae,null);Vn(this,_e,!1);this._pageIndex=Ge,this._pageInfo=Ze,this._transport=or,this._stats=He?new _display_utils.StatTimer:null,this._pdfBug=He,this.commonObjs=or.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Ge,rotation:Ze=this.rotate,offsetX:or=0,offsetY:He=0,dontFlip:Je=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Ge,rotation:Ze,offsetX:or,offsetY:He,dontFlip:Je})}getAnnotations({intent:Ge="display"}={}){const Ze=this._transport.getRenderingIntent(Ge);return this._transport.getAnnotations(this._pageIndex,Ze.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Ge;return((Ge=this._transport._htmlForXfa)==null?void 0:Ge.children[this._pageIndex])||null}render({canvasContext:Ge,viewport:Ze,intent:or="display",annotationMode:He=_util.AnnotationMode.ENABLE,transform:Je=null,background:$e=null,optionalContentConfigPromise:mr=null,annotationCanvasMap:wr=null,pageColors:vr=null,printAnnotationStorage:ur=null}){var lr,pr;(lr=this._stats)==null||lr.time("Overall");const Cr=this._transport.getRenderingIntent(or,He,ur);Hn(this,_e,!1),Bn(this,xe,od).call(this),mr||(mr=this._transport.getOptionalContentConfig());let _r=this._intentStates.get(Cr.cacheKey);_r||(_r=Object.create(null),this._intentStates.set(Cr.cacheKey,_r)),_r.streamReaderCancelTimeout&&(clearTimeout(_r.streamReaderCancelTimeout),_r.streamReaderCancelTimeout=null);const hr=!!(Cr.renderingIntent&_util.RenderingIntentFlag.PRINT);_r.displayReadyCapability||(_r.displayReadyCapability=new _util.PromiseCapability,_r.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(pr=this._stats)==null||pr.time("Page Request"),this._pumpOperatorList(Cr));const Sr=Er=>{var Rr,Tr;_r.renderTasks.delete(ar),(this._maybeCleanupAfterRender||hr)&&Hn(this,_e,!0),Bn(this,xe,hu).call(this,!hr),Er?(ar.capability.reject(Er),this._abortOperatorList({intentState:_r,reason:Er instanceof Error?Er:new Error(Er)})):ar.capability.resolve(),(Rr=this._stats)==null||Rr.timeEnd("Rendering"),(Tr=this._stats)==null||Tr.timeEnd("Overall")},ar=new InternalRenderTask({callback:Sr,params:{canvasContext:Ge,viewport:Ze,transform:Je,background:$e},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:wr,operatorList:_r.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!hr,pdfBug:this._pdfBug,pageColors:vr});(_r.renderTasks||(_r.renderTasks=new Set)).add(ar);const tr=ar.task;return Promise.all([_r.displayReadyCapability.promise,mr]).then(([Er,Rr])=>{var Tr;if(this.destroyed){Sr();return}(Tr=this._stats)==null||Tr.time("Rendering"),ar.initializeGraphics({transparency:Er,optionalContentConfig:Rr}),ar.operatorListChanged()}).catch(Sr),tr}getOperatorList({intent:Ge="display",annotationMode:Ze=_util.AnnotationMode.ENABLE,printAnnotationStorage:or=null}={}){var wr;function He(){$e.operatorList.lastChunk&&($e.opListReadCapability.resolve($e.operatorList),$e.renderTasks.delete(mr))}const Je=this._transport.getRenderingIntent(Ge,Ze,or,!0);let $e=this._intentStates.get(Je.cacheKey);$e||($e=Object.create(null),this._intentStates.set(Je.cacheKey,$e));let mr;return $e.opListReadCapability||(mr=Object.create(null),mr.operatorListChanged=He,$e.opListReadCapability=new _util.PromiseCapability,($e.renderTasks||($e.renderTasks=new Set)).add(mr),$e.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(wr=this._stats)==null||wr.time("Page Request"),this._pumpOperatorList(Je)),$e.opListReadCapability.promise}streamTextContent({includeMarkedContent:Ge=!1,disableNormalization:Ze=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Ge===!0,disableNormalization:Ze===!0},{highWaterMark:100,size(He){return He.items.length}})}getTextContent(Ge={}){if(this._transport._htmlForXfa)return this.getXfa().then(or=>_xfa_text.XfaText.textContent(or));const Ze=this.streamTextContent(Ge);return new Promise(function(or,He){function Je(){$e.read().then(function({value:wr,done:vr}){if(vr){or(mr);return}Object.assign(mr.styles,wr.styles),mr.items.push(...wr.items),Je()},He)}const $e=Ze.getReader(),mr={items:[],styles:Object.create(null)};Je()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Ge=[];for(const Ze of this._intentStates.values())if(this._abortOperatorList({intentState:Ze,reason:new Error("Page was destroyed."),force:!0}),!Ze.opListReadCapability)for(const or of Ze.renderTasks)Ge.push(or.completed),or.cancel();return this.objs.clear(),Hn(this,_e,!1),Bn(this,xe,od).call(this),Promise.all(Ge)}cleanup(Ge=!1){Hn(this,_e,!0);const Ze=Bn(this,xe,hu).call(this,!1);return Ge&&Ze&&this._stats&&(this._stats=new _display_utils.StatTimer),Ze}_startRenderPage(Ge,Ze){var He,Je;const or=this._intentStates.get(Ze);or&&((He=this._stats)==null||He.timeEnd("Page Request"),(Je=or.displayReadyCapability)==null||Je.resolve(Ge))}_renderPageChunk(Ge,Ze){for(let or=0,He=Ge.length;or<He;or++)Ze.operatorList.fnArray.push(Ge.fnArray[or]),Ze.operatorList.argsArray.push(Ge.argsArray[or]);Ze.operatorList.lastChunk=Ge.lastChunk,Ze.operatorList.separateAnnots=Ge.separateAnnots;for(const or of Ze.renderTasks)or.operatorListChanged();Ge.lastChunk&&Bn(this,xe,hu).call(this,!0)}_pumpOperatorList({renderingIntent:Ge,cacheKey:Ze,annotationStorageSerializable:or}){const{map:He,transfers:Je}=or,mr=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Ge,cacheKey:Ze,annotationStorage:He},Je).getReader(),wr=this._intentStates.get(Ze);wr.streamReader=mr;const vr=()=>{mr.read().then(({value:ur,done:Cr})=>{if(Cr){wr.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ur,wr),vr())},ur=>{if(wr.streamReader=null,!this._transport.destroyed){if(wr.operatorList){wr.operatorList.lastChunk=!0;for(const Cr of wr.renderTasks)Cr.operatorListChanged();Bn(this,xe,hu).call(this,!0)}if(wr.displayReadyCapability)wr.displayReadyCapability.reject(ur);else if(wr.opListReadCapability)wr.opListReadCapability.reject(ur);else throw ur}})};vr()}_abortOperatorList({intentState:Ge,reason:Ze,force:or=!1}){if(Ge.streamReader){if(Ge.streamReaderCancelTimeout&&(clearTimeout(Ge.streamReaderCancelTimeout),Ge.streamReaderCancelTimeout=null),!or){if(Ge.renderTasks.size>0)return;if(Ze instanceof _display_utils.RenderingCancelledException){let He=RENDERING_CANCELLED_TIMEOUT;Ze.extraDelay>0&&Ze.extraDelay<1e3&&(He+=Ze.extraDelay),Ge.streamReaderCancelTimeout=setTimeout(()=>{Ge.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Ge,reason:Ze,force:!0})},He);return}}if(Ge.streamReader.cancel(new _util.AbortException(Ze.message)).catch(()=>{}),Ge.streamReader=null,!this._transport.destroyed){for(const[He,Je]of this._intentStates)if(Je===Ge){this._intentStates.delete(He);break}this.cleanup()}}}get stats(){return this._stats}}Ae=new WeakMap,_e=new WeakMap,xe=new WeakSet,hu=function(Ge=!1){if(Bn(this,xe,od).call(this),!yr(this,_e)||this.destroyed)return!1;if(Ge)return Hn(this,Ae,setTimeout(()=>{Hn(this,Ae,null),Bn(this,xe,hu).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Ze,operatorList:or}of this._intentStates.values())if(Ze.size>0||!or.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Hn(this,_e,!1),!0},od=function(){yr(this,Ae)&&(clearTimeout(yr(this,Ae)),Hn(this,Ae,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Vn(this,Re,new Set);Vn(this,Be,Promise.resolve())}postMessage(Ge,Ze){const or={data:structuredClone(Ge,Ze?{transfer:Ze}:null)};yr(this,Be).then(()=>{for(const He of yr(this,Re))He.call(this,or)})}addEventListener(Ge,Ze){yr(this,Re).add(Ze)}removeEventListener(Ge,Ze){yr(this,Re).delete(Ze)}terminate(){yr(this,Re).clear()}}Re=new WeakMap,Be=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const We=(Fe=document==null?void 0:document.currentScript)==null?void 0:Fe.src;We&&(PDFWorkerUtil.fallbackWorkerSrc=We.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(We,Ge){let Ze;try{if(Ze=new URL(We),!Ze.origin||Ze.origin==="null")return!1}catch{return!1}const or=new URL(Ge,Ze);return Ze.origin===or.origin},PDFWorkerUtil.createCDNWrapper=function(We){const Ge=`importScripts("${We}");`;return URL.createObjectURL(new Blob([Ge]))}}const _PDFWorker=class _PDFWorker{constructor({name:We=null,port:Ge=null,verbosity:Ze=(0,_util.getVerbosityLevel)()}={}){var or;if(this.name=We,this.destroyed=!1,this.verbosity=Ze,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Ge){if((or=yr(_PDFWorker,Ie))!=null&&or.has(Ge))throw new Error("Cannot use more than one PDFWorker per port.");(yr(_PDFWorker,Ie)||Hn(_PDFWorker,Ie,new WeakMap)).set(Ge,this),this._initializeFromPort(Ge);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(We){this._port=We,this._messageHandler=new _message_handler.MessageHandler("main","worker",We),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:We}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,We)||(We=PDFWorkerUtil.createCDNWrapper(new URL(We,window.location).href));const Ge=new Worker(We),Ze=new _message_handler.MessageHandler("main","worker",Ge),or=()=>{Ge.removeEventListener("error",He),Ze.destroy(),Ge.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},He=()=>{this._webWorker||or()};Ge.addEventListener("error",He),Ze.on("test",$e=>{if(Ge.removeEventListener("error",He),this.destroyed){or();return}$e?(this._messageHandler=Ze,this._port=Ge,this._webWorker=Ge,this._readyCapability.resolve(),Ze.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Ze.destroy(),Ge.terminate())}),Ze.on("ready",$e=>{if(Ge.removeEventListener("error",He),this.destroyed){or();return}try{Je()}catch{this._setupFakeWorker()}});const Je=()=>{const $e=new Uint8Array;Ze.send("test",$e,[$e.buffer])};Je();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(We=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Ge=new LoopbackPort;this._port=Ge;const Ze=`fake${PDFWorkerUtil.fakeWorkerId++}`,or=new _message_handler.MessageHandler(Ze+"_worker",Ze,Ge);We.setup(or,Ge);const He=new _message_handler.MessageHandler(Ze,Ze+"_worker",Ge);this._messageHandler=He,this._readyCapability.resolve(),He.send("configure",{verbosity:this.verbosity})}).catch(We=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${We.message}".`))})}destroy(){var We;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(We=yr(_PDFWorker,Ie))==null||We.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(We){var Ze;if(!(We!=null&&We.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Ge=(Ze=yr(this,Ie))==null?void 0:Ze.get(We.port);if(Ge){if(Ge._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Ge}return new _PDFWorker(We)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var We;try{return((We=globalThis.pdfjsWorker)==null?void 0:We.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};Ie=new WeakMap,Vn(_PDFWorker,Ie);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Ge,Ze,or,He,Je){Vn(this,Ke);Vn(this,Ue,new Map);Vn(this,ke,new Map);Vn(this,Oe,new Map);Vn(this,je,null);this.messageHandler=Ge,this.loadingTask=Ze,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:He.ownerDocument,styleElement:He.styleElement}),this._params=He,this.canvasFactory=Je.canvasFactory,this.filterFactory=Je.filterFactory,this.cMapReaderFactory=Je.cMapReaderFactory,this.standardFontDataFactory=Je.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=or,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Ge,Ze=_util.AnnotationMode.ENABLE,or=null,He=!1){let Je=_util.RenderingIntentFlag.DISPLAY,$e=_annotation_storage.SerializableEmpty;switch(Ge){case"any":Je=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Je=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Ge}`)}switch(Ze){case _util.AnnotationMode.DISABLE:Je+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Je+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Je+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,$e=(Je&_util.RenderingIntentFlag.PRINT&&or instanceof _annotation_storage.PrintAnnotationStorage?or:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Ze}`)}return He&&(Je+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Je,cacheKey:`${Je}_${$e.hash}`,annotationStorageSerializable:$e}}destroy(){var or;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(or=yr(this,je))==null||or.reject(new Error("Worker was destroyed during onPassword callback"));const Ge=[];for(const He of yr(this,ke).values())Ge.push(He._destroy());yr(this,ke).clear(),yr(this,Oe).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Ze=this.messageHandler.sendWithPromise("Terminate",null);return Ge.push(Ze),Promise.all(Ge).then(()=>{var He;this.commonObjs.clear(),this.fontLoader.clear(),yr(this,Ue).clear(),this.filterFactory.destroy(),(He=this._networkStream)==null||He.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Ge,loadingTask:Ze}=this;Ge.on("GetReader",(or,He)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Je=>{this._lastProgress={loaded:Je.loaded,total:Je.total}},He.onPull=()=>{this._fullReader.read().then(function({value:Je,done:$e}){if($e){He.close();return}(0,_util.assert)(Je instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),He.enqueue(new Uint8Array(Je),1,[Je])}).catch(Je=>{He.error(Je)})},He.onCancel=Je=>{this._fullReader.cancel(Je),He.ready.catch($e=>{if(!this.destroyed)throw $e})}}),Ge.on("ReaderHeadersReady",or=>{const He=new _util.PromiseCapability,Je=this._fullReader;return Je.headersReady.then(()=>{var $e;(!Je.isStreamingSupported||!Je.isRangeSupported)&&(this._lastProgress&&(($e=Ze.onProgress)==null||$e.call(Ze,this._lastProgress)),Je.onProgress=mr=>{var wr;(wr=Ze.onProgress)==null||wr.call(Ze,{loaded:mr.loaded,total:mr.total})}),He.resolve({isStreamingSupported:Je.isStreamingSupported,isRangeSupported:Je.isRangeSupported,contentLength:Je.contentLength})},He.reject),He.promise}),Ge.on("GetRangeReader",(or,He)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Je=this._networkStream.getRangeReader(or.begin,or.end);if(!Je){He.close();return}He.onPull=()=>{Je.read().then(function({value:$e,done:mr}){if(mr){He.close();return}(0,_util.assert)($e instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),He.enqueue(new Uint8Array($e),1,[$e])}).catch($e=>{He.error($e)})},He.onCancel=$e=>{Je.cancel($e),He.ready.catch(mr=>{if(!this.destroyed)throw mr})}}),Ge.on("GetDoc",({pdfInfo:or})=>{this._numPages=or.numPages,this._htmlForXfa=or.htmlForXfa,delete or.htmlForXfa,Ze._capability.resolve(new PDFDocumentProxy(or,this))}),Ge.on("DocException",function(or){let He;switch(or.name){case"PasswordException":He=new _util.PasswordException(or.message,or.code);break;case"InvalidPDFException":He=new _util.InvalidPDFException(or.message);break;case"MissingPDFException":He=new _util.MissingPDFException(or.message);break;case"UnexpectedResponseException":He=new _util.UnexpectedResponseException(or.message,or.status);break;case"UnknownErrorException":He=new _util.UnknownErrorException(or.message,or.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Ze._capability.reject(He)}),Ge.on("PasswordRequest",or=>{if(Hn(this,je,new _util.PromiseCapability),Ze.onPassword){const He=Je=>{Je instanceof Error?yr(this,je).reject(Je):yr(this,je).resolve({password:Je})};try{Ze.onPassword(He,or.code)}catch(Je){yr(this,je).reject(Je)}}else yr(this,je).reject(new _util.PasswordException(or.message,or.code));return yr(this,je).promise}),Ge.on("DataLoaded",or=>{var He;(He=Ze.onProgress)==null||He.call(Ze,{loaded:or.length,total:or.length}),this.downloadInfoCapability.resolve(or)}),Ge.on("StartRenderPage",or=>{if(this.destroyed)return;yr(this,ke).get(or.pageIndex)._startRenderPage(or.transparency,or.cacheKey)}),Ge.on("commonobj",([or,He,Je])=>{var $e;if(!this.destroyed&&!this.commonObjs.has(or))switch(He){case"Font":const mr=this._params;if("error"in Je){const ur=Je.error;(0,_util.warn)(`Error during font loading: ${ur}`),this.commonObjs.resolve(or,ur);break}const wr=mr.pdfBug&&(($e=globalThis.FontInspector)!=null&&$e.enabled)?(ur,Cr)=>globalThis.FontInspector.fontAdded(ur,Cr):null,vr=new _font_loader.FontFaceObject(Je,{isEvalSupported:mr.isEvalSupported,disableFontFace:mr.disableFontFace,ignoreErrors:mr.ignoreErrors,inspectFont:wr});this.fontLoader.bind(vr).catch(ur=>Ge.sendWithPromise("FontFallback",{id:or})).finally(()=>{!mr.fontExtraProperties&&vr.data&&(vr.data=null),this.commonObjs.resolve(or,vr)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(or,Je);break;default:throw new Error(`Got unknown common object type ${He}`)}}),Ge.on("obj",([or,He,Je,$e])=>{var wr;if(this.destroyed)return;const mr=yr(this,ke).get(He);if(!mr.objs.has(or))switch(Je){case"Image":if(mr.objs.resolve(or,$e),$e){let vr;if($e.bitmap){const{width:ur,height:Cr}=$e;vr=ur*Cr*4}else vr=((wr=$e.data)==null?void 0:wr.length)||0;vr>_util.MAX_IMAGE_SIZE_TO_CACHE&&(mr._maybeCleanupAfterRender=!0)}break;case"Pattern":mr.objs.resolve(or,$e);break;default:throw new Error(`Got unknown object type ${Je}`)}}),Ge.on("DocProgress",or=>{var He;this.destroyed||(He=Ze.onProgress)==null||He.call(Ze,{loaded:or.loaded,total:or.total})}),Ge.on("FetchBuiltInCMap",or=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(or):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Ge.on("FetchStandardFontData",or=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(or):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var or;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Ge,transfers:Ze}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Ge,filename:((or=this._fullReader)==null?void 0:or.filename)??null},Ze).finally(()=>{this.annotationStorage.resetModified()})}getPage(Ge){if(!Number.isInteger(Ge)||Ge<=0||Ge>this._numPages)return Promise.reject(new Error("Invalid page request."));const Ze=Ge-1,or=yr(this,Oe).get(Ze);if(or)return or;const He=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Ze}).then(Je=>{if(this.destroyed)throw new Error("Transport destroyed");const $e=new PDFPageProxy(Ze,Je,this,this._params.pdfBug);return yr(this,ke).set(Ze,$e),$e});return yr(this,Oe).set(Ze,He),He}getPageIndex(Ge){return typeof Ge!="object"||Ge===null||!Number.isInteger(Ge.num)||Ge.num<0||!Number.isInteger(Ge.gen)||Ge.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Ge.num,gen:Ge.gen})}getAnnotations(Ge,Ze){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Ge,intent:Ze})}getFieldObjects(){return Bn(this,Ke,ld).call(this,"GetFieldObjects")}hasJSActions(){return Bn(this,Ke,ld).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Ge){return typeof Ge!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Ge})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Bn(this,Ke,ld).call(this,"GetDocJSActions")}getPageJSActions(Ge){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Ge})}getStructTree(Ge){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Ge})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Ge=>new _optional_content_config.OptionalContentConfig(Ge))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Ge="GetMetadata",Ze=yr(this,Ue).get(Ge);if(Ze)return Ze;const or=this.messageHandler.sendWithPromise(Ge,null).then(He=>{var Je,$e;return{info:He[0],metadata:He[1]?new _metadata.Metadata(He[1]):null,contentDispositionFilename:((Je=this._fullReader)==null?void 0:Je.filename)??null,contentLength:(($e=this._fullReader)==null?void 0:$e.contentLength)??null}});return yr(this,Ue).set(Ge,or),or}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Ge=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Ze of yr(this,ke).values())if(!Ze.cleanup())throw new Error(`startCleanup: Page ${Ze.pageNumber} is currently rendering.`);this.commonObjs.clear(),Ge||this.fontLoader.clear(),yr(this,Ue).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Ge,enableXfa:Ze}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Ge,enableXfa:Ze})}}Ue=new WeakMap,ke=new WeakMap,Oe=new WeakMap,je=new WeakMap,Ke=new WeakSet,ld=function(Ge,Ze=null){const or=yr(this,Ue).get(Ge);if(or)return or;const He=this.messageHandler.sendWithPromise(Ge,Ze);return yr(this,Ue).set(Ge,He),He};class PDFObjects{constructor(){Vn(this,Xe);Vn(this,Ve,Object.create(null))}get(Ge,Ze=null){if(Ze){const He=Bn(this,Xe,Bf).call(this,Ge);return He.capability.promise.then(()=>Ze(He.data)),null}const or=yr(this,Ve)[Ge];if(!(or!=null&&or.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Ge}.`);return or.data}has(Ge){const Ze=yr(this,Ve)[Ge];return(Ze==null?void 0:Ze.capability.settled)||!1}resolve(Ge,Ze=null){const or=Bn(this,Xe,Bf).call(this,Ge);or.data=Ze,or.capability.resolve()}clear(){var Ge;for(const Ze in yr(this,Ve)){const{data:or}=yr(this,Ve)[Ze];(Ge=or==null?void 0:or.bitmap)==null||Ge.close()}Hn(this,Ve,Object.create(null))}}Ve=new WeakMap,Xe=new WeakSet,Bf=function(Ge){var Ze;return(Ze=yr(this,Ve))[Ge]||(Ze[Ge]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Ge){Vn(this,sr,null);Hn(this,sr,Ge),this.onContinue=null}get promise(){return yr(this,sr).capability.promise}cancel(Ge=0){yr(this,sr).cancel(null,Ge)}get separateAnnots(){const{separateAnnots:Ge}=yr(this,sr).operatorList;if(!Ge)return!1;const{annotationCanvasMap:Ze}=yr(this,sr);return Ge.form||Ge.canvas&&(Ze==null?void 0:Ze.size)>0}}sr=new WeakMap,exports.RenderTask=RenderTask;const nr=class nr{constructor({callback:Ge,params:Ze,objs:or,commonObjs:He,annotationCanvasMap:Je,operatorList:$e,pageIndex:mr,canvasFactory:wr,filterFactory:vr,useRequestAnimationFrame:ur=!1,pdfBug:Cr=!1,pageColors:_r=null}){this.callback=Ge,this.params=Ze,this.objs=or,this.commonObjs=He,this.annotationCanvasMap=Je,this.operatorListIdx=null,this.operatorList=$e,this._pageIndex=mr,this.canvasFactory=wr,this.filterFactory=vr,this._pdfBug=Cr,this.pageColors=_r,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ur===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Ze.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Ge=!1,optionalContentConfig:Ze}){var mr,wr;if(this.cancelled)return;if(this._canvas){if(yr(nr,rr).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");yr(nr,rr).add(this._canvas)}this._pdfBug&&((mr=globalThis.StepperManager)!=null&&mr.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:or,viewport:He,transform:Je,background:$e}=this.params;this.gfx=new _canvas.CanvasGraphics(or,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Ze},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Je,viewport:He,transparency:Ge,background:$e}),this.operatorListIdx=0,this.graphicsReady=!0,(wr=this.graphicsReadyCallback)==null||wr.call(this)}cancel(Ge=null,Ze=0){var or;this.running=!1,this.cancelled=!0,(or=this.gfx)==null||or.endDrawing(),yr(nr,rr).delete(this._canvas),this.callback(Ge||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Ze))}operatorListChanged(){var Ge;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Ge=this.stepper)==null||Ge.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),yr(nr,rr).delete(this._canvas),this.callback())))}};rr=new WeakMap,Vn(nr,rr,new WeakSet);let InternalRenderTask=nr;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(Ee,t,Ae)=>{var Fe,Ie,Ue,am,Oe;Object.defineProperty(t,"__esModule",{value:!0}),t.SerializableEmpty=t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var _e=Ae(1),xe=Ae(4),Ce=Ae(8);const Se=Object.freeze({map:null,hash:"",transfers:void 0});t.SerializableEmpty=Se;class Re{constructor(){Vn(this,Ue);Vn(this,Fe,!1);Vn(this,Ie,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Ke,ze){const Ve=yr(this,Ie).get(Ke);return Ve===void 0?ze:Object.assign(ze,Ve)}getRawValue(Ke){return yr(this,Ie).get(Ke)}remove(Ke){if(yr(this,Ie).delete(Ke),yr(this,Ie).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const ze of yr(this,Ie).values())if(ze instanceof xe.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Ke,ze){const Ve=yr(this,Ie).get(Ke);let Xe=!1;if(Ve!==void 0)for(const[ir,sr]of Object.entries(ze))Ve[ir]!==sr&&(Xe=!0,Ve[ir]=sr);else Xe=!0,yr(this,Ie).set(Ke,ze);Xe&&Bn(this,Ue,am).call(this),ze instanceof xe.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(ze.constructor._type)}has(Ke){return yr(this,Ie).has(Ke)}getAll(){return yr(this,Ie).size>0?(0,_e.objectFromMap)(yr(this,Ie)):null}setAll(Ke){for(const[ze,Ve]of Object.entries(Ke))this.setValue(ze,Ve)}get size(){return yr(this,Ie).size}resetModified(){yr(this,Fe)&&(Hn(this,Fe,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Be(this)}get serializable(){if(yr(this,Ie).size===0)return Se;const Ke=new Map,ze=new Ce.MurmurHash3_64,Ve=[],Xe=Object.create(null);let ir=!1;for(const[sr,rr]of yr(this,Ie)){const nr=rr instanceof xe.AnnotationEditor?rr.serialize(!1,Xe):rr;nr&&(Ke.set(sr,nr),ze.update(`${sr}:${JSON.stringify(nr)}`),ir||(ir=!!nr.bitmap))}if(ir)for(const sr of Ke.values())sr.bitmap&&Ve.push(sr.bitmap);return Ke.size>0?{map:Ke,hash:ze.hexdigest(),transfers:Ve}:Se}}Fe=new WeakMap,Ie=new WeakMap,Ue=new WeakSet,am=function(){yr(this,Fe)||(Hn(this,Fe,!0),typeof this.onSetModified=="function"&&this.onSetModified())},t.AnnotationStorage=Re;class Be extends Re{constructor(ze){super();Vn(this,Oe);const{map:Ve,hash:Xe,transfers:ir}=ze.serializable,sr=structuredClone(Ve,ir?{transfer:ir}:null);Hn(this,Oe,{map:sr,hash:Xe,transfers:ir})}get print(){(0,_e.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return yr(this,Oe)}}Oe=new WeakMap,t.PrintAnnotationStorage=Be},(Ee,t,Ae)=>{var Be,Fe,Ie,Ue,ke,Oe,je,Ke,ze,Ve,Xe,ir,sr,rr,nr,Pf,Ff,Ze,If,Df,om,lm,Am,Nf,cm;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var _e=Ae(5),xe=Ae(1),Ce=Ae(6);const ur=class ur{constructor(_r){Vn(this,nr);Vn(this,Be,"");Vn(this,Fe,!1);Vn(this,Ie,null);Vn(this,Ue,null);Vn(this,ke,null);Vn(this,Oe,!1);Vn(this,je,null);Vn(this,Ke,this.focusin.bind(this));Vn(this,ze,this.focusout.bind(this));Vn(this,Ve,!1);Vn(this,Xe,!1);Vn(this,ir,!1);ys(this,"_initialOptions",Object.create(null));ys(this,"_uiManager",null);ys(this,"_focusEventsAllowed",!0);ys(this,"_l10nPromise",null);Vn(this,sr,!1);Vn(this,rr,ur._zIndex++);this.constructor===ur&&(0,xe.unreachable)("Cannot initialize AnnotationEditor."),this.parent=_r.parent,this.id=_r.id,this.width=this.height=null,this.pageIndex=_r.parent.pageIndex,this.name=_r.name,this.div=null,this._uiManager=_r.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=_r.isCentered,this._structTreeParentId=null;const{rotation:hr,rawDims:{pageWidth:Sr,pageHeight:ar,pageX:tr,pageY:lr}}=this.parent.viewport;this.rotation=hr,this.pageRotation=(360+hr-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Sr,ar],this.pageTranslation=[tr,lr];const[pr,Er]=this.parentDimensions;this.x=_r.x/pr,this.y=_r.y/Er,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,xe.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(_r){const hr=new Re({id:_r.parent.getNextId(),parent:_r.parent,uiManager:_r._uiManager});hr.annotationElementId=_r.annotationElementId,hr.deleted=!0,hr._uiManager.addToAnnotationStorage(hr)}static initialize(_r,hr=null){if(ur._l10nPromise||(ur._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(ar=>[ar,_r.get(ar)]))),hr!=null&&hr.strings)for(const ar of hr.strings)ur._l10nPromise.set(ar,_r.get(ar));if(ur._borderLineWidth!==-1)return;const Sr=getComputedStyle(document.documentElement);ur._borderLineWidth=parseFloat(Sr.getPropertyValue("--outline-width"))||0}static updateDefaultParams(_r,hr){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(_r){return!1}static paste(_r,hr){(0,xe.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return yr(this,sr)}set _isDraggable(_r){var hr;Hn(this,sr,_r),(hr=this.div)==null||hr.classList.toggle("draggable",_r)}center(){const[_r,hr]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*hr/(_r*2),this.y+=this.width*_r/(hr*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*hr/(_r*2),this.y-=this.width*_r/(hr*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(_r){this._uiManager.addCommands(_r)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=yr(this,rr)}setParent(_r){_r!==null&&(this.pageIndex=_r.pageIndex,this.pageDimensions=_r.pageDimensions),this.parent=_r}focusin(_r){this._focusEventsAllowed&&(yr(this,Ve)?Hn(this,Ve,!1):this.parent.setSelected(this))}focusout(_r){var Sr;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const hr=_r.relatedTarget;hr!=null&&hr.closest(`#${this.id}`)||(_r.preventDefault(),(Sr=this.parent)!=null&&Sr.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(_r,hr,Sr,ar){const[tr,lr]=this.parentDimensions;[Sr,ar]=this.screenToPageTranslation(Sr,ar),this.x=(_r+Sr)/tr,this.y=(hr+ar)/lr,this.fixAndSetPosition()}translate(_r,hr){Bn(this,nr,Pf).call(this,this.parentDimensions,_r,hr)}translateInPage(_r,hr){Bn(this,nr,Pf).call(this,this.pageDimensions,_r,hr),this.div.scrollIntoView({block:"nearest"})}drag(_r,hr){const[Sr,ar]=this.parentDimensions;if(this.x+=_r/Sr,this.y+=hr/ar,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Rr,y:Tr}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Rr,Tr)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:tr,y:lr}=this;const[pr,Er]=Bn(this,nr,Ff).call(this);tr+=pr,lr+=Er,this.div.style.left=`${(100*tr).toFixed(2)}%`,this.div.style.top=`${(100*lr).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[_r,hr]=this.pageDimensions;let{x:Sr,y:ar,width:tr,height:lr}=this;switch(tr*=_r,lr*=hr,Sr*=_r,ar*=hr,this.rotation){case 0:Sr=Math.max(0,Math.min(_r-tr,Sr)),ar=Math.max(0,Math.min(hr-lr,ar));break;case 90:Sr=Math.max(0,Math.min(_r-lr,Sr)),ar=Math.min(hr,Math.max(tr,ar));break;case 180:Sr=Math.min(_r,Math.max(tr,Sr)),ar=Math.min(hr,Math.max(lr,ar));break;case 270:Sr=Math.min(_r,Math.max(lr,Sr)),ar=Math.max(0,Math.min(hr-tr,ar));break}this.x=Sr/=_r,this.y=ar/=hr;const[pr,Er]=Bn(this,nr,Ff).call(this);Sr+=pr,ar+=Er;const{style:Rr}=this.div;Rr.left=`${(100*Sr).toFixed(2)}%`,Rr.top=`${(100*ar).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(_r,hr){var Sr;return Bn(Sr=ur,Ze,If).call(Sr,_r,hr,this.parentRotation)}pageTranslationToScreen(_r,hr){var Sr;return Bn(Sr=ur,Ze,If).call(Sr,_r,hr,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:_r,pageDimensions:[hr,Sr]}=this,ar=hr*_r,tr=Sr*_r;return xe.FeatureTest.isCSSRoundSupported?[Math.round(ar),Math.round(tr)]:[ar,tr]}setDims(_r,hr){var tr;const[Sr,ar]=this.parentDimensions;this.div.style.width=`${(100*_r/Sr).toFixed(2)}%`,yr(this,Oe)||(this.div.style.height=`${(100*hr/ar).toFixed(2)}%`),(tr=yr(this,Ie))==null||tr.classList.toggle("small",_r<ur.SMALL_EDITOR_SIZE||hr<ur.SMALL_EDITOR_SIZE)}fixDims(){const{style:_r}=this.div,{height:hr,width:Sr}=_r,ar=Sr.endsWith("%"),tr=!yr(this,Oe)&&hr.endsWith("%");if(ar&&tr)return;const[lr,pr]=this.parentDimensions;ar||(_r.width=`${(100*parseFloat(Sr)/lr).toFixed(2)}%`),!yr(this,Oe)&&!tr&&(_r.height=`${(100*parseFloat(hr)/pr).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(yr(this,Ie))return;const _r=Hn(this,Ie,document.createElement("button"));_r.className="altText";const hr=await ur._l10nPromise.get("editor_alt_text_button_label");_r.textContent=hr,_r.setAttribute("aria-label",hr),_r.tabIndex="0",_r.addEventListener("contextmenu",Ce.noContextMenu),_r.addEventListener("pointerdown",Sr=>Sr.stopPropagation()),_r.addEventListener("click",Sr=>{Sr.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),_r.addEventListener("keydown",Sr=>{Sr.target===_r&&Sr.key==="Enter"&&(Sr.preventDefault(),this._uiManager.editAltText(this))}),Bn(this,nr,Nf).call(this),this.div.append(_r),ur.SMALL_EDITOR_SIZE||(ur.SMALL_EDITOR_SIZE=Math.min(128,Math.round(_r.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:yr(this,Be),decorative:yr(this,Fe)}}set altTextData({altText:_r,decorative:hr}){yr(this,Be)===_r&&yr(this,Fe)===hr||(Hn(this,Be,_r),Hn(this,Fe,hr),Bn(this,nr,Nf).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",yr(this,Ke)),this.div.addEventListener("focusout",yr(this,ze));const[_r,hr]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*hr/_r).toFixed(2)}%`,this.div.style.maxHeight=`${(100*_r/hr).toFixed(2)}%`);const[Sr,ar]=this.getInitialTranslation();return this.translate(Sr,ar),(0,_e.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(_r){const{isMac:hr}=xe.FeatureTest.platform;if(_r.button!==0||_r.ctrlKey&&hr){_r.preventDefault();return}Hn(this,Ve,!0),Bn(this,nr,cm).call(this,_r)}moveInDOM(){var _r;(_r=this.parent)==null||_r.moveEditorInDOM(this)}_setParentAndPosition(_r,hr,Sr){_r.changeParent(this),this.x=hr,this.y=Sr,this.fixAndSetPosition()}getRect(_r,hr){const Sr=this.parentScale,[ar,tr]=this.pageDimensions,[lr,pr]=this.pageTranslation,Er=_r/Sr,Rr=hr/Sr,Tr=this.x*ar,Ir=this.y*tr,Zr=this.width*ar,zr=this.height*tr;switch(this.rotation){case 0:return[Tr+Er+lr,tr-Ir-Rr-zr+pr,Tr+Er+Zr+lr,tr-Ir-Rr+pr];case 90:return[Tr+Rr+lr,tr-Ir+Er+pr,Tr+Rr+zr+lr,tr-Ir+Er+Zr+pr];case 180:return[Tr-Er-Zr+lr,tr-Ir+Rr+pr,Tr-Er+lr,tr-Ir+Rr+zr+pr];case 270:return[Tr-Rr-zr+lr,tr-Ir-Er-Zr+pr,Tr-Rr+lr,tr-Ir-Er+pr];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(_r,hr){const[Sr,ar,tr,lr]=_r,pr=tr-Sr,Er=lr-ar;switch(this.rotation){case 0:return[Sr,hr-lr,pr,Er];case 90:return[Sr,hr-ar,Er,pr];case 180:return[tr,hr-ar,pr,Er];case 270:return[tr,hr-lr,Er,pr];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Hn(this,ir,!0)}disableEditMode(){Hn(this,ir,!1)}isInEditMode(){return yr(this,ir)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var _r,hr;(_r=this.div)==null||_r.addEventListener("focusin",yr(this,Ke)),(hr=this.div)==null||hr.addEventListener("focusout",yr(this,ze))}serialize(_r=!1,hr=null){(0,xe.unreachable)("An editor must be serializable")}static deserialize(_r,hr,Sr){const ar=new this.prototype.constructor({parent:hr,id:hr.getNextId(),uiManager:Sr});ar.rotation=_r.rotation;const[tr,lr]=ar.pageDimensions,[pr,Er,Rr,Tr]=ar.getRectInCurrentCoords(_r.rect,lr);return ar.x=pr/tr,ar.y=Er/lr,ar.width=Rr/tr,ar.height=Tr/lr,ar}remove(){var _r;this.div.removeEventListener("focusin",yr(this,Ke)),this.div.removeEventListener("focusout",yr(this,ze)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(_r=yr(this,Ie))==null||_r.remove(),Hn(this,Ie,null),Hn(this,Ue,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Bn(this,nr,om).call(this),yr(this,je).classList.remove("hidden"))}select(){var _r;this.makeResizable(),(_r=this.div)==null||_r.classList.add("selectedEditor")}unselect(){var _r,hr,Sr;(_r=yr(this,je))==null||_r.classList.add("hidden"),(hr=this.div)==null||hr.classList.remove("selectedEditor"),(Sr=this.div)!=null&&Sr.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(_r,hr){}disableEditing(){yr(this,Ie)&&(yr(this,Ie).hidden=!0)}enableEditing(){yr(this,Ie)&&(yr(this,Ie).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return yr(this,Xe)}set isEditing(_r){Hn(this,Xe,_r),this.parent&&(_r?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(_r,hr){Hn(this,Oe,!0);const Sr=_r/hr,{style:ar}=this.div;ar.aspectRatio=Sr,ar.height="auto"}static get MIN_SIZE(){return 16}};Be=new WeakMap,Fe=new WeakMap,Ie=new WeakMap,Ue=new WeakMap,ke=new WeakMap,Oe=new WeakMap,je=new WeakMap,Ke=new WeakMap,ze=new WeakMap,Ve=new WeakMap,Xe=new WeakMap,ir=new WeakMap,sr=new WeakMap,rr=new WeakMap,nr=new WeakSet,Pf=function([_r,hr],Sr,ar){[Sr,ar]=this.screenToPageTranslation(Sr,ar),this.x+=Sr/_r,this.y+=ar/hr,this.fixAndSetPosition()},Ff=function(){const[_r,hr]=this.parentDimensions,{_borderLineWidth:Sr}=ur,ar=Sr/_r,tr=Sr/hr;switch(this.rotation){case 90:return[-ar,tr];case 180:return[ar,tr];case 270:return[ar,-tr];default:return[-ar,-tr]}},Ze=new WeakSet,If=function(_r,hr,Sr){switch(Sr){case 90:return[hr,-_r];case 180:return[-_r,-hr];case 270:return[-hr,_r];default:return[_r,hr]}},Df=function(_r){switch(_r){case 90:{const[hr,Sr]=this.pageDimensions;return[0,-hr/Sr,Sr/hr,0]}case 180:return[-1,0,0,-1];case 270:{const[hr,Sr]=this.pageDimensions;return[0,hr/Sr,-Sr/hr,0]}default:return[1,0,0,1]}},om=function(){if(yr(this,je))return;Hn(this,je,document.createElement("div")),yr(this,je).classList.add("resizers");const _r=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||_r.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const hr of _r){const Sr=document.createElement("div");yr(this,je).append(Sr),Sr.classList.add("resizer",hr),Sr.addEventListener("pointerdown",Bn(this,nr,lm).bind(this,hr)),Sr.addEventListener("contextmenu",Ce.noContextMenu)}this.div.prepend(yr(this,je))},lm=function(_r,hr){hr.preventDefault();const{isMac:Sr}=xe.FeatureTest.platform;if(hr.button!==0||hr.ctrlKey&&Sr)return;const ar=Bn(this,nr,Am).bind(this,_r),tr=this._isDraggable;this._isDraggable=!1;const lr={passive:!0,capture:!0};window.addEventListener("pointermove",ar,lr);const pr=this.x,Er=this.y,Rr=this.width,Tr=this.height,Ir=this.parent.div.style.cursor,Zr=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(hr.target).cursor;const zr=()=>{this._isDraggable=tr,window.removeEventListener("pointerup",zr),window.removeEventListener("blur",zr),window.removeEventListener("pointermove",ar,lr),this.parent.div.style.cursor=Ir,this.div.style.cursor=Zr;const $r=this.x,vn=this.y,bn=this.width,An=this.height;$r===pr&&vn===Er&&bn===Rr&&An===Tr||this.addCommands({cmd:()=>{this.width=bn,this.height=An,this.x=$r,this.y=vn;const[Fr,dn]=this.parentDimensions;this.setDims(Fr*bn,dn*An),this.fixAndSetPosition()},undo:()=>{this.width=Rr,this.height=Tr,this.x=pr,this.y=Er;const[Fr,dn]=this.parentDimensions;this.setDims(Fr*Rr,dn*Tr),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",zr),window.addEventListener("blur",zr)},Am=function(_r,hr){const[Sr,ar]=this.parentDimensions,tr=this.x,lr=this.y,pr=this.width,Er=this.height,Rr=ur.MIN_SIZE/Sr,Tr=ur.MIN_SIZE/ar,Ir=Nr=>Math.round(Nr*1e4)/1e4,Zr=Bn(this,nr,Df).call(this,this.rotation),zr=(Nr,In)=>[Zr[0]*Nr+Zr[2]*In,Zr[1]*Nr+Zr[3]*In],$r=Bn(this,nr,Df).call(this,360-this.rotation),vn=(Nr,In)=>[$r[0]*Nr+$r[2]*In,$r[1]*Nr+$r[3]*In];let bn,An,Fr=!1,dn=!1;switch(_r){case"topLeft":Fr=!0,bn=(Nr,In)=>[0,0],An=(Nr,In)=>[Nr,In];break;case"topMiddle":bn=(Nr,In)=>[Nr/2,0],An=(Nr,In)=>[Nr/2,In];break;case"topRight":Fr=!0,bn=(Nr,In)=>[Nr,0],An=(Nr,In)=>[0,In];break;case"middleRight":dn=!0,bn=(Nr,In)=>[Nr,In/2],An=(Nr,In)=>[0,In/2];break;case"bottomRight":Fr=!0,bn=(Nr,In)=>[Nr,In],An=(Nr,In)=>[0,0];break;case"bottomMiddle":bn=(Nr,In)=>[Nr/2,In],An=(Nr,In)=>[Nr/2,0];break;case"bottomLeft":Fr=!0,bn=(Nr,In)=>[0,In],An=(Nr,In)=>[Nr,0];break;case"middleLeft":dn=!0,bn=(Nr,In)=>[0,In/2],An=(Nr,In)=>[Nr,In/2];break}const Dr=bn(pr,Er),jr=An(pr,Er);let hn=zr(...jr);const pn=Ir(tr+hn[0]),xn=Ir(lr+hn[1]);let Dn=1,On=1,[yn,Gn]=this.screenToPageTranslation(hr.movementX,hr.movementY);if([yn,Gn]=vn(yn/Sr,Gn/ar),Fr){const Nr=Math.hypot(pr,Er);Dn=On=Math.max(Math.min(Math.hypot(jr[0]-Dr[0]-yn,jr[1]-Dr[1]-Gn)/Nr,1/pr,1/Er),Rr/pr,Tr/Er)}else dn?Dn=Math.max(Rr,Math.min(1,Math.abs(jr[0]-Dr[0]-yn)))/pr:On=Math.max(Tr,Math.min(1,Math.abs(jr[1]-Dr[1]-Gn)))/Er;const Qn=Ir(pr*Dn),di=Ir(Er*On);hn=zr(...An(Qn,di));const ni=pn-hn[0],wi=xn-hn[1];this.width=Qn,this.height=di,this.x=ni,this.y=wi,this.setDims(Sr*Qn,ar*di),this.fixAndSetPosition()},Nf=async function(){var Sr;const _r=yr(this,Ie);if(!_r)return;if(!yr(this,Be)&&!yr(this,Fe)){_r.classList.remove("done"),(Sr=yr(this,Ue))==null||Sr.remove();return}ur._l10nPromise.get("editor_alt_text_edit_button_label").then(ar=>{_r.setAttribute("aria-label",ar)});let hr=yr(this,Ue);if(!hr){Hn(this,Ue,hr=document.createElement("span")),hr.className="tooltip",hr.setAttribute("role","tooltip");const ar=hr.id=`alt-text-tooltip-${this.id}`;_r.setAttribute("aria-describedby",ar);const tr=100;_r.addEventListener("mouseenter",()=>{Hn(this,ke,setTimeout(()=>{Hn(this,ke,null),yr(this,Ue).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},tr))}),_r.addEventListener("mouseleave",()=>{var lr;clearTimeout(yr(this,ke)),Hn(this,ke,null),(lr=yr(this,Ue))==null||lr.classList.remove("show")})}_r.classList.add("done"),hr.innerText=yr(this,Fe)?await ur._l10nPromise.get("editor_alt_text_decorative_tooltip"):yr(this,Be),hr.parentNode||_r.append(hr)},cm=function(_r){if(!this._isDraggable)return;const hr=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Sr,ar;hr&&(Sr={passive:!0,capture:!0},ar=lr=>{const[pr,Er]=this.screenToPageTranslation(lr.movementX,lr.movementY);this._uiManager.dragSelectedEditors(pr,Er)},window.addEventListener("pointermove",ar,Sr));const tr=()=>{if(window.removeEventListener("pointerup",tr),window.removeEventListener("blur",tr),hr&&window.removeEventListener("pointermove",ar,Sr),Hn(this,Ve,!1),!this._uiManager.endDragSession()){const{isMac:lr}=xe.FeatureTest.platform;_r.ctrlKey&&!lr||_r.shiftKey||_r.metaKey&&lr?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",tr),window.addEventListener("blur",tr)},Vn(ur,Ze),ys(ur,"_borderLineWidth",-1),ys(ur,"_colorManager",new _e.ColorManager),ys(ur,"_zIndex",1),ys(ur,"SMALL_EDITOR_SIZE",0);let Se=ur;t.AnnotationEditor=Se;class Re extends Se{constructor(_r){super(_r),this.annotationElementId=_r.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(Ee,t,Ae)=>{var Oe,je,Ke,ze,Ve,Uf,sr,rr,nr,We,Ge,um,He,Je,$e,mr,wr,vr,ur,Cr,_r,hr,Sr,ar,tr,lr,pr,Er,Rr,Tr,Ir,Zr,zr,$r,vn,bn,An,Fr,dn,Dr,jr,hn,pn,xn,Dn,On,yn,hm,Lf,Of,Ad,kf,Mf,zo,rh,dm,fm,jf,nh,Vf;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=Ce,t.opacityToHex=Se;var _e=Ae(1),xe=Ae(6);function Ce(fr,Lr,un){for(const Pr of un)Lr.addEventListener(Pr,fr[Pr].bind(fr))}function Se(fr){return Math.round(Math.min(255,Math.max(1,255*fr))).toString(16).padStart(2,"0")}class Re{constructor(){Vn(this,Oe,0)}getId(){return`${_e.AnnotationEditorPrefix}${th(this,Oe)._++}`}}Oe=new WeakMap;const ir=class ir{constructor(){Vn(this,Ve);Vn(this,je,(0,_e.getUuid)());Vn(this,Ke,0);Vn(this,ze,null)}static get _isSVGFittingCanvas(){const Lr='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Pr=new OffscreenCanvas(1,3).getContext("2d"),Yr=new Image;Yr.src=Lr;const En=Yr.decode().then(()=>(Pr.drawImage(Yr,0,0,1,1,0,0,1,3),new Uint32Array(Pr.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,_e.shadow)(this,"_isSVGFittingCanvas",En)}async getFromFile(Lr){const{lastModified:un,name:Pr,size:Yr,type:En}=Lr;return Bn(this,Ve,Uf).call(this,`${un}_${Pr}_${Yr}_${En}`,Lr)}async getFromUrl(Lr){return Bn(this,Ve,Uf).call(this,Lr,Lr)}async getFromId(Lr){yr(this,ze)||Hn(this,ze,new Map);const un=yr(this,ze).get(Lr);return un?un.bitmap?(un.refCounter+=1,un):un.file?this.getFromFile(un.file):this.getFromUrl(un.url):null}getSvgUrl(Lr){const un=yr(this,ze).get(Lr);return un!=null&&un.isSvg?un.svgUrl:null}deleteId(Lr){yr(this,ze)||Hn(this,ze,new Map);const un=yr(this,ze).get(Lr);un&&(un.refCounter-=1,un.refCounter===0&&(un.bitmap=null))}isValidId(Lr){return Lr.startsWith(`image_${yr(this,je)}_`)}};je=new WeakMap,Ke=new WeakMap,ze=new WeakMap,Ve=new WeakSet,Uf=async function(Lr,un){yr(this,ze)||Hn(this,ze,new Map);let Pr=yr(this,ze).get(Lr);if(Pr===null)return null;if(Pr!=null&&Pr.bitmap)return Pr.refCounter+=1,Pr;try{Pr||(Pr={bitmap:null,id:`image_${yr(this,je)}_${th(this,Ke)._++}`,refCounter:0,isSvg:!1});let Yr;if(typeof un=="string"){Pr.url=un;const En=await fetch(un);if(!En.ok)throw new Error(En.statusText);Yr=await En.blob()}else Yr=Pr.file=un;if(Yr.type==="image/svg+xml"){const En=ir._isSVGFittingCanvas,Zn=new FileReader,Vr=new Image,Mr=new Promise((gn,wn)=>{Vr.onload=()=>{Pr.bitmap=Vr,Pr.isSvg=!0,gn()},Zn.onload=async()=>{const Rn=Pr.svgUrl=Zn.result;Vr.src=await En?`${Rn}#svgView(preserveAspectRatio(none))`:Rn},Vr.onerror=Zn.onerror=wn});Zn.readAsDataURL(Yr),await Mr}else Pr.bitmap=await createImageBitmap(Yr);Pr.refCounter=1}catch(Yr){console.error(Yr),Pr=null}return yr(this,ze).set(Lr,Pr),Pr&&yr(this,ze).set(Pr.id,Pr),Pr};let Be=ir;class Fe{constructor(Lr=128){Vn(this,sr,[]);Vn(this,rr,!1);Vn(this,nr);Vn(this,We,-1);Hn(this,nr,Lr)}add({cmd:Lr,undo:un,mustExec:Pr,type:Yr=NaN,overwriteIfSameType:En=!1,keepUndo:Zn=!1}){if(Pr&&Lr(),yr(this,rr))return;const Vr={cmd:Lr,undo:un,type:Yr};if(yr(this,We)===-1){yr(this,sr).length>0&&(yr(this,sr).length=0),Hn(this,We,0),yr(this,sr).push(Vr);return}if(En&&yr(this,sr)[yr(this,We)].type===Yr){Zn&&(Vr.undo=yr(this,sr)[yr(this,We)].undo),yr(this,sr)[yr(this,We)]=Vr;return}const Mr=yr(this,We)+1;Mr===yr(this,nr)?yr(this,sr).splice(0,1):(Hn(this,We,Mr),Mr<yr(this,sr).length&&yr(this,sr).splice(Mr)),yr(this,sr).push(Vr)}undo(){yr(this,We)!==-1&&(Hn(this,rr,!0),yr(this,sr)[yr(this,We)].undo(),Hn(this,rr,!1),Hn(this,We,yr(this,We)-1))}redo(){yr(this,We)<yr(this,sr).length-1&&(Hn(this,We,yr(this,We)+1),Hn(this,rr,!0),yr(this,sr)[yr(this,We)].cmd(),Hn(this,rr,!1))}hasSomethingToUndo(){return yr(this,We)!==-1}hasSomethingToRedo(){return yr(this,We)<yr(this,sr).length-1}destroy(){Hn(this,sr,null)}}sr=new WeakMap,rr=new WeakMap,nr=new WeakMap,We=new WeakMap,t.CommandManager=Fe;class Ie{constructor(Lr){Vn(this,Ge);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:un}=_e.FeatureTest.platform;for(const[Pr,Yr,En={}]of Lr)for(const Zn of Pr){const Vr=Zn.startsWith("mac+");un&&Vr?(this.callbacks.set(Zn.slice(4),{callback:Yr,options:En}),this.allKeys.add(Zn.split("+").at(-1))):!un&&!Vr&&(this.callbacks.set(Zn,{callback:Yr,options:En}),this.allKeys.add(Zn.split("+").at(-1)))}}exec(Lr,un){if(!this.allKeys.has(un.key))return;const Pr=this.callbacks.get(Bn(this,Ge,um).call(this,un));if(!Pr)return;const{callback:Yr,options:{bubbles:En=!1,args:Zn=[],checker:Vr=null}}=Pr;Vr&&!Vr(Lr,un)||(Yr.bind(Lr,...Zn)(),En||(un.stopPropagation(),un.preventDefault()))}}Ge=new WeakSet,um=function(Lr){Lr.altKey&&this.buffer.push("alt"),Lr.ctrlKey&&this.buffer.push("ctrl"),Lr.metaKey&&this.buffer.push("meta"),Lr.shiftKey&&this.buffer.push("shift"),this.buffer.push(Lr.key);const un=this.buffer.join("+");return this.buffer.length=0,un},t.KeyboardManager=Ie;const or=class or{get _colors(){const Lr=new Map([["CanvasText",null],["Canvas",null]]);return(0,xe.getColorValues)(Lr),(0,_e.shadow)(this,"_colors",Lr)}convert(Lr){const un=(0,xe.getRGB)(Lr);if(!window.matchMedia("(forced-colors: active)").matches)return un;for(const[Pr,Yr]of this._colors)if(Yr.every((En,Zn)=>En===un[Zn]))return or._colorsMapping.get(Pr);return un}getHexCode(Lr){const un=this._colors.get(Lr);return un?_e.Util.makeHexColor(...un):Lr}};ys(or,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Ue=or;t.ColorManager=Ue;const vi=class vi{constructor(Lr,un,Pr,Yr,En,Zn){Vn(this,yn);Vn(this,He,null);Vn(this,Je,new Map);Vn(this,$e,new Map);Vn(this,mr,null);Vn(this,wr,null);Vn(this,vr,new Fe);Vn(this,ur,0);Vn(this,Cr,new Set);Vn(this,_r,null);Vn(this,hr,null);Vn(this,Sr,new Set);Vn(this,ar,null);Vn(this,tr,new Re);Vn(this,lr,!1);Vn(this,pr,!1);Vn(this,Er,null);Vn(this,Rr,_e.AnnotationEditorType.NONE);Vn(this,Tr,new Set);Vn(this,Ir,null);Vn(this,Zr,this.blur.bind(this));Vn(this,zr,this.focus.bind(this));Vn(this,$r,this.copy.bind(this));Vn(this,vn,this.cut.bind(this));Vn(this,bn,this.paste.bind(this));Vn(this,An,this.keydown.bind(this));Vn(this,Fr,this.onEditingAction.bind(this));Vn(this,dn,this.onPageChanging.bind(this));Vn(this,Dr,this.onScaleChanging.bind(this));Vn(this,jr,this.onRotationChanging.bind(this));Vn(this,hn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Vn(this,pn,[0,0]);Vn(this,xn,null);Vn(this,Dn,null);Vn(this,On,null);Hn(this,Dn,Lr),Hn(this,On,un),Hn(this,mr,Pr),this._eventBus=Yr,this._eventBus._on("editingaction",yr(this,Fr)),this._eventBus._on("pagechanging",yr(this,dn)),this._eventBus._on("scalechanging",yr(this,Dr)),this._eventBus._on("rotationchanging",yr(this,jr)),Hn(this,wr,En.annotationStorage),Hn(this,ar,En.filterFactory),Hn(this,Ir,Zn),this.viewParameters={realScale:xe.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Lr=vi.prototype,un=En=>{const{activeElement:Zn}=document;return Zn&&yr(En,Dn).contains(Zn)&&En.hasSomethingToControl()},Pr=this.TRANSLATE_SMALL,Yr=this.TRANSLATE_BIG;return(0,_e.shadow)(this,"_keyboardManager",new Ie([[["ctrl+a","mac+meta+a"],Lr.selectAll],[["ctrl+z","mac+meta+z"],Lr.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Lr.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Lr.delete],[["Escape","mac+Escape"],Lr.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Lr.translateSelectedEditors,{args:[-Pr,0],checker:un}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Lr.translateSelectedEditors,{args:[-Yr,0],checker:un}],[["ArrowRight","mac+ArrowRight"],Lr.translateSelectedEditors,{args:[Pr,0],checker:un}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Lr.translateSelectedEditors,{args:[Yr,0],checker:un}],[["ArrowUp","mac+ArrowUp"],Lr.translateSelectedEditors,{args:[0,-Pr],checker:un}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Lr.translateSelectedEditors,{args:[0,-Yr],checker:un}],[["ArrowDown","mac+ArrowDown"],Lr.translateSelectedEditors,{args:[0,Pr],checker:un}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Lr.translateSelectedEditors,{args:[0,Yr],checker:un}]]))}destroy(){Bn(this,yn,Ad).call(this),Bn(this,yn,Lf).call(this),this._eventBus._off("editingaction",yr(this,Fr)),this._eventBus._off("pagechanging",yr(this,dn)),this._eventBus._off("scalechanging",yr(this,Dr)),this._eventBus._off("rotationchanging",yr(this,jr));for(const Lr of yr(this,$e).values())Lr.destroy();yr(this,$e).clear(),yr(this,Je).clear(),yr(this,Sr).clear(),Hn(this,He,null),yr(this,Tr).clear(),yr(this,vr).destroy(),yr(this,mr).destroy()}get hcmFilter(){return(0,_e.shadow)(this,"hcmFilter",yr(this,Ir)?yr(this,ar).addHCMFilter(yr(this,Ir).foreground,yr(this,Ir).background):"none")}get direction(){return(0,_e.shadow)(this,"direction",getComputedStyle(yr(this,Dn)).direction)}editAltText(Lr){var un;(un=yr(this,mr))==null||un.editAltText(this,Lr)}onPageChanging({pageNumber:Lr}){Hn(this,ur,Lr-1)}focusMainContainer(){yr(this,Dn).focus()}findParent(Lr,un){for(const Pr of yr(this,$e).values()){const{x:Yr,y:En,width:Zn,height:Vr}=Pr.div.getBoundingClientRect();if(Lr>=Yr&&Lr<=Yr+Zn&&un>=En&&un<=En+Vr)return Pr}return null}disableUserSelect(Lr=!1){yr(this,On).classList.toggle("noUserSelect",Lr)}addShouldRescale(Lr){yr(this,Sr).add(Lr)}removeShouldRescale(Lr){yr(this,Sr).delete(Lr)}onScaleChanging({scale:Lr}){this.commitOrRemove(),this.viewParameters.realScale=Lr*xe.PixelsPerInch.PDF_TO_CSS_UNITS;for(const un of yr(this,Sr))un.onScaleChanging()}onRotationChanging({pagesRotation:Lr}){this.commitOrRemove(),this.viewParameters.rotation=Lr}addToAnnotationStorage(Lr){!Lr.isEmpty()&&yr(this,wr)&&!yr(this,wr).has(Lr.id)&&yr(this,wr).setValue(Lr.id,Lr)}blur(){if(!this.hasSelection)return;const{activeElement:Lr}=document;for(const un of yr(this,Tr))if(un.div.contains(Lr)){Hn(this,Er,[un,Lr]),un._focusEventsAllowed=!1;break}}focus(){if(!yr(this,Er))return;const[Lr,un]=yr(this,Er);Hn(this,Er,null),un.addEventListener("focusin",()=>{Lr._focusEventsAllowed=!0},{once:!0}),un.focus()}addEditListeners(){Bn(this,yn,Of).call(this),Bn(this,yn,kf).call(this)}removeEditListeners(){Bn(this,yn,Ad).call(this),Bn(this,yn,Mf).call(this)}copy(Lr){var Pr;if(Lr.preventDefault(),(Pr=yr(this,He))==null||Pr.commitOrRemove(),!this.hasSelection)return;const un=[];for(const Yr of yr(this,Tr)){const En=Yr.serialize(!0);En&&un.push(En)}un.length!==0&&Lr.clipboardData.setData("application/pdfjs",JSON.stringify(un))}cut(Lr){this.copy(Lr),this.delete()}paste(Lr){Lr.preventDefault();const{clipboardData:un}=Lr;for(const En of un.items)for(const Zn of yr(this,hr))if(Zn.isHandlingMimeForPasting(En.type)){Zn.paste(En,this.currentLayer);return}let Pr=un.getData("application/pdfjs");if(!Pr)return;try{Pr=JSON.parse(Pr)}catch(En){(0,_e.warn)(`paste: "${En.message}".`);return}if(!Array.isArray(Pr))return;this.unselectAll();const Yr=this.currentLayer;try{const En=[];for(const Mr of Pr){const gn=Yr.deserialize(Mr);if(!gn)return;En.push(gn)}const Zn=()=>{for(const Mr of En)Bn(this,yn,jf).call(this,Mr);Bn(this,yn,Vf).call(this,En)},Vr=()=>{for(const Mr of En)Mr.remove()};this.addCommands({cmd:Zn,undo:Vr,mustExec:!0})}catch(En){(0,_e.warn)(`paste: "${En.message}".`)}}keydown(Lr){var un;(un=this.getActive())!=null&&un.shouldGetKeyboardEvents()||vi._keyboardManager.exec(this,Lr)}onEditingAction(Lr){["undo","redo","delete","selectAll"].includes(Lr.name)&&this[Lr.name]()}setEditingState(Lr){Lr?(Bn(this,yn,hm).call(this),Bn(this,yn,Of).call(this),Bn(this,yn,kf).call(this),Bn(this,yn,zo).call(this,{isEditing:yr(this,Rr)!==_e.AnnotationEditorType.NONE,isEmpty:Bn(this,yn,nh).call(this),hasSomethingToUndo:yr(this,vr).hasSomethingToUndo(),hasSomethingToRedo:yr(this,vr).hasSomethingToRedo(),hasSelectedEditor:!1})):(Bn(this,yn,Lf).call(this),Bn(this,yn,Ad).call(this),Bn(this,yn,Mf).call(this),Bn(this,yn,zo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Lr){if(!yr(this,hr)){Hn(this,hr,Lr);for(const un of yr(this,hr))Bn(this,yn,rh).call(this,un.defaultPropertiesToUpdate)}}getId(){return yr(this,tr).getId()}get currentLayer(){return yr(this,$e).get(yr(this,ur))}getLayer(Lr){return yr(this,$e).get(Lr)}get currentPageIndex(){return yr(this,ur)}addLayer(Lr){yr(this,$e).set(Lr.pageIndex,Lr),yr(this,lr)?Lr.enable():Lr.disable()}removeLayer(Lr){yr(this,$e).delete(Lr.pageIndex)}updateMode(Lr,un=null){if(yr(this,Rr)!==Lr){if(Hn(this,Rr,Lr),Lr===_e.AnnotationEditorType.NONE){this.setEditingState(!1),Bn(this,yn,fm).call(this);return}this.setEditingState(!0),Bn(this,yn,dm).call(this),this.unselectAll();for(const Pr of yr(this,$e).values())Pr.updateMode(Lr);if(un){for(const Pr of yr(this,Je).values())if(Pr.annotationElementId===un){this.setSelected(Pr),Pr.enterInEditMode();break}}}}updateToolbar(Lr){Lr!==yr(this,Rr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Lr})}updateParams(Lr,un){if(yr(this,hr)){if(Lr===_e.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Lr);return}for(const Pr of yr(this,Tr))Pr.updateParams(Lr,un);for(const Pr of yr(this,hr))Pr.updateDefaultParams(Lr,un)}}enableWaiting(Lr=!1){if(yr(this,pr)!==Lr){Hn(this,pr,Lr);for(const un of yr(this,$e).values())Lr?un.disableClick():un.enableClick(),un.div.classList.toggle("waiting",Lr)}}getEditors(Lr){const un=[];for(const Pr of yr(this,Je).values())Pr.pageIndex===Lr&&un.push(Pr);return un}getEditor(Lr){return yr(this,Je).get(Lr)}addEditor(Lr){yr(this,Je).set(Lr.id,Lr)}removeEditor(Lr){var un;yr(this,Je).delete(Lr.id),this.unselect(Lr),(!Lr.annotationElementId||!yr(this,Cr).has(Lr.annotationElementId))&&((un=yr(this,wr))==null||un.remove(Lr.id))}addDeletedAnnotationElement(Lr){yr(this,Cr).add(Lr.annotationElementId),Lr.deleted=!0}isDeletedAnnotationElement(Lr){return yr(this,Cr).has(Lr)}removeDeletedAnnotationElement(Lr){yr(this,Cr).delete(Lr.annotationElementId),Lr.deleted=!1}setActiveEditor(Lr){yr(this,He)!==Lr&&(Hn(this,He,Lr),Lr&&Bn(this,yn,rh).call(this,Lr.propertiesToUpdate))}toggleSelected(Lr){if(yr(this,Tr).has(Lr)){yr(this,Tr).delete(Lr),Lr.unselect(),Bn(this,yn,zo).call(this,{hasSelectedEditor:this.hasSelection});return}yr(this,Tr).add(Lr),Lr.select(),Bn(this,yn,rh).call(this,Lr.propertiesToUpdate),Bn(this,yn,zo).call(this,{hasSelectedEditor:!0})}setSelected(Lr){for(const un of yr(this,Tr))un!==Lr&&un.unselect();yr(this,Tr).clear(),yr(this,Tr).add(Lr),Lr.select(),Bn(this,yn,rh).call(this,Lr.propertiesToUpdate),Bn(this,yn,zo).call(this,{hasSelectedEditor:!0})}isSelected(Lr){return yr(this,Tr).has(Lr)}unselect(Lr){Lr.unselect(),yr(this,Tr).delete(Lr),Bn(this,yn,zo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return yr(this,Tr).size!==0}undo(){yr(this,vr).undo(),Bn(this,yn,zo).call(this,{hasSomethingToUndo:yr(this,vr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Bn(this,yn,nh).call(this)})}redo(){yr(this,vr).redo(),Bn(this,yn,zo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:yr(this,vr).hasSomethingToRedo(),isEmpty:Bn(this,yn,nh).call(this)})}addCommands(Lr){yr(this,vr).add(Lr),Bn(this,yn,zo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Bn(this,yn,nh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Lr=[...yr(this,Tr)],un=()=>{for(const Yr of Lr)Yr.remove()},Pr=()=>{for(const Yr of Lr)Bn(this,yn,jf).call(this,Yr)};this.addCommands({cmd:un,undo:Pr,mustExec:!0})}commitOrRemove(){var Lr;(Lr=yr(this,He))==null||Lr.commitOrRemove()}hasSomethingToControl(){return yr(this,He)||this.hasSelection}selectAll(){for(const Lr of yr(this,Tr))Lr.commit();Bn(this,yn,Vf).call(this,yr(this,Je).values())}unselectAll(){if(yr(this,He)){yr(this,He).commitOrRemove();return}if(this.hasSelection){for(const Lr of yr(this,Tr))Lr.unselect();yr(this,Tr).clear(),Bn(this,yn,zo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Lr,un,Pr=!1){if(Pr||this.commitOrRemove(),!this.hasSelection)return;yr(this,pn)[0]+=Lr,yr(this,pn)[1]+=un;const[Yr,En]=yr(this,pn),Zn=[...yr(this,Tr)],Vr=1e3;yr(this,xn)&&clearTimeout(yr(this,xn)),Hn(this,xn,setTimeout(()=>{Hn(this,xn,null),yr(this,pn)[0]=yr(this,pn)[1]=0,this.addCommands({cmd:()=>{for(const Mr of Zn)yr(this,Je).has(Mr.id)&&Mr.translateInPage(Yr,En)},undo:()=>{for(const Mr of Zn)yr(this,Je).has(Mr.id)&&Mr.translateInPage(-Yr,-En)},mustExec:!1})},Vr));for(const Mr of Zn)Mr.translateInPage(Lr,un)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Hn(this,_r,new Map);for(const Lr of yr(this,Tr))yr(this,_r).set(Lr,{savedX:Lr.x,savedY:Lr.y,savedPageIndex:Lr.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!yr(this,_r))return!1;this.disableUserSelect(!1);const Lr=yr(this,_r);Hn(this,_r,null);let un=!1;for(const[{x:Yr,y:En,pageIndex:Zn},Vr]of Lr)Vr.newX=Yr,Vr.newY=En,Vr.newPageIndex=Zn,un||(un=Yr!==Vr.savedX||En!==Vr.savedY||Zn!==Vr.savedPageIndex);if(!un)return!1;const Pr=(Yr,En,Zn,Vr)=>{if(yr(this,Je).has(Yr.id)){const Mr=yr(this,$e).get(Vr);Mr?Yr._setParentAndPosition(Mr,En,Zn):(Yr.pageIndex=Vr,Yr.x=En,Yr.y=Zn)}};return this.addCommands({cmd:()=>{for(const[Yr,{newX:En,newY:Zn,newPageIndex:Vr}]of Lr)Pr(Yr,En,Zn,Vr)},undo:()=>{for(const[Yr,{savedX:En,savedY:Zn,savedPageIndex:Vr}]of Lr)Pr(Yr,En,Zn,Vr)},mustExec:!0}),!0}dragSelectedEditors(Lr,un){if(yr(this,_r))for(const Pr of yr(this,_r).keys())Pr.drag(Lr,un)}rebuild(Lr){if(Lr.parent===null){const un=this.getLayer(Lr.pageIndex);un?(un.changeParent(Lr),un.addOrRebuild(Lr)):(this.addEditor(Lr),this.addToAnnotationStorage(Lr),Lr.rebuild())}else Lr.parent.addOrRebuild(Lr)}isActive(Lr){return yr(this,He)===Lr}getActive(){return yr(this,He)}getMode(){return yr(this,Rr)}get imageManager(){return(0,_e.shadow)(this,"imageManager",new Be)}};He=new WeakMap,Je=new WeakMap,$e=new WeakMap,mr=new WeakMap,wr=new WeakMap,vr=new WeakMap,ur=new WeakMap,Cr=new WeakMap,_r=new WeakMap,hr=new WeakMap,Sr=new WeakMap,ar=new WeakMap,tr=new WeakMap,lr=new WeakMap,pr=new WeakMap,Er=new WeakMap,Rr=new WeakMap,Tr=new WeakMap,Ir=new WeakMap,Zr=new WeakMap,zr=new WeakMap,$r=new WeakMap,vn=new WeakMap,bn=new WeakMap,An=new WeakMap,Fr=new WeakMap,dn=new WeakMap,Dr=new WeakMap,jr=new WeakMap,hn=new WeakMap,pn=new WeakMap,xn=new WeakMap,Dn=new WeakMap,On=new WeakMap,yn=new WeakSet,hm=function(){window.addEventListener("focus",yr(this,zr)),window.addEventListener("blur",yr(this,Zr))},Lf=function(){window.removeEventListener("focus",yr(this,zr)),window.removeEventListener("blur",yr(this,Zr))},Of=function(){window.addEventListener("keydown",yr(this,An),{capture:!0})},Ad=function(){window.removeEventListener("keydown",yr(this,An),{capture:!0})},kf=function(){document.addEventListener("copy",yr(this,$r)),document.addEventListener("cut",yr(this,vn)),document.addEventListener("paste",yr(this,bn))},Mf=function(){document.removeEventListener("copy",yr(this,$r)),document.removeEventListener("cut",yr(this,vn)),document.removeEventListener("paste",yr(this,bn))},zo=function(Lr){Object.entries(Lr).some(([Pr,Yr])=>yr(this,hn)[Pr]!==Yr)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(yr(this,hn),Lr)})},rh=function(Lr){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Lr})},dm=function(){if(!yr(this,lr)){Hn(this,lr,!0);for(const Lr of yr(this,$e).values())Lr.enable()}},fm=function(){if(this.unselectAll(),yr(this,lr)){Hn(this,lr,!1);for(const Lr of yr(this,$e).values())Lr.disable()}},jf=function(Lr){const un=yr(this,$e).get(Lr.pageIndex);un?un.addOrRebuild(Lr):this.addEditor(Lr)},nh=function(){if(yr(this,Je).size===0)return!0;if(yr(this,Je).size===1)for(const Lr of yr(this,Je).values())return Lr.isEmpty();return!1},Vf=function(Lr){yr(this,Tr).clear();for(const un of Lr)un.isEmpty()||(yr(this,Tr).add(un),un.select());Bn(this,yn,zo).call(this,{hasSelectedEditor:!0})},ys(vi,"TRANSLATE_SMALL",1),ys(vi,"TRANSLATE_BIG",10);let ke=vi;t.AnnotationEditorUIManager=ke},(Ee,t,Ae)=>{var ur,Cr,_r,hr,Sr,ar,tr,lr,pr,Er,Rr,Tr,du,fu,Qf,cd,ud,ih,sh;Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0,t.deprecated=We,t.getColorValues=Je,t.getCurrentTransform=$e,t.getCurrentTransformInverse=mr,t.getFilenameFromUrl=Ve,t.getPdfFilenameFromUrl=Xe,t.getRGB=He,t.getXfaPageViewport=or,t.isDataScheme=Ke,t.isPdfFile=ze,t.isValidFetchUrl=sr,t.loadScript=nr,t.noContextMenu=rr,t.setLayerDimensions=wr;var _e=Ae(7),xe=Ae(1);const Ce="http://www.w3.org/2000/svg",vr=class vr{};ys(vr,"CSS",96),ys(vr,"PDF",72),ys(vr,"PDF_TO_CSS_UNITS",vr.CSS/vr.PDF);let Se=vr;t.PixelsPerInch=Se;class Re extends _e.BaseFilterFactory{constructor({docId:Dr,ownerDocument:jr=globalThis.document}={}){super();Vn(this,Tr);Vn(this,ur);Vn(this,Cr);Vn(this,_r);Vn(this,hr);Vn(this,Sr);Vn(this,ar);Vn(this,tr);Vn(this,lr);Vn(this,pr);Vn(this,Er);Vn(this,Rr,0);Hn(this,_r,Dr),Hn(this,hr,jr)}addFilter(Dr){if(!Dr)return"none";let jr=yr(this,Tr,du).get(Dr);if(jr)return jr;let hn,pn,xn,Dn;if(Dr.length===1){const Qn=Dr[0],di=new Array(256);for(let ni=0;ni<256;ni++)di[ni]=Qn[ni]/255;Dn=hn=pn=xn=di.join(",")}else{const[Qn,di,ni]=Dr,wi=new Array(256),Nr=new Array(256),In=new Array(256);for(let Kn=0;Kn<256;Kn++)wi[Kn]=Qn[Kn]/255,Nr[Kn]=di[Kn]/255,In[Kn]=ni[Kn]/255;hn=wi.join(","),pn=Nr.join(","),xn=In.join(","),Dn=`${hn}${pn}${xn}`}if(jr=yr(this,Tr,du).get(Dn),jr)return yr(this,Tr,du).set(Dr,jr),jr;const On=`g_${yr(this,_r)}_transfer_map_${th(this,Rr)._++}`,yn=`url(#${On})`;yr(this,Tr,du).set(Dr,yn),yr(this,Tr,du).set(Dn,yn);const Gn=Bn(this,Tr,cd).call(this,On);return Bn(this,Tr,ih).call(this,hn,pn,xn,Gn),yn}addHCMFilter(Dr,jr){var di;const hn=`${Dr}-${jr}`;if(yr(this,ar)===hn)return yr(this,tr);if(Hn(this,ar,hn),Hn(this,tr,"none"),(di=yr(this,Sr))==null||di.remove(),!Dr||!jr)return yr(this,tr);const pn=Bn(this,Tr,sh).call(this,Dr);Dr=xe.Util.makeHexColor(...pn);const xn=Bn(this,Tr,sh).call(this,jr);if(jr=xe.Util.makeHexColor(...xn),yr(this,Tr,fu).style.color="",Dr==="#000000"&&jr==="#ffffff"||Dr===jr)return yr(this,tr);const Dn=new Array(256);for(let ni=0;ni<=255;ni++){const wi=ni/255;Dn[ni]=wi<=.03928?wi/12.92:((wi+.055)/1.055)**2.4}const On=Dn.join(","),yn=`g_${yr(this,_r)}_hcm_filter`,Gn=Hn(this,lr,Bn(this,Tr,cd).call(this,yn));Bn(this,Tr,ih).call(this,On,On,On,Gn),Bn(this,Tr,Qf).call(this,Gn);const Qn=(ni,wi)=>{const Nr=pn[ni]/255,In=xn[ni]/255,Kn=new Array(wi+1);for(let si=0;si<=wi;si++)Kn[si]=Nr+si/wi*(In-Nr);return Kn.join(",")};return Bn(this,Tr,ih).call(this,Qn(0,5),Qn(1,5),Qn(2,5),Gn),Hn(this,tr,`url(#${yn})`),yr(this,tr)}addHighlightHCMFilter(Dr,jr,hn,pn){var In;const xn=`${Dr}-${jr}-${hn}-${pn}`;if(yr(this,pr)===xn)return yr(this,Er);if(Hn(this,pr,xn),Hn(this,Er,"none"),(In=yr(this,lr))==null||In.remove(),!Dr||!jr)return yr(this,Er);const[Dn,On]=[Dr,jr].map(Bn(this,Tr,sh).bind(this));let yn=Math.round(.2126*Dn[0]+.7152*Dn[1]+.0722*Dn[2]),Gn=Math.round(.2126*On[0]+.7152*On[1]+.0722*On[2]),[Qn,di]=[hn,pn].map(Bn(this,Tr,sh).bind(this));Gn<yn&&([yn,Gn,Qn,di]=[Gn,yn,di,Qn]),yr(this,Tr,fu).style.color="";const ni=(Kn,si,Kr)=>{const Xr=new Array(256),br=(Gn-yn)/Kr,Sn=Kn/255,vi=(si-Kn)/(255*Kr);let fr=0;for(let Lr=0;Lr<=Kr;Lr++){const un=Math.round(yn+Lr*br),Pr=Sn+Lr*vi;for(let Yr=fr;Yr<=un;Yr++)Xr[Yr]=Pr;fr=un+1}for(let Lr=fr;Lr<256;Lr++)Xr[Lr]=Xr[fr-1];return Xr.join(",")},wi=`g_${yr(this,_r)}_hcm_highlight_filter`,Nr=Hn(this,lr,Bn(this,Tr,cd).call(this,wi));return Bn(this,Tr,Qf).call(this,Nr),Bn(this,Tr,ih).call(this,ni(Qn[0],di[0],5),ni(Qn[1],di[1],5),ni(Qn[2],di[2],5),Nr),Hn(this,Er,`url(#${wi})`),yr(this,Er)}destroy(Dr=!1){Dr&&(yr(this,tr)||yr(this,Er))||(yr(this,Cr)&&(yr(this,Cr).parentNode.parentNode.remove(),Hn(this,Cr,null)),yr(this,ur)&&(yr(this,ur).clear(),Hn(this,ur,null)),Hn(this,Rr,0))}}ur=new WeakMap,Cr=new WeakMap,_r=new WeakMap,hr=new WeakMap,Sr=new WeakMap,ar=new WeakMap,tr=new WeakMap,lr=new WeakMap,pr=new WeakMap,Er=new WeakMap,Rr=new WeakMap,Tr=new WeakSet,du=function(){return yr(this,ur)||Hn(this,ur,new Map)},fu=function(){if(!yr(this,Cr)){const Dr=yr(this,hr).createElement("div"),{style:jr}=Dr;jr.visibility="hidden",jr.contain="strict",jr.width=jr.height=0,jr.position="absolute",jr.top=jr.left=0,jr.zIndex=-1;const hn=yr(this,hr).createElementNS(Ce,"svg");hn.setAttribute("width",0),hn.setAttribute("height",0),Hn(this,Cr,yr(this,hr).createElementNS(Ce,"defs")),Dr.append(hn),hn.append(yr(this,Cr)),yr(this,hr).body.append(Dr)}return yr(this,Cr)},Qf=function(Dr){const jr=yr(this,hr).createElementNS(Ce,"feColorMatrix");jr.setAttribute("type","matrix"),jr.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Dr.append(jr)},cd=function(Dr){const jr=yr(this,hr).createElementNS(Ce,"filter");return jr.setAttribute("color-interpolation-filters","sRGB"),jr.setAttribute("id",Dr),yr(this,Tr,fu).append(jr),jr},ud=function(Dr,jr,hn){const pn=yr(this,hr).createElementNS(Ce,jr);pn.setAttribute("type","discrete"),pn.setAttribute("tableValues",hn),Dr.append(pn)},ih=function(Dr,jr,hn,pn){const xn=yr(this,hr).createElementNS(Ce,"feComponentTransfer");pn.append(xn),Bn(this,Tr,ud).call(this,xn,"feFuncR",Dr),Bn(this,Tr,ud).call(this,xn,"feFuncG",jr),Bn(this,Tr,ud).call(this,xn,"feFuncB",hn)},sh=function(Dr){return yr(this,Tr,fu).style.color=Dr,He(getComputedStyle(yr(this,Tr,fu)).getPropertyValue("color"))},t.DOMFilterFactory=Re;class Be extends _e.BaseCanvasFactory{constructor({ownerDocument:dn=globalThis.document}={}){super(),this._document=dn}_createCanvas(dn,Dr){const jr=this._document.createElement("canvas");return jr.width=dn,jr.height=Dr,jr}}t.DOMCanvasFactory=Be;async function Fe(Fr,dn=!1){if(sr(Fr,document.baseURI)){const Dr=await fetch(Fr);if(!Dr.ok)throw new Error(Dr.statusText);return dn?new Uint8Array(await Dr.arrayBuffer()):(0,xe.stringToBytes)(await Dr.text())}return new Promise((Dr,jr)=>{const hn=new XMLHttpRequest;hn.open("GET",Fr,!0),dn&&(hn.responseType="arraybuffer"),hn.onreadystatechange=()=>{if(hn.readyState===XMLHttpRequest.DONE){if(hn.status===200||hn.status===0){let pn;if(dn&&hn.response?pn=new Uint8Array(hn.response):!dn&&hn.responseText&&(pn=(0,xe.stringToBytes)(hn.responseText)),pn){Dr(pn);return}}jr(new Error(hn.statusText))}},hn.send(null)})}class Ie extends _e.BaseCMapReaderFactory{_fetchData(dn,Dr){return Fe(dn,this.isCompressed).then(jr=>({cMapData:jr,compressionType:Dr}))}}t.DOMCMapReaderFactory=Ie;class Ue extends _e.BaseStandardFontDataFactory{_fetchData(dn){return Fe(dn,!0)}}t.DOMStandardFontDataFactory=Ue;class ke extends _e.BaseSVGFactory{_createSVG(dn){return document.createElementNS(Ce,dn)}}t.DOMSVGFactory=ke;class Oe{constructor({viewBox:dn,scale:Dr,rotation:jr,offsetX:hn=0,offsetY:pn=0,dontFlip:xn=!1}){this.viewBox=dn,this.scale=Dr,this.rotation=jr,this.offsetX=hn,this.offsetY=pn;const Dn=(dn[2]+dn[0])/2,On=(dn[3]+dn[1])/2;let yn,Gn,Qn,di;switch(jr%=360,jr<0&&(jr+=360),jr){case 180:yn=-1,Gn=0,Qn=0,di=1;break;case 90:yn=0,Gn=1,Qn=1,di=0;break;case 270:yn=0,Gn=-1,Qn=-1,di=0;break;case 0:yn=1,Gn=0,Qn=0,di=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}xn&&(Qn=-Qn,di=-di);let ni,wi,Nr,In;yn===0?(ni=Math.abs(On-dn[1])*Dr+hn,wi=Math.abs(Dn-dn[0])*Dr+pn,Nr=(dn[3]-dn[1])*Dr,In=(dn[2]-dn[0])*Dr):(ni=Math.abs(Dn-dn[0])*Dr+hn,wi=Math.abs(On-dn[1])*Dr+pn,Nr=(dn[2]-dn[0])*Dr,In=(dn[3]-dn[1])*Dr),this.transform=[yn*Dr,Gn*Dr,Qn*Dr,di*Dr,ni-yn*Dr*Dn-Qn*Dr*On,wi-Gn*Dr*Dn-di*Dr*On],this.width=Nr,this.height=In}get rawDims(){const{viewBox:dn}=this;return(0,xe.shadow)(this,"rawDims",{pageWidth:dn[2]-dn[0],pageHeight:dn[3]-dn[1],pageX:dn[0],pageY:dn[1]})}clone({scale:dn=this.scale,rotation:Dr=this.rotation,offsetX:jr=this.offsetX,offsetY:hn=this.offsetY,dontFlip:pn=!1}={}){return new Oe({viewBox:this.viewBox.slice(),scale:dn,rotation:Dr,offsetX:jr,offsetY:hn,dontFlip:pn})}convertToViewportPoint(dn,Dr){return xe.Util.applyTransform([dn,Dr],this.transform)}convertToViewportRectangle(dn){const Dr=xe.Util.applyTransform([dn[0],dn[1]],this.transform),jr=xe.Util.applyTransform([dn[2],dn[3]],this.transform);return[Dr[0],Dr[1],jr[0],jr[1]]}convertToPdfPoint(dn,Dr){return xe.Util.applyInverseTransform([dn,Dr],this.transform)}}t.PageViewport=Oe;class je extends xe.BaseException{constructor(dn,Dr=0){super(dn,"RenderingCancelledException"),this.extraDelay=Dr}}t.RenderingCancelledException=je;function Ke(Fr){const dn=Fr.length;let Dr=0;for(;Dr<dn&&Fr[Dr].trim()==="";)Dr++;return Fr.substring(Dr,Dr+5).toLowerCase()==="data:"}function ze(Fr){return typeof Fr=="string"&&/\.pdf$/i.test(Fr)}function Ve(Fr,dn=!1){return dn||([Fr]=Fr.split(/[#?]/,1)),Fr.substring(Fr.lastIndexOf("/")+1)}function Xe(Fr,dn="document.pdf"){if(typeof Fr!="string")return dn;if(Ke(Fr))return(0,xe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),dn;const Dr=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,jr=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,hn=Dr.exec(Fr);let pn=jr.exec(hn[1])||jr.exec(hn[2])||jr.exec(hn[3]);if(pn&&(pn=pn[0],pn.includes("%")))try{pn=jr.exec(decodeURIComponent(pn))[0]}catch{}return pn||dn}class ir{constructor(){ys(this,"started",Object.create(null));ys(this,"times",[])}time(dn){dn in this.started&&(0,xe.warn)(`Timer is already running for ${dn}`),this.started[dn]=Date.now()}timeEnd(dn){dn in this.started||(0,xe.warn)(`Timer has not been started for ${dn}`),this.times.push({name:dn,start:this.started[dn],end:Date.now()}),delete this.started[dn]}toString(){const dn=[];let Dr=0;for(const{name:jr}of this.times)Dr=Math.max(jr.length,Dr);for(const{name:jr,start:hn,end:pn}of this.times)dn.push(`${jr.padEnd(Dr)} ${pn-hn}ms
`);return dn.join("")}}t.StatTimer=ir;function sr(Fr,dn){try{const{protocol:Dr}=dn?new URL(Fr,dn):new URL(Fr);return Dr==="http:"||Dr==="https:"}catch{return!1}}function rr(Fr){Fr.preventDefault()}function nr(Fr,dn=!1){return new Promise((Dr,jr)=>{const hn=document.createElement("script");hn.src=Fr,hn.onload=function(pn){dn&&hn.remove(),Dr(pn)},hn.onerror=function(){jr(new Error(`Cannot load script at: ${hn.src}`))},(document.head||document.documentElement).append(hn)})}function We(Fr){console.log("Deprecated API usage: "+Fr)}let Ge;class Ze{static toDateObject(dn){if(!dn||typeof dn!="string")return null;Ge||(Ge=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Dr=Ge.exec(dn);if(!Dr)return null;const jr=parseInt(Dr[1],10);let hn=parseInt(Dr[2],10);hn=hn>=1&&hn<=12?hn-1:0;let pn=parseInt(Dr[3],10);pn=pn>=1&&pn<=31?pn:1;let xn=parseInt(Dr[4],10);xn=xn>=0&&xn<=23?xn:0;let Dn=parseInt(Dr[5],10);Dn=Dn>=0&&Dn<=59?Dn:0;let On=parseInt(Dr[6],10);On=On>=0&&On<=59?On:0;const yn=Dr[7]||"Z";let Gn=parseInt(Dr[8],10);Gn=Gn>=0&&Gn<=23?Gn:0;let Qn=parseInt(Dr[9],10)||0;return Qn=Qn>=0&&Qn<=59?Qn:0,yn==="-"?(xn+=Gn,Dn+=Qn):yn==="+"&&(xn-=Gn,Dn-=Qn),new Date(Date.UTC(jr,hn,pn,xn,Dn,On))}}t.PDFDateString=Ze;function or(Fr,{scale:dn=1,rotation:Dr=0}){const{width:jr,height:hn}=Fr.attributes.style,pn=[0,0,parseInt(jr),parseInt(hn)];return new Oe({viewBox:pn,scale:dn,rotation:Dr})}function He(Fr){if(Fr.startsWith("#")){const dn=parseInt(Fr.slice(1),16);return[(dn&16711680)>>16,(dn&65280)>>8,dn&255]}return Fr.startsWith("rgb(")?Fr.slice(4,-1).split(",").map(dn=>parseInt(dn)):Fr.startsWith("rgba(")?Fr.slice(5,-1).split(",").map(dn=>parseInt(dn)).slice(0,3):((0,xe.warn)(`Not a valid color format: "${Fr}"`),[0,0,0])}function Je(Fr){const dn=document.createElement("span");dn.style.visibility="hidden",document.body.append(dn);for(const Dr of Fr.keys()){dn.style.color=Dr;const jr=window.getComputedStyle(dn).color;Fr.set(Dr,He(jr))}dn.remove()}function $e(Fr){const{a:dn,b:Dr,c:jr,d:hn,e:pn,f:xn}=Fr.getTransform();return[dn,Dr,jr,hn,pn,xn]}function mr(Fr){const{a:dn,b:Dr,c:jr,d:hn,e:pn,f:xn}=Fr.getTransform().invertSelf();return[dn,Dr,jr,hn,pn,xn]}function wr(Fr,dn,Dr=!1,jr=!0){if(dn instanceof Oe){const{pageWidth:hn,pageHeight:pn}=dn.rawDims,{style:xn}=Fr,Dn=xe.FeatureTest.isCSSRoundSupported,On=`var(--scale-factor) * ${hn}px`,yn=`var(--scale-factor) * ${pn}px`,Gn=Dn?`round(${On}, 1px)`:`calc(${On})`,Qn=Dn?`round(${yn}, 1px)`:`calc(${yn})`;!Dr||dn.rotation%180===0?(xn.width=Gn,xn.height=Qn):(xn.width=Qn,xn.height=Gn)}jr&&Fr.setAttribute("data-main-rotation",dn.rotation)}},(Ee,t,Ae)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var _e=Ae(1);class xe{constructor(){this.constructor===xe&&(0,_e.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(Ie){return"none"}addHCMFilter(Ie,Ue){return"none"}addHighlightHCMFilter(Ie,Ue,ke,Oe){return"none"}destroy(Ie=!1){}}t.BaseFilterFactory=xe;class Ce{constructor(){this.constructor===Ce&&(0,_e.unreachable)("Cannot initialize BaseCanvasFactory.")}create(Ie,Ue){if(Ie<=0||Ue<=0)throw new Error("Invalid canvas size");const ke=this._createCanvas(Ie,Ue);return{canvas:ke,context:ke.getContext("2d")}}reset(Ie,Ue,ke){if(!Ie.canvas)throw new Error("Canvas is not specified");if(Ue<=0||ke<=0)throw new Error("Invalid canvas size");Ie.canvas.width=Ue,Ie.canvas.height=ke}destroy(Ie){if(!Ie.canvas)throw new Error("Canvas is not specified");Ie.canvas.width=0,Ie.canvas.height=0,Ie.canvas=null,Ie.context=null}_createCanvas(Ie,Ue){(0,_e.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=Ce;class Se{constructor({baseUrl:Ie=null,isCompressed:Ue=!0}){this.constructor===Se&&(0,_e.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=Ie,this.isCompressed=Ue}async fetch({name:Ie}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!Ie)throw new Error("CMap name must be specified.");const Ue=this.baseUrl+Ie+(this.isCompressed?".bcmap":""),ke=this.isCompressed?_e.CMapCompressionType.BINARY:_e.CMapCompressionType.NONE;return this._fetchData(Ue,ke).catch(Oe=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Ue}`)})}_fetchData(Ie,Ue){(0,_e.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=Se;class Re{constructor({baseUrl:Ie=null}){this.constructor===Re&&(0,_e.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=Ie}async fetch({filename:Ie}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!Ie)throw new Error("Font filename must be specified.");const Ue=`${this.baseUrl}${Ie}`;return this._fetchData(Ue).catch(ke=>{throw new Error(`Unable to load font data at: ${Ue}`)})}_fetchData(Ie){(0,_e.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=Re;class Be{constructor(){this.constructor===Be&&(0,_e.unreachable)("Cannot initialize BaseSVGFactory.")}create(Ie,Ue,ke=!1){if(Ie<=0||Ue<=0)throw new Error("Invalid SVG dimensions");const Oe=this._createSVG("svg:svg");return Oe.setAttribute("version","1.1"),ke||(Oe.setAttribute("width",`${Ie}px`),Oe.setAttribute("height",`${Ue}px`)),Oe.setAttribute("preserveAspectRatio","none"),Oe.setAttribute("viewBox",`0 0 ${Ie} ${Ue}`),Oe}createElement(Ie){if(typeof Ie!="string")throw new Error("Invalid SVG element type");return this._createSVG(Ie)}_createSVG(Ie){(0,_e.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=Be},(Ee,t,Ae)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var _e=Ae(1);const xe=3285377520,Ce=4294901760,Se=65535;class Re{constructor(Fe){this.h1=Fe?Fe&4294967295:xe,this.h2=Fe?Fe&4294967295:xe}update(Fe){let Ie,Ue;if(typeof Fe=="string"){Ie=new Uint8Array(Fe.length*2),Ue=0;for(let We=0,Ge=Fe.length;We<Ge;We++){const Ze=Fe.charCodeAt(We);Ze<=255?Ie[Ue++]=Ze:(Ie[Ue++]=Ze>>>8,Ie[Ue++]=Ze&255)}}else if((0,_e.isArrayBuffer)(Fe))Ie=Fe.slice(),Ue=Ie.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ke=Ue>>2,Oe=Ue-ke*4,je=new Uint32Array(Ie.buffer,0,ke);let Ke=0,ze=0,Ve=this.h1,Xe=this.h2;const ir=3432918353,sr=461845907,rr=ir&Se,nr=sr&Se;for(let We=0;We<ke;We++)We&1?(Ke=je[We],Ke=Ke*ir&Ce|Ke*rr&Se,Ke=Ke<<15|Ke>>>17,Ke=Ke*sr&Ce|Ke*nr&Se,Ve^=Ke,Ve=Ve<<13|Ve>>>19,Ve=Ve*5+3864292196):(ze=je[We],ze=ze*ir&Ce|ze*rr&Se,ze=ze<<15|ze>>>17,ze=ze*sr&Ce|ze*nr&Se,Xe^=ze,Xe=Xe<<13|Xe>>>19,Xe=Xe*5+3864292196);switch(Ke=0,Oe){case 3:Ke^=Ie[ke*4+2]<<16;case 2:Ke^=Ie[ke*4+1]<<8;case 1:Ke^=Ie[ke*4],Ke=Ke*ir&Ce|Ke*rr&Se,Ke=Ke<<15|Ke>>>17,Ke=Ke*sr&Ce|Ke*nr&Se,ke&1?Ve^=Ke:Xe^=Ke}this.h1=Ve,this.h2=Xe}hexdigest(){let Fe=this.h1,Ie=this.h2;return Fe^=Ie>>>1,Fe=Fe*3981806797&Ce|Fe*36045&Se,Ie=Ie*4283543511&Ce|((Ie<<16|Fe>>>16)*2950163797&Ce)>>>16,Fe^=Ie>>>1,Fe=Fe*444984403&Ce|Fe*60499&Se,Ie=Ie*3301882366&Ce|((Ie<<16|Fe>>>16)*3120437893&Ce)>>>16,Fe^=Ie>>>1,(Fe>>>0).toString(16).padStart(8,"0")+(Ie>>>0).toString(16).padStart(8,"0")}}t.MurmurHash3_64=Re},(Ee,t,Ae)=>{var Se;Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var _e=Ae(1);class xe{constructor({ownerDocument:Be=globalThis.document,styleElement:Fe=null}){Vn(this,Se,new Set);this._document=Be,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(Be){this.nativeFontFaces.add(Be),this._document.fonts.add(Be)}removeNativeFontFace(Be){this.nativeFontFaces.delete(Be),this._document.fonts.delete(Be)}insertRule(Be){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const Fe=this.styleElement.sheet;Fe.insertRule(Be,Fe.cssRules.length)}clear(){for(const Be of this.nativeFontFaces)this._document.fonts.delete(Be);this.nativeFontFaces.clear(),yr(this,Se).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(Be){if(!(!Be||yr(this,Se).has(Be.loadedName))){if((0,_e.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:Fe,src:Ie,style:Ue}=Be,ke=new FontFace(Fe,Ie,Ue);this.addNativeFontFace(ke);try{await ke.load(),yr(this,Se).add(Fe)}catch{(0,_e.warn)(`Cannot load system font: ${Be.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ke)}return}(0,_e.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(Be){if(Be.attached||Be.missingFile&&!Be.systemFontInfo)return;if(Be.attached=!0,Be.systemFontInfo){await this.loadSystemFont(Be.systemFontInfo);return}if(this.isFontLoadingAPISupported){const Ie=Be.createNativeFontFace();if(Ie){this.addNativeFontFace(Ie);try{await Ie.loaded}catch(Ue){throw(0,_e.warn)(`Failed to load font '${Ie.family}': '${Ue}'.`),Be.disableFontFace=!0,Ue}}return}const Fe=Be.createFontFaceRule();if(Fe){if(this.insertRule(Fe),this.isSyncFontLoadingSupported)return;await new Promise(Ie=>{const Ue=this._queueLoadingCallback(Ie);this._prepareFontLoadEvent(Be,Ue)})}}get isFontLoadingAPISupported(){var Fe;const Be=!!((Fe=this._document)!=null&&Fe.fonts);return(0,_e.shadow)(this,"isFontLoadingAPISupported",Be)}get isSyncFontLoadingSupported(){let Be=!1;return(_e.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(Be=!0),(0,_e.shadow)(this,"isSyncFontLoadingSupported",Be)}_queueLoadingCallback(Be){function Fe(){for((0,_e.assert)(!Ue.done,"completeRequest() cannot be called twice."),Ue.done=!0;Ie.length>0&&Ie[0].done;){const ke=Ie.shift();setTimeout(ke.callback,0)}}const{loadingRequests:Ie}=this,Ue={done:!1,complete:Fe,callback:Be};return Ie.push(Ue),Ue}get _loadTestFont(){const Be=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,_e.shadow)(this,"_loadTestFont",Be)}_prepareFontLoadEvent(Be,Fe){function Ie(He,Je){return He.charCodeAt(Je)<<24|He.charCodeAt(Je+1)<<16|He.charCodeAt(Je+2)<<8|He.charCodeAt(Je+3)&255}function Ue(He,Je,$e,mr){const wr=He.substring(0,Je),vr=He.substring(Je+$e);return wr+mr+vr}let ke,Oe;const je=this._document.createElement("canvas");je.width=1,je.height=1;const Ke=je.getContext("2d");let ze=0;function Ve(He,Je){if(++ze>30){(0,_e.warn)("Load test font never loaded."),Je();return}if(Ke.font="30px "+He,Ke.fillText(".",0,20),Ke.getImageData(0,0,1,1).data[3]>0){Je();return}setTimeout(Ve.bind(null,He,Je))}const Xe=`lt${Date.now()}${this.loadTestFontId++}`;let ir=this._loadTestFont;ir=Ue(ir,976,Xe.length,Xe);const rr=16,nr=1482184792;let We=Ie(ir,rr);for(ke=0,Oe=Xe.length-3;ke<Oe;ke+=4)We=We-nr+Ie(Xe,ke)|0;ke<Xe.length&&(We=We-nr+Ie(Xe+"XXX",ke)|0),ir=Ue(ir,rr,4,(0,_e.string32)(We));const Ge=`url(data:font/opentype;base64,${btoa(ir)});`,Ze=`@font-face {font-family:"${Xe}";src:${Ge}}`;this.insertRule(Ze);const or=this._document.createElement("div");or.style.visibility="hidden",or.style.width=or.style.height="10px",or.style.position="absolute",or.style.top=or.style.left="0px";for(const He of[Be.loadedName,Xe]){const Je=this._document.createElement("span");Je.textContent="Hi",Je.style.fontFamily=He,or.append(Je)}this._document.body.append(or),Ve(Xe,()=>{or.remove(),Fe.complete()})}}Se=new WeakMap,t.FontLoader=xe;class Ce{constructor(Be,{isEvalSupported:Fe=!0,disableFontFace:Ie=!1,ignoreErrors:Ue=!1,inspectFont:ke=null}){this.compiledGlyphs=Object.create(null);for(const Oe in Be)this[Oe]=Be[Oe];this.isEvalSupported=Fe!==!1,this.disableFontFace=Ie===!0,this.ignoreErrors=Ue===!0,this._inspectFont=ke}createNativeFontFace(){var Fe;if(!this.data||this.disableFontFace)return null;let Be;if(!this.cssFontInfo)Be=new FontFace(this.loadedName,this.data,{});else{const Ie={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(Ie.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Be=new FontFace(this.cssFontInfo.fontFamily,this.data,Ie)}return(Fe=this._inspectFont)==null||Fe.call(this,this),Be}createFontFaceRule(){var Ue;if(!this.data||this.disableFontFace)return null;const Be=(0,_e.bytesToString)(this.data),Fe=`url(data:${this.mimetype};base64,${btoa(Be)});`;let Ie;if(!this.cssFontInfo)Ie=`@font-face {font-family:"${this.loadedName}";src:${Fe}}`;else{let ke=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ke+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),Ie=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ke}src:${Fe}}`}return(Ue=this._inspectFont)==null||Ue.call(this,this,Fe),Ie}getPathGenerator(Be,Fe){if(this.compiledGlyphs[Fe]!==void 0)return this.compiledGlyphs[Fe];let Ie;try{Ie=Be.get(this.loadedName+"_path_"+Fe)}catch(Ue){if(!this.ignoreErrors)throw Ue;return(0,_e.warn)(`getPathGenerator - ignoring character: "${Ue}".`),this.compiledGlyphs[Fe]=function(ke,Oe){}}if(this.isEvalSupported&&_e.FeatureTest.isEvalSupported){const Ue=[];for(const ke of Ie){const Oe=ke.args!==void 0?ke.args.join(","):"";Ue.push("c.",ke.cmd,"(",Oe,`);
`)}return this.compiledGlyphs[Fe]=new Function("c","size",Ue.join(""))}return this.compiledGlyphs[Fe]=function(Ue,ke){for(const Oe of Ie)Oe.cmd==="scale"&&(Oe.args=[ke,-ke]),Ue[Oe.cmd].apply(Ue,Oe.args)}}}t.FontFaceObject=Ce},(Ee,t,Ae)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var _e=Ae(7);Ae(1);const xe=function(Fe){return new Promise((Ie,Ue)=>{require$$5.readFile(Fe,(Oe,je)=>{if(Oe||!je){Ue(new Error(Oe));return}Ie(new Uint8Array(je))})})};class Ce extends _e.BaseFilterFactory{}t.NodeFilterFactory=Ce;class Se extends _e.BaseCanvasFactory{_createCanvas(Ie,Ue){return require$$5.createCanvas(Ie,Ue)}}t.NodeCanvasFactory=Se;class Re extends _e.BaseCMapReaderFactory{_fetchData(Ie,Ue){return xe(Ie).then(ke=>({cMapData:ke,compressionType:Ue}))}}t.NodeCMapReaderFactory=Re;class Be extends _e.BaseStandardFontDataFactory{_fetchData(Ie){return xe(Ie)}}t.NodeStandardFontDataFactory=Be},(Ee,t,Ae)=>{var Cr,Hf,Kf;Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var _e=Ae(1),xe=Ae(6),Ce=Ae(12),Se=Ae(13);const Re=16,Be=100,Fe=4096,Ie=15,Ue=10,ke=1e3,Oe=16;function je(ar,tr){if(ar._removeMirroring)throw new Error("Context is already forwarding operations.");ar.__originalSave=ar.save,ar.__originalRestore=ar.restore,ar.__originalRotate=ar.rotate,ar.__originalScale=ar.scale,ar.__originalTranslate=ar.translate,ar.__originalTransform=ar.transform,ar.__originalSetTransform=ar.setTransform,ar.__originalResetTransform=ar.resetTransform,ar.__originalClip=ar.clip,ar.__originalMoveTo=ar.moveTo,ar.__originalLineTo=ar.lineTo,ar.__originalBezierCurveTo=ar.bezierCurveTo,ar.__originalRect=ar.rect,ar.__originalClosePath=ar.closePath,ar.__originalBeginPath=ar.beginPath,ar._removeMirroring=()=>{ar.save=ar.__originalSave,ar.restore=ar.__originalRestore,ar.rotate=ar.__originalRotate,ar.scale=ar.__originalScale,ar.translate=ar.__originalTranslate,ar.transform=ar.__originalTransform,ar.setTransform=ar.__originalSetTransform,ar.resetTransform=ar.__originalResetTransform,ar.clip=ar.__originalClip,ar.moveTo=ar.__originalMoveTo,ar.lineTo=ar.__originalLineTo,ar.bezierCurveTo=ar.__originalBezierCurveTo,ar.rect=ar.__originalRect,ar.closePath=ar.__originalClosePath,ar.beginPath=ar.__originalBeginPath,delete ar._removeMirroring},ar.save=function(){tr.save(),this.__originalSave()},ar.restore=function(){tr.restore(),this.__originalRestore()},ar.translate=function(pr,Er){tr.translate(pr,Er),this.__originalTranslate(pr,Er)},ar.scale=function(pr,Er){tr.scale(pr,Er),this.__originalScale(pr,Er)},ar.transform=function(pr,Er,Rr,Tr,Ir,Zr){tr.transform(pr,Er,Rr,Tr,Ir,Zr),this.__originalTransform(pr,Er,Rr,Tr,Ir,Zr)},ar.setTransform=function(pr,Er,Rr,Tr,Ir,Zr){tr.setTransform(pr,Er,Rr,Tr,Ir,Zr),this.__originalSetTransform(pr,Er,Rr,Tr,Ir,Zr)},ar.resetTransform=function(){tr.resetTransform(),this.__originalResetTransform()},ar.rotate=function(pr){tr.rotate(pr),this.__originalRotate(pr)},ar.clip=function(pr){tr.clip(pr),this.__originalClip(pr)},ar.moveTo=function(lr,pr){tr.moveTo(lr,pr),this.__originalMoveTo(lr,pr)},ar.lineTo=function(lr,pr){tr.lineTo(lr,pr),this.__originalLineTo(lr,pr)},ar.bezierCurveTo=function(lr,pr,Er,Rr,Tr,Ir){tr.bezierCurveTo(lr,pr,Er,Rr,Tr,Ir),this.__originalBezierCurveTo(lr,pr,Er,Rr,Tr,Ir)},ar.rect=function(lr,pr,Er,Rr){tr.rect(lr,pr,Er,Rr),this.__originalRect(lr,pr,Er,Rr)},ar.closePath=function(){tr.closePath(),this.__originalClosePath()},ar.beginPath=function(){tr.beginPath(),this.__originalBeginPath()}}class Ke{constructor(tr){this.canvasFactory=tr,this.cache=Object.create(null)}getCanvas(tr,lr,pr){let Er;return this.cache[tr]!==void 0?(Er=this.cache[tr],this.canvasFactory.reset(Er,lr,pr)):(Er=this.canvasFactory.create(lr,pr),this.cache[tr]=Er),Er}delete(tr){delete this.cache[tr]}clear(){for(const tr in this.cache){const lr=this.cache[tr];this.canvasFactory.destroy(lr),delete this.cache[tr]}}}function ze(ar,tr,lr,pr,Er,Rr,Tr,Ir,Zr,zr){const[$r,vn,bn,An,Fr,dn]=(0,xe.getCurrentTransform)(ar);if(vn===0&&bn===0){const hn=Tr*$r+Fr,pn=Math.round(hn),xn=Ir*An+dn,Dn=Math.round(xn),On=(Tr+Zr)*$r+Fr,yn=Math.abs(Math.round(On)-pn)||1,Gn=(Ir+zr)*An+dn,Qn=Math.abs(Math.round(Gn)-Dn)||1;return ar.setTransform(Math.sign($r),0,0,Math.sign(An),pn,Dn),ar.drawImage(tr,lr,pr,Er,Rr,0,0,yn,Qn),ar.setTransform($r,vn,bn,An,Fr,dn),[yn,Qn]}if($r===0&&An===0){const hn=Ir*bn+Fr,pn=Math.round(hn),xn=Tr*vn+dn,Dn=Math.round(xn),On=(Ir+zr)*bn+Fr,yn=Math.abs(Math.round(On)-pn)||1,Gn=(Tr+Zr)*vn+dn,Qn=Math.abs(Math.round(Gn)-Dn)||1;return ar.setTransform(0,Math.sign(vn),Math.sign(bn),0,pn,Dn),ar.drawImage(tr,lr,pr,Er,Rr,0,0,Qn,yn),ar.setTransform($r,vn,bn,An,Fr,dn),[Qn,yn]}ar.drawImage(tr,lr,pr,Er,Rr,Tr,Ir,Zr,zr);const Dr=Math.hypot($r,vn),jr=Math.hypot(bn,An);return[Dr*Zr,jr*zr]}function Ve(ar){const{width:tr,height:lr}=ar;if(tr>ke||lr>ke)return null;const pr=1e3,Er=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Rr=tr+1;let Tr=new Uint8Array(Rr*(lr+1)),Ir,Zr,zr;const $r=tr+7&-8;let vn=new Uint8Array($r*lr),bn=0;for(const jr of ar.data){let hn=128;for(;hn>0;)vn[bn++]=jr&hn?0:255,hn>>=1}let An=0;for(bn=0,vn[bn]!==0&&(Tr[0]=1,++An),Zr=1;Zr<tr;Zr++)vn[bn]!==vn[bn+1]&&(Tr[Zr]=vn[bn]?2:1,++An),bn++;for(vn[bn]!==0&&(Tr[Zr]=2,++An),Ir=1;Ir<lr;Ir++){bn=Ir*$r,zr=Ir*Rr,vn[bn-$r]!==vn[bn]&&(Tr[zr]=vn[bn]?1:8,++An);let jr=(vn[bn]?4:0)+(vn[bn-$r]?8:0);for(Zr=1;Zr<tr;Zr++)jr=(jr>>2)+(vn[bn+1]?4:0)+(vn[bn-$r+1]?8:0),Er[jr]&&(Tr[zr+Zr]=Er[jr],++An),bn++;if(vn[bn-$r]!==vn[bn]&&(Tr[zr+Zr]=vn[bn]?2:4,++An),An>pr)return null}for(bn=$r*(lr-1),zr=Ir*Rr,vn[bn]!==0&&(Tr[zr]=8,++An),Zr=1;Zr<tr;Zr++)vn[bn]!==vn[bn+1]&&(Tr[zr+Zr]=vn[bn]?4:8,++An),bn++;if(vn[bn]!==0&&(Tr[zr+Zr]=4,++An),An>pr)return null;const Fr=new Int32Array([0,Rr,-1,0,-Rr,0,0,0,1]),dn=new Path2D;for(Ir=0;An&&Ir<=lr;Ir++){let jr=Ir*Rr;const hn=jr+tr;for(;jr<hn&&!Tr[jr];)jr++;if(jr===hn)continue;dn.moveTo(jr%Rr,Ir);const pn=jr;let xn=Tr[jr];do{const Dn=Fr[xn];do jr+=Dn;while(!Tr[jr]);const On=Tr[jr];On!==5&&On!==10?(xn=On,Tr[jr]=0):(xn=On&51*xn>>4,Tr[jr]&=xn>>2|xn<<2),dn.lineTo(jr%Rr,jr/Rr|0),Tr[jr]||--An}while(pn!==jr);--Ir}return vn=null,Tr=null,function(jr){jr.save(),jr.scale(1/tr,-1/lr),jr.translate(0,-lr),jr.fill(dn),jr.beginPath(),jr.restore()}}class Xe{constructor(tr,lr){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_e.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_e.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_e.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,tr,lr])}clone(){const tr=Object.create(this);return tr.clipBox=this.clipBox.slice(),tr}setCurrentPoint(tr,lr){this.x=tr,this.y=lr}updatePathMinMax(tr,lr,pr){[lr,pr]=_e.Util.applyTransform([lr,pr],tr),this.minX=Math.min(this.minX,lr),this.minY=Math.min(this.minY,pr),this.maxX=Math.max(this.maxX,lr),this.maxY=Math.max(this.maxY,pr)}updateRectMinMax(tr,lr){const pr=_e.Util.applyTransform(lr,tr),Er=_e.Util.applyTransform(lr.slice(2),tr);this.minX=Math.min(this.minX,pr[0],Er[0]),this.minY=Math.min(this.minY,pr[1],Er[1]),this.maxX=Math.max(this.maxX,pr[0],Er[0]),this.maxY=Math.max(this.maxY,pr[1],Er[1])}updateScalingPathMinMax(tr,lr){_e.Util.scaleMinMax(tr,lr),this.minX=Math.min(this.minX,lr[0]),this.maxX=Math.max(this.maxX,lr[1]),this.minY=Math.min(this.minY,lr[2]),this.maxY=Math.max(this.maxY,lr[3])}updateCurvePathMinMax(tr,lr,pr,Er,Rr,Tr,Ir,Zr,zr,$r){const vn=_e.Util.bezierBoundingBox(lr,pr,Er,Rr,Tr,Ir,Zr,zr);if($r){$r[0]=Math.min($r[0],vn[0],vn[2]),$r[1]=Math.max($r[1],vn[0],vn[2]),$r[2]=Math.min($r[2],vn[1],vn[3]),$r[3]=Math.max($r[3],vn[1],vn[3]);return}this.updateRectMinMax(tr,vn)}getPathBoundingBox(tr=Ce.PathType.FILL,lr=null){const pr=[this.minX,this.minY,this.maxX,this.maxY];if(tr===Ce.PathType.STROKE){lr||(0,_e.unreachable)("Stroke bounding box must include transform.");const Er=_e.Util.singularValueDecompose2dScale(lr),Rr=Er[0]*this.lineWidth/2,Tr=Er[1]*this.lineWidth/2;pr[0]-=Rr,pr[1]-=Tr,pr[2]+=Rr,pr[3]+=Tr}return pr}updateClipFromPath(){const tr=_e.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(tr||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(tr){this.clipBox=tr,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(tr=Ce.PathType.FILL,lr=null){return _e.Util.intersect(this.clipBox,this.getPathBoundingBox(tr,lr))}}function ir(ar,tr){if(typeof ImageData<"u"&&tr instanceof ImageData){ar.putImageData(tr,0,0);return}const lr=tr.height,pr=tr.width,Er=lr%Oe,Rr=(lr-Er)/Oe,Tr=Er===0?Rr:Rr+1,Ir=ar.createImageData(pr,Oe);let Zr=0,zr;const $r=tr.data,vn=Ir.data;let bn,An,Fr,dn;if(tr.kind===_e.ImageKind.GRAYSCALE_1BPP){const Dr=$r.byteLength,jr=new Uint32Array(vn.buffer,0,vn.byteLength>>2),hn=jr.length,pn=pr+7>>3,xn=4294967295,Dn=_e.FeatureTest.isLittleEndian?4278190080:255;for(bn=0;bn<Tr;bn++){for(Fr=bn<Rr?Oe:Er,zr=0,An=0;An<Fr;An++){const On=Dr-Zr;let yn=0;const Gn=On>pn?pr:On*8-7,Qn=Gn&-8;let di=0,ni=0;for(;yn<Qn;yn+=8)ni=$r[Zr++],jr[zr++]=ni&128?xn:Dn,jr[zr++]=ni&64?xn:Dn,jr[zr++]=ni&32?xn:Dn,jr[zr++]=ni&16?xn:Dn,jr[zr++]=ni&8?xn:Dn,jr[zr++]=ni&4?xn:Dn,jr[zr++]=ni&2?xn:Dn,jr[zr++]=ni&1?xn:Dn;for(;yn<Gn;yn++)di===0&&(ni=$r[Zr++],di=128),jr[zr++]=ni&di?xn:Dn,di>>=1}for(;zr<hn;)jr[zr++]=0;ar.putImageData(Ir,0,bn*Oe)}}else if(tr.kind===_e.ImageKind.RGBA_32BPP){for(An=0,dn=pr*Oe*4,bn=0;bn<Rr;bn++)vn.set($r.subarray(Zr,Zr+dn)),Zr+=dn,ar.putImageData(Ir,0,An),An+=Oe;bn<Tr&&(dn=pr*Er*4,vn.set($r.subarray(Zr,Zr+dn)),ar.putImageData(Ir,0,An))}else if(tr.kind===_e.ImageKind.RGB_24BPP)for(Fr=Oe,dn=pr*Fr,bn=0;bn<Tr;bn++){for(bn>=Rr&&(Fr=Er,dn=pr*Fr),zr=0,An=dn;An--;)vn[zr++]=$r[Zr++],vn[zr++]=$r[Zr++],vn[zr++]=$r[Zr++],vn[zr++]=255;ar.putImageData(Ir,0,bn*Oe)}else throw new Error(`bad image kind: ${tr.kind}`)}function sr(ar,tr){if(tr.bitmap){ar.drawImage(tr.bitmap,0,0);return}const lr=tr.height,pr=tr.width,Er=lr%Oe,Rr=(lr-Er)/Oe,Tr=Er===0?Rr:Rr+1,Ir=ar.createImageData(pr,Oe);let Zr=0;const zr=tr.data,$r=Ir.data;for(let vn=0;vn<Tr;vn++){const bn=vn<Rr?Oe:Er;({srcPos:Zr}=(0,Se.convertBlackAndWhiteToRGBA)({src:zr,srcPos:Zr,dest:$r,width:pr,height:bn,nonBlackColor:0})),ar.putImageData(Ir,0,vn*Oe)}}function rr(ar,tr){const lr=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const pr of lr)ar[pr]!==void 0&&(tr[pr]=ar[pr]);ar.setLineDash!==void 0&&(tr.setLineDash(ar.getLineDash()),tr.lineDashOffset=ar.lineDashOffset)}function nr(ar){if(ar.strokeStyle=ar.fillStyle="#000000",ar.fillRule="nonzero",ar.globalAlpha=1,ar.lineWidth=1,ar.lineCap="butt",ar.lineJoin="miter",ar.miterLimit=10,ar.globalCompositeOperation="source-over",ar.font="10px sans-serif",ar.setLineDash!==void 0&&(ar.setLineDash([]),ar.lineDashOffset=0),!_e.isNodeJS){const{filter:tr}=ar;tr!=="none"&&tr!==""&&(ar.filter="none")}}function We(ar,tr,lr,pr){const Er=ar.length;for(let Rr=3;Rr<Er;Rr+=4){const Tr=ar[Rr];if(Tr===0)ar[Rr-3]=tr,ar[Rr-2]=lr,ar[Rr-1]=pr;else if(Tr<255){const Ir=255-Tr;ar[Rr-3]=ar[Rr-3]*Tr+tr*Ir>>8,ar[Rr-2]=ar[Rr-2]*Tr+lr*Ir>>8,ar[Rr-1]=ar[Rr-1]*Tr+pr*Ir>>8}}}function Ge(ar,tr,lr){const pr=ar.length,Er=1/255;for(let Rr=3;Rr<pr;Rr+=4){const Tr=lr?lr[ar[Rr]]:ar[Rr];tr[Rr]=tr[Rr]*Tr*Er|0}}function Ze(ar,tr,lr){const pr=ar.length;for(let Er=3;Er<pr;Er+=4){const Rr=ar[Er-3]*77+ar[Er-2]*152+ar[Er-1]*28;tr[Er]=lr?tr[Er]*lr[Rr>>8]>>8:tr[Er]*Rr>>16}}function or(ar,tr,lr,pr,Er,Rr,Tr,Ir,Zr,zr,$r){const vn=!!Rr,bn=vn?Rr[0]:0,An=vn?Rr[1]:0,Fr=vn?Rr[2]:0,dn=Er==="Luminosity"?Ze:Ge,jr=Math.min(pr,Math.ceil(1048576/lr));for(let hn=0;hn<pr;hn+=jr){const pn=Math.min(jr,pr-hn),xn=ar.getImageData(Ir-zr,hn+(Zr-$r),lr,pn),Dn=tr.getImageData(Ir,hn+Zr,lr,pn);vn&&We(xn.data,bn,An,Fr),dn(xn.data,Dn.data,Tr),tr.putImageData(Dn,Ir,hn+Zr)}}function He(ar,tr,lr,pr){const Er=pr[0],Rr=pr[1],Tr=pr[2]-Er,Ir=pr[3]-Rr;Tr===0||Ir===0||(or(tr.context,lr,Tr,Ir,tr.subtype,tr.backdrop,tr.transferMap,Er,Rr,tr.offsetX,tr.offsetY),ar.save(),ar.globalAlpha=1,ar.globalCompositeOperation="source-over",ar.setTransform(1,0,0,1,0,0),ar.drawImage(lr.canvas,0,0),ar.restore())}function Je(ar,tr){const lr=_e.Util.singularValueDecompose2dScale(ar);lr[0]=Math.fround(lr[0]),lr[1]=Math.fround(lr[1]);const pr=Math.fround((globalThis.devicePixelRatio||1)*xe.PixelsPerInch.PDF_TO_CSS_UNITS);return tr!==void 0?tr:lr[0]<=pr||lr[1]<=pr}const $e=["butt","round","square"],mr=["miter","round","bevel"],wr={},vr={},Sr=class Sr{constructor(tr,lr,pr,Er,Rr,{optionalContentConfig:Tr,markedContentStack:Ir=null},Zr,zr){Vn(this,Cr);this.ctx=tr,this.current=new Xe(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=lr,this.objs=pr,this.canvasFactory=Er,this.filterFactory=Rr,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ir||[],this.optionalContentConfig=Tr,this.cachedCanvases=new Ke(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Zr,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=zr,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(tr,lr=null){return typeof tr=="string"?tr.startsWith("g_")?this.commonObjs.get(tr):this.objs.get(tr):lr}beginDrawing({transform:tr,viewport:lr,transparency:pr=!1,background:Er=null}){const Rr=this.ctx.canvas.width,Tr=this.ctx.canvas.height,Ir=this.ctx.fillStyle;if(this.ctx.fillStyle=Er||"#ffffff",this.ctx.fillRect(0,0,Rr,Tr),this.ctx.fillStyle=Ir,pr){const Zr=this.cachedCanvases.getCanvas("transparent",Rr,Tr);this.compositeCtx=this.ctx,this.transparentCanvas=Zr.canvas,this.ctx=Zr.context,this.ctx.save(),this.ctx.transform(...(0,xe.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),nr(this.ctx),tr&&(this.ctx.transform(...tr),this.outputScaleX=tr[0],this.outputScaleY=tr[0]),this.ctx.transform(...lr.transform),this.viewportScale=lr.scale,this.baseTransform=(0,xe.getCurrentTransform)(this.ctx)}executeOperatorList(tr,lr,pr,Er){const Rr=tr.argsArray,Tr=tr.fnArray;let Ir=lr||0;const Zr=Rr.length;if(Zr===Ir)return Ir;const zr=Zr-Ir>Ue&&typeof pr=="function",$r=zr?Date.now()+Ie:0;let vn=0;const bn=this.commonObjs,An=this.objs;let Fr;for(;;){if(Er!==void 0&&Ir===Er.nextBreakPoint)return Er.breakIt(Ir,pr),Ir;if(Fr=Tr[Ir],Fr!==_e.OPS.dependency)this[Fr].apply(this,Rr[Ir]);else for(const dn of Rr[Ir]){const Dr=dn.startsWith("g_")?bn:An;if(!Dr.has(dn))return Dr.get(dn,pr),Ir}if(Ir++,Ir===Zr)return Ir;if(zr&&++vn>Ue){if(Date.now()>$r)return pr(),Ir;vn=0}}}endDrawing(){Bn(this,Cr,Hf).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const tr of this._cachedBitmapsMap.values()){for(const lr of tr.values())typeof HTMLCanvasElement<"u"&&lr instanceof HTMLCanvasElement&&(lr.width=lr.height=0);tr.clear()}this._cachedBitmapsMap.clear(),Bn(this,Cr,Kf).call(this)}_scaleImage(tr,lr){const pr=tr.width,Er=tr.height;let Rr=Math.max(Math.hypot(lr[0],lr[1]),1),Tr=Math.max(Math.hypot(lr[2],lr[3]),1),Ir=pr,Zr=Er,zr="prescale1",$r,vn;for(;Rr>2&&Ir>1||Tr>2&&Zr>1;){let bn=Ir,An=Zr;Rr>2&&Ir>1&&(bn=Ir>=16384?Math.floor(Ir/2)-1||1:Math.ceil(Ir/2),Rr/=Ir/bn),Tr>2&&Zr>1&&(An=Zr>=16384?Math.floor(Zr/2)-1||1:Math.ceil(Zr)/2,Tr/=Zr/An),$r=this.cachedCanvases.getCanvas(zr,bn,An),vn=$r.context,vn.clearRect(0,0,bn,An),vn.drawImage(tr,0,0,Ir,Zr,0,0,bn,An),tr=$r.canvas,Ir=bn,Zr=An,zr=zr==="prescale1"?"prescale2":"prescale1"}return{img:tr,paintWidth:Ir,paintHeight:Zr}}_createMaskCanvas(tr){const lr=this.ctx,{width:pr,height:Er}=tr,Rr=this.current.fillColor,Tr=this.current.patternFill,Ir=(0,xe.getCurrentTransform)(lr);let Zr,zr,$r,vn;if((tr.bitmap||tr.data)&&tr.count>1){const yn=tr.bitmap||tr.data.buffer;zr=JSON.stringify(Tr?Ir:[Ir.slice(0,4),Rr]),Zr=this._cachedBitmapsMap.get(yn),Zr||(Zr=new Map,this._cachedBitmapsMap.set(yn,Zr));const Gn=Zr.get(zr);if(Gn&&!Tr){const Qn=Math.round(Math.min(Ir[0],Ir[2])+Ir[4]),di=Math.round(Math.min(Ir[1],Ir[3])+Ir[5]);return{canvas:Gn,offsetX:Qn,offsetY:di}}$r=Gn}$r||(vn=this.cachedCanvases.getCanvas("maskCanvas",pr,Er),sr(vn.context,tr));let bn=_e.Util.transform(Ir,[1/pr,0,0,-1/Er,0,0]);bn=_e.Util.transform(bn,[1,0,0,1,0,-Er]);const An=_e.Util.applyTransform([0,0],bn),Fr=_e.Util.applyTransform([pr,Er],bn),dn=_e.Util.normalizeRect([An[0],An[1],Fr[0],Fr[1]]),Dr=Math.round(dn[2]-dn[0])||1,jr=Math.round(dn[3]-dn[1])||1,hn=this.cachedCanvases.getCanvas("fillCanvas",Dr,jr),pn=hn.context,xn=Math.min(An[0],Fr[0]),Dn=Math.min(An[1],Fr[1]);pn.translate(-xn,-Dn),pn.transform(...bn),$r||($r=this._scaleImage(vn.canvas,(0,xe.getCurrentTransformInverse)(pn)),$r=$r.img,Zr&&Tr&&Zr.set(zr,$r)),pn.imageSmoothingEnabled=Je((0,xe.getCurrentTransform)(pn),tr.interpolate),ze(pn,$r,0,0,$r.width,$r.height,0,0,pr,Er),pn.globalCompositeOperation="source-in";const On=_e.Util.transform((0,xe.getCurrentTransformInverse)(pn),[1,0,0,1,-xn,-Dn]);return pn.fillStyle=Tr?Rr.getPattern(lr,this,On,Ce.PathType.FILL):Rr,pn.fillRect(0,0,pr,Er),Zr&&!Tr&&(this.cachedCanvases.delete("fillCanvas"),Zr.set(zr,hn.canvas)),{canvas:hn.canvas,offsetX:Math.round(xn),offsetY:Math.round(Dn)}}setLineWidth(tr){tr!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=tr,this.ctx.lineWidth=tr}setLineCap(tr){this.ctx.lineCap=$e[tr]}setLineJoin(tr){this.ctx.lineJoin=mr[tr]}setMiterLimit(tr){this.ctx.miterLimit=tr}setDash(tr,lr){const pr=this.ctx;pr.setLineDash!==void 0&&(pr.setLineDash(tr),pr.lineDashOffset=lr)}setRenderingIntent(tr){}setFlatness(tr){}setGState(tr){for(const[lr,pr]of tr)switch(lr){case"LW":this.setLineWidth(pr);break;case"LC":this.setLineCap(pr);break;case"LJ":this.setLineJoin(pr);break;case"ML":this.setMiterLimit(pr);break;case"D":this.setDash(pr[0],pr[1]);break;case"RI":this.setRenderingIntent(pr);break;case"FL":this.setFlatness(pr);break;case"Font":this.setFont(pr[0],pr[1]);break;case"CA":this.current.strokeAlpha=pr;break;case"ca":this.current.fillAlpha=pr,this.ctx.globalAlpha=pr;break;case"BM":this.ctx.globalCompositeOperation=pr;break;case"SMask":this.current.activeSMask=pr?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(pr);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const tr=this.inSMaskMode;this.current.activeSMask&&!tr?this.beginSMaskMode():!this.current.activeSMask&&tr&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const tr=this.ctx.canvas.width,lr=this.ctx.canvas.height,pr="smaskGroupAt"+this.groupLevel,Er=this.cachedCanvases.getCanvas(pr,tr,lr);this.suspendedCtx=this.ctx,this.ctx=Er.context;const Rr=this.ctx;Rr.setTransform(...(0,xe.getCurrentTransform)(this.suspendedCtx)),rr(this.suspendedCtx,Rr),je(Rr,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),rr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(tr){if(!this.current.activeSMask)return;tr?(tr[0]=Math.floor(tr[0]),tr[1]=Math.floor(tr[1]),tr[2]=Math.ceil(tr[2]),tr[3]=Math.ceil(tr[3])):tr=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const lr=this.current.activeSMask,pr=this.suspendedCtx;He(pr,lr,this.ctx,tr),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(rr(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const tr=this.current;this.stateStack.push(tr),this.current=tr.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),rr(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(tr,lr,pr,Er,Rr,Tr){this.ctx.transform(tr,lr,pr,Er,Rr,Tr),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(tr,lr,pr){const Er=this.ctx,Rr=this.current;let Tr=Rr.x,Ir=Rr.y,Zr,zr;const $r=(0,xe.getCurrentTransform)(Er),vn=$r[0]===0&&$r[3]===0||$r[1]===0&&$r[2]===0,bn=vn?pr.slice(0):null;for(let An=0,Fr=0,dn=tr.length;An<dn;An++)switch(tr[An]|0){case _e.OPS.rectangle:Tr=lr[Fr++],Ir=lr[Fr++];const Dr=lr[Fr++],jr=lr[Fr++],hn=Tr+Dr,pn=Ir+jr;Er.moveTo(Tr,Ir),Dr===0||jr===0?Er.lineTo(hn,pn):(Er.lineTo(hn,Ir),Er.lineTo(hn,pn),Er.lineTo(Tr,pn)),vn||Rr.updateRectMinMax($r,[Tr,Ir,hn,pn]),Er.closePath();break;case _e.OPS.moveTo:Tr=lr[Fr++],Ir=lr[Fr++],Er.moveTo(Tr,Ir),vn||Rr.updatePathMinMax($r,Tr,Ir);break;case _e.OPS.lineTo:Tr=lr[Fr++],Ir=lr[Fr++],Er.lineTo(Tr,Ir),vn||Rr.updatePathMinMax($r,Tr,Ir);break;case _e.OPS.curveTo:Zr=Tr,zr=Ir,Tr=lr[Fr+4],Ir=lr[Fr+5],Er.bezierCurveTo(lr[Fr],lr[Fr+1],lr[Fr+2],lr[Fr+3],Tr,Ir),Rr.updateCurvePathMinMax($r,Zr,zr,lr[Fr],lr[Fr+1],lr[Fr+2],lr[Fr+3],Tr,Ir,bn),Fr+=6;break;case _e.OPS.curveTo2:Zr=Tr,zr=Ir,Er.bezierCurveTo(Tr,Ir,lr[Fr],lr[Fr+1],lr[Fr+2],lr[Fr+3]),Rr.updateCurvePathMinMax($r,Zr,zr,Tr,Ir,lr[Fr],lr[Fr+1],lr[Fr+2],lr[Fr+3],bn),Tr=lr[Fr+2],Ir=lr[Fr+3],Fr+=4;break;case _e.OPS.curveTo3:Zr=Tr,zr=Ir,Tr=lr[Fr+2],Ir=lr[Fr+3],Er.bezierCurveTo(lr[Fr],lr[Fr+1],Tr,Ir,Tr,Ir),Rr.updateCurvePathMinMax($r,Zr,zr,lr[Fr],lr[Fr+1],Tr,Ir,Tr,Ir,bn),Fr+=4;break;case _e.OPS.closePath:Er.closePath();break}vn&&Rr.updateScalingPathMinMax($r,bn),Rr.setCurrentPoint(Tr,Ir)}closePath(){this.ctx.closePath()}stroke(tr=!0){const lr=this.ctx,pr=this.current.strokeColor;lr.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof pr=="object"&&(pr!=null&&pr.getPattern)?(lr.save(),lr.strokeStyle=pr.getPattern(lr,this,(0,xe.getCurrentTransformInverse)(lr),Ce.PathType.STROKE),this.rescaleAndStroke(!1),lr.restore()):this.rescaleAndStroke(!0)),tr&&this.consumePath(this.current.getClippedPathBoundingBox()),lr.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(tr=!0){const lr=this.ctx,pr=this.current.fillColor,Er=this.current.patternFill;let Rr=!1;Er&&(lr.save(),lr.fillStyle=pr.getPattern(lr,this,(0,xe.getCurrentTransformInverse)(lr),Ce.PathType.FILL),Rr=!0);const Tr=this.current.getClippedPathBoundingBox();this.contentVisible&&Tr!==null&&(this.pendingEOFill?(lr.fill("evenodd"),this.pendingEOFill=!1):lr.fill()),Rr&&lr.restore(),tr&&this.consumePath(Tr)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=wr}eoClip(){this.pendingClip=vr}beginText(){this.current.textMatrix=_e.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const tr=this.pendingTextPaths,lr=this.ctx;if(tr===void 0){lr.beginPath();return}lr.save(),lr.beginPath();for(const pr of tr)lr.setTransform(...pr.transform),lr.translate(pr.x,pr.y),pr.addToPath(lr,pr.fontSize);lr.restore(),lr.clip(),lr.beginPath(),delete this.pendingTextPaths}setCharSpacing(tr){this.current.charSpacing=tr}setWordSpacing(tr){this.current.wordSpacing=tr}setHScale(tr){this.current.textHScale=tr/100}setLeading(tr){this.current.leading=-tr}setFont(tr,lr){var $r;const pr=this.commonObjs.get(tr),Er=this.current;if(!pr)throw new Error(`Can't find font for ${tr}`);if(Er.fontMatrix=pr.fontMatrix||_e.FONT_IDENTITY_MATRIX,(Er.fontMatrix[0]===0||Er.fontMatrix[3]===0)&&(0,_e.warn)("Invalid font matrix for font "+tr),lr<0?(lr=-lr,Er.fontDirection=-1):Er.fontDirection=1,this.current.font=pr,this.current.fontSize=lr,pr.isType3Font)return;const Rr=pr.loadedName||"sans-serif",Tr=(($r=pr.systemFontInfo)==null?void 0:$r.css)||`"${Rr}", ${pr.fallbackName}`;let Ir="normal";pr.black?Ir="900":pr.bold&&(Ir="bold");const Zr=pr.italic?"italic":"normal";let zr=lr;lr<Re?zr=Re:lr>Be&&(zr=Be),this.current.fontSizeScale=lr/zr,this.ctx.font=`${Zr} ${Ir} ${zr}px ${Tr}`}setTextRenderingMode(tr){this.current.textRenderingMode=tr}setTextRise(tr){this.current.textRise=tr}moveText(tr,lr){this.current.x=this.current.lineX+=tr,this.current.y=this.current.lineY+=lr}setLeadingMoveText(tr,lr){this.setLeading(-lr),this.moveText(tr,lr)}setTextMatrix(tr,lr,pr,Er,Rr,Tr){this.current.textMatrix=[tr,lr,pr,Er,Rr,Tr],this.current.textMatrixScale=Math.hypot(tr,lr),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(tr,lr,pr,Er){const Rr=this.ctx,Tr=this.current,Ir=Tr.font,Zr=Tr.textRenderingMode,zr=Tr.fontSize/Tr.fontSizeScale,$r=Zr&_e.TextRenderingMode.FILL_STROKE_MASK,vn=!!(Zr&_e.TextRenderingMode.ADD_TO_PATH_FLAG),bn=Tr.patternFill&&!Ir.missingFile;let An;(Ir.disableFontFace||vn||bn)&&(An=Ir.getPathGenerator(this.commonObjs,tr)),Ir.disableFontFace||bn?(Rr.save(),Rr.translate(lr,pr),Rr.beginPath(),An(Rr,zr),Er&&Rr.setTransform(...Er),($r===_e.TextRenderingMode.FILL||$r===_e.TextRenderingMode.FILL_STROKE)&&Rr.fill(),($r===_e.TextRenderingMode.STROKE||$r===_e.TextRenderingMode.FILL_STROKE)&&Rr.stroke(),Rr.restore()):(($r===_e.TextRenderingMode.FILL||$r===_e.TextRenderingMode.FILL_STROKE)&&Rr.fillText(tr,lr,pr),($r===_e.TextRenderingMode.STROKE||$r===_e.TextRenderingMode.FILL_STROKE)&&Rr.strokeText(tr,lr,pr)),vn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,xe.getCurrentTransform)(Rr),x:lr,y:pr,fontSize:zr,addToPath:An})}get isFontSubpixelAAEnabled(){const{context:tr}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);tr.scale(1.5,1),tr.fillText("I",0,10);const lr=tr.getImageData(0,0,10,10).data;let pr=!1;for(let Er=3;Er<lr.length;Er+=4)if(lr[Er]>0&&lr[Er]<255){pr=!0;break}return(0,_e.shadow)(this,"isFontSubpixelAAEnabled",pr)}showText(tr){const lr=this.current,pr=lr.font;if(pr.isType3Font)return this.showType3Text(tr);const Er=lr.fontSize;if(Er===0)return;const Rr=this.ctx,Tr=lr.fontSizeScale,Ir=lr.charSpacing,Zr=lr.wordSpacing,zr=lr.fontDirection,$r=lr.textHScale*zr,vn=tr.length,bn=pr.vertical,An=bn?1:-1,Fr=pr.defaultVMetrics,dn=Er*lr.fontMatrix[0],Dr=lr.textRenderingMode===_e.TextRenderingMode.FILL&&!pr.disableFontFace&&!lr.patternFill;Rr.save(),Rr.transform(...lr.textMatrix),Rr.translate(lr.x,lr.y+lr.textRise),zr>0?Rr.scale($r,-1):Rr.scale($r,1);let jr;if(lr.patternFill){Rr.save();const On=lr.fillColor.getPattern(Rr,this,(0,xe.getCurrentTransformInverse)(Rr),Ce.PathType.FILL);jr=(0,xe.getCurrentTransform)(Rr),Rr.restore(),Rr.fillStyle=On}let hn=lr.lineWidth;const pn=lr.textMatrixScale;if(pn===0||hn===0){const On=lr.textRenderingMode&_e.TextRenderingMode.FILL_STROKE_MASK;(On===_e.TextRenderingMode.STROKE||On===_e.TextRenderingMode.FILL_STROKE)&&(hn=this.getSinglePixelWidth())}else hn/=pn;if(Tr!==1&&(Rr.scale(Tr,Tr),hn/=Tr),Rr.lineWidth=hn,pr.isInvalidPDFjsFont){const On=[];let yn=0;for(const Gn of tr)On.push(Gn.unicode),yn+=Gn.width;Rr.fillText(On.join(""),0,0),lr.x+=yn*dn*$r,Rr.restore(),this.compose();return}let xn=0,Dn;for(Dn=0;Dn<vn;++Dn){const On=tr[Dn];if(typeof On=="number"){xn+=An*On*Er/1e3;continue}let yn=!1;const Gn=(On.isSpace?Zr:0)+Ir,Qn=On.fontChar,di=On.accent;let ni,wi,Nr=On.width;if(bn){const Kn=On.vmetric||Fr,si=-(On.vmetric?Kn[1]:Nr*.5)*dn,Kr=Kn[2]*dn;Nr=Kn?-Kn[0]:Nr,ni=si/Tr,wi=(xn+Kr)/Tr}else ni=xn/Tr,wi=0;if(pr.remeasure&&Nr>0){const Kn=Rr.measureText(Qn).width*1e3/Er*Tr;if(Nr<Kn&&this.isFontSubpixelAAEnabled){const si=Nr/Kn;yn=!0,Rr.save(),Rr.scale(si,1),ni/=si}else Nr!==Kn&&(ni+=(Nr-Kn)/2e3*Er/Tr)}if(this.contentVisible&&(On.isInFont||pr.missingFile)){if(Dr&&!di)Rr.fillText(Qn,ni,wi);else if(this.paintChar(Qn,ni,wi,jr),di){const Kn=ni+Er*di.offset.x/Tr,si=wi-Er*di.offset.y/Tr;this.paintChar(di.fontChar,Kn,si,jr)}}const In=bn?Nr*dn-Gn*zr:Nr*dn+Gn*zr;xn+=In,yn&&Rr.restore()}bn?lr.y-=xn:lr.x+=xn*$r,Rr.restore(),this.compose()}showType3Text(tr){const lr=this.ctx,pr=this.current,Er=pr.font,Rr=pr.fontSize,Tr=pr.fontDirection,Ir=Er.vertical?1:-1,Zr=pr.charSpacing,zr=pr.wordSpacing,$r=pr.textHScale*Tr,vn=pr.fontMatrix||_e.FONT_IDENTITY_MATRIX,bn=tr.length,An=pr.textRenderingMode===_e.TextRenderingMode.INVISIBLE;let Fr,dn,Dr,jr;if(!(An||Rr===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,lr.save(),lr.transform(...pr.textMatrix),lr.translate(pr.x,pr.y),lr.scale($r,Tr),Fr=0;Fr<bn;++Fr){if(dn=tr[Fr],typeof dn=="number"){jr=Ir*dn*Rr/1e3,this.ctx.translate(jr,0),pr.x+=jr*$r;continue}const hn=(dn.isSpace?zr:0)+Zr,pn=Er.charProcOperatorList[dn.operatorListId];if(!pn){(0,_e.warn)(`Type3 character "${dn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=dn,this.save(),lr.scale(Rr,Rr),lr.transform(...vn),this.executeOperatorList(pn),this.restore()),Dr=_e.Util.applyTransform([dn.width,0],vn)[0]*Rr+hn,lr.translate(Dr,0),pr.x+=Dr*$r}lr.restore(),this.processingType3=null}}setCharWidth(tr,lr){}setCharWidthAndBounds(tr,lr,pr,Er,Rr,Tr){this.ctx.rect(pr,Er,Rr-pr,Tr-Er),this.ctx.clip(),this.endPath()}getColorN_Pattern(tr){let lr;if(tr[0]==="TilingPattern"){const pr=tr[1],Er=this.baseTransform||(0,xe.getCurrentTransform)(this.ctx),Rr={createCanvasGraphics:Tr=>new Sr(Tr,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};lr=new Ce.TilingPattern(tr,pr,this.ctx,Rr,Er)}else lr=this._getPattern(tr[1],tr[2]);return lr}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(tr,lr,pr){const Er=_e.Util.makeHexColor(tr,lr,pr);this.ctx.strokeStyle=Er,this.current.strokeColor=Er}setFillRGBColor(tr,lr,pr){const Er=_e.Util.makeHexColor(tr,lr,pr);this.ctx.fillStyle=Er,this.current.fillColor=Er,this.current.patternFill=!1}_getPattern(tr,lr=null){let pr;return this.cachedPatterns.has(tr)?pr=this.cachedPatterns.get(tr):(pr=(0,Ce.getShadingPattern)(this.getObject(tr)),this.cachedPatterns.set(tr,pr)),lr&&(pr.matrix=lr),pr}shadingFill(tr){if(!this.contentVisible)return;const lr=this.ctx;this.save();const pr=this._getPattern(tr);lr.fillStyle=pr.getPattern(lr,this,(0,xe.getCurrentTransformInverse)(lr),Ce.PathType.SHADING);const Er=(0,xe.getCurrentTransformInverse)(lr);if(Er){const{width:Rr,height:Tr}=lr.canvas,[Ir,Zr,zr,$r]=_e.Util.getAxialAlignedBoundingBox([0,0,Rr,Tr],Er);this.ctx.fillRect(Ir,Zr,zr-Ir,$r-Zr)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_e.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_e.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(tr,lr){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(tr)&&tr.length===6&&this.transform(...tr),this.baseTransform=(0,xe.getCurrentTransform)(this.ctx),lr)){const pr=lr[2]-lr[0],Er=lr[3]-lr[1];this.ctx.rect(lr[0],lr[1],pr,Er),this.current.updateRectMinMax((0,xe.getCurrentTransform)(this.ctx),lr),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(tr){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const lr=this.ctx;tr.isolated||(0,_e.info)("TODO: Support non-isolated groups."),tr.knockout&&(0,_e.warn)("Knockout groups not supported.");const pr=(0,xe.getCurrentTransform)(lr);if(tr.matrix&&lr.transform(...tr.matrix),!tr.bbox)throw new Error("Bounding box is required.");let Er=_e.Util.getAxialAlignedBoundingBox(tr.bbox,(0,xe.getCurrentTransform)(lr));const Rr=[0,0,lr.canvas.width,lr.canvas.height];Er=_e.Util.intersect(Er,Rr)||[0,0,0,0];const Tr=Math.floor(Er[0]),Ir=Math.floor(Er[1]);let Zr=Math.max(Math.ceil(Er[2])-Tr,1),zr=Math.max(Math.ceil(Er[3])-Ir,1),$r=1,vn=1;Zr>Fe&&($r=Zr/Fe,Zr=Fe),zr>Fe&&(vn=zr/Fe,zr=Fe),this.current.startNewPathAndClipBox([0,0,Zr,zr]);let bn="groupAt"+this.groupLevel;tr.smask&&(bn+="_smask_"+this.smaskCounter++%2);const An=this.cachedCanvases.getCanvas(bn,Zr,zr),Fr=An.context;Fr.scale(1/$r,1/vn),Fr.translate(-Tr,-Ir),Fr.transform(...pr),tr.smask?this.smaskStack.push({canvas:An.canvas,context:Fr,offsetX:Tr,offsetY:Ir,scaleX:$r,scaleY:vn,subtype:tr.smask.subtype,backdrop:tr.smask.backdrop,transferMap:tr.smask.transferMap||null,startTransformInverse:null}):(lr.setTransform(1,0,0,1,0,0),lr.translate(Tr,Ir),lr.scale($r,vn),lr.save()),rr(lr,Fr),this.ctx=Fr,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(lr),this.groupLevel++}endGroup(tr){if(!this.contentVisible)return;this.groupLevel--;const lr=this.ctx,pr=this.groupStack.pop();if(this.ctx=pr,this.ctx.imageSmoothingEnabled=!1,tr.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Er=(0,xe.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Er);const Rr=_e.Util.getAxialAlignedBoundingBox([0,0,lr.canvas.width,lr.canvas.height],Er);this.ctx.drawImage(lr.canvas,0,0),this.ctx.restore(),this.compose(Rr)}}beginAnnotation(tr,lr,pr,Er,Rr){if(Bn(this,Cr,Hf).call(this),nr(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(lr)&&lr.length===4){const Tr=lr[2]-lr[0],Ir=lr[3]-lr[1];if(Rr&&this.annotationCanvasMap){pr=pr.slice(),pr[4]-=lr[0],pr[5]-=lr[1],lr=lr.slice(),lr[0]=lr[1]=0,lr[2]=Tr,lr[3]=Ir;const[Zr,zr]=_e.Util.singularValueDecompose2dScale((0,xe.getCurrentTransform)(this.ctx)),{viewportScale:$r}=this,vn=Math.ceil(Tr*this.outputScaleX*$r),bn=Math.ceil(Ir*this.outputScaleY*$r);this.annotationCanvas=this.canvasFactory.create(vn,bn);const{canvas:An,context:Fr}=this.annotationCanvas;this.annotationCanvasMap.set(tr,An),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Fr,this.ctx.save(),this.ctx.setTransform(Zr,0,0,-zr,0,Ir*zr),nr(this.ctx)}else nr(this.ctx),this.ctx.rect(lr[0],lr[1],Tr,Ir),this.ctx.clip(),this.endPath()}this.current=new Xe(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...pr),this.transform(...Er)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Bn(this,Cr,Kf).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(tr){if(!this.contentVisible)return;const lr=tr.count;tr=this.getObject(tr.data,tr),tr.count=lr;const pr=this.ctx,Er=this.processingType3;if(Er&&(Er.compiled===void 0&&(Er.compiled=Ve(tr)),Er.compiled)){Er.compiled(pr);return}const Rr=this._createMaskCanvas(tr),Tr=Rr.canvas;pr.save(),pr.setTransform(1,0,0,1,0,0),pr.drawImage(Tr,Rr.offsetX,Rr.offsetY),pr.restore(),this.compose()}paintImageMaskXObjectRepeat(tr,lr,pr=0,Er=0,Rr,Tr){if(!this.contentVisible)return;tr=this.getObject(tr.data,tr);const Ir=this.ctx;Ir.save();const Zr=(0,xe.getCurrentTransform)(Ir);Ir.transform(lr,pr,Er,Rr,0,0);const zr=this._createMaskCanvas(tr);Ir.setTransform(1,0,0,1,zr.offsetX-Zr[4],zr.offsetY-Zr[5]);for(let $r=0,vn=Tr.length;$r<vn;$r+=2){const bn=_e.Util.transform(Zr,[lr,pr,Er,Rr,Tr[$r],Tr[$r+1]]),[An,Fr]=_e.Util.applyTransform([0,0],bn);Ir.drawImage(zr.canvas,An,Fr)}Ir.restore(),this.compose()}paintImageMaskXObjectGroup(tr){if(!this.contentVisible)return;const lr=this.ctx,pr=this.current.fillColor,Er=this.current.patternFill;for(const Rr of tr){const{data:Tr,width:Ir,height:Zr,transform:zr}=Rr,$r=this.cachedCanvases.getCanvas("maskCanvas",Ir,Zr),vn=$r.context;vn.save();const bn=this.getObject(Tr,Rr);sr(vn,bn),vn.globalCompositeOperation="source-in",vn.fillStyle=Er?pr.getPattern(vn,this,(0,xe.getCurrentTransformInverse)(lr),Ce.PathType.FILL):pr,vn.fillRect(0,0,Ir,Zr),vn.restore(),lr.save(),lr.transform(...zr),lr.scale(1,-1),ze(lr,$r.canvas,0,0,Ir,Zr,0,-1,1,1),lr.restore()}this.compose()}paintImageXObject(tr){if(!this.contentVisible)return;const lr=this.getObject(tr);if(!lr){(0,_e.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(lr)}paintImageXObjectRepeat(tr,lr,pr,Er){if(!this.contentVisible)return;const Rr=this.getObject(tr);if(!Rr){(0,_e.warn)("Dependent image isn't ready yet");return}const Tr=Rr.width,Ir=Rr.height,Zr=[];for(let zr=0,$r=Er.length;zr<$r;zr+=2)Zr.push({transform:[lr,0,0,pr,Er[zr],Er[zr+1]],x:0,y:0,w:Tr,h:Ir});this.paintInlineImageXObjectGroup(Rr,Zr)}applyTransferMapsToCanvas(tr){return this.current.transferMaps!=="none"&&(tr.filter=this.current.transferMaps,tr.drawImage(tr.canvas,0,0),tr.filter="none"),tr.canvas}applyTransferMapsToBitmap(tr){if(this.current.transferMaps==="none")return tr.bitmap;const{bitmap:lr,width:pr,height:Er}=tr,Rr=this.cachedCanvases.getCanvas("inlineImage",pr,Er),Tr=Rr.context;return Tr.filter=this.current.transferMaps,Tr.drawImage(lr,0,0),Tr.filter="none",Rr.canvas}paintInlineImageXObject(tr){if(!this.contentVisible)return;const lr=tr.width,pr=tr.height,Er=this.ctx;if(this.save(),!_e.isNodeJS){const{filter:Ir}=Er;Ir!=="none"&&Ir!==""&&(Er.filter="none")}Er.scale(1/lr,-1/pr);let Rr;if(tr.bitmap)Rr=this.applyTransferMapsToBitmap(tr);else if(typeof HTMLElement=="function"&&tr instanceof HTMLElement||!tr.data)Rr=tr;else{const Zr=this.cachedCanvases.getCanvas("inlineImage",lr,pr).context;ir(Zr,tr),Rr=this.applyTransferMapsToCanvas(Zr)}const Tr=this._scaleImage(Rr,(0,xe.getCurrentTransformInverse)(Er));Er.imageSmoothingEnabled=Je((0,xe.getCurrentTransform)(Er),tr.interpolate),ze(Er,Tr.img,0,0,Tr.paintWidth,Tr.paintHeight,0,-pr,lr,pr),this.compose(),this.restore()}paintInlineImageXObjectGroup(tr,lr){if(!this.contentVisible)return;const pr=this.ctx;let Er;if(tr.bitmap)Er=tr.bitmap;else{const Rr=tr.width,Tr=tr.height,Zr=this.cachedCanvases.getCanvas("inlineImage",Rr,Tr).context;ir(Zr,tr),Er=this.applyTransferMapsToCanvas(Zr)}for(const Rr of lr)pr.save(),pr.transform(...Rr.transform),pr.scale(1,-1),ze(pr,Er,Rr.x,Rr.y,Rr.w,Rr.h,0,-1,1,1),pr.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(tr){}markPointProps(tr,lr){}beginMarkedContent(tr){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(tr,lr){tr==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(lr)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(tr){const lr=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(tr);const pr=this.ctx;this.pendingClip&&(lr||(this.pendingClip===vr?pr.clip("evenodd"):pr.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),pr.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const tr=(0,xe.getCurrentTransform)(this.ctx);if(tr[1]===0&&tr[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(tr[0]),Math.abs(tr[3]));else{const lr=Math.abs(tr[0]*tr[3]-tr[2]*tr[1]),pr=Math.hypot(tr[0],tr[2]),Er=Math.hypot(tr[1],tr[3]);this._cachedGetSinglePixelWidth=Math.max(pr,Er)/lr}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:tr}=this.current,{a:lr,b:pr,c:Er,d:Rr}=this.ctx.getTransform();let Tr,Ir;if(pr===0&&Er===0){const Zr=Math.abs(lr),zr=Math.abs(Rr);if(Zr===zr)if(tr===0)Tr=Ir=1/Zr;else{const $r=Zr*tr;Tr=Ir=$r<1?1/$r:1}else if(tr===0)Tr=1/Zr,Ir=1/zr;else{const $r=Zr*tr,vn=zr*tr;Tr=$r<1?1/$r:1,Ir=vn<1?1/vn:1}}else{const Zr=Math.abs(lr*Rr-pr*Er),zr=Math.hypot(lr,pr),$r=Math.hypot(Er,Rr);if(tr===0)Tr=$r/Zr,Ir=zr/Zr;else{const vn=tr*Zr;Tr=$r>vn?$r/vn:1,Ir=zr>vn?zr/vn:1}}this._cachedScaleForStroking[0]=Tr,this._cachedScaleForStroking[1]=Ir}return this._cachedScaleForStroking}rescaleAndStroke(tr){const{ctx:lr}=this,{lineWidth:pr}=this.current,[Er,Rr]=this.getScaleForStroking();if(lr.lineWidth=pr||1,Er===1&&Rr===1){lr.stroke();return}const Tr=lr.getLineDash();if(tr&&lr.save(),lr.scale(Er,Rr),Tr.length>0){const Ir=Math.max(Er,Rr);lr.setLineDash(Tr.map(Zr=>Zr/Ir)),lr.lineDashOffset/=Ir}lr.stroke(),tr&&lr.restore()}isContentVisible(){for(let tr=this.markedContentStack.length-1;tr>=0;tr--)if(!this.markedContentStack[tr].visible)return!1;return!0}};Cr=new WeakSet,Hf=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Kf=function(){if(this.pageColors){const tr=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(tr!=="none"){const lr=this.ctx.filter;this.ctx.filter=tr,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=lr}}};let ur=Sr;t.CanvasGraphics=ur;for(const ar in _e.OPS)ur.prototype[ar]!==void 0&&(ur.prototype[_e.OPS[ar]]=ur.prototype[ar])},(Ee,t,Ae)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=Oe;var _e=Ae(1),xe=Ae(6);const Ce={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=Ce;function Se(Ve,Xe){if(!Xe)return;const ir=Xe[2]-Xe[0],sr=Xe[3]-Xe[1],rr=new Path2D;rr.rect(Xe[0],Xe[1],ir,sr),Ve.clip(rr)}class Re{constructor(){this.constructor===Re&&(0,_e.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_e.unreachable)("Abstract method `getPattern` called.")}}class Be extends Re{constructor(Xe){super(),this._type=Xe[1],this._bbox=Xe[2],this._colorStops=Xe[3],this._p0=Xe[4],this._p1=Xe[5],this._r0=Xe[6],this._r1=Xe[7],this.matrix=null}_createGradient(Xe){let ir;this._type==="axial"?ir=Xe.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ir=Xe.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const sr of this._colorStops)ir.addColorStop(sr[0],sr[1]);return ir}getPattern(Xe,ir,sr,rr){let nr;if(rr===Ce.STROKE||rr===Ce.FILL){const We=ir.current.getClippedPathBoundingBox(rr,(0,xe.getCurrentTransform)(Xe))||[0,0,0,0],Ge=Math.ceil(We[2]-We[0])||1,Ze=Math.ceil(We[3]-We[1])||1,or=ir.cachedCanvases.getCanvas("pattern",Ge,Ze,!0),He=or.context;He.clearRect(0,0,He.canvas.width,He.canvas.height),He.beginPath(),He.rect(0,0,He.canvas.width,He.canvas.height),He.translate(-We[0],-We[1]),sr=_e.Util.transform(sr,[1,0,0,1,We[0],We[1]]),He.transform(...ir.baseTransform),this.matrix&&He.transform(...this.matrix),Se(He,this._bbox),He.fillStyle=this._createGradient(He),He.fill(),nr=Xe.createPattern(or.canvas,"no-repeat");const Je=new DOMMatrix(sr);nr.setTransform(Je)}else Se(Xe,this._bbox),nr=this._createGradient(Xe);return nr}}function Fe(Ve,Xe,ir,sr,rr,nr,We,Ge){const Ze=Xe.coords,or=Xe.colors,He=Ve.data,Je=Ve.width*4;let $e;Ze[ir+1]>Ze[sr+1]&&($e=ir,ir=sr,sr=$e,$e=nr,nr=We,We=$e),Ze[sr+1]>Ze[rr+1]&&($e=sr,sr=rr,rr=$e,$e=We,We=Ge,Ge=$e),Ze[ir+1]>Ze[sr+1]&&($e=ir,ir=sr,sr=$e,$e=nr,nr=We,We=$e);const mr=(Ze[ir]+Xe.offsetX)*Xe.scaleX,wr=(Ze[ir+1]+Xe.offsetY)*Xe.scaleY,vr=(Ze[sr]+Xe.offsetX)*Xe.scaleX,ur=(Ze[sr+1]+Xe.offsetY)*Xe.scaleY,Cr=(Ze[rr]+Xe.offsetX)*Xe.scaleX,_r=(Ze[rr+1]+Xe.offsetY)*Xe.scaleY;if(wr>=_r)return;const hr=or[nr],Sr=or[nr+1],ar=or[nr+2],tr=or[We],lr=or[We+1],pr=or[We+2],Er=or[Ge],Rr=or[Ge+1],Tr=or[Ge+2],Ir=Math.round(wr),Zr=Math.round(_r);let zr,$r,vn,bn,An,Fr,dn,Dr;for(let jr=Ir;jr<=Zr;jr++){if(jr<ur){const On=jr<wr?0:(wr-jr)/(wr-ur);zr=mr-(mr-vr)*On,$r=hr-(hr-tr)*On,vn=Sr-(Sr-lr)*On,bn=ar-(ar-pr)*On}else{let On;jr>_r?On=1:ur===_r?On=0:On=(ur-jr)/(ur-_r),zr=vr-(vr-Cr)*On,$r=tr-(tr-Er)*On,vn=lr-(lr-Rr)*On,bn=pr-(pr-Tr)*On}let hn;jr<wr?hn=0:jr>_r?hn=1:hn=(wr-jr)/(wr-_r),An=mr-(mr-Cr)*hn,Fr=hr-(hr-Er)*hn,dn=Sr-(Sr-Rr)*hn,Dr=ar-(ar-Tr)*hn;const pn=Math.round(Math.min(zr,An)),xn=Math.round(Math.max(zr,An));let Dn=Je*jr+pn*4;for(let On=pn;On<=xn;On++)hn=(zr-On)/(zr-An),hn<0?hn=0:hn>1&&(hn=1),He[Dn++]=$r-($r-Fr)*hn|0,He[Dn++]=vn-(vn-dn)*hn|0,He[Dn++]=bn-(bn-Dr)*hn|0,He[Dn++]=255}}function Ie(Ve,Xe,ir){const sr=Xe.coords,rr=Xe.colors;let nr,We;switch(Xe.type){case"lattice":const Ge=Xe.verticesPerRow,Ze=Math.floor(sr.length/Ge)-1,or=Ge-1;for(nr=0;nr<Ze;nr++){let He=nr*Ge;for(let Je=0;Je<or;Je++,He++)Fe(Ve,ir,sr[He],sr[He+1],sr[He+Ge],rr[He],rr[He+1],rr[He+Ge]),Fe(Ve,ir,sr[He+Ge+1],sr[He+1],sr[He+Ge],rr[He+Ge+1],rr[He+1],rr[He+Ge])}break;case"triangles":for(nr=0,We=sr.length;nr<We;nr+=3)Fe(Ve,ir,sr[nr],sr[nr+1],sr[nr+2],rr[nr],rr[nr+1],rr[nr+2]);break;default:throw new Error("illegal figure")}}class Ue extends Re{constructor(Xe){super(),this._coords=Xe[2],this._colors=Xe[3],this._figures=Xe[4],this._bounds=Xe[5],this._bbox=Xe[7],this._background=Xe[8],this.matrix=null}_createMeshCanvas(Xe,ir,sr){const Ge=Math.floor(this._bounds[0]),Ze=Math.floor(this._bounds[1]),or=Math.ceil(this._bounds[2])-Ge,He=Math.ceil(this._bounds[3])-Ze,Je=Math.min(Math.ceil(Math.abs(or*Xe[0]*1.1)),3e3),$e=Math.min(Math.ceil(Math.abs(He*Xe[1]*1.1)),3e3),mr=or/Je,wr=He/$e,vr={coords:this._coords,colors:this._colors,offsetX:-Ge,offsetY:-Ze,scaleX:1/mr,scaleY:1/wr},ur=Je+2*2,Cr=$e+2*2,_r=sr.getCanvas("mesh",ur,Cr,!1),hr=_r.context,Sr=hr.createImageData(Je,$e);if(ir){const tr=Sr.data;for(let lr=0,pr=tr.length;lr<pr;lr+=4)tr[lr]=ir[0],tr[lr+1]=ir[1],tr[lr+2]=ir[2],tr[lr+3]=255}for(const tr of this._figures)Ie(Sr,tr,vr);return hr.putImageData(Sr,2,2),{canvas:_r.canvas,offsetX:Ge-2*mr,offsetY:Ze-2*wr,scaleX:mr,scaleY:wr}}getPattern(Xe,ir,sr,rr){Se(Xe,this._bbox);let nr;if(rr===Ce.SHADING)nr=_e.Util.singularValueDecompose2dScale((0,xe.getCurrentTransform)(Xe));else if(nr=_e.Util.singularValueDecompose2dScale(ir.baseTransform),this.matrix){const Ge=_e.Util.singularValueDecompose2dScale(this.matrix);nr=[nr[0]*Ge[0],nr[1]*Ge[1]]}const We=this._createMeshCanvas(nr,rr===Ce.SHADING?null:this._background,ir.cachedCanvases);return rr!==Ce.SHADING&&(Xe.setTransform(...ir.baseTransform),this.matrix&&Xe.transform(...this.matrix)),Xe.translate(We.offsetX,We.offsetY),Xe.scale(We.scaleX,We.scaleY),Xe.createPattern(We.canvas,"no-repeat")}}class ke extends Re{getPattern(){return"hotpink"}}function Oe(Ve){switch(Ve[0]){case"RadialAxial":return new Be(Ve);case"Mesh":return new Ue(Ve);case"Dummy":return new ke}throw new Error(`Unknown IR type: ${Ve[0]}`)}const je={COLORED:1,UNCOLORED:2},ze=class ze{constructor(Xe,ir,sr,rr,nr){this.operatorList=Xe[2],this.matrix=Xe[3]||[1,0,0,1,0,0],this.bbox=Xe[4],this.xstep=Xe[5],this.ystep=Xe[6],this.paintType=Xe[7],this.tilingType=Xe[8],this.color=ir,this.ctx=sr,this.canvasGraphicsFactory=rr,this.baseTransform=nr}createPatternCanvas(Xe){const ir=this.operatorList,sr=this.bbox,rr=this.xstep,nr=this.ystep,We=this.paintType,Ge=this.tilingType,Ze=this.color,or=this.canvasGraphicsFactory;(0,_e.info)("TilingType: "+Ge);const He=sr[0],Je=sr[1],$e=sr[2],mr=sr[3],wr=_e.Util.singularValueDecompose2dScale(this.matrix),vr=_e.Util.singularValueDecompose2dScale(this.baseTransform),ur=[wr[0]*vr[0],wr[1]*vr[1]],Cr=this.getSizeAndScale(rr,this.ctx.canvas.width,ur[0]),_r=this.getSizeAndScale(nr,this.ctx.canvas.height,ur[1]),hr=Xe.cachedCanvases.getCanvas("pattern",Cr.size,_r.size,!0),Sr=hr.context,ar=or.createCanvasGraphics(Sr);ar.groupLevel=Xe.groupLevel,this.setFillAndStrokeStyleToContext(ar,We,Ze);let tr=He,lr=Je,pr=$e,Er=mr;return He<0&&(tr=0,pr+=Math.abs(He)),Je<0&&(lr=0,Er+=Math.abs(Je)),Sr.translate(-(Cr.scale*tr),-(_r.scale*lr)),ar.transform(Cr.scale,0,0,_r.scale,0,0),Sr.save(),this.clipBbox(ar,tr,lr,pr,Er),ar.baseTransform=(0,xe.getCurrentTransform)(ar.ctx),ar.executeOperatorList(ir),ar.endDrawing(),{canvas:hr.canvas,scaleX:Cr.scale,scaleY:_r.scale,offsetX:tr,offsetY:lr}}getSizeAndScale(Xe,ir,sr){Xe=Math.abs(Xe);const rr=Math.max(ze.MAX_PATTERN_SIZE,ir);let nr=Math.ceil(Xe*sr);return nr>=rr?nr=rr:sr=nr/Xe,{scale:sr,size:nr}}clipBbox(Xe,ir,sr,rr,nr){const We=rr-ir,Ge=nr-sr;Xe.ctx.rect(ir,sr,We,Ge),Xe.current.updateRectMinMax((0,xe.getCurrentTransform)(Xe.ctx),[ir,sr,rr,nr]),Xe.clip(),Xe.endPath()}setFillAndStrokeStyleToContext(Xe,ir,sr){const rr=Xe.ctx,nr=Xe.current;switch(ir){case je.COLORED:const We=this.ctx;rr.fillStyle=We.fillStyle,rr.strokeStyle=We.strokeStyle,nr.fillColor=We.fillStyle,nr.strokeColor=We.strokeStyle;break;case je.UNCOLORED:const Ge=_e.Util.makeHexColor(sr[0],sr[1],sr[2]);rr.fillStyle=Ge,rr.strokeStyle=Ge,nr.fillColor=Ge,nr.strokeColor=Ge;break;default:throw new _e.FormatError(`Unsupported paint type: ${ir}`)}}getPattern(Xe,ir,sr,rr){let nr=sr;rr!==Ce.SHADING&&(nr=_e.Util.transform(nr,ir.baseTransform),this.matrix&&(nr=_e.Util.transform(nr,this.matrix)));const We=this.createPatternCanvas(ir);let Ge=new DOMMatrix(nr);Ge=Ge.translate(We.offsetX,We.offsetY),Ge=Ge.scale(1/We.scaleX,1/We.scaleY);const Ze=Xe.createPattern(We.canvas,"repeat");return Ze.setTransform(Ge),Ze}};ys(ze,"MAX_PATTERN_SIZE",3e3);let Ke=ze;t.TilingPattern=Ke},(Ee,t,Ae)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=Ce,t.convertToRGBA=xe,t.grayToRGBA=Re;var _e=Ae(1);function xe(Be){switch(Be.kind){case _e.ImageKind.GRAYSCALE_1BPP:return Ce(Be);case _e.ImageKind.RGB_24BPP:return Se(Be)}return null}function Ce({src:Be,srcPos:Fe=0,dest:Ie,width:Ue,height:ke,nonBlackColor:Oe=4294967295,inverseDecode:je=!1}){const Ke=_e.FeatureTest.isLittleEndian?4278190080:255,[ze,Ve]=je?[Oe,Ke]:[Ke,Oe],Xe=Ue>>3,ir=Ue&7,sr=Be.length;Ie=new Uint32Array(Ie.buffer);let rr=0;for(let nr=0;nr<ke;nr++){for(const Ge=Fe+Xe;Fe<Ge;Fe++){const Ze=Fe<sr?Be[Fe]:255;Ie[rr++]=Ze&128?Ve:ze,Ie[rr++]=Ze&64?Ve:ze,Ie[rr++]=Ze&32?Ve:ze,Ie[rr++]=Ze&16?Ve:ze,Ie[rr++]=Ze&8?Ve:ze,Ie[rr++]=Ze&4?Ve:ze,Ie[rr++]=Ze&2?Ve:ze,Ie[rr++]=Ze&1?Ve:ze}if(ir===0)continue;const We=Fe<sr?Be[Fe++]:255;for(let Ge=0;Ge<ir;Ge++)Ie[rr++]=We&1<<7-Ge?Ve:ze}return{srcPos:Fe,destPos:rr}}function Se({src:Be,srcPos:Fe=0,dest:Ie,destPos:Ue=0,width:ke,height:Oe}){let je=0;const Ke=Be.length>>2,ze=new Uint32Array(Be.buffer,Fe,Ke);if(_e.FeatureTest.isLittleEndian){for(;je<Ke-2;je+=3,Ue+=4){const Ve=ze[je],Xe=ze[je+1],ir=ze[je+2];Ie[Ue]=Ve|4278190080,Ie[Ue+1]=Ve>>>24|Xe<<8|4278190080,Ie[Ue+2]=Xe>>>16|ir<<16|4278190080,Ie[Ue+3]=ir>>>8|4278190080}for(let Ve=je*4,Xe=Be.length;Ve<Xe;Ve+=3)Ie[Ue++]=Be[Ve]|Be[Ve+1]<<8|Be[Ve+2]<<16|4278190080}else{for(;je<Ke-2;je+=3,Ue+=4){const Ve=ze[je],Xe=ze[je+1],ir=ze[je+2];Ie[Ue]=Ve|255,Ie[Ue+1]=Ve<<24|Xe>>>8|255,Ie[Ue+2]=Xe<<16|ir>>>16|255,Ie[Ue+3]=ir<<8|255}for(let Ve=je*4,Xe=Be.length;Ve<Xe;Ve+=3)Ie[Ue++]=Be[Ve]<<24|Be[Ve+1]<<16|Be[Ve+2]<<8|255}return{srcPos:Fe,destPos:Ue}}function Re(Be,Fe){if(_e.FeatureTest.isLittleEndian)for(let Ie=0,Ue=Be.length;Ie<Ue;Ie++)Fe[Ie]=Be[Ie]*65793|4278190080;else for(let Ie=0,Ue=Be.length;Ie<Ue;Ie++)Fe[Ie]=Be[Ie]*16843008|255}},(Ee,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const Ae=Object.create(null);t.GlobalWorkerOptions=Ae,Ae.workerPort=null,Ae.workerSrc=""},(Ee,t,Ae)=>{var Be,pm,gm,hd;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var _e=Ae(1);const xe={DATA:1,ERROR:2},Ce={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Se(ke){switch(ke instanceof Error||typeof ke=="object"&&ke!==null||(0,_e.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ke.name){case"AbortException":return new _e.AbortException(ke.message);case"MissingPDFException":return new _e.MissingPDFException(ke.message);case"PasswordException":return new _e.PasswordException(ke.message,ke.code);case"UnexpectedResponseException":return new _e.UnexpectedResponseException(ke.message,ke.status);case"UnknownErrorException":return new _e.UnknownErrorException(ke.message,ke.details);default:return new _e.UnknownErrorException(ke.message,ke.toString())}}class Re{constructor(Oe,je,Ke){Vn(this,Be);this.sourceName=Oe,this.targetName=je,this.comObj=Ke,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ze=>{const Ve=ze.data;if(Ve.targetName!==this.sourceName)return;if(Ve.stream){Bn(this,Be,gm).call(this,Ve);return}if(Ve.callback){const ir=Ve.callbackId,sr=this.callbackCapabilities[ir];if(!sr)throw new Error(`Cannot resolve callback ${ir}`);if(delete this.callbackCapabilities[ir],Ve.callback===xe.DATA)sr.resolve(Ve.data);else if(Ve.callback===xe.ERROR)sr.reject(Se(Ve.reason));else throw new Error("Unexpected callback case");return}const Xe=this.actionHandler[Ve.action];if(!Xe)throw new Error(`Unknown action from worker: ${Ve.action}`);if(Ve.callbackId){const ir=this.sourceName,sr=Ve.sourceName;new Promise(function(rr){rr(Xe(Ve.data))}).then(function(rr){Ke.postMessage({sourceName:ir,targetName:sr,callback:xe.DATA,callbackId:Ve.callbackId,data:rr})},function(rr){Ke.postMessage({sourceName:ir,targetName:sr,callback:xe.ERROR,callbackId:Ve.callbackId,reason:Se(rr)})});return}if(Ve.streamId){Bn(this,Be,pm).call(this,Ve);return}Xe(Ve.data)},Ke.addEventListener("message",this._onComObjOnMessage)}on(Oe,je){const Ke=this.actionHandler;if(Ke[Oe])throw new Error(`There is already an actionName called "${Oe}"`);Ke[Oe]=je}send(Oe,je,Ke){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Oe,data:je},Ke)}sendWithPromise(Oe,je,Ke){const ze=this.callbackId++,Ve=new _e.PromiseCapability;this.callbackCapabilities[ze]=Ve;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Oe,callbackId:ze,data:je},Ke)}catch(Xe){Ve.reject(Xe)}return Ve.promise}sendWithStream(Oe,je,Ke,ze){const Ve=this.streamId++,Xe=this.sourceName,ir=this.targetName,sr=this.comObj;return new ReadableStream({start:rr=>{const nr=new _e.PromiseCapability;return this.streamControllers[Ve]={controller:rr,startCall:nr,pullCall:null,cancelCall:null,isClosed:!1},sr.postMessage({sourceName:Xe,targetName:ir,action:Oe,streamId:Ve,data:je,desiredSize:rr.desiredSize},ze),nr.promise},pull:rr=>{const nr=new _e.PromiseCapability;return this.streamControllers[Ve].pullCall=nr,sr.postMessage({sourceName:Xe,targetName:ir,stream:Ce.PULL,streamId:Ve,desiredSize:rr.desiredSize}),nr.promise},cancel:rr=>{(0,_e.assert)(rr instanceof Error,"cancel must have a valid reason");const nr=new _e.PromiseCapability;return this.streamControllers[Ve].cancelCall=nr,this.streamControllers[Ve].isClosed=!0,sr.postMessage({sourceName:Xe,targetName:ir,stream:Ce.CANCEL,streamId:Ve,reason:Se(rr)}),nr.promise}},Ke)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Be=new WeakSet,pm=function(Oe){const je=Oe.streamId,Ke=this.sourceName,ze=Oe.sourceName,Ve=this.comObj,Xe=this,ir=this.actionHandler[Oe.action],sr={enqueue(rr,nr=1,We){if(this.isCancelled)return;const Ge=this.desiredSize;this.desiredSize-=nr,Ge>0&&this.desiredSize<=0&&(this.sinkCapability=new _e.PromiseCapability,this.ready=this.sinkCapability.promise),Ve.postMessage({sourceName:Ke,targetName:ze,stream:Ce.ENQUEUE,streamId:je,chunk:rr},We)},close(){this.isCancelled||(this.isCancelled=!0,Ve.postMessage({sourceName:Ke,targetName:ze,stream:Ce.CLOSE,streamId:je}),delete Xe.streamSinks[je])},error(rr){(0,_e.assert)(rr instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Ve.postMessage({sourceName:Ke,targetName:ze,stream:Ce.ERROR,streamId:je,reason:Se(rr)}))},sinkCapability:new _e.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:Oe.desiredSize,ready:null};sr.sinkCapability.resolve(),sr.ready=sr.sinkCapability.promise,this.streamSinks[je]=sr,new Promise(function(rr){rr(ir(Oe.data,sr))}).then(function(){Ve.postMessage({sourceName:Ke,targetName:ze,stream:Ce.START_COMPLETE,streamId:je,success:!0})},function(rr){Ve.postMessage({sourceName:Ke,targetName:ze,stream:Ce.START_COMPLETE,streamId:je,reason:Se(rr)})})},gm=function(Oe){const je=Oe.streamId,Ke=this.sourceName,ze=Oe.sourceName,Ve=this.comObj,Xe=this.streamControllers[je],ir=this.streamSinks[je];switch(Oe.stream){case Ce.START_COMPLETE:Oe.success?Xe.startCall.resolve():Xe.startCall.reject(Se(Oe.reason));break;case Ce.PULL_COMPLETE:Oe.success?Xe.pullCall.resolve():Xe.pullCall.reject(Se(Oe.reason));break;case Ce.PULL:if(!ir){Ve.postMessage({sourceName:Ke,targetName:ze,stream:Ce.PULL_COMPLETE,streamId:je,success:!0});break}ir.desiredSize<=0&&Oe.desiredSize>0&&ir.sinkCapability.resolve(),ir.desiredSize=Oe.desiredSize,new Promise(function(sr){var rr;sr((rr=ir.onPull)==null?void 0:rr.call(ir))}).then(function(){Ve.postMessage({sourceName:Ke,targetName:ze,stream:Ce.PULL_COMPLETE,streamId:je,success:!0})},function(sr){Ve.postMessage({sourceName:Ke,targetName:ze,stream:Ce.PULL_COMPLETE,streamId:je,reason:Se(sr)})});break;case Ce.ENQUEUE:if((0,_e.assert)(Xe,"enqueue should have stream controller"),Xe.isClosed)break;Xe.controller.enqueue(Oe.chunk);break;case Ce.CLOSE:if((0,_e.assert)(Xe,"close should have stream controller"),Xe.isClosed)break;Xe.isClosed=!0,Xe.controller.close(),Bn(this,Be,hd).call(this,Xe,je);break;case Ce.ERROR:(0,_e.assert)(Xe,"error should have stream controller"),Xe.controller.error(Se(Oe.reason)),Bn(this,Be,hd).call(this,Xe,je);break;case Ce.CANCEL_COMPLETE:Oe.success?Xe.cancelCall.resolve():Xe.cancelCall.reject(Se(Oe.reason)),Bn(this,Be,hd).call(this,Xe,je);break;case Ce.CANCEL:if(!ir)break;new Promise(function(sr){var rr;sr((rr=ir.onCancel)==null?void 0:rr.call(ir,Se(Oe.reason)))}).then(function(){Ve.postMessage({sourceName:Ke,targetName:ze,stream:Ce.CANCEL_COMPLETE,streamId:je,success:!0})},function(sr){Ve.postMessage({sourceName:Ke,targetName:ze,stream:Ce.CANCEL_COMPLETE,streamId:je,reason:Se(sr)})}),ir.sinkCapability.reject(Se(Oe.reason)),ir.isCancelled=!0,delete this.streamSinks[je];break;default:throw new Error("Unexpected stream case")}},hd=async function(Oe,je){var Ke,ze,Ve;await Promise.allSettled([(Ke=Oe.startCall)==null?void 0:Ke.promise,(ze=Oe.pullCall)==null?void 0:ze.promise,(Ve=Oe.cancelCall)==null?void 0:Ve.promise]),delete this.streamControllers[je]},t.MessageHandler=Re},(Ee,t,Ae)=>{var Ce,Se;Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var _e=Ae(1);class xe{constructor({parsedData:Be,rawData:Fe}){Vn(this,Ce);Vn(this,Se);Hn(this,Ce,Be),Hn(this,Se,Fe)}getRaw(){return yr(this,Se)}get(Be){return yr(this,Ce).get(Be)??null}getAll(){return(0,_e.objectFromMap)(yr(this,Ce))}has(Be){return yr(this,Ce).has(Be)}}Ce=new WeakMap,Se=new WeakMap,t.Metadata=xe},(Ee,t,Ae)=>{var Be,Fe,Ie,Ue,ke,Oe,qf;Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var _e=Ae(1),xe=Ae(8);const Ce=Symbol("INTERNAL");class Se{constructor(ze,Ve){Vn(this,Be,!0);this.name=ze,this.intent=Ve}get visible(){return yr(this,Be)}_setVisible(ze,Ve){ze!==Ce&&(0,_e.unreachable)("Internal method `_setVisible` called."),Hn(this,Be,Ve)}}Be=new WeakMap;class Re{constructor(ze){Vn(this,Oe);Vn(this,Fe,null);Vn(this,Ie,new Map);Vn(this,Ue,null);Vn(this,ke,null);if(this.name=null,this.creator=null,ze!==null){this.name=ze.name,this.creator=ze.creator,Hn(this,ke,ze.order);for(const Ve of ze.groups)yr(this,Ie).set(Ve.id,new Se(Ve.name,Ve.intent));if(ze.baseState==="OFF")for(const Ve of yr(this,Ie).values())Ve._setVisible(Ce,!1);for(const Ve of ze.on)yr(this,Ie).get(Ve)._setVisible(Ce,!0);for(const Ve of ze.off)yr(this,Ie).get(Ve)._setVisible(Ce,!1);Hn(this,Ue,this.getHash())}}isVisible(ze){if(yr(this,Ie).size===0)return!0;if(!ze)return(0,_e.warn)("Optional content group not defined."),!0;if(ze.type==="OCG")return yr(this,Ie).has(ze.id)?yr(this,Ie).get(ze.id).visible:((0,_e.warn)(`Optional content group not found: ${ze.id}`),!0);if(ze.type==="OCMD"){if(ze.expression)return Bn(this,Oe,qf).call(this,ze.expression);if(!ze.policy||ze.policy==="AnyOn"){for(const Ve of ze.ids){if(!yr(this,Ie).has(Ve))return(0,_e.warn)(`Optional content group not found: ${Ve}`),!0;if(yr(this,Ie).get(Ve).visible)return!0}return!1}else if(ze.policy==="AllOn"){for(const Ve of ze.ids){if(!yr(this,Ie).has(Ve))return(0,_e.warn)(`Optional content group not found: ${Ve}`),!0;if(!yr(this,Ie).get(Ve).visible)return!1}return!0}else if(ze.policy==="AnyOff"){for(const Ve of ze.ids){if(!yr(this,Ie).has(Ve))return(0,_e.warn)(`Optional content group not found: ${Ve}`),!0;if(!yr(this,Ie).get(Ve).visible)return!0}return!1}else if(ze.policy==="AllOff"){for(const Ve of ze.ids){if(!yr(this,Ie).has(Ve))return(0,_e.warn)(`Optional content group not found: ${Ve}`),!0;if(yr(this,Ie).get(Ve).visible)return!1}return!0}return(0,_e.warn)(`Unknown optional content policy ${ze.policy}.`),!0}return(0,_e.warn)(`Unknown group type ${ze.type}.`),!0}setVisibility(ze,Ve=!0){if(!yr(this,Ie).has(ze)){(0,_e.warn)(`Optional content group not found: ${ze}`);return}yr(this,Ie).get(ze)._setVisible(Ce,!!Ve),Hn(this,Fe,null)}get hasInitialVisibility(){return yr(this,Ue)===null||this.getHash()===yr(this,Ue)}getOrder(){return yr(this,Ie).size?yr(this,ke)?yr(this,ke).slice():[...yr(this,Ie).keys()]:null}getGroups(){return yr(this,Ie).size>0?(0,_e.objectFromMap)(yr(this,Ie)):null}getGroup(ze){return yr(this,Ie).get(ze)||null}getHash(){if(yr(this,Fe)!==null)return yr(this,Fe);const ze=new xe.MurmurHash3_64;for(const[Ve,Xe]of yr(this,Ie))ze.update(`${Ve}:${Xe.visible}`);return Hn(this,Fe,ze.hexdigest())}}Fe=new WeakMap,Ie=new WeakMap,Ue=new WeakMap,ke=new WeakMap,Oe=new WeakSet,qf=function(ze){const Ve=ze.length;if(Ve<2)return!0;const Xe=ze[0];for(let ir=1;ir<Ve;ir++){const sr=ze[ir];let rr;if(Array.isArray(sr))rr=Bn(this,Oe,qf).call(this,sr);else if(yr(this,Ie).has(sr))rr=yr(this,Ie).get(sr).visible;else return(0,_e.warn)(`Optional content group not found: ${sr}`),!0;switch(Xe){case"And":if(!rr)return!1;break;case"Or":if(rr)return!0;break;case"Not":return!rr;default:return!0}}return Xe==="And"},t.OptionalContentConfig=Re},(Ee,t,Ae)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var _e=Ae(1),xe=Ae(6);class Ce{constructor({length:Fe,initialData:Ie,progressiveDone:Ue=!1,contentDispositionFilename:ke=null,disableRange:Oe=!1,disableStream:je=!1},Ke){if((0,_e.assert)(Ke,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Ue,this._contentDispositionFilename=ke,(Ie==null?void 0:Ie.length)>0){const ze=Ie instanceof Uint8Array&&Ie.byteLength===Ie.buffer.byteLength?Ie.buffer:new Uint8Array(Ie).buffer;this._queuedChunks.push(ze)}this._pdfDataRangeTransport=Ke,this._isStreamingSupported=!je,this._isRangeSupported=!Oe,this._contentLength=Fe,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((ze,Ve)=>{this._onReceiveData({begin:ze,chunk:Ve})}),this._pdfDataRangeTransport.addProgressListener((ze,Ve)=>{this._onProgress({loaded:ze,total:Ve})}),this._pdfDataRangeTransport.addProgressiveReadListener(ze=>{this._onReceiveData({chunk:ze})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:Fe,chunk:Ie}){const Ue=Ie instanceof Uint8Array&&Ie.byteLength===Ie.buffer.byteLength?Ie.buffer:new Uint8Array(Ie).buffer;if(Fe===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Ue):this._queuedChunks.push(Ue);else{const ke=this._rangeReaders.some(function(Oe){return Oe._begin!==Fe?!1:(Oe._enqueue(Ue),!0)});(0,_e.assert)(ke,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var Fe;return((Fe=this._fullRequestReader)==null?void 0:Fe._loaded)??0}_onProgress(Fe){var Ie,Ue,ke,Oe;Fe.total===void 0?(Ue=(Ie=this._rangeReaders[0])==null?void 0:Ie.onProgress)==null||Ue.call(Ie,{loaded:Fe.loaded}):(Oe=(ke=this._fullRequestReader)==null?void 0:ke.onProgress)==null||Oe.call(ke,{loaded:Fe.loaded,total:Fe.total})}_onProgressiveDone(){var Fe;(Fe=this._fullRequestReader)==null||Fe.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(Fe){const Ie=this._rangeReaders.indexOf(Fe);Ie>=0&&this._rangeReaders.splice(Ie,1)}getFullReader(){(0,_e.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const Fe=this._queuedChunks;return this._queuedChunks=null,new Se(this,Fe,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(Fe,Ie){if(Ie<=this._progressiveDataLength)return null;const Ue=new Re(this,Fe,Ie);return this._pdfDataRangeTransport.requestDataRange(Fe,Ie),this._rangeReaders.push(Ue),Ue}cancelAllRequests(Fe){var Ie;(Ie=this._fullRequestReader)==null||Ie.cancel(Fe);for(const Ue of this._rangeReaders.slice(0))Ue.cancel(Fe);this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=Ce;class Se{constructor(Fe,Ie,Ue=!1,ke=null){this._stream=Fe,this._done=Ue||!1,this._filename=(0,xe.isPdfFile)(ke)?ke:null,this._queuedChunks=Ie||[],this._loaded=0;for(const Oe of this._queuedChunks)this._loaded+=Oe.byteLength;this._requests=[],this._headersReady=Promise.resolve(),Fe._fullRequestReader=this,this.onProgress=null}_enqueue(Fe){this._done||(this._requests.length>0?this._requests.shift().resolve({value:Fe,done:!1}):this._queuedChunks.push(Fe),this._loaded+=Fe.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Fe=new _e.PromiseCapability;return this._requests.push(Fe),Fe.promise}cancel(Fe){this._done=!0;for(const Ie of this._requests)Ie.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Re{constructor(Fe,Ie,Ue){this._stream=Fe,this._begin=Ie,this._end=Ue,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(Fe){if(!this._done){if(this._requests.length===0)this._queuedChunk=Fe;else{this._requests.shift().resolve({value:Fe,done:!1});for(const Ue of this._requests)Ue.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const Ie=this._queuedChunk;return this._queuedChunk=null,{value:Ie,done:!1}}if(this._done)return{value:void 0,done:!0};const Fe=new _e.PromiseCapability;return this._requests.push(Fe),Fe.promise}cancel(Fe){this._done=!0;for(const Ie of this._requests)Ie.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Ee,t,Ae)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var _e=Ae(1),xe=Ae(20);function Ce(Ue,ke,Oe){return{method:"GET",headers:Ue,signal:Oe.signal,mode:"cors",credentials:ke?"include":"same-origin",redirect:"follow"}}function Se(Ue){const ke=new Headers;for(const Oe in Ue){const je=Ue[Oe];je!==void 0&&ke.append(Oe,je)}return ke}function Re(Ue){return Ue instanceof Uint8Array?Ue.buffer:Ue instanceof ArrayBuffer?Ue:((0,_e.warn)(`getArrayBuffer - unexpected data format: ${Ue}`),new Uint8Array(Ue).buffer)}class Be{constructor(ke){this.source=ke,this.isHttp=/^https?:/i.test(ke.url),this.httpHeaders=this.isHttp&&ke.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ke;return((ke=this._fullRequestReader)==null?void 0:ke._loaded)??0}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Fe(this),this._fullRequestReader}getRangeReader(ke,Oe){if(Oe<=this._progressiveDataLength)return null;const je=new Ie(this,ke,Oe);return this._rangeRequestReaders.push(je),je}cancelAllRequests(ke){var Oe;(Oe=this._fullRequestReader)==null||Oe.cancel(ke);for(const je of this._rangeRequestReaders.slice(0))je.cancel(ke)}}t.PDFFetchStream=Be;class Fe{constructor(ke){this._stream=ke,this._reader=null,this._loaded=0,this._filename=null;const Oe=ke.source;this._withCredentials=Oe.withCredentials||!1,this._contentLength=Oe.length,this._headersCapability=new _e.PromiseCapability,this._disableRange=Oe.disableRange||!1,this._rangeChunkSize=Oe.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!Oe.disableStream,this._isRangeSupported=!Oe.disableRange,this._headers=Se(this._stream.httpHeaders);const je=Oe.url;fetch(je,Ce(this._headers,this._withCredentials,this._abortController)).then(Ke=>{if(!(0,xe.validateResponseStatus)(Ke.status))throw(0,xe.createResponseStatusError)(Ke.status,je);this._reader=Ke.body.getReader(),this._headersCapability.resolve();const ze=ir=>Ke.headers.get(ir),{allowRangeRequests:Ve,suggestedLength:Xe}=(0,xe.validateRangeRequestCapabilities)({getResponseHeader:ze,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ve,this._contentLength=Xe||this._contentLength,this._filename=(0,xe.extractFilenameFromHeader)(ze),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _e.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var je;await this._headersCapability.promise;const{value:ke,done:Oe}=await this._reader.read();return Oe?{value:ke,done:Oe}:(this._loaded+=ke.byteLength,(je=this.onProgress)==null||je.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Re(ke),done:!1})}cancel(ke){var Oe;(Oe=this._reader)==null||Oe.cancel(ke),this._abortController.abort()}}class Ie{constructor(ke,Oe,je){this._stream=ke,this._reader=null,this._loaded=0;const Ke=ke.source;this._withCredentials=Ke.withCredentials||!1,this._readCapability=new _e.PromiseCapability,this._isStreamingSupported=!Ke.disableStream,this._abortController=new AbortController,this._headers=Se(this._stream.httpHeaders),this._headers.append("Range",`bytes=${Oe}-${je-1}`);const ze=Ke.url;fetch(ze,Ce(this._headers,this._withCredentials,this._abortController)).then(Ve=>{if(!(0,xe.validateResponseStatus)(Ve.status))throw(0,xe.createResponseStatusError)(Ve.status,ze);this._readCapability.resolve(),this._reader=Ve.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var je;await this._readCapability.promise;const{value:ke,done:Oe}=await this._reader.read();return Oe?{value:ke,done:Oe}:(this._loaded+=ke.byteLength,(je=this.onProgress)==null||je.call(this,{loaded:this._loaded}),{value:Re(ke),done:!1})}cancel(ke){var Oe;(Oe=this._reader)==null||Oe.cancel(ke),this._abortController.abort()}}},(Ee,t,Ae)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=Be,t.extractFilenameFromHeader=Re,t.validateRangeRequestCapabilities=Se,t.validateResponseStatus=Fe;var _e=Ae(1),xe=Ae(21),Ce=Ae(6);function Se({getResponseHeader:Ie,isHttp:Ue,rangeChunkSize:ke,disableRange:Oe}){const je={allowRangeRequests:!1,suggestedLength:void 0},Ke=parseInt(Ie("Content-Length"),10);return!Number.isInteger(Ke)||(je.suggestedLength=Ke,Ke<=2*ke)||Oe||!Ue||Ie("Accept-Ranges")!=="bytes"||(Ie("Content-Encoding")||"identity")!=="identity"||(je.allowRangeRequests=!0),je}function Re(Ie){const Ue=Ie("Content-Disposition");if(Ue){let ke=(0,xe.getFilenameFromContentDispositionHeader)(Ue);if(ke.includes("%"))try{ke=decodeURIComponent(ke)}catch{}if((0,Ce.isPdfFile)(ke))return ke}return null}function Be(Ie,Ue){return Ie===404||Ie===0&&Ue.startsWith("file:")?new _e.MissingPDFException('Missing PDF "'+Ue+'".'):new _e.UnexpectedResponseException(`Unexpected server response (${Ie}) while retrieving PDF "${Ue}".`,Ie)}function Fe(Ie){return Ie===200||Ie===206}},(Ee,t,Ae)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=xe;var _e=Ae(1);function xe(Ce){let Se=!0,Re=Be("filename\\*","i").exec(Ce);if(Re){Re=Re[1];let Ke=ke(Re);return Ke=unescape(Ke),Ke=Oe(Ke),Ke=je(Ke),Ie(Ke)}if(Re=Ue(Ce),Re){const Ke=je(Re);return Ie(Ke)}if(Re=Be("filename","i").exec(Ce),Re){Re=Re[1];let Ke=ke(Re);return Ke=je(Ke),Ie(Ke)}function Be(Ke,ze){return new RegExp("(?:^|;)\\s*"+Ke+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',ze)}function Fe(Ke,ze){if(Ke){if(!/^[\x00-\xFF]+$/.test(ze))return ze;try{const Ve=new TextDecoder(Ke,{fatal:!0}),Xe=(0,_e.stringToBytes)(ze);ze=Ve.decode(Xe),Se=!1}catch{}}return ze}function Ie(Ke){return Se&&/[\x80-\xff]/.test(Ke)&&(Ke=Fe("utf-8",Ke),Se&&(Ke=Fe("iso-8859-1",Ke))),Ke}function Ue(Ke){const ze=[];let Ve;const Xe=Be("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Ve=Xe.exec(Ke))!==null;){let[,sr,rr,nr]=Ve;if(sr=parseInt(sr,10),sr in ze){if(sr===0)break;continue}ze[sr]=[rr,nr]}const ir=[];for(let sr=0;sr<ze.length&&sr in ze;++sr){let[rr,nr]=ze[sr];nr=ke(nr),rr&&(nr=unescape(nr),sr===0&&(nr=Oe(nr))),ir.push(nr)}return ir.join("")}function ke(Ke){if(Ke.startsWith('"')){const ze=Ke.slice(1).split('\\"');for(let Ve=0;Ve<ze.length;++Ve){const Xe=ze[Ve].indexOf('"');Xe!==-1&&(ze[Ve]=ze[Ve].slice(0,Xe),ze.length=Ve+1),ze[Ve]=ze[Ve].replaceAll(/\\(.)/g,"$1")}Ke=ze.join('"')}return Ke}function Oe(Ke){const ze=Ke.indexOf("'");if(ze===-1)return Ke;const Ve=Ke.slice(0,ze),ir=Ke.slice(ze+1).replace(/^[^']*'/,"");return Fe(Ve,ir)}function je(Ke){return!Ke.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Ke)?Ke:Ke.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(ze,Ve,Xe,ir){if(Xe==="q"||Xe==="Q")return ir=ir.replaceAll("_"," "),ir=ir.replaceAll(/=([0-9a-fA-F]{2})/g,function(sr,rr){return String.fromCharCode(parseInt(rr,16))}),Fe(Ve,ir);try{ir=atob(ir)}catch{}return Fe(Ve,ir)})}return""}},(Ee,t,Ae)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var _e=Ae(1),xe=Ae(20);const Ce=200,Se=206;function Re(ke){const Oe=ke.response;return typeof Oe!="string"?Oe:(0,_e.stringToBytes)(Oe).buffer}class Be{constructor(Oe,je={}){this.url=Oe,this.isHttp=/^https?:/i.test(Oe),this.httpHeaders=this.isHttp&&je.httpHeaders||Object.create(null),this.withCredentials=je.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(Oe,je,Ke){const ze={begin:Oe,end:je};for(const Ve in Ke)ze[Ve]=Ke[Ve];return this.request(ze)}requestFull(Oe){return this.request(Oe)}request(Oe){const je=new XMLHttpRequest,Ke=this.currXhrId++,ze=this.pendingRequests[Ke]={xhr:je};je.open("GET",this.url),je.withCredentials=this.withCredentials;for(const Ve in this.httpHeaders){const Xe=this.httpHeaders[Ve];Xe!==void 0&&je.setRequestHeader(Ve,Xe)}return this.isHttp&&"begin"in Oe&&"end"in Oe?(je.setRequestHeader("Range",`bytes=${Oe.begin}-${Oe.end-1}`),ze.expectedStatus=Se):ze.expectedStatus=Ce,je.responseType="arraybuffer",Oe.onError&&(je.onerror=function(Ve){Oe.onError(je.status)}),je.onreadystatechange=this.onStateChange.bind(this,Ke),je.onprogress=this.onProgress.bind(this,Ke),ze.onHeadersReceived=Oe.onHeadersReceived,ze.onDone=Oe.onDone,ze.onError=Oe.onError,ze.onProgress=Oe.onProgress,je.send(null),Ke}onProgress(Oe,je){var ze;const Ke=this.pendingRequests[Oe];Ke&&((ze=Ke.onProgress)==null||ze.call(Ke,je))}onStateChange(Oe,je){var sr,rr,nr;const Ke=this.pendingRequests[Oe];if(!Ke)return;const ze=Ke.xhr;if(ze.readyState>=2&&Ke.onHeadersReceived&&(Ke.onHeadersReceived(),delete Ke.onHeadersReceived),ze.readyState!==4||!(Oe in this.pendingRequests))return;if(delete this.pendingRequests[Oe],ze.status===0&&this.isHttp){(sr=Ke.onError)==null||sr.call(Ke,ze.status);return}const Ve=ze.status||Ce;if(!(Ve===Ce&&Ke.expectedStatus===Se)&&Ve!==Ke.expectedStatus){(rr=Ke.onError)==null||rr.call(Ke,ze.status);return}const ir=Re(ze);if(Ve===Se){const We=ze.getResponseHeader("Content-Range"),Ge=/bytes (\d+)-(\d+)\/(\d+)/.exec(We);Ke.onDone({begin:parseInt(Ge[1],10),chunk:ir})}else ir?Ke.onDone({begin:0,chunk:ir}):(nr=Ke.onError)==null||nr.call(Ke,ze.status)}getRequestXhr(Oe){return this.pendingRequests[Oe].xhr}isPendingRequest(Oe){return Oe in this.pendingRequests}abortRequest(Oe){const je=this.pendingRequests[Oe].xhr;delete this.pendingRequests[Oe],je.abort()}}class Fe{constructor(Oe){this._source=Oe,this._manager=new Be(Oe.url,{httpHeaders:Oe.httpHeaders,withCredentials:Oe.withCredentials}),this._rangeChunkSize=Oe.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(Oe){const je=this._rangeRequestReaders.indexOf(Oe);je>=0&&this._rangeRequestReaders.splice(je,1)}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Ie(this._manager,this._source),this._fullRequestReader}getRangeReader(Oe,je){const Ke=new Ue(this._manager,Oe,je);return Ke.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Ke),Ke}cancelAllRequests(Oe){var je;(je=this._fullRequestReader)==null||je.cancel(Oe);for(const Ke of this._rangeRequestReaders.slice(0))Ke.cancel(Oe)}}t.PDFNetworkStream=Fe;class Ie{constructor(Oe,je){this._manager=Oe;const Ke={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=je.url,this._fullRequestId=Oe.requestFull(Ke),this._headersReceivedCapability=new _e.PromiseCapability,this._disableRange=je.disableRange||!1,this._contentLength=je.length,this._rangeChunkSize=je.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const Oe=this._fullRequestId,je=this._manager.getRequestXhr(Oe),Ke=Xe=>je.getResponseHeader(Xe),{allowRangeRequests:ze,suggestedLength:Ve}=(0,xe.validateRangeRequestCapabilities)({getResponseHeader:Ke,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});ze&&(this._isRangeSupported=!0),this._contentLength=Ve||this._contentLength,this._filename=(0,xe.extractFilenameFromHeader)(Ke),this._isRangeSupported&&this._manager.abortRequest(Oe),this._headersReceivedCapability.resolve()}_onDone(Oe){if(Oe&&(this._requests.length>0?this._requests.shift().resolve({value:Oe.chunk,done:!1}):this._cachedChunks.push(Oe.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const je of this._requests)je.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(Oe){this._storedError=(0,xe.createResponseStatusError)(Oe,this._url),this._headersReceivedCapability.reject(this._storedError);for(const je of this._requests)je.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(Oe){var je;(je=this.onProgress)==null||je.call(this,{loaded:Oe.loaded,total:Oe.lengthComputable?Oe.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Oe=new _e.PromiseCapability;return this._requests.push(Oe),Oe.promise}cancel(Oe){this._done=!0,this._headersReceivedCapability.reject(Oe);for(const je of this._requests)je.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ue{constructor(Oe,je,Ke){this._manager=Oe;const ze={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Oe.url,this._requestId=Oe.requestRange(je,Ke,ze),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var Oe;(Oe=this.onClosed)==null||Oe.call(this,this)}_onDone(Oe){const je=Oe.chunk;this._requests.length>0?this._requests.shift().resolve({value:je,done:!1}):this._queuedChunk=je,this._done=!0;for(const Ke of this._requests)Ke.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(Oe){this._storedError=(0,xe.createResponseStatusError)(Oe,this._url);for(const je of this._requests)je.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(Oe){var je;this.isStreamingSupported||(je=this.onProgress)==null||je.call(this,{loaded:Oe.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const je=this._queuedChunk;return this._queuedChunk=null,{value:je,done:!1}}if(this._done)return{value:void 0,done:!0};const Oe=new _e.PromiseCapability;return this._requests.push(Oe),Oe.promise}cancel(Oe){this._done=!0;for(const je of this._requests)je.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Ee,t,Ae)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var _e=Ae(1),xe=Ae(20);const Ce=/^file:\/\/\/[a-zA-Z]:\//;function Se(Ke){const ze=require$$5,Ve=ze.parse(Ke);return Ve.protocol==="file:"||Ve.host?Ve:/^[a-z]:[/\\]/i.test(Ke)?ze.parse(`file:///${Ke}`):(Ve.host||(Ve.protocol="file:"),Ve)}class Re{constructor(ze){this.source=ze,this.url=Se(ze.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&ze.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ze;return((ze=this._fullRequestReader)==null?void 0:ze._loaded)??0}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Oe(this):new Ue(this),this._fullRequestReader}getRangeReader(ze,Ve){if(Ve<=this._progressiveDataLength)return null;const Xe=this.isFsUrl?new je(this,ze,Ve):new ke(this,ze,Ve);return this._rangeRequestReaders.push(Xe),Xe}cancelAllRequests(ze){var Ve;(Ve=this._fullRequestReader)==null||Ve.cancel(ze);for(const Xe of this._rangeRequestReaders.slice(0))Xe.cancel(ze)}}t.PDFNodeStream=Re;class Be{constructor(ze){this._url=ze.url,this._done=!1,this._storedError=null,this.onProgress=null;const Ve=ze.source;this._contentLength=Ve.length,this._loaded=0,this._filename=null,this._disableRange=Ve.disableRange||!1,this._rangeChunkSize=Ve.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Ve.disableStream,this._isRangeSupported=!Ve.disableRange,this._readableStream=null,this._readCapability=new _e.PromiseCapability,this._headersCapability=new _e.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Xe;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ze=this._readableStream.read();return ze===null?(this._readCapability=new _e.PromiseCapability,this.read()):(this._loaded+=ze.length,(Xe=this.onProgress)==null||Xe.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ze).buffer,done:!1})}cancel(ze){if(!this._readableStream){this._error(ze);return}this._readableStream.destroy(ze)}_error(ze){this._storedError=ze,this._readCapability.resolve()}_setReadableStream(ze){this._readableStream=ze,ze.on("readable",()=>{this._readCapability.resolve()}),ze.on("end",()=>{ze.destroy(),this._done=!0,this._readCapability.resolve()}),ze.on("error",Ve=>{this._error(Ve)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _e.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Fe{constructor(ze){this._url=ze.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new _e.PromiseCapability;const Ve=ze.source;this._isStreamingSupported=!Ve.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Xe;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ze=this._readableStream.read();return ze===null?(this._readCapability=new _e.PromiseCapability,this.read()):(this._loaded+=ze.length,(Xe=this.onProgress)==null||Xe.call(this,{loaded:this._loaded}),{value:new Uint8Array(ze).buffer,done:!1})}cancel(ze){if(!this._readableStream){this._error(ze);return}this._readableStream.destroy(ze)}_error(ze){this._storedError=ze,this._readCapability.resolve()}_setReadableStream(ze){this._readableStream=ze,ze.on("readable",()=>{this._readCapability.resolve()}),ze.on("end",()=>{ze.destroy(),this._done=!0,this._readCapability.resolve()}),ze.on("error",Ve=>{this._error(Ve)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Ie(Ke,ze){return{protocol:Ke.protocol,auth:Ke.auth,host:Ke.hostname,port:Ke.port,path:Ke.path,method:"GET",headers:ze}}class Ue extends Be{constructor(ze){super(ze);const Ve=Xe=>{if(Xe.statusCode===404){const nr=new _e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=nr,this._headersCapability.reject(nr);return}this._headersCapability.resolve(),this._setReadableStream(Xe);const ir=nr=>this._readableStream.headers[nr.toLowerCase()],{allowRangeRequests:sr,suggestedLength:rr}=(0,xe.validateRangeRequestCapabilities)({getResponseHeader:ir,isHttp:ze.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=sr,this._contentLength=rr||this._contentLength,this._filename=(0,xe.extractFilenameFromHeader)(ir)};if(this._request=null,this._url.protocol==="http:"){const Xe=require$$5;this._request=Xe.request(Ie(this._url,ze.httpHeaders),Ve)}else{const Xe=require$$5;this._request=Xe.request(Ie(this._url,ze.httpHeaders),Ve)}this._request.on("error",Xe=>{this._storedError=Xe,this._headersCapability.reject(Xe)}),this._request.end()}}class ke extends Fe{constructor(ze,Ve,Xe){super(ze),this._httpHeaders={};for(const sr in ze.httpHeaders){const rr=ze.httpHeaders[sr];rr!==void 0&&(this._httpHeaders[sr]=rr)}this._httpHeaders.Range=`bytes=${Ve}-${Xe-1}`;const ir=sr=>{if(sr.statusCode===404){const rr=new _e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=rr;return}this._setReadableStream(sr)};if(this._request=null,this._url.protocol==="http:"){const sr=require$$5;this._request=sr.request(Ie(this._url,this._httpHeaders),ir)}else{const sr=require$$5;this._request=sr.request(Ie(this._url,this._httpHeaders),ir)}this._request.on("error",sr=>{this._storedError=sr}),this._request.end()}}class Oe extends Be{constructor(ze){super(ze);let Ve=decodeURIComponent(this._url.path);Ce.test(this._url.href)&&(Ve=Ve.replace(/^\//,""));const Xe=require$$5;Xe.lstat(Ve,(ir,sr)=>{if(ir){ir.code==="ENOENT"&&(ir=new _e.MissingPDFException(`Missing PDF "${Ve}".`)),this._storedError=ir,this._headersCapability.reject(ir);return}this._contentLength=sr.size,this._setReadableStream(Xe.createReadStream(Ve)),this._headersCapability.resolve()})}}class je extends Fe{constructor(ze,Ve,Xe){super(ze);let ir=decodeURIComponent(this._url.path);Ce.test(this._url.href)&&(ir=ir.replace(/^\//,""));const sr=require$$5;this._setReadableStream(sr.createReadStream(ir,{start:Ve,end:Xe-1}))}}},(Ee,t,Ae)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var _e=Ae(6),xe=Ae(1);const Ce={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Se="http://www.w3.org/XML/1998/namespace",Re="http://www.w3.org/1999/xlink",Be=["butt","round","square"],Fe=["miter","round","bevel"],Ie=function(sr,rr="",nr=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!nr)return URL.createObjectURL(new Blob([sr],{type:rr}));const We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Ge=`data:${rr};base64,`;for(let Ze=0,or=sr.length;Ze<or;Ze+=3){const He=sr[Ze]&255,Je=sr[Ze+1]&255,$e=sr[Ze+2]&255,mr=He>>2,wr=(He&3)<<4|Je>>4,vr=Ze+1<or?(Je&15)<<2|$e>>6:64,ur=Ze+2<or?$e&63:64;Ge+=We[mr]+We[wr]+We[vr]+We[ur]}return Ge},Ue=function(){const sr=new Uint8Array([137,80,78,71,13,10,26,10]),rr=12,nr=new Int32Array(256);for(let $e=0;$e<256;$e++){let mr=$e;for(let wr=0;wr<8;wr++)mr=mr&1?3988292384^mr>>1&2147483647:mr>>1&2147483647;nr[$e]=mr}function We($e,mr,wr){let vr=-1;for(let ur=mr;ur<wr;ur++){const Cr=(vr^$e[ur])&255,_r=nr[Cr];vr=vr>>>8^_r}return vr^-1}function Ge($e,mr,wr,vr){let ur=vr;const Cr=mr.length;wr[ur]=Cr>>24&255,wr[ur+1]=Cr>>16&255,wr[ur+2]=Cr>>8&255,wr[ur+3]=Cr&255,ur+=4,wr[ur]=$e.charCodeAt(0)&255,wr[ur+1]=$e.charCodeAt(1)&255,wr[ur+2]=$e.charCodeAt(2)&255,wr[ur+3]=$e.charCodeAt(3)&255,ur+=4,wr.set(mr,ur),ur+=mr.length;const _r=We(wr,vr+4,ur);wr[ur]=_r>>24&255,wr[ur+1]=_r>>16&255,wr[ur+2]=_r>>8&255,wr[ur+3]=_r&255}function Ze($e,mr,wr){let vr=1,ur=0;for(let Cr=mr;Cr<wr;++Cr)vr=(vr+($e[Cr]&255))%65521,ur=(ur+vr)%65521;return ur<<16|vr}function or($e){if(!xe.isNodeJS)return He($e);try{const mr=parseInt(process.versions.node)>=8?$e:Buffer.from($e),wr=require$$5.deflateSync(mr,{level:9});return wr instanceof Uint8Array?wr:new Uint8Array(wr)}catch(mr){(0,xe.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+mr)}return He($e)}function He($e){let mr=$e.length;const wr=65535,vr=Math.ceil(mr/wr),ur=new Uint8Array(2+mr+vr*5+4);let Cr=0;ur[Cr++]=120,ur[Cr++]=156;let _r=0;for(;mr>wr;)ur[Cr++]=0,ur[Cr++]=255,ur[Cr++]=255,ur[Cr++]=0,ur[Cr++]=0,ur.set($e.subarray(_r,_r+wr),Cr),Cr+=wr,_r+=wr,mr-=wr;ur[Cr++]=1,ur[Cr++]=mr&255,ur[Cr++]=mr>>8&255,ur[Cr++]=~mr&65535&255,ur[Cr++]=(~mr&65535)>>8&255,ur.set($e.subarray(_r),Cr),Cr+=$e.length-_r;const hr=Ze($e,0,$e.length);return ur[Cr++]=hr>>24&255,ur[Cr++]=hr>>16&255,ur[Cr++]=hr>>8&255,ur[Cr++]=hr&255,ur}function Je($e,mr,wr,vr){const ur=$e.width,Cr=$e.height;let _r,hr,Sr;const ar=$e.data;switch(mr){case xe.ImageKind.GRAYSCALE_1BPP:hr=0,_r=1,Sr=ur+7>>3;break;case xe.ImageKind.RGB_24BPP:hr=2,_r=8,Sr=ur*3;break;case xe.ImageKind.RGBA_32BPP:hr=6,_r=8,Sr=ur*4;break;default:throw new Error("invalid format")}const tr=new Uint8Array((1+Sr)*Cr);let lr=0,pr=0;for(let zr=0;zr<Cr;++zr)tr[lr++]=0,tr.set(ar.subarray(pr,pr+Sr),lr),pr+=Sr,lr+=Sr;if(mr===xe.ImageKind.GRAYSCALE_1BPP&&vr){lr=0;for(let zr=0;zr<Cr;zr++){lr++;for(let $r=0;$r<Sr;$r++)tr[lr++]^=255}}const Er=new Uint8Array([ur>>24&255,ur>>16&255,ur>>8&255,ur&255,Cr>>24&255,Cr>>16&255,Cr>>8&255,Cr&255,_r,hr,0,0,0]),Rr=or(tr),Tr=sr.length+rr*3+Er.length+Rr.length,Ir=new Uint8Array(Tr);let Zr=0;return Ir.set(sr,Zr),Zr+=sr.length,Ge("IHDR",Er,Ir,Zr),Zr+=rr+Er.length,Ge("IDATA",Rr,Ir,Zr),Zr+=rr+Rr.length,Ge("IEND",new Uint8Array(0),Ir,Zr),Ie(Ir,"image/png",wr)}return function(mr,wr,vr){const ur=mr.kind===void 0?xe.ImageKind.GRAYSCALE_1BPP:mr.kind;return Je(mr,ur,wr,vr)}}();class ke{constructor(){this.fontSizeScale=1,this.fontWeight=Ce.fontWeight,this.fontSize=0,this.textMatrix=xe.IDENTITY_MATRIX,this.fontMatrix=xe.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=xe.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Ce.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(rr,nr){this.x=rr,this.y=nr}}function Oe(sr){let rr=[];const nr=[];for(const We of sr){if(We.fn==="save"){rr.push({fnId:92,fn:"group",items:[]}),nr.push(rr),rr=rr.at(-1).items;continue}We.fn==="restore"?rr=nr.pop():rr.push(We)}return rr}function je(sr){if(Number.isInteger(sr))return sr.toString();const rr=sr.toFixed(10);let nr=rr.length-1;if(rr[nr]!=="0")return rr;do nr--;while(rr[nr]==="0");return rr.substring(0,rr[nr]==="."?nr:nr+1)}function Ke(sr){if(sr[4]===0&&sr[5]===0){if(sr[1]===0&&sr[2]===0)return sr[0]===1&&sr[3]===1?"":`scale(${je(sr[0])} ${je(sr[3])})`;if(sr[0]===sr[3]&&sr[1]===-sr[2]){const rr=Math.acos(sr[0])*180/Math.PI;return`rotate(${je(rr)})`}}else if(sr[0]===1&&sr[1]===0&&sr[2]===0&&sr[3]===1)return`translate(${je(sr[4])} ${je(sr[5])})`;return`matrix(${je(sr[0])} ${je(sr[1])} ${je(sr[2])} ${je(sr[3])} ${je(sr[4])} ${je(sr[5])})`}let ze=0,Ve=0,Xe=0;class ir{constructor(rr,nr,We=!1){(0,_e.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new _e.DOMSVGFactory,this.current=new ke,this.transformMatrix=xe.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=rr,this.objs=nr,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!We,this._operatorIdMapping=[];for(const Ge in xe.OPS)this._operatorIdMapping[xe.OPS[Ge]]=Ge}getObject(rr,nr=null){return typeof rr=="string"?rr.startsWith("g_")?this.commonObjs.get(rr):this.objs.get(rr):nr}save(){this.transformStack.push(this.transformMatrix);const rr=this.current;this.extraStack.push(rr),this.current=rr.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(rr){this.save(),this.executeOpTree(rr),this.restore()}loadDependencies(rr){const nr=rr.fnArray,We=rr.argsArray;for(let Ge=0,Ze=nr.length;Ge<Ze;Ge++)if(nr[Ge]===xe.OPS.dependency)for(const or of We[Ge]){const He=or.startsWith("g_")?this.commonObjs:this.objs,Je=new Promise($e=>{He.get(or,$e)});this.current.dependencies.push(Je)}return Promise.all(this.current.dependencies)}transform(rr,nr,We,Ge,Ze,or){const He=[rr,nr,We,Ge,Ze,or];this.transformMatrix=xe.Util.transform(this.transformMatrix,He),this.tgrp=null}getSVG(rr,nr){this.viewport=nr;const We=this._initialize(nr);return this.loadDependencies(rr).then(()=>(this.transformMatrix=xe.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(rr)),We))}convertOpList(rr){const nr=this._operatorIdMapping,We=rr.argsArray,Ge=rr.fnArray,Ze=[];for(let or=0,He=Ge.length;or<He;or++){const Je=Ge[or];Ze.push({fnId:Je,fn:nr[Je],args:We[or]})}return Oe(Ze)}executeOpTree(rr){for(const nr of rr){const We=nr.fn,Ge=nr.fnId,Ze=nr.args;switch(Ge|0){case xe.OPS.beginText:this.beginText();break;case xe.OPS.dependency:break;case xe.OPS.setLeading:this.setLeading(Ze);break;case xe.OPS.setLeadingMoveText:this.setLeadingMoveText(Ze[0],Ze[1]);break;case xe.OPS.setFont:this.setFont(Ze);break;case xe.OPS.showText:this.showText(Ze[0]);break;case xe.OPS.showSpacedText:this.showText(Ze[0]);break;case xe.OPS.endText:this.endText();break;case xe.OPS.moveText:this.moveText(Ze[0],Ze[1]);break;case xe.OPS.setCharSpacing:this.setCharSpacing(Ze[0]);break;case xe.OPS.setWordSpacing:this.setWordSpacing(Ze[0]);break;case xe.OPS.setHScale:this.setHScale(Ze[0]);break;case xe.OPS.setTextMatrix:this.setTextMatrix(Ze[0],Ze[1],Ze[2],Ze[3],Ze[4],Ze[5]);break;case xe.OPS.setTextRise:this.setTextRise(Ze[0]);break;case xe.OPS.setTextRenderingMode:this.setTextRenderingMode(Ze[0]);break;case xe.OPS.setLineWidth:this.setLineWidth(Ze[0]);break;case xe.OPS.setLineJoin:this.setLineJoin(Ze[0]);break;case xe.OPS.setLineCap:this.setLineCap(Ze[0]);break;case xe.OPS.setMiterLimit:this.setMiterLimit(Ze[0]);break;case xe.OPS.setFillRGBColor:this.setFillRGBColor(Ze[0],Ze[1],Ze[2]);break;case xe.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Ze[0],Ze[1],Ze[2]);break;case xe.OPS.setStrokeColorN:this.setStrokeColorN(Ze);break;case xe.OPS.setFillColorN:this.setFillColorN(Ze);break;case xe.OPS.shadingFill:this.shadingFill(Ze[0]);break;case xe.OPS.setDash:this.setDash(Ze[0],Ze[1]);break;case xe.OPS.setRenderingIntent:this.setRenderingIntent(Ze[0]);break;case xe.OPS.setFlatness:this.setFlatness(Ze[0]);break;case xe.OPS.setGState:this.setGState(Ze[0]);break;case xe.OPS.fill:this.fill();break;case xe.OPS.eoFill:this.eoFill();break;case xe.OPS.stroke:this.stroke();break;case xe.OPS.fillStroke:this.fillStroke();break;case xe.OPS.eoFillStroke:this.eoFillStroke();break;case xe.OPS.clip:this.clip("nonzero");break;case xe.OPS.eoClip:this.clip("evenodd");break;case xe.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case xe.OPS.paintImageXObject:this.paintImageXObject(Ze[0]);break;case xe.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Ze[0]);break;case xe.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Ze[0]);break;case xe.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Ze[0],Ze[1]);break;case xe.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case xe.OPS.closePath:this.closePath();break;case xe.OPS.closeStroke:this.closeStroke();break;case xe.OPS.closeFillStroke:this.closeFillStroke();break;case xe.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case xe.OPS.nextLine:this.nextLine();break;case xe.OPS.transform:this.transform(Ze[0],Ze[1],Ze[2],Ze[3],Ze[4],Ze[5]);break;case xe.OPS.constructPath:this.constructPath(Ze[0],Ze[1]);break;case xe.OPS.endPath:this.endPath();break;case 92:this.group(nr.items);break;default:(0,xe.warn)(`Unimplemented operator ${We}`);break}}}setWordSpacing(rr){this.current.wordSpacing=rr}setCharSpacing(rr){this.current.charSpacing=rr}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(rr,nr,We,Ge,Ze,or){const He=this.current;He.textMatrix=He.lineMatrix=[rr,nr,We,Ge,Ze,or],He.textMatrixScale=Math.hypot(rr,nr),He.x=He.lineX=0,He.y=He.lineY=0,He.xcoords=[],He.ycoords=[],He.tspan=this.svgFactory.createElement("svg:tspan"),He.tspan.setAttributeNS(null,"font-family",He.fontFamily),He.tspan.setAttributeNS(null,"font-size",`${je(He.fontSize)}px`),He.tspan.setAttributeNS(null,"y",je(-He.y)),He.txtElement=this.svgFactory.createElement("svg:text"),He.txtElement.append(He.tspan)}beginText(){const rr=this.current;rr.x=rr.lineX=0,rr.y=rr.lineY=0,rr.textMatrix=xe.IDENTITY_MATRIX,rr.lineMatrix=xe.IDENTITY_MATRIX,rr.textMatrixScale=1,rr.tspan=this.svgFactory.createElement("svg:tspan"),rr.txtElement=this.svgFactory.createElement("svg:text"),rr.txtgrp=this.svgFactory.createElement("svg:g"),rr.xcoords=[],rr.ycoords=[]}moveText(rr,nr){const We=this.current;We.x=We.lineX+=rr,We.y=We.lineY+=nr,We.xcoords=[],We.ycoords=[],We.tspan=this.svgFactory.createElement("svg:tspan"),We.tspan.setAttributeNS(null,"font-family",We.fontFamily),We.tspan.setAttributeNS(null,"font-size",`${je(We.fontSize)}px`),We.tspan.setAttributeNS(null,"y",je(-We.y))}showText(rr){const nr=this.current,We=nr.font,Ge=nr.fontSize;if(Ge===0)return;const Ze=nr.fontSizeScale,or=nr.charSpacing,He=nr.wordSpacing,Je=nr.fontDirection,$e=nr.textHScale*Je,mr=We.vertical,wr=mr?1:-1,vr=We.defaultVMetrics,ur=Ge*nr.fontMatrix[0];let Cr=0;for(const Sr of rr){if(Sr===null){Cr+=Je*He;continue}else if(typeof Sr=="number"){Cr+=wr*Sr*Ge/1e3;continue}const ar=(Sr.isSpace?He:0)+or,tr=Sr.fontChar;let lr,pr,Er=Sr.width;if(mr){let Tr;const Ir=Sr.vmetric||vr;Tr=Sr.vmetric?Ir[1]:Er*.5,Tr=-Tr*ur;const Zr=Ir[2]*ur;Er=Ir?-Ir[0]:Er,lr=Tr/Ze,pr=(Cr+Zr)/Ze}else lr=Cr/Ze,pr=0;(Sr.isInFont||We.missingFile)&&(nr.xcoords.push(nr.x+lr),mr&&nr.ycoords.push(-nr.y+pr),nr.tspan.textContent+=tr);const Rr=mr?Er*ur-ar*Je:Er*ur+ar*Je;Cr+=Rr}nr.tspan.setAttributeNS(null,"x",nr.xcoords.map(je).join(" ")),mr?nr.tspan.setAttributeNS(null,"y",nr.ycoords.map(je).join(" ")):nr.tspan.setAttributeNS(null,"y",je(-nr.y)),mr?nr.y-=Cr:nr.x+=Cr*$e,nr.tspan.setAttributeNS(null,"font-family",nr.fontFamily),nr.tspan.setAttributeNS(null,"font-size",`${je(nr.fontSize)}px`),nr.fontStyle!==Ce.fontStyle&&nr.tspan.setAttributeNS(null,"font-style",nr.fontStyle),nr.fontWeight!==Ce.fontWeight&&nr.tspan.setAttributeNS(null,"font-weight",nr.fontWeight);const _r=nr.textRenderingMode&xe.TextRenderingMode.FILL_STROKE_MASK;if(_r===xe.TextRenderingMode.FILL||_r===xe.TextRenderingMode.FILL_STROKE?(nr.fillColor!==Ce.fillColor&&nr.tspan.setAttributeNS(null,"fill",nr.fillColor),nr.fillAlpha<1&&nr.tspan.setAttributeNS(null,"fill-opacity",nr.fillAlpha)):nr.textRenderingMode===xe.TextRenderingMode.ADD_TO_PATH?nr.tspan.setAttributeNS(null,"fill","transparent"):nr.tspan.setAttributeNS(null,"fill","none"),_r===xe.TextRenderingMode.STROKE||_r===xe.TextRenderingMode.FILL_STROKE){const Sr=1/(nr.textMatrixScale||1);this._setStrokeAttributes(nr.tspan,Sr)}let hr=nr.textMatrix;nr.textRise!==0&&(hr=hr.slice(),hr[5]+=nr.textRise),nr.txtElement.setAttributeNS(null,"transform",`${Ke(hr)} scale(${je($e)}, -1)`),nr.txtElement.setAttributeNS(Se,"xml:space","preserve"),nr.txtElement.append(nr.tspan),nr.txtgrp.append(nr.txtElement),this._ensureTransformGroup().append(nr.txtElement)}setLeadingMoveText(rr,nr){this.setLeading(-nr),this.moveText(rr,nr)}addFontStyle(rr){if(!rr.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const nr=Ie(rr.data,rr.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${rr.loadedName}"; src: url(${nr}); }
`}setFont(rr){const nr=this.current,We=this.commonObjs.get(rr[0]);let Ge=rr[1];nr.font=We,this.embedFonts&&!We.missingFile&&!this.embeddedFonts[We.loadedName]&&(this.addFontStyle(We),this.embeddedFonts[We.loadedName]=We),nr.fontMatrix=We.fontMatrix||xe.FONT_IDENTITY_MATRIX;let Ze="normal";We.black?Ze="900":We.bold&&(Ze="bold");const or=We.italic?"italic":"normal";Ge<0?(Ge=-Ge,nr.fontDirection=-1):nr.fontDirection=1,nr.fontSize=Ge,nr.fontFamily=We.loadedName,nr.fontWeight=Ze,nr.fontStyle=or,nr.tspan=this.svgFactory.createElement("svg:tspan"),nr.tspan.setAttributeNS(null,"y",je(-nr.y)),nr.xcoords=[],nr.ycoords=[]}endText(){var nr;const rr=this.current;rr.textRenderingMode&xe.TextRenderingMode.ADD_TO_PATH_FLAG&&((nr=rr.txtElement)!=null&&nr.hasChildNodes())&&(rr.element=rr.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(rr){rr>0&&(this.current.lineWidth=rr)}setLineCap(rr){this.current.lineCap=Be[rr]}setLineJoin(rr){this.current.lineJoin=Fe[rr]}setMiterLimit(rr){this.current.miterLimit=rr}setStrokeAlpha(rr){this.current.strokeAlpha=rr}setStrokeRGBColor(rr,nr,We){this.current.strokeColor=xe.Util.makeHexColor(rr,nr,We)}setFillAlpha(rr){this.current.fillAlpha=rr}setFillRGBColor(rr,nr,We){this.current.fillColor=xe.Util.makeHexColor(rr,nr,We),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(rr){this.current.strokeColor=this._makeColorN_Pattern(rr)}setFillColorN(rr){this.current.fillColor=this._makeColorN_Pattern(rr)}shadingFill(rr){const{width:nr,height:We}=this.viewport,Ge=xe.Util.inverseTransform(this.transformMatrix),[Ze,or,He,Je]=xe.Util.getAxialAlignedBoundingBox([0,0,nr,We],Ge),$e=this.svgFactory.createElement("svg:rect");$e.setAttributeNS(null,"x",Ze),$e.setAttributeNS(null,"y",or),$e.setAttributeNS(null,"width",He-Ze),$e.setAttributeNS(null,"height",Je-or),$e.setAttributeNS(null,"fill",this._makeShadingPattern(rr)),this.current.fillAlpha<1&&$e.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append($e)}_makeColorN_Pattern(rr){return rr[0]==="TilingPattern"?this._makeTilingPattern(rr):this._makeShadingPattern(rr)}_makeTilingPattern(rr){const nr=rr[1],We=rr[2],Ge=rr[3]||xe.IDENTITY_MATRIX,[Ze,or,He,Je]=rr[4],$e=rr[5],mr=rr[6],wr=rr[7],vr=`shading${Xe++}`,[ur,Cr,_r,hr]=xe.Util.normalizeRect([...xe.Util.applyTransform([Ze,or],Ge),...xe.Util.applyTransform([He,Je],Ge)]),[Sr,ar]=xe.Util.singularValueDecompose2dScale(Ge),tr=$e*Sr,lr=mr*ar,pr=this.svgFactory.createElement("svg:pattern");pr.setAttributeNS(null,"id",vr),pr.setAttributeNS(null,"patternUnits","userSpaceOnUse"),pr.setAttributeNS(null,"width",tr),pr.setAttributeNS(null,"height",lr),pr.setAttributeNS(null,"x",`${ur}`),pr.setAttributeNS(null,"y",`${Cr}`);const Er=this.svg,Rr=this.transformMatrix,Tr=this.current.fillColor,Ir=this.current.strokeColor,Zr=this.svgFactory.create(_r-ur,hr-Cr);if(this.svg=Zr,this.transformMatrix=Ge,wr===2){const zr=xe.Util.makeHexColor(...nr);this.current.fillColor=zr,this.current.strokeColor=zr}return this.executeOpTree(this.convertOpList(We)),this.svg=Er,this.transformMatrix=Rr,this.current.fillColor=Tr,this.current.strokeColor=Ir,pr.append(Zr.childNodes[0]),this.defs.append(pr),`url(#${vr})`}_makeShadingPattern(rr){switch(typeof rr=="string"&&(rr=this.objs.get(rr)),rr[0]){case"RadialAxial":const nr=`shading${Xe++}`,We=rr[3];let Ge;switch(rr[1]){case"axial":const Ze=rr[4],or=rr[5];Ge=this.svgFactory.createElement("svg:linearGradient"),Ge.setAttributeNS(null,"id",nr),Ge.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ge.setAttributeNS(null,"x1",Ze[0]),Ge.setAttributeNS(null,"y1",Ze[1]),Ge.setAttributeNS(null,"x2",or[0]),Ge.setAttributeNS(null,"y2",or[1]);break;case"radial":const He=rr[4],Je=rr[5],$e=rr[6],mr=rr[7];Ge=this.svgFactory.createElement("svg:radialGradient"),Ge.setAttributeNS(null,"id",nr),Ge.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ge.setAttributeNS(null,"cx",Je[0]),Ge.setAttributeNS(null,"cy",Je[1]),Ge.setAttributeNS(null,"r",mr),Ge.setAttributeNS(null,"fx",He[0]),Ge.setAttributeNS(null,"fy",He[1]),Ge.setAttributeNS(null,"fr",$e);break;default:throw new Error(`Unknown RadialAxial type: ${rr[1]}`)}for(const Ze of We){const or=this.svgFactory.createElement("svg:stop");or.setAttributeNS(null,"offset",Ze[0]),or.setAttributeNS(null,"stop-color",Ze[1]),Ge.append(or)}return this.defs.append(Ge),`url(#${nr})`;case"Mesh":return(0,xe.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${rr[0]}`)}}setDash(rr,nr){this.current.dashArray=rr,this.current.dashPhase=nr}constructPath(rr,nr){const We=this.current;let Ge=We.x,Ze=We.y,or=[],He=0;for(const Je of rr)switch(Je|0){case xe.OPS.rectangle:Ge=nr[He++],Ze=nr[He++];const $e=nr[He++],mr=nr[He++],wr=Ge+$e,vr=Ze+mr;or.push("M",je(Ge),je(Ze),"L",je(wr),je(Ze),"L",je(wr),je(vr),"L",je(Ge),je(vr),"Z");break;case xe.OPS.moveTo:Ge=nr[He++],Ze=nr[He++],or.push("M",je(Ge),je(Ze));break;case xe.OPS.lineTo:Ge=nr[He++],Ze=nr[He++],or.push("L",je(Ge),je(Ze));break;case xe.OPS.curveTo:Ge=nr[He+4],Ze=nr[He+5],or.push("C",je(nr[He]),je(nr[He+1]),je(nr[He+2]),je(nr[He+3]),je(Ge),je(Ze)),He+=6;break;case xe.OPS.curveTo2:or.push("C",je(Ge),je(Ze),je(nr[He]),je(nr[He+1]),je(nr[He+2]),je(nr[He+3])),Ge=nr[He+2],Ze=nr[He+3],He+=4;break;case xe.OPS.curveTo3:Ge=nr[He+2],Ze=nr[He+3],or.push("C",je(nr[He]),je(nr[He+1]),je(Ge),je(Ze),je(Ge),je(Ze)),He+=4;break;case xe.OPS.closePath:or.push("Z");break}or=or.join(" "),We.path&&rr.length>0&&rr[0]!==xe.OPS.rectangle&&rr[0]!==xe.OPS.moveTo?or=We.path.getAttributeNS(null,"d")+or:(We.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(We.path)),We.path.setAttributeNS(null,"d",or),We.path.setAttributeNS(null,"fill","none"),We.element=We.path,We.setCurrentPoint(Ge,Ze)}endPath(){const rr=this.current;if(rr.path=null,!this.pendingClip)return;if(!rr.element){this.pendingClip=null;return}const nr=`clippath${ze++}`,We=this.svgFactory.createElement("svg:clipPath");We.setAttributeNS(null,"id",nr),We.setAttributeNS(null,"transform",Ke(this.transformMatrix));const Ge=rr.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Ge.setAttributeNS(null,"clip-rule","evenodd"):Ge.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,We.append(Ge),this.defs.append(We),rr.activeClipUrl){rr.clipGroup=null;for(const Ze of this.extraStack)Ze.clipGroup=null;We.setAttributeNS(null,"clip-path",rr.activeClipUrl)}rr.activeClipUrl=`url(#${nr})`,this.tgrp=null}clip(rr){this.pendingClip=rr}closePath(){const rr=this.current;if(rr.path){const nr=`${rr.path.getAttributeNS(null,"d")}Z`;rr.path.setAttributeNS(null,"d",nr)}}setLeading(rr){this.current.leading=-rr}setTextRise(rr){this.current.textRise=rr}setTextRenderingMode(rr){this.current.textRenderingMode=rr}setHScale(rr){this.current.textHScale=rr/100}setRenderingIntent(rr){}setFlatness(rr){}setGState(rr){for(const[nr,We]of rr)switch(nr){case"LW":this.setLineWidth(We);break;case"LC":this.setLineCap(We);break;case"LJ":this.setLineJoin(We);break;case"ML":this.setMiterLimit(We);break;case"D":this.setDash(We[0],We[1]);break;case"RI":this.setRenderingIntent(We);break;case"FL":this.setFlatness(We);break;case"Font":this.setFont(We);break;case"CA":this.setStrokeAlpha(We);break;case"ca":this.setFillAlpha(We);break;default:(0,xe.warn)(`Unimplemented graphic state operator ${nr}`);break}}fill(){const rr=this.current;rr.element&&(rr.element.setAttributeNS(null,"fill",rr.fillColor),rr.element.setAttributeNS(null,"fill-opacity",rr.fillAlpha),this.endPath())}stroke(){const rr=this.current;rr.element&&(this._setStrokeAttributes(rr.element),rr.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(rr,nr=1){const We=this.current;let Ge=We.dashArray;nr!==1&&Ge.length>0&&(Ge=Ge.map(function(Ze){return nr*Ze})),rr.setAttributeNS(null,"stroke",We.strokeColor),rr.setAttributeNS(null,"stroke-opacity",We.strokeAlpha),rr.setAttributeNS(null,"stroke-miterlimit",je(We.miterLimit)),rr.setAttributeNS(null,"stroke-linecap",We.lineCap),rr.setAttributeNS(null,"stroke-linejoin",We.lineJoin),rr.setAttributeNS(null,"stroke-width",je(nr*We.lineWidth)+"px"),rr.setAttributeNS(null,"stroke-dasharray",Ge.map(je).join(" ")),rr.setAttributeNS(null,"stroke-dashoffset",je(nr*We.dashPhase)+"px")}eoFill(){var rr;(rr=this.current.element)==null||rr.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var rr;(rr=this.current.element)==null||rr.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const rr=this.svgFactory.createElement("svg:rect");rr.setAttributeNS(null,"x","0"),rr.setAttributeNS(null,"y","0"),rr.setAttributeNS(null,"width","1px"),rr.setAttributeNS(null,"height","1px"),rr.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(rr)}paintImageXObject(rr){const nr=this.getObject(rr);if(!nr){(0,xe.warn)(`Dependent image with object ID ${rr} is not ready yet`);return}this.paintInlineImageXObject(nr)}paintInlineImageXObject(rr,nr){const We=rr.width,Ge=rr.height,Ze=Ue(rr,this.forceDataSchema,!!nr),or=this.svgFactory.createElement("svg:rect");or.setAttributeNS(null,"x","0"),or.setAttributeNS(null,"y","0"),or.setAttributeNS(null,"width",je(We)),or.setAttributeNS(null,"height",je(Ge)),this.current.element=or,this.clip("nonzero");const He=this.svgFactory.createElement("svg:image");He.setAttributeNS(Re,"xlink:href",Ze),He.setAttributeNS(null,"x","0"),He.setAttributeNS(null,"y",je(-Ge)),He.setAttributeNS(null,"width",je(We)+"px"),He.setAttributeNS(null,"height",je(Ge)+"px"),He.setAttributeNS(null,"transform",`scale(${je(1/We)} ${je(-1/Ge)})`),nr?nr.append(He):this._ensureTransformGroup().append(He)}paintImageMaskXObject(rr){const nr=this.getObject(rr.data,rr);if(nr.bitmap){(0,xe.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const We=this.current,Ge=nr.width,Ze=nr.height,or=We.fillColor;We.maskId=`mask${Ve++}`;const He=this.svgFactory.createElement("svg:mask");He.setAttributeNS(null,"id",We.maskId);const Je=this.svgFactory.createElement("svg:rect");Je.setAttributeNS(null,"x","0"),Je.setAttributeNS(null,"y","0"),Je.setAttributeNS(null,"width",je(Ge)),Je.setAttributeNS(null,"height",je(Ze)),Je.setAttributeNS(null,"fill",or),Je.setAttributeNS(null,"mask",`url(#${We.maskId})`),this.defs.append(He),this._ensureTransformGroup().append(Je),this.paintInlineImageXObject(nr,He)}paintFormXObjectBegin(rr,nr){if(Array.isArray(rr)&&rr.length===6&&this.transform(rr[0],rr[1],rr[2],rr[3],rr[4],rr[5]),nr){const We=nr[2]-nr[0],Ge=nr[3]-nr[1],Ze=this.svgFactory.createElement("svg:rect");Ze.setAttributeNS(null,"x",nr[0]),Ze.setAttributeNS(null,"y",nr[1]),Ze.setAttributeNS(null,"width",je(We)),Ze.setAttributeNS(null,"height",je(Ge)),this.current.element=Ze,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(rr){const nr=this.svgFactory.create(rr.width,rr.height),We=this.svgFactory.createElement("svg:defs");nr.append(We),this.defs=We;const Ge=this.svgFactory.createElement("svg:g");return Ge.setAttributeNS(null,"transform",Ke(rr.transform)),nr.append(Ge),this.svg=Ge,nr}_ensureClipGroup(){if(!this.current.clipGroup){const rr=this.svgFactory.createElement("svg:g");rr.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(rr),this.current.clipGroup=rr}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Ke(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}t.SVGGraphics=ir},(Ee,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class Ae{static textContent(xe){const Ce=[],Se={items:Ce,styles:Object.create(null)};function Re(Be){var Ue;if(!Be)return;let Fe=null;const Ie=Be.name;if(Ie==="#text")Fe=Be.value;else if(Ae.shouldBuildText(Ie))(Ue=Be==null?void 0:Be.attributes)!=null&&Ue.textContent?Fe=Be.attributes.textContent:Be.value&&(Fe=Be.value);else return;if(Fe!==null&&Ce.push({str:Fe}),!!Be.children)for(const ke of Be.children)Re(ke)}return Re(xe),Se}static shouldBuildText(xe){return!(xe==="textarea"||xe==="input"||xe==="option"||xe==="select")}}t.XfaText=Ae},(Ee,t,Ae)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=Ke,t.updateTextLayer=ze;var _e=Ae(1),xe=Ae(6);const Ce=1e5,Se=30,Re=.8,Be=new Map;function Fe(Ve,Xe){let ir;if(Xe&&_e.FeatureTest.isOffscreenCanvasSupported)ir=new OffscreenCanvas(Ve,Ve).getContext("2d",{alpha:!1});else{const sr=document.createElement("canvas");sr.width=sr.height=Ve,ir=sr.getContext("2d",{alpha:!1})}return ir}function Ie(Ve,Xe){const ir=Be.get(Ve);if(ir)return ir;const sr=Fe(Se,Xe);sr.font=`${Se}px ${Ve}`;const rr=sr.measureText("");let nr=rr.fontBoundingBoxAscent,We=Math.abs(rr.fontBoundingBoxDescent);if(nr){const Ze=nr/(nr+We);return Be.set(Ve,Ze),sr.canvas.width=sr.canvas.height=0,Ze}sr.strokeStyle="red",sr.clearRect(0,0,Se,Se),sr.strokeText("g",0,0);let Ge=sr.getImageData(0,0,Se,Se).data;We=0;for(let Ze=Ge.length-1-3;Ze>=0;Ze-=4)if(Ge[Ze]>0){We=Math.ceil(Ze/4/Se);break}sr.clearRect(0,0,Se,Se),sr.strokeText("A",0,Se),Ge=sr.getImageData(0,0,Se,Se).data,nr=0;for(let Ze=0,or=Ge.length;Ze<or;Ze+=4)if(Ge[Ze]>0){nr=Se-Math.floor(Ze/4/Se);break}if(sr.canvas.width=sr.canvas.height=0,nr){const Ze=nr/(nr+We);return Be.set(Ve,Ze),Ze}return Be.set(Ve,Re),Re}function Ue(Ve,Xe,ir){const sr=document.createElement("span"),rr={angle:0,canvasWidth:0,hasText:Xe.str!=="",hasEOL:Xe.hasEOL,fontSize:0};Ve._textDivs.push(sr);const nr=_e.Util.transform(Ve._transform,Xe.transform);let We=Math.atan2(nr[1],nr[0]);const Ge=ir[Xe.fontName];Ge.vertical&&(We+=Math.PI/2);const Ze=Math.hypot(nr[2],nr[3]),or=Ze*Ie(Ge.fontFamily,Ve._isOffscreenCanvasSupported);let He,Je;We===0?(He=nr[4],Je=nr[5]-or):(He=nr[4]+or*Math.sin(We),Je=nr[5]-or*Math.cos(We));const $e="calc(var(--scale-factor)*",mr=sr.style;Ve._container===Ve._rootContainer?(mr.left=`${(100*He/Ve._pageWidth).toFixed(2)}%`,mr.top=`${(100*Je/Ve._pageHeight).toFixed(2)}%`):(mr.left=`${$e}${He.toFixed(2)}px)`,mr.top=`${$e}${Je.toFixed(2)}px)`),mr.fontSize=`${$e}${Ze.toFixed(2)}px)`,mr.fontFamily=Ge.fontFamily,rr.fontSize=Ze,sr.setAttribute("role","presentation"),sr.textContent=Xe.str,sr.dir=Xe.dir,Ve._fontInspectorEnabled&&(sr.dataset.fontName=Xe.fontName),We!==0&&(rr.angle=We*(180/Math.PI));let wr=!1;if(Xe.str.length>1)wr=!0;else if(Xe.str!==" "&&Xe.transform[0]!==Xe.transform[3]){const vr=Math.abs(Xe.transform[0]),ur=Math.abs(Xe.transform[3]);vr!==ur&&Math.max(vr,ur)/Math.min(vr,ur)>1.5&&(wr=!0)}wr&&(rr.canvasWidth=Ge.vertical?Xe.height:Xe.width),Ve._textDivProperties.set(sr,rr),Ve._isReadableStream&&Ve._layoutText(sr)}function ke(Ve){const{div:Xe,scale:ir,properties:sr,ctx:rr,prevFontSize:nr,prevFontFamily:We}=Ve,{style:Ge}=Xe;let Ze="";if(sr.canvasWidth!==0&&sr.hasText){const{fontFamily:or}=Ge,{canvasWidth:He,fontSize:Je}=sr;(nr!==Je||We!==or)&&(rr.font=`${Je*ir}px ${or}`,Ve.prevFontSize=Je,Ve.prevFontFamily=or);const{width:$e}=rr.measureText(Xe.textContent);$e>0&&(Ze=`scaleX(${He*ir/$e})`)}sr.angle!==0&&(Ze=`rotate(${sr.angle}deg) ${Ze}`),Ze.length>0&&(Ge.transform=Ze)}function Oe(Ve){if(Ve._canceled)return;const Xe=Ve._textDivs,ir=Ve._capability;if(Xe.length>Ce){ir.resolve();return}if(!Ve._isReadableStream)for(const rr of Xe)Ve._layoutText(rr);ir.resolve()}class je{constructor({textContentSource:Xe,container:ir,viewport:sr,textDivs:rr,textDivProperties:nr,textContentItemsStr:We,isOffscreenCanvasSupported:Ge}){var $e;this._textContentSource=Xe,this._isReadableStream=Xe instanceof ReadableStream,this._container=this._rootContainer=ir,this._textDivs=rr||[],this._textContentItemsStr=We||[],this._isOffscreenCanvasSupported=Ge,this._fontInspectorEnabled=!!(($e=globalThis.FontInspector)!=null&&$e.enabled),this._reader=null,this._textDivProperties=nr||new WeakMap,this._canceled=!1,this._capability=new _e.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:sr.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Fe(0,Ge)};const{pageWidth:Ze,pageHeight:or,pageX:He,pageY:Je}=sr.rawDims;this._transform=[1,0,0,-1,-He,Je+or],this._pageWidth=Ze,this._pageHeight=or,(0,xe.setLayerDimensions)(ir,sr),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _e.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new _e.AbortException("TextLayer task cancelled."))}_processItems(Xe,ir){for(const sr of Xe){if(sr.str===void 0){if(sr.type==="beginMarkedContentProps"||sr.type==="beginMarkedContent"){const rr=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),sr.id!==null&&this._container.setAttribute("id",`${sr.id}`),rr.append(this._container)}else sr.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(sr.str),Ue(this,sr,ir)}}_layoutText(Xe){const ir=this._layoutTextParams.properties=this._textDivProperties.get(Xe);if(this._layoutTextParams.div=Xe,ke(this._layoutTextParams),ir.hasText&&this._container.append(Xe),ir.hasEOL){const sr=document.createElement("br");sr.setAttribute("role","presentation"),this._container.append(sr)}}_render(){const Xe=new _e.PromiseCapability;let ir=Object.create(null);if(this._isReadableStream){const sr=()=>{this._reader.read().then(({value:rr,done:nr})=>{if(nr){Xe.resolve();return}Object.assign(ir,rr.styles),this._processItems(rr.items,ir),sr()},Xe.reject)};this._reader=this._textContentSource.getReader(),sr()}else if(this._textContentSource){const{items:sr,styles:rr}=this._textContentSource;this._processItems(sr,rr),Xe.resolve()}else throw new Error('No "textContentSource" parameter specified.');Xe.promise.then(()=>{ir=null,Oe(this)},this._capability.reject)}}t.TextLayerRenderTask=je;function Ke(Ve){!Ve.textContentSource&&(Ve.textContent||Ve.textContentStream)&&((0,xe.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Ve.textContentSource=Ve.textContent||Ve.textContentStream);const{container:Xe,viewport:ir}=Ve,sr=getComputedStyle(Xe),rr=sr.getPropertyValue("visibility"),nr=parseFloat(sr.getPropertyValue("--scale-factor"));rr==="visible"&&(!nr||Math.abs(nr-ir.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const We=new je(Ve);return We._render(),We}function ze({container:Ve,viewport:Xe,textDivs:ir,textDivProperties:sr,isOffscreenCanvasSupported:rr,mustRotate:nr=!0,mustRescale:We=!0}){if(nr&&(0,xe.setLayerDimensions)(Ve,{rotation:Xe.rotation}),We){const Ge=Fe(0,rr),or={prevFontSize:null,prevFontFamily:null,div:null,scale:Xe.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Ge};for(const He of ir)or.properties=sr.get(He),or.div=He,ke(or)}}},(Ee,t,Ae)=>{var Ie,Ue,ke,Oe,je,Ke,ze,Ve,Xe,ir,sr,Gf,dd,zf,Wf;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var _e=Ae(1),xe=Ae(4),Ce=Ae(28),Se=Ae(33),Re=Ae(6),Be=Ae(34);const Ze=class Ze{constructor({uiManager:He,pageIndex:Je,div:$e,accessibilityManager:mr,annotationLayer:wr,viewport:vr,l10n:ur}){Vn(this,sr);Vn(this,Ie);Vn(this,Ue,!1);Vn(this,ke,null);Vn(this,Oe,this.pointerup.bind(this));Vn(this,je,this.pointerdown.bind(this));Vn(this,Ke,new Map);Vn(this,ze,!1);Vn(this,Ve,!1);Vn(this,Xe,!1);Vn(this,ir);const Cr=[Ce.FreeTextEditor,Se.InkEditor,Be.StampEditor];if(!Ze._initialized){Ze._initialized=!0;for(const _r of Cr)_r.initialize(ur)}He.registerEditorTypes(Cr),Hn(this,ir,He),this.pageIndex=Je,this.div=$e,Hn(this,Ie,mr),Hn(this,ke,wr),this.viewport=vr,yr(this,ir).addLayer(this)}get isEmpty(){return yr(this,Ke).size===0}updateToolbar(He){yr(this,ir).updateToolbar(He)}updateMode(He=yr(this,ir).getMode()){Bn(this,sr,Wf).call(this),He===_e.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),He!==_e.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",He===_e.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",He===_e.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",He===_e.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(He){if(!He&&yr(this,ir).getMode()!==_e.AnnotationEditorType.INK)return;if(!He){for(const $e of yr(this,Ke).values())if($e.isEmpty()){$e.setInBackground();return}}Bn(this,sr,dd).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(He){yr(this,ir).setEditingState(He)}addCommands(He){yr(this,ir).addCommands(He)}enable(){this.div.style.pointerEvents="auto";const He=new Set;for(const $e of yr(this,Ke).values())$e.enableEditing(),$e.annotationElementId&&He.add($e.annotationElementId);if(!yr(this,ke))return;const Je=yr(this,ke).getEditableAnnotations();for(const $e of Je){if($e.hide(),yr(this,ir).isDeletedAnnotationElement($e.data.id)||He.has($e.data.id))continue;const mr=this.deserialize($e);mr&&(this.addOrRebuild(mr),mr.enableEditing())}}disable(){var Je;Hn(this,Xe,!0),this.div.style.pointerEvents="none";const He=new Set;for(const $e of yr(this,Ke).values()){if($e.disableEditing(),!$e.annotationElementId||$e.serialize()!==null){He.add($e.annotationElementId);continue}(Je=this.getEditableAnnotation($e.annotationElementId))==null||Je.show(),$e.remove()}if(yr(this,ke)){const $e=yr(this,ke).getEditableAnnotations();for(const mr of $e){const{id:wr}=mr.data;He.has(wr)||yr(this,ir).isDeletedAnnotationElement(wr)||mr.show()}}Bn(this,sr,Wf).call(this),this.isEmpty&&(this.div.hidden=!0),Hn(this,Xe,!1)}getEditableAnnotation(He){var Je;return((Je=yr(this,ke))==null?void 0:Je.getEditableAnnotation(He))||null}setActiveEditor(He){yr(this,ir).getActive()!==He&&yr(this,ir).setActiveEditor(He)}enableClick(){this.div.addEventListener("pointerdown",yr(this,je)),this.div.addEventListener("pointerup",yr(this,Oe))}disableClick(){this.div.removeEventListener("pointerdown",yr(this,je)),this.div.removeEventListener("pointerup",yr(this,Oe))}attach(He){yr(this,Ke).set(He.id,He);const{annotationElementId:Je}=He;Je&&yr(this,ir).isDeletedAnnotationElement(Je)&&yr(this,ir).removeDeletedAnnotationElement(He)}detach(He){var Je;yr(this,Ke).delete(He.id),(Je=yr(this,Ie))==null||Je.removePointerInTextLayer(He.contentDiv),!yr(this,Xe)&&He.annotationElementId&&yr(this,ir).addDeletedAnnotationElement(He)}remove(He){this.detach(He),yr(this,ir).removeEditor(He),He.div.contains(document.activeElement)&&setTimeout(()=>{yr(this,ir).focusMainContainer()},0),He.div.remove(),He.isAttachedToDOM=!1,yr(this,Ve)||this.addInkEditorIfNeeded(!1)}changeParent(He){var Je;He.parent!==this&&(He.annotationElementId&&(yr(this,ir).addDeletedAnnotationElement(He.annotationElementId),xe.AnnotationEditor.deleteAnnotationElement(He),He.annotationElementId=null),this.attach(He),(Je=He.parent)==null||Je.detach(He),He.setParent(this),He.div&&He.isAttachedToDOM&&(He.div.remove(),this.div.append(He.div)))}add(He){if(this.changeParent(He),yr(this,ir).addEditor(He),this.attach(He),!He.isAttachedToDOM){const Je=He.render();this.div.append(Je),He.isAttachedToDOM=!0}He.fixAndSetPosition(),He.onceAdded(),yr(this,ir).addToAnnotationStorage(He)}moveEditorInDOM(He){var $e;if(!He.isAttachedToDOM)return;const{activeElement:Je}=document;He.div.contains(Je)&&(He._focusEventsAllowed=!1,setTimeout(()=>{He.div.contains(document.activeElement)?He._focusEventsAllowed=!0:(He.div.addEventListener("focusin",()=>{He._focusEventsAllowed=!0},{once:!0}),Je.focus())},0)),He._structTreeParentId=($e=yr(this,Ie))==null?void 0:$e.moveElementInDOM(this.div,He.div,He.contentDiv,!0)}addOrRebuild(He){He.needsToBeRebuilt()?He.rebuild():this.add(He)}addUndoableEditor(He){const Je=()=>He._uiManager.rebuild(He),$e=()=>{He.remove()};this.addCommands({cmd:Je,undo:$e,mustExec:!1})}getNextId(){return yr(this,ir).getId()}pasteEditor(He,Je){yr(this,ir).updateToolbar(He),yr(this,ir).updateMode(He);const{offsetX:$e,offsetY:mr}=Bn(this,sr,zf).call(this),wr=this.getNextId(),vr=Bn(this,sr,Gf).call(this,{parent:this,id:wr,x:$e,y:mr,uiManager:yr(this,ir),isCentered:!0,...Je});vr&&this.add(vr)}deserialize(He){switch(He.annotationType??He.annotationEditorType){case _e.AnnotationEditorType.FREETEXT:return Ce.FreeTextEditor.deserialize(He,this,yr(this,ir));case _e.AnnotationEditorType.INK:return Se.InkEditor.deserialize(He,this,yr(this,ir));case _e.AnnotationEditorType.STAMP:return Be.StampEditor.deserialize(He,this,yr(this,ir))}return null}addNewEditor(){Bn(this,sr,dd).call(this,Bn(this,sr,zf).call(this),!0)}setSelected(He){yr(this,ir).setSelected(He)}toggleSelected(He){yr(this,ir).toggleSelected(He)}isSelected(He){return yr(this,ir).isSelected(He)}unselect(He){yr(this,ir).unselect(He)}pointerup(He){const{isMac:Je}=_e.FeatureTest.platform;if(!(He.button!==0||He.ctrlKey&&Je)&&He.target===this.div&&yr(this,ze)){if(Hn(this,ze,!1),!yr(this,Ue)){Hn(this,Ue,!0);return}if(yr(this,ir).getMode()===_e.AnnotationEditorType.STAMP){yr(this,ir).unselectAll();return}Bn(this,sr,dd).call(this,He,!1)}}pointerdown(He){if(yr(this,ze)){Hn(this,ze,!1);return}const{isMac:Je}=_e.FeatureTest.platform;if(He.button!==0||He.ctrlKey&&Je||He.target!==this.div)return;Hn(this,ze,!0);const $e=yr(this,ir).getActive();Hn(this,Ue,!$e||$e.isEmpty())}findNewParent(He,Je,$e){const mr=yr(this,ir).findParent(Je,$e);return mr===null||mr===this?!1:(mr.changeParent(He),!0)}destroy(){var He,Je;((He=yr(this,ir).getActive())==null?void 0:He.parent)===this&&(yr(this,ir).commitOrRemove(),yr(this,ir).setActiveEditor(null));for(const $e of yr(this,Ke).values())(Je=yr(this,Ie))==null||Je.removePointerInTextLayer($e.contentDiv),$e.setParent(null),$e.isAttachedToDOM=!1,$e.div.remove();this.div=null,yr(this,Ke).clear(),yr(this,ir).removeLayer(this)}render({viewport:He}){this.viewport=He,(0,Re.setLayerDimensions)(this.div,He);for(const Je of yr(this,ir).getEditors(this.pageIndex))this.add(Je);this.updateMode()}update({viewport:He}){yr(this,ir).commitOrRemove(),this.viewport=He,(0,Re.setLayerDimensions)(this.div,{rotation:He.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:He,pageHeight:Je}=this.viewport.rawDims;return[He,Je]}};Ie=new WeakMap,Ue=new WeakMap,ke=new WeakMap,Oe=new WeakMap,je=new WeakMap,Ke=new WeakMap,ze=new WeakMap,Ve=new WeakMap,Xe=new WeakMap,ir=new WeakMap,sr=new WeakSet,Gf=function(He){switch(yr(this,ir).getMode()){case _e.AnnotationEditorType.FREETEXT:return new Ce.FreeTextEditor(He);case _e.AnnotationEditorType.INK:return new Se.InkEditor(He);case _e.AnnotationEditorType.STAMP:return new Be.StampEditor(He)}return null},dd=function(He,Je){const $e=this.getNextId(),mr=Bn(this,sr,Gf).call(this,{parent:this,id:$e,x:He.offsetX,y:He.offsetY,uiManager:yr(this,ir),isCentered:Je});return mr&&this.add(mr),mr},zf=function(){const{x:He,y:Je,width:$e,height:mr}=this.div.getBoundingClientRect(),wr=Math.max(0,He),vr=Math.max(0,Je),ur=Math.min(window.innerWidth,He+$e),Cr=Math.min(window.innerHeight,Je+mr),_r=(wr+ur)/2-He,hr=(vr+Cr)/2-Je,[Sr,ar]=this.viewport.rotation%180===0?[_r,hr]:[hr,_r];return{offsetX:Sr,offsetY:ar}},Wf=function(){Hn(this,Ve,!0);for(const He of yr(this,Ke).values())He.isEmpty()&&He.remove();Hn(this,Ve,!1)},ys(Ze,"_initialized",!1);let Fe=Ze;t.AnnotationEditorLayer=Fe},(Ee,t,Ae)=>{var Be,Fe,Ie,Ue,ke,Oe,je,Ke,ze,Ve,mm,vm,ym,ah,Xf,Em,Yf;Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var _e=Ae(1),xe=Ae(5),Ce=Ae(4),Se=Ae(29);const Ze=class Ze extends Ce.AnnotationEditor{constructor(Je){super({...Je,name:"freeTextEditor"});Vn(this,Ve);Vn(this,Be,this.editorDivBlur.bind(this));Vn(this,Fe,this.editorDivFocus.bind(this));Vn(this,Ie,this.editorDivInput.bind(this));Vn(this,Ue,this.editorDivKeydown.bind(this));Vn(this,ke);Vn(this,Oe,"");Vn(this,je,`${this.id}-editor`);Vn(this,Ke);Vn(this,ze,null);Hn(this,ke,Je.color||Ze._defaultColor||Ce.AnnotationEditor._defaultLineColor),Hn(this,Ke,Je.fontSize||Ze._defaultFontSize)}static get _keyboardManager(){const Je=Ze.prototype,$e=vr=>vr.isEmpty(),mr=xe.AnnotationEditorUIManager.TRANSLATE_SMALL,wr=xe.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,_e.shadow)(this,"_keyboardManager",new xe.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Je.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Je.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Je._translateEmpty,{args:[-mr,0],checker:$e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Je._translateEmpty,{args:[-wr,0],checker:$e}],[["ArrowRight","mac+ArrowRight"],Je._translateEmpty,{args:[mr,0],checker:$e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Je._translateEmpty,{args:[wr,0],checker:$e}],[["ArrowUp","mac+ArrowUp"],Je._translateEmpty,{args:[0,-mr],checker:$e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Je._translateEmpty,{args:[0,-wr],checker:$e}],[["ArrowDown","mac+ArrowDown"],Je._translateEmpty,{args:[0,mr],checker:$e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Je._translateEmpty,{args:[0,wr],checker:$e}]]))}static initialize(Je){Ce.AnnotationEditor.initialize(Je,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const $e=getComputedStyle(document.documentElement);this._internalPadding=parseFloat($e.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Je,$e){switch(Je){case _e.AnnotationEditorParamsType.FREETEXT_SIZE:Ze._defaultFontSize=$e;break;case _e.AnnotationEditorParamsType.FREETEXT_COLOR:Ze._defaultColor=$e;break}}updateParams(Je,$e){switch(Je){case _e.AnnotationEditorParamsType.FREETEXT_SIZE:Bn(this,Ve,mm).call(this,$e);break;case _e.AnnotationEditorParamsType.FREETEXT_COLOR:Bn(this,Ve,vm).call(this,$e);break}}static get defaultPropertiesToUpdate(){return[[_e.AnnotationEditorParamsType.FREETEXT_SIZE,Ze._defaultFontSize],[_e.AnnotationEditorParamsType.FREETEXT_COLOR,Ze._defaultColor||Ce.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[_e.AnnotationEditorParamsType.FREETEXT_SIZE,yr(this,Ke)],[_e.AnnotationEditorParamsType.FREETEXT_COLOR,yr(this,ke)]]}_translateEmpty(Je,$e){this._uiManager.translateSelectedEditors(Je,$e,!0)}getInitialTranslation(){const Je=this.parentScale;return[-Ze._internalPadding*Je,-(Ze._internalPadding+yr(this,Ke))*Je]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(_e.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",yr(this,Ue)),this.editorDiv.addEventListener("focus",yr(this,Fe)),this.editorDiv.addEventListener("blur",yr(this,Be)),this.editorDiv.addEventListener("input",yr(this,Ie)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",yr(this,je)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",yr(this,Ue)),this.editorDiv.removeEventListener("focus",yr(this,Fe)),this.editorDiv.removeEventListener("blur",yr(this,Be)),this.editorDiv.removeEventListener("input",yr(this,Ie)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Je){this._focusEventsAllowed&&(super.focusin(Je),Je.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Je;if(this.width){Bn(this,Ve,Yf).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Je=this._initialOptions)!=null&&Je.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Je=yr(this,Oe),$e=Hn(this,Oe,Bn(this,Ve,ym).call(this).trimEnd());if(Je===$e)return;const mr=wr=>{if(Hn(this,Oe,wr),!wr){this.remove();return}Bn(this,Ve,Xf).call(this),this._uiManager.rebuild(this),Bn(this,Ve,ah).call(this)};this.addCommands({cmd:()=>{mr($e)},undo:()=>{mr(Je)},mustExec:!1}),Bn(this,Ve,ah).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Je){this.enterInEditMode()}keydown(Je){Je.target===this.div&&Je.key==="Enter"&&(this.enterInEditMode(),Je.preventDefault())}editorDivKeydown(Je){Ze._keyboardManager.exec(this,Je)}editorDivFocus(Je){this.isEditing=!0}editorDivBlur(Je){this.isEditing=!1}editorDivInput(Je){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Je,$e;this.width&&(Je=this.x,$e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",yr(this,je)),this.enableEditing(),Ce.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(wr=>{var vr;return(vr=this.editorDiv)==null?void 0:vr.setAttribute("aria-label",wr)}),Ce.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(wr=>{var vr;return(vr=this.editorDiv)==null?void 0:vr.setAttribute("default-content",wr)}),this.editorDiv.contentEditable=!0;const{style:mr}=this.editorDiv;if(mr.fontSize=`calc(${yr(this,Ke)}px * var(--scale-factor))`,mr.color=yr(this,ke),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,xe.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[wr,vr]=this.parentDimensions;if(this.annotationElementId){const{position:ur}=yr(this,ze);let[Cr,_r]=this.getInitialTranslation();[Cr,_r]=this.pageTranslationToScreen(Cr,_r);const[hr,Sr]=this.pageDimensions,[ar,tr]=this.pageTranslation;let lr,pr;switch(this.rotation){case 0:lr=Je+(ur[0]-ar)/hr,pr=$e+this.height-(ur[1]-tr)/Sr;break;case 90:lr=Je+(ur[0]-ar)/hr,pr=$e-(ur[1]-tr)/Sr,[Cr,_r]=[_r,-Cr];break;case 180:lr=Je-this.width+(ur[0]-ar)/hr,pr=$e-(ur[1]-tr)/Sr,[Cr,_r]=[-Cr,-_r];break;case 270:lr=Je+(ur[0]-ar-this.height*Sr)/hr,pr=$e+(ur[1]-tr-this.width*hr)/Sr,[Cr,_r]=[-_r,Cr];break}this.setAt(lr*wr,pr*vr,Cr,_r)}else this.setAt(Je*wr,$e*vr,this.width*wr,this.height*vr);Bn(this,Ve,Xf).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Je,$e,mr){let wr=null;if(Je instanceof Se.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:ur,fontColor:Cr},rect:_r,rotation:hr,id:Sr},textContent:ar,textPosition:tr,parent:{page:{pageNumber:lr}}}=Je;if(!ar||ar.length===0)return null;wr=Je={annotationType:_e.AnnotationEditorType.FREETEXT,color:Array.from(Cr),fontSize:ur,value:ar.join(`
`),position:tr,pageIndex:lr-1,rect:_r,rotation:hr,id:Sr,deleted:!1}}const vr=super.deserialize(Je,$e,mr);return Hn(vr,Ke,Je.fontSize),Hn(vr,ke,_e.Util.makeHexColor(...Je.color)),Hn(vr,Oe,Je.value),vr.annotationElementId=Je.id||null,Hn(vr,ze,wr),vr}serialize(Je=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const $e=Ze._internalPadding*this.parentScale,mr=this.getRect($e,$e),wr=Ce.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:yr(this,ke)),vr={annotationType:_e.AnnotationEditorType.FREETEXT,color:wr,fontSize:yr(this,Ke),value:yr(this,Oe),pageIndex:this.pageIndex,rect:mr,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Je?vr:this.annotationElementId&&!Bn(this,Ve,Em).call(this,vr)?null:(vr.id=this.annotationElementId,vr)}};Be=new WeakMap,Fe=new WeakMap,Ie=new WeakMap,Ue=new WeakMap,ke=new WeakMap,Oe=new WeakMap,je=new WeakMap,Ke=new WeakMap,ze=new WeakMap,Ve=new WeakSet,mm=function(Je){const $e=wr=>{this.editorDiv.style.fontSize=`calc(${wr}px * var(--scale-factor))`,this.translate(0,-(wr-yr(this,Ke))*this.parentScale),Hn(this,Ke,wr),Bn(this,Ve,ah).call(this)},mr=yr(this,Ke);this.addCommands({cmd:()=>{$e(Je)},undo:()=>{$e(mr)},mustExec:!0,type:_e.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},vm=function(Je){const $e=yr(this,ke);this.addCommands({cmd:()=>{Hn(this,ke,this.editorDiv.style.color=Je)},undo:()=>{Hn(this,ke,this.editorDiv.style.color=$e)},mustExec:!0,type:_e.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ym=function(){const Je=this.editorDiv.getElementsByTagName("div");if(Je.length===0)return this.editorDiv.innerText;const $e=[];for(const mr of Je)$e.push(mr.innerText.replace(/\r\n?|\n/,""));return $e.join(`
`)},ah=function(){const[Je,$e]=this.parentDimensions;let mr;if(this.isAttachedToDOM)mr=this.div.getBoundingClientRect();else{const{currentLayer:wr,div:vr}=this,ur=vr.style.display;vr.style.display="hidden",wr.div.append(this.div),mr=vr.getBoundingClientRect(),vr.remove(),vr.style.display=ur}this.rotation%180===this.parentRotation%180?(this.width=mr.width/Je,this.height=mr.height/$e):(this.width=mr.height/Je,this.height=mr.width/$e),this.fixAndSetPosition()},Xf=function(){if(this.editorDiv.replaceChildren(),!!yr(this,Oe))for(const Je of yr(this,Oe).split(`
`)){const $e=document.createElement("div");$e.append(Je?document.createTextNode(Je):document.createElement("br")),this.editorDiv.append($e)}},Em=function(Je){const{value:$e,fontSize:mr,color:wr,rect:vr,pageIndex:ur}=yr(this,ze);return Je.value!==$e||Je.fontSize!==mr||Je.rect.some((Cr,_r)=>Math.abs(Cr-vr[_r])>=1)||Je.color.some((Cr,_r)=>Cr!==wr[_r])||Je.pageIndex!==ur},Yf=function(Je=!1){if(!this.annotationElementId)return;if(Bn(this,Ve,ah).call(this),!Je&&(this.width===0||this.height===0)){setTimeout(()=>Bn(this,Ve,Yf).call(this,!0),0);return}const $e=Ze._internalPadding*this.parentScale;yr(this,ze).rect=this.getRect($e,$e)},ys(Ze,"_freeTextDefaultContent",""),ys(Ze,"_internalPadding",0),ys(Ze,"_defaultColor",null),ys(Ze,"_defaultFontSize",10),ys(Ze,"_type","freetext");let Re=Ze;t.FreeTextEditor=Re},(Ee,t,Ae)=>{var pr,Rr,Lc,_m,Zr,zr,$r,vn,bn,An,Fr,dn,Dr,jr,hn,pn,xn,Dn,On,yn,Gn,Qn,bm,pd,Jf,Zf,In,Kn,si,Kr,Xr,br,Sn,$f,fr,Lr,un,Pr,wm,ep;Object.defineProperty(t,"__esModule",{value:!0}),t.StampAnnotationElement=t.InkAnnotationElement=t.FreeTextAnnotationElement=t.AnnotationLayer=void 0;var _e=Ae(1),xe=Ae(6),Ce=Ae(3),Se=Ae(30),Re=Ae(31),Be=Ae(32);const Fe=1e3,Ie=9,Ue=new WeakSet;function ke(Zn){return{width:Zn[2]-Zn[0],height:Zn[3]-Zn[1]}}class Oe{static create(Vr){switch(Vr.data.annotationType){case _e.AnnotationType.LINK:return new Ke(Vr);case _e.AnnotationType.TEXT:return new ze(Vr);case _e.AnnotationType.WIDGET:switch(Vr.data.fieldType){case"Tx":return new Xe(Vr);case"Btn":return Vr.data.radioButton?new rr(Vr):Vr.data.checkBox?new sr(Vr):new nr(Vr);case"Ch":return new We(Vr);case"Sig":return new ir(Vr)}return new Ve(Vr);case _e.AnnotationType.POPUP:return new Ge(Vr);case _e.AnnotationType.FREETEXT:return new or(Vr);case _e.AnnotationType.LINE:return new He(Vr);case _e.AnnotationType.SQUARE:return new Je(Vr);case _e.AnnotationType.CIRCLE:return new $e(Vr);case _e.AnnotationType.POLYLINE:return new mr(Vr);case _e.AnnotationType.CARET:return new vr(Vr);case _e.AnnotationType.INK:return new ur(Vr);case _e.AnnotationType.POLYGON:return new wr(Vr);case _e.AnnotationType.HIGHLIGHT:return new Cr(Vr);case _e.AnnotationType.UNDERLINE:return new _r(Vr);case _e.AnnotationType.SQUIGGLY:return new hr(Vr);case _e.AnnotationType.STRIKEOUT:return new Sr(Vr);case _e.AnnotationType.STAMP:return new ar(Vr);case _e.AnnotationType.FILEATTACHMENT:return new tr(Vr);default:return new je(Vr)}}}const Er=class Er{constructor(Vr,{isRenderable:Mr=!1,ignoreBorder:gn=!1,createQuadrilaterals:wn=!1}={}){Vn(this,pr,!1);this.isRenderable=Mr,this.data=Vr.data,this.layer=Vr.layer,this.linkService=Vr.linkService,this.downloadManager=Vr.downloadManager,this.imageResourcesPath=Vr.imageResourcesPath,this.renderForms=Vr.renderForms,this.svgFactory=Vr.svgFactory,this.annotationStorage=Vr.annotationStorage,this.enableScripting=Vr.enableScripting,this.hasJSActions=Vr.hasJSActions,this._fieldObjects=Vr.fieldObjects,this.parent=Vr.parent,Mr&&(this.container=this._createContainer(gn)),wn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Vr,contentsObj:Mr,richText:gn}){return!!(Vr!=null&&Vr.str||Mr!=null&&Mr.str||gn!=null&&gn.str)}get hasPopupData(){return Er._hasPopupData(this.data)}_createContainer(Vr){const{data:Mr,parent:{page:gn,viewport:wn}}=this,Rn=document.createElement("section");Rn.setAttribute("data-annotation-id",Mr.id),this instanceof Ve||(Rn.tabIndex=Fe),Rn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Rn.setAttribute("aria-haspopup","dialog"),Mr.noRotate&&Rn.classList.add("norotate");const{pageWidth:Nn,pageHeight:zn,pageX:ci,pageY:ui}=wn.rawDims;if(!Mr.rect||this instanceof Ge){const{rotation:bi}=Mr;return!Mr.hasOwnCanvas&&bi!==0&&this.setRotation(bi,Rn),Rn}const{width:oi,height:Bi}=ke(Mr.rect),fi=_e.Util.normalizeRect([Mr.rect[0],gn.view[3]-Mr.rect[1]+gn.view[1],Mr.rect[2],gn.view[3]-Mr.rect[3]+gn.view[1]]);if(!Vr&&Mr.borderStyle.width>0){Rn.style.borderWidth=`${Mr.borderStyle.width}px`;const bi=Mr.borderStyle.horizontalCornerRadius,Ci=Mr.borderStyle.verticalCornerRadius;if(bi>0||Ci>0){const Ii=`calc(${bi}px * var(--scale-factor)) / calc(${Ci}px * var(--scale-factor))`;Rn.style.borderRadius=Ii}else if(this instanceof rr){const Ii=`calc(${oi}px * var(--scale-factor)) / calc(${Bi}px * var(--scale-factor))`;Rn.style.borderRadius=Ii}switch(Mr.borderStyle.style){case _e.AnnotationBorderStyleType.SOLID:Rn.style.borderStyle="solid";break;case _e.AnnotationBorderStyleType.DASHED:Rn.style.borderStyle="dashed";break;case _e.AnnotationBorderStyleType.BEVELED:(0,_e.warn)("Unimplemented border style: beveled");break;case _e.AnnotationBorderStyleType.INSET:(0,_e.warn)("Unimplemented border style: inset");break;case _e.AnnotationBorderStyleType.UNDERLINE:Rn.style.borderBottomStyle="solid";break}const Pi=Mr.borderColor||null;Pi?(Hn(this,pr,!0),Rn.style.borderColor=_e.Util.makeHexColor(Pi[0]|0,Pi[1]|0,Pi[2]|0)):Rn.style.borderWidth=0}Rn.style.left=`${100*(fi[0]-ci)/Nn}%`,Rn.style.top=`${100*(fi[1]-ui)/zn}%`;const{rotation:yi}=Mr;return Mr.hasOwnCanvas||yi===0?(Rn.style.width=`${100*oi/Nn}%`,Rn.style.height=`${100*Bi/zn}%`):this.setRotation(yi,Rn),Rn}setRotation(Vr,Mr=this.container){if(!this.data.rect)return;const{pageWidth:gn,pageHeight:wn}=this.parent.viewport.rawDims,{width:Rn,height:Nn}=ke(this.data.rect);let zn,ci;Vr%180===0?(zn=100*Rn/gn,ci=100*Nn/wn):(zn=100*Nn/gn,ci=100*Rn/wn),Mr.style.width=`${zn}%`,Mr.style.height=`${ci}%`,Mr.setAttribute("data-main-rotation",(360-Vr)%360)}get _commonActions(){const Vr=(Mr,gn,wn)=>{const Rn=wn.detail[Mr],Nn=Rn[0],zn=Rn.slice(1);wn.target.style[gn]=Se.ColorConverters[`${Nn}_HTML`](zn),this.annotationStorage.setValue(this.data.id,{[gn]:Se.ColorConverters[`${Nn}_rgb`](zn)})};return(0,_e.shadow)(this,"_commonActions",{display:Mr=>{const{display:gn}=Mr.detail,wn=gn%2===1;this.container.style.visibility=wn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:wn,noPrint:gn===1||gn===2})},print:Mr=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Mr.detail.print})},hidden:Mr=>{const{hidden:gn}=Mr.detail;this.container.style.visibility=gn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:gn,noView:gn})},focus:Mr=>{setTimeout(()=>Mr.target.focus({preventScroll:!1}),0)},userName:Mr=>{Mr.target.title=Mr.detail.userName},readonly:Mr=>{Mr.target.disabled=Mr.detail.readonly},required:Mr=>{this._setRequired(Mr.target,Mr.detail.required)},bgColor:Mr=>{Vr("bgColor","backgroundColor",Mr)},fillColor:Mr=>{Vr("fillColor","backgroundColor",Mr)},fgColor:Mr=>{Vr("fgColor","color",Mr)},textColor:Mr=>{Vr("textColor","color",Mr)},borderColor:Mr=>{Vr("borderColor","borderColor",Mr)},strokeColor:Mr=>{Vr("strokeColor","borderColor",Mr)},rotation:Mr=>{const gn=Mr.detail.rotation;this.setRotation(gn),this.annotationStorage.setValue(this.data.id,{rotation:gn})}})}_dispatchEventFromSandbox(Vr,Mr){const gn=this._commonActions;for(const wn of Object.keys(Mr.detail)){const Rn=Vr[wn]||gn[wn];Rn==null||Rn(Mr)}}_setDefaultPropertiesFromJS(Vr){if(!this.enableScripting)return;const Mr=this.annotationStorage.getRawValue(this.data.id);if(!Mr)return;const gn=this._commonActions;for(const[wn,Rn]of Object.entries(Mr)){const Nn=gn[wn];if(Nn){const zn={detail:{[wn]:Rn},target:Vr};Nn(zn),delete Mr[wn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Vr}=this.data;if(!Vr)return;const[Mr,gn,wn,Rn]=this.data.rect;if(Vr.length===1){const[,{x:Ci,y:Pi},{x:Ii,y:Li}]=Vr[0];if(wn===Ci&&Rn===Pi&&Mr===Ii&&gn===Li)return}const{style:Nn}=this.container;let zn;if(yr(this,pr)){const{borderColor:Ci,borderWidth:Pi}=Nn;Nn.borderWidth=0,zn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ci}" stroke-width="${Pi}">`],this.container.classList.add("hasBorder")}const ci=wn-Mr,ui=Rn-gn,{svgFactory:oi}=this,Bi=oi.createElement("svg");Bi.classList.add("quadrilateralsContainer"),Bi.setAttribute("width",0),Bi.setAttribute("height",0);const fi=oi.createElement("defs");Bi.append(fi);const yi=oi.createElement("clipPath"),bi=`clippath_${this.data.id}`;yi.setAttribute("id",bi),yi.setAttribute("clipPathUnits","objectBoundingBox"),fi.append(yi);for(const[,{x:Ci,y:Pi},{x:Ii,y:Li}]of Vr){const Zi=oi.createElement("rect"),Ns=(Ii-Mr)/ci,xs=(Rn-Pi)/ui,Rs=(Ci-Ii)/ci,Va=(Pi-Li)/ui;Zi.setAttribute("x",Ns),Zi.setAttribute("y",xs),Zi.setAttribute("width",Rs),Zi.setAttribute("height",Va),yi.append(Zi),zn==null||zn.push(`<rect vector-effect="non-scaling-stroke" x="${Ns}" y="${xs}" width="${Rs}" height="${Va}"/>`)}yr(this,pr)&&(zn.push("</g></svg>')"),Nn.backgroundImage=zn.join("")),this.container.append(Bi),this.container.style.clipPath=`url(#${bi})`}_createPopup(){const{container:Vr,data:Mr}=this;Vr.setAttribute("aria-haspopup","dialog");const gn=new Ge({data:{color:Mr.color,titleObj:Mr.titleObj,modificationDate:Mr.modificationDate,contentsObj:Mr.contentsObj,richText:Mr.richText,parentRect:Mr.rect,borderStyle:0,id:`popup_${Mr.id}`,rotation:Mr.rotation},parent:this.parent,elements:[this]});this.parent.div.append(gn.render())}render(){(0,_e.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Vr,Mr=null){const gn=[];if(this._fieldObjects){const wn=this._fieldObjects[Vr];if(wn)for(const{page:Rn,id:Nn,exportValues:zn}of wn){if(Rn===-1||Nn===Mr)continue;const ci=typeof zn=="string"?zn:null,ui=document.querySelector(`[data-element-id="${Nn}"]`);if(ui&&!Ue.has(ui)){(0,_e.warn)(`_getElementsByName - element not allowed: ${Nn}`);continue}gn.push({id:Nn,exportValue:ci,domElement:ui})}return gn}for(const wn of document.getElementsByName(Vr)){const{exportValue:Rn}=wn,Nn=wn.getAttribute("data-element-id");Nn!==Mr&&Ue.has(wn)&&gn.push({id:Nn,exportValue:Rn,domElement:wn})}return gn}show(){var Vr;this.container&&(this.container.hidden=!1),(Vr=this.popup)==null||Vr.maybeShow()}hide(){var Vr;this.container&&(this.container.hidden=!0),(Vr=this.popup)==null||Vr.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Vr=this.getElementsToTriggerPopup();if(Array.isArray(Vr))for(const Mr of Vr)Mr.classList.add("highlightArea");else Vr.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Vr,data:{id:Mr}}=this;this.container.addEventListener("dblclick",()=>{var gn;(gn=this.linkService.eventBus)==null||gn.dispatch("switchannotationeditormode",{source:this,mode:Vr,editId:Mr})})}};pr=new WeakMap;let je=Er;class Ke extends je{constructor(Mr,gn=null){super(Mr,{isRenderable:!0,ignoreBorder:!!(gn!=null&&gn.ignoreBorder),createQuadrilaterals:!0});Vn(this,Rr);this.isTooltipOnly=Mr.data.isTooltipOnly}render(){const{data:Mr,linkService:gn}=this,wn=document.createElement("a");wn.setAttribute("data-element-id",Mr.id);let Rn=!1;return Mr.url?(gn.addLinkAttributes(wn,Mr.url,Mr.newWindow),Rn=!0):Mr.action?(this._bindNamedAction(wn,Mr.action),Rn=!0):Mr.attachment?(this._bindAttachment(wn,Mr.attachment),Rn=!0):Mr.setOCGState?(Bn(this,Rr,_m).call(this,wn,Mr.setOCGState),Rn=!0):Mr.dest?(this._bindLink(wn,Mr.dest),Rn=!0):(Mr.actions&&(Mr.actions.Action||Mr.actions["Mouse Up"]||Mr.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(wn,Mr),Rn=!0),Mr.resetForm?(this._bindResetFormAction(wn,Mr.resetForm),Rn=!0):this.isTooltipOnly&&!Rn&&(this._bindLink(wn,""),Rn=!0)),this.container.classList.add("linkAnnotation"),Rn&&this.container.append(wn),this.container}_bindLink(Mr,gn){Mr.href=this.linkService.getDestinationHash(gn),Mr.onclick=()=>(gn&&this.linkService.goToDestination(gn),!1),(gn||gn==="")&&Bn(this,Rr,Lc).call(this)}_bindNamedAction(Mr,gn){Mr.href=this.linkService.getAnchorUrl(""),Mr.onclick=()=>(this.linkService.executeNamedAction(gn),!1),Bn(this,Rr,Lc).call(this)}_bindAttachment(Mr,gn){Mr.href=this.linkService.getAnchorUrl(""),Mr.onclick=()=>{var wn;return(wn=this.downloadManager)==null||wn.openOrDownloadData(this.container,gn.content,gn.filename),!1},Bn(this,Rr,Lc).call(this)}_bindJSAction(Mr,gn){Mr.href=this.linkService.getAnchorUrl("");const wn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Rn of Object.keys(gn.actions)){const Nn=wn.get(Rn);Nn&&(Mr[Nn]=()=>{var zn;return(zn=this.linkService.eventBus)==null||zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gn.id,name:Rn}}),!1})}Mr.onclick||(Mr.onclick=()=>!1),Bn(this,Rr,Lc).call(this)}_bindResetFormAction(Mr,gn){const wn=Mr.onclick;if(wn||(Mr.href=this.linkService.getAnchorUrl("")),Bn(this,Rr,Lc).call(this),!this._fieldObjects){(0,_e.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),wn||(Mr.onclick=()=>!1);return}Mr.onclick=()=>{var Bi;wn==null||wn();const{fields:Rn,refs:Nn,include:zn}=gn,ci=[];if(Rn.length!==0||Nn.length!==0){const fi=new Set(Nn);for(const yi of Rn){const bi=this._fieldObjects[yi]||[];for(const{id:Ci}of bi)fi.add(Ci)}for(const yi of Object.values(this._fieldObjects))for(const bi of yi)fi.has(bi.id)===zn&&ci.push(bi)}else for(const fi of Object.values(this._fieldObjects))ci.push(...fi);const ui=this.annotationStorage,oi=[];for(const fi of ci){const{id:yi}=fi;switch(oi.push(yi),fi.type){case"text":{const Ci=fi.defaultValue||"";ui.setValue(yi,{value:Ci});break}case"checkbox":case"radiobutton":{const Ci=fi.defaultValue===fi.exportValues;ui.setValue(yi,{value:Ci});break}case"combobox":case"listbox":{const Ci=fi.defaultValue||"";ui.setValue(yi,{value:Ci});break}default:continue}const bi=document.querySelector(`[data-element-id="${yi}"]`);if(bi){if(!Ue.has(bi)){(0,_e.warn)(`_bindResetFormAction - element not allowed: ${yi}`);continue}}else continue;bi.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Bi=this.linkService.eventBus)==null||Bi.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:oi,name:"ResetForm"}})),!1}}}Rr=new WeakSet,Lc=function(){this.container.setAttribute("data-internal-link","")},_m=function(Mr,gn){Mr.href=this.linkService.getAnchorUrl(""),Mr.onclick=()=>(this.linkService.executeSetOCGState(gn),!1),Bn(this,Rr,Lc).call(this)};class ze extends je{constructor(Vr){super(Vr,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Vr=document.createElement("img");return Vr.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Vr.alt="[{{type}} Annotation]",Vr.dataset.l10nId="text_annotation_type",Vr.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Vr),this.container}}class Ve extends je{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Vr){var Mr;this.data.hasOwnCanvas&&(((Mr=Vr.previousSibling)==null?void 0:Mr.nodeName)==="CANVAS"&&(Vr.previousSibling.hidden=!0),Vr.hidden=!1)}_getKeyModifier(Vr){const{isWin:Mr,isMac:gn}=_e.FeatureTest.platform;return Mr&&Vr.ctrlKey||gn&&Vr.metaKey}_setEventListener(Vr,Mr,gn,wn,Rn){gn.includes("mouse")?Vr.addEventListener(gn,Nn=>{var zn;(zn=this.linkService.eventBus)==null||zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:wn,value:Rn(Nn),shift:Nn.shiftKey,modifier:this._getKeyModifier(Nn)}})}):Vr.addEventListener(gn,Nn=>{var zn;if(gn==="blur"){if(!Mr.focused||!Nn.relatedTarget)return;Mr.focused=!1}else if(gn==="focus"){if(Mr.focused)return;Mr.focused=!0}Rn&&((zn=this.linkService.eventBus)==null||zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:wn,value:Rn(Nn)}}))})}_setEventListeners(Vr,Mr,gn,wn){var Rn,Nn,zn;for(const[ci,ui]of gn)(ui==="Action"||(Rn=this.data.actions)!=null&&Rn[ui])&&((ui==="Focus"||ui==="Blur")&&(Mr||(Mr={focused:!1})),this._setEventListener(Vr,Mr,ci,ui,wn),ui==="Focus"&&!((Nn=this.data.actions)!=null&&Nn.Blur)?this._setEventListener(Vr,Mr,"blur","Blur",null):ui==="Blur"&&!((zn=this.data.actions)!=null&&zn.Focus)&&this._setEventListener(Vr,Mr,"focus","Focus",null))}_setBackgroundColor(Vr){const Mr=this.data.backgroundColor||null;Vr.style.backgroundColor=Mr===null?"transparent":_e.Util.makeHexColor(Mr[0],Mr[1],Mr[2])}_setTextStyle(Vr){const Mr=["left","center","right"],{fontColor:gn}=this.data.defaultAppearanceData,wn=this.data.defaultAppearanceData.fontSize||Ie,Rn=Vr.style;let Nn;const zn=2,ci=ui=>Math.round(10*ui)/10;if(this.data.multiLine){const ui=Math.abs(this.data.rect[3]-this.data.rect[1]-zn),oi=Math.round(ui/(_e.LINE_FACTOR*wn))||1,Bi=ui/oi;Nn=Math.min(wn,ci(Bi/_e.LINE_FACTOR))}else{const ui=Math.abs(this.data.rect[3]-this.data.rect[1]-zn);Nn=Math.min(wn,ci(ui/_e.LINE_FACTOR))}Rn.fontSize=`calc(${Nn}px * var(--scale-factor))`,Rn.color=_e.Util.makeHexColor(gn[0],gn[1],gn[2]),this.data.textAlignment!==null&&(Rn.textAlign=Mr[this.data.textAlignment])}_setRequired(Vr,Mr){Mr?Vr.setAttribute("required",!0):Vr.removeAttribute("required"),Vr.setAttribute("aria-required",Mr)}}class Xe extends Ve{constructor(Vr){const Mr=Vr.renderForms||!Vr.data.hasAppearance&&!!Vr.data.fieldValue;super(Vr,{isRenderable:Mr})}setPropertyOnSiblings(Vr,Mr,gn,wn){const Rn=this.annotationStorage;for(const Nn of this._getElementsByName(Vr.name,Vr.id))Nn.domElement&&(Nn.domElement[Mr]=gn),Rn.setValue(Nn.id,{[wn]:gn})}render(){var wn,Rn;const Vr=this.annotationStorage,Mr=this.data.id;this.container.classList.add("textWidgetAnnotation");let gn=null;if(this.renderForms){const Nn=Vr.getValue(Mr,{value:this.data.fieldValue});let zn=Nn.value||"";const ci=Vr.getValue(Mr,{charLimit:this.data.maxLen}).charLimit;ci&&zn.length>ci&&(zn=zn.slice(0,ci));let ui=Nn.formattedValue||((wn=this.data.textContent)==null?void 0:wn.join(`
`))||null;ui&&this.data.comb&&(ui=ui.replaceAll(/\s+/g,""));const oi={userValue:zn,formattedValue:ui,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(gn=document.createElement("textarea"),gn.textContent=ui??zn,this.data.doNotScroll&&(gn.style.overflowY="hidden")):(gn=document.createElement("input"),gn.type="text",gn.setAttribute("value",ui??zn),this.data.doNotScroll&&(gn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(gn.hidden=!0),Ue.add(gn),gn.setAttribute("data-element-id",Mr),gn.disabled=this.data.readOnly,gn.name=this.data.fieldName,gn.tabIndex=Fe,this._setRequired(gn,this.data.required),ci&&(gn.maxLength=ci),gn.addEventListener("input",fi=>{Vr.setValue(Mr,{value:fi.target.value}),this.setPropertyOnSiblings(gn,"value",fi.target.value,"value"),oi.formattedValue=null}),gn.addEventListener("resetform",fi=>{const yi=this.data.defaultFieldValue??"";gn.value=oi.userValue=yi,oi.formattedValue=null});let Bi=fi=>{const{formattedValue:yi}=oi;yi!=null&&(fi.target.value=yi),fi.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){gn.addEventListener("focus",yi=>{if(oi.focused)return;const{target:bi}=yi;oi.userValue&&(bi.value=oi.userValue),oi.lastCommittedValue=bi.value,oi.commitKey=1,oi.focused=!0}),gn.addEventListener("updatefromsandbox",yi=>{this.showElementAndHideCanvas(yi.target);const bi={value(Ci){oi.userValue=Ci.detail.value??"",Vr.setValue(Mr,{value:oi.userValue.toString()}),Ci.target.value=oi.userValue},formattedValue(Ci){const{formattedValue:Pi}=Ci.detail;oi.formattedValue=Pi,Pi!=null&&Ci.target!==document.activeElement&&(Ci.target.value=Pi),Vr.setValue(Mr,{formattedValue:Pi})},selRange(Ci){Ci.target.setSelectionRange(...Ci.detail.selRange)},charLimit:Ci=>{var Zi;const{charLimit:Pi}=Ci.detail,{target:Ii}=Ci;if(Pi===0){Ii.removeAttribute("maxLength");return}Ii.setAttribute("maxLength",Pi);let Li=oi.userValue;!Li||Li.length<=Pi||(Li=Li.slice(0,Pi),Ii.value=oi.userValue=Li,Vr.setValue(Mr,{value:Li}),(Zi=this.linkService.eventBus)==null||Zi.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mr,name:"Keystroke",value:Li,willCommit:!0,commitKey:1,selStart:Ii.selectionStart,selEnd:Ii.selectionEnd}}))}};this._dispatchEventFromSandbox(bi,yi)}),gn.addEventListener("keydown",yi=>{var Pi;oi.commitKey=1;let bi=-1;if(yi.key==="Escape"?bi=0:yi.key==="Enter"&&!this.data.multiLine?bi=2:yi.key==="Tab"&&(oi.commitKey=3),bi===-1)return;const{value:Ci}=yi.target;oi.lastCommittedValue!==Ci&&(oi.lastCommittedValue=Ci,oi.userValue=Ci,(Pi=this.linkService.eventBus)==null||Pi.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mr,name:"Keystroke",value:Ci,willCommit:!0,commitKey:bi,selStart:yi.target.selectionStart,selEnd:yi.target.selectionEnd}}))});const fi=Bi;Bi=null,gn.addEventListener("blur",yi=>{var Ci;if(!oi.focused||!yi.relatedTarget)return;oi.focused=!1;const{value:bi}=yi.target;oi.userValue=bi,oi.lastCommittedValue!==bi&&((Ci=this.linkService.eventBus)==null||Ci.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mr,name:"Keystroke",value:bi,willCommit:!0,commitKey:oi.commitKey,selStart:yi.target.selectionStart,selEnd:yi.target.selectionEnd}})),fi(yi)}),(Rn=this.data.actions)!=null&&Rn.Keystroke&&gn.addEventListener("beforeinput",yi=>{var xs;oi.lastCommittedValue=null;const{data:bi,target:Ci}=yi,{value:Pi,selectionStart:Ii,selectionEnd:Li}=Ci;let Zi=Ii,Ns=Li;switch(yi.inputType){case"deleteWordBackward":{const Rs=Pi.substring(0,Ii).match(/\w*[^\w]*$/);Rs&&(Zi-=Rs[0].length);break}case"deleteWordForward":{const Rs=Pi.substring(Ii).match(/^[^\w]*\w*/);Rs&&(Ns+=Rs[0].length);break}case"deleteContentBackward":Ii===Li&&(Zi-=1);break;case"deleteContentForward":Ii===Li&&(Ns+=1);break}yi.preventDefault(),(xs=this.linkService.eventBus)==null||xs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mr,name:"Keystroke",value:Pi,change:bi||"",willCommit:!1,selStart:Zi,selEnd:Ns}})}),this._setEventListeners(gn,oi,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],yi=>yi.target.value)}if(Bi&&gn.addEventListener("blur",Bi),this.data.comb){const yi=(this.data.rect[2]-this.data.rect[0])/ci;gn.classList.add("comb"),gn.style.letterSpacing=`calc(${yi}px * var(--scale-factor) - 1ch)`}}else gn=document.createElement("div"),gn.textContent=this.data.fieldValue,gn.style.verticalAlign="middle",gn.style.display="table-cell";return this._setTextStyle(gn),this._setBackgroundColor(gn),this._setDefaultPropertiesFromJS(gn),this.container.append(gn),this.container}}class ir extends Ve{constructor(Vr){super(Vr,{isRenderable:!!Vr.data.hasOwnCanvas})}}class sr extends Ve{constructor(Vr){super(Vr,{isRenderable:Vr.renderForms})}render(){const Vr=this.annotationStorage,Mr=this.data,gn=Mr.id;let wn=Vr.getValue(gn,{value:Mr.exportValue===Mr.fieldValue}).value;typeof wn=="string"&&(wn=wn!=="Off",Vr.setValue(gn,{value:wn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Rn=document.createElement("input");return Ue.add(Rn),Rn.setAttribute("data-element-id",gn),Rn.disabled=Mr.readOnly,this._setRequired(Rn,this.data.required),Rn.type="checkbox",Rn.name=Mr.fieldName,wn&&Rn.setAttribute("checked",!0),Rn.setAttribute("exportValue",Mr.exportValue),Rn.tabIndex=Fe,Rn.addEventListener("change",Nn=>{const{name:zn,checked:ci}=Nn.target;for(const ui of this._getElementsByName(zn,gn)){const oi=ci&&ui.exportValue===Mr.exportValue;ui.domElement&&(ui.domElement.checked=oi),Vr.setValue(ui.id,{value:oi})}Vr.setValue(gn,{value:ci})}),Rn.addEventListener("resetform",Nn=>{const zn=Mr.defaultFieldValue||"Off";Nn.target.checked=zn===Mr.exportValue}),this.enableScripting&&this.hasJSActions&&(Rn.addEventListener("updatefromsandbox",Nn=>{const zn={value(ci){ci.target.checked=ci.detail.value!=="Off",Vr.setValue(gn,{value:ci.target.checked})}};this._dispatchEventFromSandbox(zn,Nn)}),this._setEventListeners(Rn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Nn=>Nn.target.checked)),this._setBackgroundColor(Rn),this._setDefaultPropertiesFromJS(Rn),this.container.append(Rn),this.container}}class rr extends Ve{constructor(Vr){super(Vr,{isRenderable:Vr.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Vr=this.annotationStorage,Mr=this.data,gn=Mr.id;let wn=Vr.getValue(gn,{value:Mr.fieldValue===Mr.buttonValue}).value;typeof wn=="string"&&(wn=wn!==Mr.buttonValue,Vr.setValue(gn,{value:wn}));const Rn=document.createElement("input");if(Ue.add(Rn),Rn.setAttribute("data-element-id",gn),Rn.disabled=Mr.readOnly,this._setRequired(Rn,this.data.required),Rn.type="radio",Rn.name=Mr.fieldName,wn&&Rn.setAttribute("checked",!0),Rn.tabIndex=Fe,Rn.addEventListener("change",Nn=>{const{name:zn,checked:ci}=Nn.target;for(const ui of this._getElementsByName(zn,gn))Vr.setValue(ui.id,{value:!1});Vr.setValue(gn,{value:ci})}),Rn.addEventListener("resetform",Nn=>{const zn=Mr.defaultFieldValue;Nn.target.checked=zn!=null&&zn===Mr.buttonValue}),this.enableScripting&&this.hasJSActions){const Nn=Mr.buttonValue;Rn.addEventListener("updatefromsandbox",zn=>{const ci={value:ui=>{const oi=Nn===ui.detail.value;for(const Bi of this._getElementsByName(ui.target.name)){const fi=oi&&Bi.id===gn;Bi.domElement&&(Bi.domElement.checked=fi),Vr.setValue(Bi.id,{value:fi})}}};this._dispatchEventFromSandbox(ci,zn)}),this._setEventListeners(Rn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],zn=>zn.target.checked)}return this._setBackgroundColor(Rn),this._setDefaultPropertiesFromJS(Rn),this.container.append(Rn),this.container}}class nr extends Ke{constructor(Vr){super(Vr,{ignoreBorder:Vr.data.hasAppearance})}render(){const Vr=super.render();Vr.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Vr.title=this.data.alternativeText);const Mr=Vr.lastChild;return this.enableScripting&&this.hasJSActions&&Mr&&(this._setDefaultPropertiesFromJS(Mr),Mr.addEventListener("updatefromsandbox",gn=>{this._dispatchEventFromSandbox({},gn)})),Vr}}class We extends Ve{constructor(Vr){super(Vr,{isRenderable:Vr.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Vr=this.annotationStorage,Mr=this.data.id,gn=Vr.getValue(Mr,{value:this.data.fieldValue}),wn=document.createElement("select");Ue.add(wn),wn.setAttribute("data-element-id",Mr),wn.disabled=this.data.readOnly,this._setRequired(wn,this.data.required),wn.name=this.data.fieldName,wn.tabIndex=Fe;let Rn=this.data.combo&&this.data.options.length>0;this.data.combo||(wn.size=this.data.options.length,this.data.multiSelect&&(wn.multiple=!0)),wn.addEventListener("resetform",oi=>{const Bi=this.data.defaultFieldValue;for(const fi of wn.options)fi.selected=fi.value===Bi});for(const oi of this.data.options){const Bi=document.createElement("option");Bi.textContent=oi.displayValue,Bi.value=oi.exportValue,gn.value.includes(oi.exportValue)&&(Bi.setAttribute("selected",!0),Rn=!1),wn.append(Bi)}let Nn=null;if(Rn){const oi=document.createElement("option");oi.value=" ",oi.setAttribute("hidden",!0),oi.setAttribute("selected",!0),wn.prepend(oi),Nn=()=>{oi.remove(),wn.removeEventListener("input",Nn),Nn=null},wn.addEventListener("input",Nn)}const zn=oi=>{const Bi=oi?"value":"textContent",{options:fi,multiple:yi}=wn;return yi?Array.prototype.filter.call(fi,bi=>bi.selected).map(bi=>bi[Bi]):fi.selectedIndex===-1?null:fi[fi.selectedIndex][Bi]};let ci=zn(!1);const ui=oi=>{const Bi=oi.target.options;return Array.prototype.map.call(Bi,fi=>({displayValue:fi.textContent,exportValue:fi.value}))};return this.enableScripting&&this.hasJSActions?(wn.addEventListener("updatefromsandbox",oi=>{const Bi={value(fi){Nn==null||Nn();const yi=fi.detail.value,bi=new Set(Array.isArray(yi)?yi:[yi]);for(const Ci of wn.options)Ci.selected=bi.has(Ci.value);Vr.setValue(Mr,{value:zn(!0)}),ci=zn(!1)},multipleSelection(fi){wn.multiple=!0},remove(fi){const yi=wn.options,bi=fi.detail.remove;yi[bi].selected=!1,wn.remove(bi),yi.length>0&&Array.prototype.findIndex.call(yi,Pi=>Pi.selected)===-1&&(yi[0].selected=!0),Vr.setValue(Mr,{value:zn(!0),items:ui(fi)}),ci=zn(!1)},clear(fi){for(;wn.length!==0;)wn.remove(0);Vr.setValue(Mr,{value:null,items:[]}),ci=zn(!1)},insert(fi){const{index:yi,displayValue:bi,exportValue:Ci}=fi.detail.insert,Pi=wn.children[yi],Ii=document.createElement("option");Ii.textContent=bi,Ii.value=Ci,Pi?Pi.before(Ii):wn.append(Ii),Vr.setValue(Mr,{value:zn(!0),items:ui(fi)}),ci=zn(!1)},items(fi){const{items:yi}=fi.detail;for(;wn.length!==0;)wn.remove(0);for(const bi of yi){const{displayValue:Ci,exportValue:Pi}=bi,Ii=document.createElement("option");Ii.textContent=Ci,Ii.value=Pi,wn.append(Ii)}wn.options.length>0&&(wn.options[0].selected=!0),Vr.setValue(Mr,{value:zn(!0),items:ui(fi)}),ci=zn(!1)},indices(fi){const yi=new Set(fi.detail.indices);for(const bi of fi.target.options)bi.selected=yi.has(bi.index);Vr.setValue(Mr,{value:zn(!0)}),ci=zn(!1)},editable(fi){fi.target.disabled=!fi.detail.editable}};this._dispatchEventFromSandbox(Bi,oi)}),wn.addEventListener("input",oi=>{var fi;const Bi=zn(!0);Vr.setValue(Mr,{value:Bi}),oi.preventDefault(),(fi=this.linkService.eventBus)==null||fi.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mr,name:"Keystroke",value:ci,changeEx:Bi,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(wn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],oi=>oi.target.value)):wn.addEventListener("input",function(oi){Vr.setValue(Mr,{value:zn(!0)})}),this.data.combo&&this._setTextStyle(wn),this._setBackgroundColor(wn),this._setDefaultPropertiesFromJS(wn),this.container.append(wn),this.container}}class Ge extends je{constructor(Vr){const{data:Mr,elements:gn}=Vr;super(Vr,{isRenderable:je._hasPopupData(Mr)}),this.elements=gn}render(){this.container.classList.add("popupAnnotation");const Vr=new Ze({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Mr=[];for(const gn of this.elements)gn.popup=Vr,Mr.push(gn.data.id),gn.addHighlightArea();return this.container.setAttribute("aria-controls",Mr.map(gn=>`${_e.AnnotationPrefix}${gn}`).join(",")),this.container}}class Ze{constructor({container:Vr,color:Mr,elements:gn,titleObj:wn,modificationDate:Rn,contentsObj:Nn,richText:zn,parent:ci,rect:ui,parentRect:oi,open:Bi}){Vn(this,Qn);Vn(this,Zr,null);Vn(this,zr,Bn(this,Qn,bm).bind(this));Vn(this,$r,Bn(this,Qn,Zf).bind(this));Vn(this,vn,Bn(this,Qn,Jf).bind(this));Vn(this,bn,Bn(this,Qn,pd).bind(this));Vn(this,An,null);Vn(this,Fr,null);Vn(this,dn,null);Vn(this,Dr,null);Vn(this,jr,null);Vn(this,hn,null);Vn(this,pn,!1);Vn(this,xn,null);Vn(this,Dn,null);Vn(this,On,null);Vn(this,yn,null);Vn(this,Gn,!1);var yi;Hn(this,Fr,Vr),Hn(this,yn,wn),Hn(this,dn,Nn),Hn(this,On,zn),Hn(this,jr,ci),Hn(this,An,Mr),Hn(this,Dn,ui),Hn(this,hn,oi),Hn(this,Dr,gn);const fi=xe.PDFDateString.toDateObject(Rn);fi&&Hn(this,Zr,ci.l10n.get("annotation_date_string",{date:fi.toLocaleDateString(),time:fi.toLocaleTimeString()})),this.trigger=gn.flatMap(bi=>bi.getElementsToTriggerPopup());for(const bi of this.trigger)bi.addEventListener("click",yr(this,bn)),bi.addEventListener("mouseenter",yr(this,vn)),bi.addEventListener("mouseleave",yr(this,$r)),bi.classList.add("popupTriggerArea");for(const bi of gn)(yi=bi.container)==null||yi.addEventListener("keydown",yr(this,zr));yr(this,Fr).hidden=!0,Bi&&Bn(this,Qn,pd).call(this)}render(){if(yr(this,xn))return;const{page:{view:Vr},viewport:{rawDims:{pageWidth:Mr,pageHeight:gn,pageX:wn,pageY:Rn}}}=yr(this,jr),Nn=Hn(this,xn,document.createElement("div"));if(Nn.className="popup",yr(this,An)){const Zi=Nn.style.outlineColor=_e.Util.makeHexColor(...yr(this,An));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Nn.style.backgroundColor=`color-mix(in srgb, ${Zi} 30%, white)`:Nn.style.backgroundColor=_e.Util.makeHexColor(...yr(this,An).map(xs=>Math.floor(.7*(255-xs)+xs)))}const zn=document.createElement("span");zn.className="header";const ci=document.createElement("h1");if(zn.append(ci),{dir:ci.dir,str:ci.textContent}=yr(this,yn),Nn.append(zn),yr(this,Zr)){const Zi=document.createElement("span");Zi.classList.add("popupDate"),yr(this,Zr).then(Ns=>{Zi.textContent=Ns}),zn.append(Zi)}const ui=yr(this,dn),oi=yr(this,On);if(oi!=null&&oi.str&&(!(ui!=null&&ui.str)||ui.str===oi.str))Be.XfaLayer.render({xfaHtml:oi.html,intent:"richText",div:Nn}),Nn.lastChild.classList.add("richText","popupContent");else{const Zi=this._formatContents(ui);Nn.append(Zi)}let Bi=!!yr(this,hn),fi=Bi?yr(this,hn):yr(this,Dn);for(const Zi of yr(this,Dr))if(!fi||_e.Util.intersect(Zi.data.rect,fi)!==null){fi=Zi.data.rect,Bi=!0;break}const yi=_e.Util.normalizeRect([fi[0],Vr[3]-fi[1]+Vr[1],fi[2],Vr[3]-fi[3]+Vr[1]]),Ci=Bi?fi[2]-fi[0]+5:0,Pi=yi[0]+Ci,Ii=yi[1],{style:Li}=yr(this,Fr);Li.left=`${100*(Pi-wn)/Mr}%`,Li.top=`${100*(Ii-Rn)/gn}%`,yr(this,Fr).append(Nn)}_formatContents({str:Vr,dir:Mr}){const gn=document.createElement("p");gn.classList.add("popupContent"),gn.dir=Mr;const wn=Vr.split(/(?:\r\n?|\n)/);for(let Rn=0,Nn=wn.length;Rn<Nn;++Rn){const zn=wn[Rn];gn.append(document.createTextNode(zn)),Rn<Nn-1&&gn.append(document.createElement("br"))}return gn}forceHide(){Hn(this,Gn,this.isVisible),yr(this,Gn)&&(yr(this,Fr).hidden=!0)}maybeShow(){yr(this,Gn)&&(Hn(this,Gn,!1),yr(this,Fr).hidden=!1)}get isVisible(){return yr(this,Fr).hidden===!1}}Zr=new WeakMap,zr=new WeakMap,$r=new WeakMap,vn=new WeakMap,bn=new WeakMap,An=new WeakMap,Fr=new WeakMap,dn=new WeakMap,Dr=new WeakMap,jr=new WeakMap,hn=new WeakMap,pn=new WeakMap,xn=new WeakMap,Dn=new WeakMap,On=new WeakMap,yn=new WeakMap,Gn=new WeakMap,Qn=new WeakSet,bm=function(Vr){Vr.altKey||Vr.shiftKey||Vr.ctrlKey||Vr.metaKey||(Vr.key==="Enter"||Vr.key==="Escape"&&yr(this,pn))&&Bn(this,Qn,pd).call(this)},pd=function(){Hn(this,pn,!yr(this,pn)),yr(this,pn)?(Bn(this,Qn,Jf).call(this),yr(this,Fr).addEventListener("click",yr(this,bn)),yr(this,Fr).addEventListener("keydown",yr(this,zr))):(Bn(this,Qn,Zf).call(this),yr(this,Fr).removeEventListener("click",yr(this,bn)),yr(this,Fr).removeEventListener("keydown",yr(this,zr)))},Jf=function(){yr(this,xn)||this.render(),this.isVisible?yr(this,pn)&&yr(this,Fr).classList.add("focused"):(yr(this,Fr).hidden=!1,yr(this,Fr).style.zIndex=parseInt(yr(this,Fr).style.zIndex)+1e3)},Zf=function(){yr(this,Fr).classList.remove("focused"),!(yr(this,pn)||!this.isVisible)&&(yr(this,Fr).hidden=!0,yr(this,Fr).style.zIndex=parseInt(yr(this,Fr).style.zIndex)-1e3)};class or extends je{constructor(Vr){super(Vr,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Vr.data.textContent,this.textPosition=Vr.data.textPosition,this.annotationEditorType=_e.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Vr=document.createElement("div");Vr.classList.add("annotationTextContent"),Vr.setAttribute("role","comment");for(const Mr of this.textContent){const gn=document.createElement("span");gn.textContent=Mr,Vr.append(gn)}this.container.append(Vr)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}t.FreeTextAnnotationElement=or;class He extends je{constructor(Mr){super(Mr,{isRenderable:!0,ignoreBorder:!0});Vn(this,In,null)}render(){this.container.classList.add("lineAnnotation");const Mr=this.data,{width:gn,height:wn}=ke(Mr.rect),Rn=this.svgFactory.create(gn,wn,!0),Nn=Hn(this,In,this.svgFactory.createElement("svg:line"));return Nn.setAttribute("x1",Mr.rect[2]-Mr.lineCoordinates[0]),Nn.setAttribute("y1",Mr.rect[3]-Mr.lineCoordinates[1]),Nn.setAttribute("x2",Mr.rect[2]-Mr.lineCoordinates[2]),Nn.setAttribute("y2",Mr.rect[3]-Mr.lineCoordinates[3]),Nn.setAttribute("stroke-width",Mr.borderStyle.width||1),Nn.setAttribute("stroke","transparent"),Nn.setAttribute("fill","transparent"),Rn.append(Nn),this.container.append(Rn),!Mr.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return yr(this,In)}addHighlightArea(){this.container.classList.add("highlightArea")}}In=new WeakMap;class Je extends je{constructor(Mr){super(Mr,{isRenderable:!0,ignoreBorder:!0});Vn(this,Kn,null)}render(){this.container.classList.add("squareAnnotation");const Mr=this.data,{width:gn,height:wn}=ke(Mr.rect),Rn=this.svgFactory.create(gn,wn,!0),Nn=Mr.borderStyle.width,zn=Hn(this,Kn,this.svgFactory.createElement("svg:rect"));return zn.setAttribute("x",Nn/2),zn.setAttribute("y",Nn/2),zn.setAttribute("width",gn-Nn),zn.setAttribute("height",wn-Nn),zn.setAttribute("stroke-width",Nn||1),zn.setAttribute("stroke","transparent"),zn.setAttribute("fill","transparent"),Rn.append(zn),this.container.append(Rn),!Mr.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return yr(this,Kn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kn=new WeakMap;class $e extends je{constructor(Mr){super(Mr,{isRenderable:!0,ignoreBorder:!0});Vn(this,si,null)}render(){this.container.classList.add("circleAnnotation");const Mr=this.data,{width:gn,height:wn}=ke(Mr.rect),Rn=this.svgFactory.create(gn,wn,!0),Nn=Mr.borderStyle.width,zn=Hn(this,si,this.svgFactory.createElement("svg:ellipse"));return zn.setAttribute("cx",gn/2),zn.setAttribute("cy",wn/2),zn.setAttribute("rx",gn/2-Nn/2),zn.setAttribute("ry",wn/2-Nn/2),zn.setAttribute("stroke-width",Nn||1),zn.setAttribute("stroke","transparent"),zn.setAttribute("fill","transparent"),Rn.append(zn),this.container.append(Rn),!Mr.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return yr(this,si)}addHighlightArea(){this.container.classList.add("highlightArea")}}si=new WeakMap;class mr extends je{constructor(Mr){super(Mr,{isRenderable:!0,ignoreBorder:!0});Vn(this,Kr,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Mr=this.data,{width:gn,height:wn}=ke(Mr.rect),Rn=this.svgFactory.create(gn,wn,!0);let Nn=[];for(const ci of Mr.vertices){const ui=ci.x-Mr.rect[0],oi=Mr.rect[3]-ci.y;Nn.push(ui+","+oi)}Nn=Nn.join(" ");const zn=Hn(this,Kr,this.svgFactory.createElement(this.svgElementName));return zn.setAttribute("points",Nn),zn.setAttribute("stroke-width",Mr.borderStyle.width||1),zn.setAttribute("stroke","transparent"),zn.setAttribute("fill","transparent"),Rn.append(zn),this.container.append(Rn),!Mr.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return yr(this,Kr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kr=new WeakMap;class wr extends mr{constructor(Vr){super(Vr),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class vr extends je{constructor(Vr){super(Vr,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ur extends je{constructor(Mr){super(Mr,{isRenderable:!0,ignoreBorder:!0});Vn(this,Xr,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=_e.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Mr=this.data,{width:gn,height:wn}=ke(Mr.rect),Rn=this.svgFactory.create(gn,wn,!0);for(const Nn of Mr.inkLists){let zn=[];for(const ui of Nn){const oi=ui.x-Mr.rect[0],Bi=Mr.rect[3]-ui.y;zn.push(`${oi},${Bi}`)}zn=zn.join(" ");const ci=this.svgFactory.createElement(this.svgElementName);yr(this,Xr).push(ci),ci.setAttribute("points",zn),ci.setAttribute("stroke-width",Mr.borderStyle.width||1),ci.setAttribute("stroke","transparent"),ci.setAttribute("fill","transparent"),!Mr.popupRef&&this.hasPopupData&&this._createPopup(),Rn.append(ci)}return this.container.append(Rn),this.container}getElementsToTriggerPopup(){return yr(this,Xr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xr=new WeakMap,t.InkAnnotationElement=ur;class Cr extends je{constructor(Vr){super(Vr,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class _r extends je{constructor(Vr){super(Vr,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class hr extends je{constructor(Vr){super(Vr,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Sr extends je{constructor(Vr){super(Vr,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ar extends je{constructor(Vr){super(Vr,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}t.StampAnnotationElement=ar;class tr extends je{constructor(Mr){var Rn;super(Mr,{isRenderable:!0});Vn(this,Sn);Vn(this,br,null);const{filename:gn,content:wn}=this.data.file;this.filename=(0,xe.getFilenameFromUrl)(gn,!0),this.content=wn,(Rn=this.linkService.eventBus)==null||Rn.dispatch("fileattachmentannotation",{source:this,filename:gn,content:wn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Mr,data:gn}=this;let wn;gn.hasAppearance||gn.fillAlpha===0?wn=document.createElement("div"):(wn=document.createElement("img"),wn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(gn.name)?"paperclip":"pushpin"}.svg`,gn.fillAlpha&&gn.fillAlpha<1&&(wn.style=`filter: opacity(${Math.round(gn.fillAlpha*100)}%);`)),wn.addEventListener("dblclick",Bn(this,Sn,$f).bind(this)),Hn(this,br,wn);const{isMac:Rn}=_e.FeatureTest.platform;return Mr.addEventListener("keydown",Nn=>{Nn.key==="Enter"&&(Rn?Nn.metaKey:Nn.ctrlKey)&&Bn(this,Sn,$f).call(this)}),!gn.popupRef&&this.hasPopupData?this._createPopup():wn.classList.add("popupTriggerArea"),Mr.append(wn),Mr}getElementsToTriggerPopup(){return yr(this,br)}addHighlightArea(){this.container.classList.add("highlightArea")}}br=new WeakMap,Sn=new WeakSet,$f=function(){var Mr;(Mr=this.downloadManager)==null||Mr.openOrDownloadData(this.container,this.content,this.filename)};class lr{constructor({div:Vr,accessibilityManager:Mr,annotationCanvasMap:gn,l10n:wn,page:Rn,viewport:Nn}){Vn(this,Pr);Vn(this,fr,null);Vn(this,Lr,null);Vn(this,un,new Map);this.div=Vr,Hn(this,fr,Mr),Hn(this,Lr,gn),this.l10n=wn,this.page=Rn,this.viewport=Nn,this.zIndex=0,this.l10n||(this.l10n=Re.NullL10n)}async render(Vr){const{annotations:Mr}=Vr,gn=this.div;(0,xe.setLayerDimensions)(gn,this.viewport);const wn=new Map,Rn={data:null,layer:gn,linkService:Vr.linkService,downloadManager:Vr.downloadManager,imageResourcesPath:Vr.imageResourcesPath||"",renderForms:Vr.renderForms!==!1,svgFactory:new xe.DOMSVGFactory,annotationStorage:Vr.annotationStorage||new Ce.AnnotationStorage,enableScripting:Vr.enableScripting===!0,hasJSActions:Vr.hasJSActions,fieldObjects:Vr.fieldObjects,parent:this,elements:null};for(const Nn of Mr){if(Nn.noHTML)continue;const zn=Nn.annotationType===_e.AnnotationType.POPUP;if(zn){const oi=wn.get(Nn.id);if(!oi)continue;Rn.elements=oi}else{const{width:oi,height:Bi}=ke(Nn.rect);if(oi<=0||Bi<=0)continue}Rn.data=Nn;const ci=Oe.create(Rn);if(!ci.isRenderable)continue;if(!zn&&Nn.popupRef){const oi=wn.get(Nn.popupRef);oi?oi.push(ci):wn.set(Nn.popupRef,[ci])}ci.annotationEditorType>0&&yr(this,un).set(ci.data.id,ci);const ui=ci.render();Nn.hidden&&(ui.style.visibility="hidden"),Bn(this,Pr,wm).call(this,ui,Nn.id)}Bn(this,Pr,ep).call(this),await this.l10n.translate(gn)}update({viewport:Vr}){const Mr=this.div;this.viewport=Vr,(0,xe.setLayerDimensions)(Mr,{rotation:Vr.rotation}),Bn(this,Pr,ep).call(this),Mr.hidden=!1}getEditableAnnotations(){return Array.from(yr(this,un).values())}getEditableAnnotation(Vr){return yr(this,un).get(Vr)}}fr=new WeakMap,Lr=new WeakMap,un=new WeakMap,Pr=new WeakSet,wm=function(Vr,Mr){var wn;const gn=Vr.firstChild||Vr;gn.id=`${_e.AnnotationPrefix}${Mr}`,this.div.append(Vr),(wn=yr(this,fr))==null||wn.moveElementInDOM(this.div,Vr,gn,!1)},ep=function(){if(!yr(this,Lr))return;const Vr=this.div;for(const[Mr,gn]of yr(this,Lr)){const wn=Vr.querySelector(`[data-annotation-id="${Mr}"]`);if(!wn)continue;const{firstChild:Rn}=wn;Rn?Rn.nodeName==="CANVAS"?Rn.replaceWith(gn):Rn.before(gn):wn.append(gn)}yr(this,Lr).clear()},t.AnnotationLayer=lr},(Ee,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;function Ae(Ce){return Math.floor(Math.max(0,Math.min(1,Ce))*255).toString(16).padStart(2,"0")}function _e(Ce){return Math.max(0,Math.min(255,255*Ce))}class xe{static CMYK_G([Se,Re,Be,Fe]){return["G",1-Math.min(1,.3*Se+.59*Be+.11*Re+Fe)]}static G_CMYK([Se]){return["CMYK",0,0,0,1-Se]}static G_RGB([Se]){return["RGB",Se,Se,Se]}static G_rgb([Se]){return Se=_e(Se),[Se,Se,Se]}static G_HTML([Se]){const Re=Ae(Se);return`#${Re}${Re}${Re}`}static RGB_G([Se,Re,Be]){return["G",.3*Se+.59*Re+.11*Be]}static RGB_rgb(Se){return Se.map(_e)}static RGB_HTML(Se){return`#${Se.map(Ae).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Se,Re,Be,Fe]){return["RGB",1-Math.min(1,Se+Fe),1-Math.min(1,Be+Fe),1-Math.min(1,Re+Fe)]}static CMYK_rgb([Se,Re,Be,Fe]){return[_e(1-Math.min(1,Se+Fe)),_e(1-Math.min(1,Be+Fe)),_e(1-Math.min(1,Re+Fe))]}static CMYK_HTML(Se){const Re=this.CMYK_RGB(Se).slice(1);return this.RGB_HTML(Re)}static RGB_CMYK([Se,Re,Be]){const Fe=1-Se,Ie=1-Re,Ue=1-Be,ke=Math.min(Fe,Ie,Ue);return["CMYK",Fe,Ie,Ue,ke]}}t.ColorConverters=xe},(Ee,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.getL10nFallback=_e;const Ae={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};Ae.print_progress_percent="{{progress}}%";function _e(Se,Re){switch(Se){case"find_match_count":Se=`find_match_count[${Re.total===1?"one":"other"}]`;break;case"find_match_count_limit":Se=`find_match_count_limit[${Re.limit===1?"one":"other"}]`;break}return Ae[Se]||""}function xe(Se,Re){return Re?Se.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(Be,Fe)=>Fe in Re?Re[Fe]:"{{"+Fe+"}}"):Se}const Ce={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Se,Re=null,Be=_e(Se,Re)){return xe(Be,Re)},async translate(Se){}};t.NullL10n=Ce},(Ee,t,Ae)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var _e=Ae(25);class xe{static setupStorage(Se,Re,Be,Fe,Ie){const Ue=Fe.getValue(Re,{value:null});switch(Be.name){case"textarea":if(Ue.value!==null&&(Se.textContent=Ue.value),Ie==="print")break;Se.addEventListener("input",ke=>{Fe.setValue(Re,{value:ke.target.value})});break;case"input":if(Be.attributes.type==="radio"||Be.attributes.type==="checkbox"){if(Ue.value===Be.attributes.xfaOn?Se.setAttribute("checked",!0):Ue.value===Be.attributes.xfaOff&&Se.removeAttribute("checked"),Ie==="print")break;Se.addEventListener("change",ke=>{Fe.setValue(Re,{value:ke.target.checked?ke.target.getAttribute("xfaOn"):ke.target.getAttribute("xfaOff")})})}else{if(Ue.value!==null&&Se.setAttribute("value",Ue.value),Ie==="print")break;Se.addEventListener("input",ke=>{Fe.setValue(Re,{value:ke.target.value})})}break;case"select":if(Ue.value!==null){Se.setAttribute("value",Ue.value);for(const ke of Be.children)ke.attributes.value===Ue.value?ke.attributes.selected=!0:ke.attributes.hasOwnProperty("selected")&&delete ke.attributes.selected}Se.addEventListener("input",ke=>{const Oe=ke.target.options,je=Oe.selectedIndex===-1?"":Oe[Oe.selectedIndex].value;Fe.setValue(Re,{value:je})});break}}static setAttributes({html:Se,element:Re,storage:Be=null,intent:Fe,linkService:Ie}){const{attributes:Ue}=Re,ke=Se instanceof HTMLAnchorElement;Ue.type==="radio"&&(Ue.name=`${Ue.name}-${Fe}`);for(const[Oe,je]of Object.entries(Ue))if(je!=null)switch(Oe){case"class":je.length&&Se.setAttribute(Oe,je.join(" "));break;case"dataId":break;case"id":Se.setAttribute("data-element-id",je);break;case"style":Object.assign(Se.style,je);break;case"textContent":Se.textContent=je;break;default:(!ke||Oe!=="href"&&Oe!=="newWindow")&&Se.setAttribute(Oe,je)}ke&&Ie.addLinkAttributes(Se,Ue.href,Ue.newWindow),Be&&Ue.dataId&&this.setupStorage(Se,Ue.dataId,Re,Be)}static render(Se){var Ke;const Re=Se.annotationStorage,Be=Se.linkService,Fe=Se.xfaHtml,Ie=Se.intent||"display",Ue=document.createElement(Fe.name);Fe.attributes&&this.setAttributes({html:Ue,element:Fe,intent:Ie,linkService:Be});const ke=[[Fe,-1,Ue]],Oe=Se.div;if(Oe.append(Ue),Se.viewport){const ze=`matrix(${Se.viewport.transform.join(",")})`;Oe.style.transform=ze}Ie!=="richText"&&Oe.setAttribute("class","xfaLayer xfaFont");const je=[];for(;ke.length>0;){const[ze,Ve,Xe]=ke.at(-1);if(Ve+1===ze.children.length){ke.pop();continue}const ir=ze.children[++ke.at(-1)[1]];if(ir===null)continue;const{name:sr}=ir;if(sr==="#text"){const nr=document.createTextNode(ir.value);je.push(nr),Xe.append(nr);continue}const rr=(Ke=ir==null?void 0:ir.attributes)!=null&&Ke.xmlns?document.createElementNS(ir.attributes.xmlns,sr):document.createElement(sr);if(Xe.append(rr),ir.attributes&&this.setAttributes({html:rr,element:ir,storage:Re,intent:Ie,linkService:Be}),ir.children&&ir.children.length>0)ke.push([ir,-1,rr]);else if(ir.value){const nr=document.createTextNode(ir.value);_e.XfaText.shouldBuildText(sr)&&je.push(nr),rr.append(nr)}}for(const ze of Oe.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))ze.setAttribute("readOnly",!0);return{textDivs:je}}static update(Se){const Re=`matrix(${Se.viewport.transform.join(",")})`;Se.div.style.transform=Re,Se.div.hidden=!1}}t.XfaLayer=xe},(Ee,t,Ae)=>{var Fe,Ie,Ue,ke,Oe,je,Ke,ze,Ve,Xe,ir,sr,rr,nr,We,xm,Cm,Sm,Tm,tp,Rm,rp,Bm,Pm,Fm,Im,Dm,RA,np,gd,md,pu,ip,vd,Rr,Nm,sp,Um,Lm,ap,yd,gu;Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0;var _e=Ae(1),xe=Ae(4),Ce=Ae(29),Se=Ae(6),Re=Ae(5);const An=class An extends xe.AnnotationEditor{constructor(Dr){super({...Dr,name:"inkEditor"});Vn(this,We);Vn(this,Fe,0);Vn(this,Ie,0);Vn(this,Ue,this.canvasPointermove.bind(this));Vn(this,ke,this.canvasPointerleave.bind(this));Vn(this,Oe,this.canvasPointerup.bind(this));Vn(this,je,this.canvasPointerdown.bind(this));Vn(this,Ke,new Path2D);Vn(this,ze,!1);Vn(this,Ve,!1);Vn(this,Xe,!1);Vn(this,ir,null);Vn(this,sr,0);Vn(this,rr,0);Vn(this,nr,null);this.color=Dr.color||null,this.thickness=Dr.thickness||null,this.opacity=Dr.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Dr){xe.AnnotationEditor.initialize(Dr,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Dr,jr){switch(Dr){case _e.AnnotationEditorParamsType.INK_THICKNESS:An._defaultThickness=jr;break;case _e.AnnotationEditorParamsType.INK_COLOR:An._defaultColor=jr;break;case _e.AnnotationEditorParamsType.INK_OPACITY:An._defaultOpacity=jr/100;break}}updateParams(Dr,jr){switch(Dr){case _e.AnnotationEditorParamsType.INK_THICKNESS:Bn(this,We,xm).call(this,jr);break;case _e.AnnotationEditorParamsType.INK_COLOR:Bn(this,We,Cm).call(this,jr);break;case _e.AnnotationEditorParamsType.INK_OPACITY:Bn(this,We,Sm).call(this,jr);break}}static get defaultPropertiesToUpdate(){return[[_e.AnnotationEditorParamsType.INK_THICKNESS,An._defaultThickness],[_e.AnnotationEditorParamsType.INK_COLOR,An._defaultColor||xe.AnnotationEditor._defaultLineColor],[_e.AnnotationEditorParamsType.INK_OPACITY,Math.round(An._defaultOpacity*100)]]}get propertiesToUpdate(){return[[_e.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||An._defaultThickness],[_e.AnnotationEditorParamsType.INK_COLOR,this.color||An._defaultColor||xe.AnnotationEditor._defaultLineColor],[_e.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??An._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Bn(this,We,gd).call(this),Bn(this,We,md).call(this)),this.isAttachedToDOM||(this.parent.add(this),Bn(this,We,pu).call(this)),Bn(this,We,gu).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,yr(this,ir).disconnect(),Hn(this,ir,null),super.remove())}setParent(Dr){!this.parent&&Dr?this._uiManager.removeShouldRescale(this):this.parent&&Dr===null&&this._uiManager.addShouldRescale(this),super.setParent(Dr)}onScaleChanging(){const[Dr,jr]=this.parentDimensions,hn=this.width*Dr,pn=this.height*jr;this.setDimensions(hn,pn)}enableEditMode(){yr(this,ze)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",yr(this,je)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",yr(this,je)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){yr(this,ze)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Hn(this,ze,!0),this.div.classList.add("disabled"),Bn(this,We,gu).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Dr){this._focusEventsAllowed&&(super.focusin(Dr),this.enableEditMode())}canvasPointerdown(Dr){Dr.button!==0||!this.isInEditMode()||yr(this,ze)||(this.setInForeground(),Dr.preventDefault(),Dr.type!=="mouse"&&this.div.focus(),Bn(this,We,Rm).call(this,Dr.offsetX,Dr.offsetY))}canvasPointermove(Dr){Dr.preventDefault(),Bn(this,We,rp).call(this,Dr.offsetX,Dr.offsetY)}canvasPointerup(Dr){Dr.preventDefault(),Bn(this,We,np).call(this,Dr)}canvasPointerleave(Dr){Bn(this,We,np).call(this,Dr)}get isResizable(){return!this.isEmpty()&&yr(this,ze)}render(){if(this.div)return this.div;let Dr,jr;this.width&&(Dr=this.x,jr=this.y),super.render(),xe.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(On=>{var yn;return(yn=this.div)==null?void 0:yn.setAttribute("aria-label",On)});const[hn,pn,xn,Dn]=Bn(this,We,Tm).call(this);if(this.setAt(hn,pn,0,0),this.setDims(xn,Dn),Bn(this,We,gd).call(this),this.width){const[On,yn]=this.parentDimensions;this.setAspectRatio(this.width*On,this.height*yn),this.setAt(Dr*On,jr*yn,this.width*On,this.height*yn),Hn(this,Xe,!0),Bn(this,We,pu).call(this),this.setDims(this.width*On,this.height*yn),Bn(this,We,RA).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Bn(this,We,md).call(this),this.div}setDimensions(Dr,jr){const hn=Math.round(Dr),pn=Math.round(jr);if(yr(this,sr)===hn&&yr(this,rr)===pn)return;Hn(this,sr,hn),Hn(this,rr,pn),this.canvas.style.visibility="hidden";const[xn,Dn]=this.parentDimensions;this.width=Dr/xn,this.height=jr/Dn,this.fixAndSetPosition(),yr(this,ze)&&Bn(this,We,ip).call(this,Dr,jr),Bn(this,We,pu).call(this),Bn(this,We,RA).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Dr,jr,hn){var In,Kn,si;if(Dr instanceof Ce.InkAnnotationElement)return null;const pn=super.deserialize(Dr,jr,hn);pn.thickness=Dr.thickness,pn.color=_e.Util.makeHexColor(...Dr.color),pn.opacity=Dr.opacity;const[xn,Dn]=pn.pageDimensions,On=pn.width*xn,yn=pn.height*Dn,Gn=pn.parentScale,Qn=Dr.thickness/2;Hn(pn,ze,!0),Hn(pn,sr,Math.round(On)),Hn(pn,rr,Math.round(yn));const{paths:di,rect:ni,rotation:wi}=Dr;for(let{bezier:Kr}of di){Kr=Bn(In=An,Rr,Um).call(In,Kr,ni,wi);const Xr=[];pn.paths.push(Xr);let br=Gn*(Kr[0]-Qn),Sn=Gn*(Kr[1]-Qn);for(let fr=2,Lr=Kr.length;fr<Lr;fr+=6){const un=Gn*(Kr[fr]-Qn),Pr=Gn*(Kr[fr+1]-Qn),Yr=Gn*(Kr[fr+2]-Qn),En=Gn*(Kr[fr+3]-Qn),Zn=Gn*(Kr[fr+4]-Qn),Vr=Gn*(Kr[fr+5]-Qn);Xr.push([[br,Sn],[un,Pr],[Yr,En],[Zn,Vr]]),br=Zn,Sn=Vr}const vi=Bn(this,Rr,Nm).call(this,Xr);pn.bezierPath2D.push(vi)}const Nr=Bn(Kn=pn,We,ap).call(Kn);return Hn(pn,Ie,Math.max(xe.AnnotationEditor.MIN_SIZE,Nr[2]-Nr[0])),Hn(pn,Fe,Math.max(xe.AnnotationEditor.MIN_SIZE,Nr[3]-Nr[1])),Bn(si=pn,We,ip).call(si,On,yn),pn}serialize(){if(this.isEmpty())return null;const Dr=this.getRect(0,0),jr=xe.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:_e.AnnotationEditorType.INK,color:jr,thickness:this.thickness,opacity:this.opacity,paths:Bn(this,We,Lm).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Dr),pageIndex:this.pageIndex,rect:Dr,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Fe=new WeakMap,Ie=new WeakMap,Ue=new WeakMap,ke=new WeakMap,Oe=new WeakMap,je=new WeakMap,Ke=new WeakMap,ze=new WeakMap,Ve=new WeakMap,Xe=new WeakMap,ir=new WeakMap,sr=new WeakMap,rr=new WeakMap,nr=new WeakMap,We=new WeakSet,xm=function(Dr){const jr=this.thickness;this.addCommands({cmd:()=>{this.thickness=Dr,Bn(this,We,gu).call(this)},undo:()=>{this.thickness=jr,Bn(this,We,gu).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Cm=function(Dr){const jr=this.color;this.addCommands({cmd:()=>{this.color=Dr,Bn(this,We,RA).call(this)},undo:()=>{this.color=jr,Bn(this,We,RA).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Sm=function(Dr){Dr/=100;const jr=this.opacity;this.addCommands({cmd:()=>{this.opacity=Dr,Bn(this,We,RA).call(this)},undo:()=>{this.opacity=jr,Bn(this,We,RA).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Tm=function(){const{parentRotation:Dr,parentDimensions:[jr,hn]}=this;switch(Dr){case 90:return[0,hn,hn,jr];case 180:return[jr,hn,jr,hn];case 270:return[jr,0,hn,jr];default:return[0,0,jr,hn]}},tp=function(){const{ctx:Dr,color:jr,opacity:hn,thickness:pn,parentScale:xn,scaleFactor:Dn}=this;Dr.lineWidth=pn*xn/Dn,Dr.lineCap="round",Dr.lineJoin="round",Dr.miterLimit=10,Dr.strokeStyle=`${jr}${(0,Re.opacityToHex)(hn)}`},Rm=function(Dr,jr){this.canvas.addEventListener("contextmenu",Se.noContextMenu),this.canvas.addEventListener("pointerleave",yr(this,ke)),this.canvas.addEventListener("pointermove",yr(this,Ue)),this.canvas.addEventListener("pointerup",yr(this,Oe)),this.canvas.removeEventListener("pointerdown",yr(this,je)),this.isEditing=!0,yr(this,Xe)||(Hn(this,Xe,!0),Bn(this,We,pu).call(this),this.thickness||(this.thickness=An._defaultThickness),this.color||(this.color=An._defaultColor||xe.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=An._defaultOpacity)),this.currentPath.push([Dr,jr]),Hn(this,Ve,!1),Bn(this,We,tp).call(this),Hn(this,nr,()=>{Bn(this,We,Fm).call(this),yr(this,nr)&&window.requestAnimationFrame(yr(this,nr))}),window.requestAnimationFrame(yr(this,nr))},rp=function(Dr,jr){const[hn,pn]=this.currentPath.at(-1);if(this.currentPath.length>1&&Dr===hn&&jr===pn)return;const xn=this.currentPath;let Dn=yr(this,Ke);if(xn.push([Dr,jr]),Hn(this,Ve,!0),xn.length<=2){Dn.moveTo(...xn[0]),Dn.lineTo(Dr,jr);return}xn.length===3&&(Hn(this,Ke,Dn=new Path2D),Dn.moveTo(...xn[0])),Bn(this,We,Im).call(this,Dn,...xn.at(-3),...xn.at(-2),Dr,jr)},Bm=function(){if(this.currentPath.length===0)return;const Dr=this.currentPath.at(-1);yr(this,Ke).lineTo(...Dr)},Pm=function(Dr,jr){Hn(this,nr,null),Dr=Math.min(Math.max(Dr,0),this.canvas.width),jr=Math.min(Math.max(jr,0),this.canvas.height),Bn(this,We,rp).call(this,Dr,jr),Bn(this,We,Bm).call(this);let hn;if(this.currentPath.length!==1)hn=Bn(this,We,Dm).call(this);else{const yn=[Dr,jr];hn=[[yn,yn.slice(),yn.slice(),yn]]}const pn=yr(this,Ke),xn=this.currentPath;this.currentPath=[],Hn(this,Ke,new Path2D);const Dn=()=>{this.allRawPaths.push(xn),this.paths.push(hn),this.bezierPath2D.push(pn),this.rebuild()},On=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Bn(this,We,gd).call(this),Bn(this,We,md).call(this)),Bn(this,We,gu).call(this))};this.addCommands({cmd:Dn,undo:On,mustExec:!0})},Fm=function(){if(!yr(this,Ve))return;Hn(this,Ve,!1);const Dr=Math.ceil(this.thickness*this.parentScale),jr=this.currentPath.slice(-3),hn=jr.map(Dn=>Dn[0]),pn=jr.map(Dn=>Dn[1]);Math.min(...hn)-Dr,Math.max(...hn)+Dr,Math.min(...pn)-Dr,Math.max(...pn)+Dr;const{ctx:xn}=this;xn.save(),xn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Dn of this.bezierPath2D)xn.stroke(Dn);xn.stroke(yr(this,Ke)),xn.restore()},Im=function(Dr,jr,hn,pn,xn,Dn,On){const yn=(jr+pn)/2,Gn=(hn+xn)/2,Qn=(pn+Dn)/2,di=(xn+On)/2;Dr.bezierCurveTo(yn+2*(pn-yn)/3,Gn+2*(xn-Gn)/3,Qn+2*(pn-Qn)/3,di+2*(xn-di)/3,Qn,di)},Dm=function(){const Dr=this.currentPath;if(Dr.length<=2)return[[Dr[0],Dr[0],Dr.at(-1),Dr.at(-1)]];const jr=[];let hn,[pn,xn]=Dr[0];for(hn=1;hn<Dr.length-2;hn++){const[ni,wi]=Dr[hn],[Nr,In]=Dr[hn+1],Kn=(ni+Nr)/2,si=(wi+In)/2,Kr=[pn+2*(ni-pn)/3,xn+2*(wi-xn)/3],Xr=[Kn+2*(ni-Kn)/3,si+2*(wi-si)/3];jr.push([[pn,xn],Kr,Xr,[Kn,si]]),[pn,xn]=[Kn,si]}const[Dn,On]=Dr[hn],[yn,Gn]=Dr[hn+1],Qn=[pn+2*(Dn-pn)/3,xn+2*(On-xn)/3],di=[yn+2*(Dn-yn)/3,Gn+2*(On-Gn)/3];return jr.push([[pn,xn],Qn,di,[yn,Gn]]),jr},RA=function(){if(this.isEmpty()){Bn(this,We,vd).call(this);return}Bn(this,We,tp).call(this);const{canvas:Dr,ctx:jr}=this;jr.setTransform(1,0,0,1,0,0),jr.clearRect(0,0,Dr.width,Dr.height),Bn(this,We,vd).call(this);for(const hn of this.bezierPath2D)jr.stroke(hn)},np=function(Dr){this.canvas.removeEventListener("pointerleave",yr(this,ke)),this.canvas.removeEventListener("pointermove",yr(this,Ue)),this.canvas.removeEventListener("pointerup",yr(this,Oe)),this.canvas.addEventListener("pointerdown",yr(this,je)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Se.noContextMenu)},10),Bn(this,We,Pm).call(this,Dr.offsetX,Dr.offsetY),this.addToAnnotationStorage(),this.setInBackground()},gd=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",xe.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Dr=>{var jr;return(jr=this.canvas)==null?void 0:jr.setAttribute("aria-label",Dr)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},md=function(){Hn(this,ir,new ResizeObserver(Dr=>{const jr=Dr[0].contentRect;jr.width&&jr.height&&this.setDimensions(jr.width,jr.height)})),yr(this,ir).observe(this.div)},pu=function(){if(!yr(this,Xe))return;const[Dr,jr]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Dr),this.canvas.height=Math.ceil(this.height*jr),Bn(this,We,vd).call(this)},ip=function(Dr,jr){const hn=Bn(this,We,yd).call(this),pn=(Dr-hn)/yr(this,Ie),xn=(jr-hn)/yr(this,Fe);this.scaleFactor=Math.min(pn,xn)},vd=function(){const Dr=Bn(this,We,yd).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Dr,this.translationY*this.scaleFactor+Dr)},Rr=new WeakSet,Nm=function(Dr){const jr=new Path2D;for(let hn=0,pn=Dr.length;hn<pn;hn++){const[xn,Dn,On,yn]=Dr[hn];hn===0&&jr.moveTo(...xn),jr.bezierCurveTo(Dn[0],Dn[1],On[0],On[1],yn[0],yn[1])}return jr},sp=function(Dr,jr,hn){const[pn,xn,Dn,On]=jr;switch(hn){case 0:for(let yn=0,Gn=Dr.length;yn<Gn;yn+=2)Dr[yn]+=pn,Dr[yn+1]=On-Dr[yn+1];break;case 90:for(let yn=0,Gn=Dr.length;yn<Gn;yn+=2){const Qn=Dr[yn];Dr[yn]=Dr[yn+1]+pn,Dr[yn+1]=Qn+xn}break;case 180:for(let yn=0,Gn=Dr.length;yn<Gn;yn+=2)Dr[yn]=Dn-Dr[yn],Dr[yn+1]+=xn;break;case 270:for(let yn=0,Gn=Dr.length;yn<Gn;yn+=2){const Qn=Dr[yn];Dr[yn]=Dn-Dr[yn+1],Dr[yn+1]=On-Qn}break;default:throw new Error("Invalid rotation")}return Dr},Um=function(Dr,jr,hn){const[pn,xn,Dn,On]=jr;switch(hn){case 0:for(let yn=0,Gn=Dr.length;yn<Gn;yn+=2)Dr[yn]-=pn,Dr[yn+1]=On-Dr[yn+1];break;case 90:for(let yn=0,Gn=Dr.length;yn<Gn;yn+=2){const Qn=Dr[yn];Dr[yn]=Dr[yn+1]-xn,Dr[yn+1]=Qn-pn}break;case 180:for(let yn=0,Gn=Dr.length;yn<Gn;yn+=2)Dr[yn]=Dn-Dr[yn],Dr[yn+1]-=xn;break;case 270:for(let yn=0,Gn=Dr.length;yn<Gn;yn+=2){const Qn=Dr[yn];Dr[yn]=On-Dr[yn+1],Dr[yn+1]=Dn-Qn}break;default:throw new Error("Invalid rotation")}return Dr},Lm=function(Dr,jr,hn,pn){var Gn,Qn;const xn=[],Dn=this.thickness/2,On=Dr*jr+Dn,yn=Dr*hn+Dn;for(const di of this.paths){const ni=[],wi=[];for(let Nr=0,In=di.length;Nr<In;Nr++){const[Kn,si,Kr,Xr]=di[Nr],br=Dr*Kn[0]+On,Sn=Dr*Kn[1]+yn,vi=Dr*si[0]+On,fr=Dr*si[1]+yn,Lr=Dr*Kr[0]+On,un=Dr*Kr[1]+yn,Pr=Dr*Xr[0]+On,Yr=Dr*Xr[1]+yn;Nr===0&&(ni.push(br,Sn),wi.push(br,Sn)),ni.push(vi,fr,Lr,un,Pr,Yr),wi.push(vi,fr),Nr===In-1&&wi.push(Pr,Yr)}xn.push({bezier:Bn(Gn=An,Rr,sp).call(Gn,ni,pn,this.rotation),points:Bn(Qn=An,Rr,sp).call(Qn,wi,pn,this.rotation)})}return xn},ap=function(){let Dr=1/0,jr=-1/0,hn=1/0,pn=-1/0;for(const xn of this.paths)for(const[Dn,On,yn,Gn]of xn){const Qn=_e.Util.bezierBoundingBox(...Dn,...On,...yn,...Gn);Dr=Math.min(Dr,Qn[0]),hn=Math.min(hn,Qn[1]),jr=Math.max(jr,Qn[2]),pn=Math.max(pn,Qn[3])}return[Dr,hn,jr,pn]},yd=function(){return yr(this,ze)?Math.ceil(this.thickness*this.parentScale):0},gu=function(Dr=!1){if(this.isEmpty())return;if(!yr(this,ze)){Bn(this,We,RA).call(this);return}const jr=Bn(this,We,ap).call(this),hn=Bn(this,We,yd).call(this);Hn(this,Ie,Math.max(xe.AnnotationEditor.MIN_SIZE,jr[2]-jr[0])),Hn(this,Fe,Math.max(xe.AnnotationEditor.MIN_SIZE,jr[3]-jr[1]));const pn=Math.ceil(hn+yr(this,Ie)*this.scaleFactor),xn=Math.ceil(hn+yr(this,Fe)*this.scaleFactor),[Dn,On]=this.parentDimensions;this.width=pn/Dn,this.height=xn/On,this.setAspectRatio(pn,xn);const yn=this.translationX,Gn=this.translationY;this.translationX=-jr[0],this.translationY=-jr[1],Bn(this,We,pu).call(this),Bn(this,We,RA).call(this),Hn(this,sr,pn),Hn(this,rr,xn),this.setDims(pn,xn);const Qn=Dr?hn/this.scaleFactor/2:0;this.translate(yn-this.translationX-Qn,Gn-this.translationY-Qn)},Vn(An,Rr),ys(An,"_defaultColor",null),ys(An,"_defaultOpacity",1),ys(An,"_defaultThickness",1),ys(An,"_type","ink");let Be=An;t.InkEditor=Be},(Ee,t,Ae)=>{var Be,Fe,Ie,Ue,ke,Oe,je,Ke,ze,Ve,Xe,oh,lh,Ed,op,Om,km,lp,_d,Mm;Object.defineProperty(t,"__esModule",{value:!0}),t.StampEditor=void 0;var _e=Ae(1),xe=Ae(4),Ce=Ae(6),Se=Ae(29);const Je=class Je extends xe.AnnotationEditor{constructor(wr){super({...wr,name:"stampEditor"});Vn(this,Xe);Vn(this,Be,null);Vn(this,Fe,null);Vn(this,Ie,null);Vn(this,Ue,null);Vn(this,ke,null);Vn(this,Oe,null);Vn(this,je,null);Vn(this,Ke,null);Vn(this,ze,!1);Vn(this,Ve,!1);Hn(this,Ue,wr.bitmapUrl),Hn(this,ke,wr.bitmapFile)}static initialize(wr){xe.AnnotationEditor.initialize(wr)}static get supportedTypes(){const wr=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,_e.shadow)(this,"supportedTypes",wr.map(vr=>`image/${vr}`))}static get supportedTypesStr(){return(0,_e.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(wr){return this.supportedTypes.includes(wr)}static paste(wr,vr){vr.pasteEditor(_e.AnnotationEditorType.STAMP,{bitmapFile:wr.getAsFile()})}remove(){var wr,vr;yr(this,Fe)&&(Hn(this,Be,null),this._uiManager.imageManager.deleteId(yr(this,Fe)),(wr=yr(this,Oe))==null||wr.remove(),Hn(this,Oe,null),(vr=yr(this,je))==null||vr.disconnect(),Hn(this,je,null)),super.remove()}rebuild(){if(!this.parent){yr(this,Fe)&&Bn(this,Xe,Ed).call(this);return}super.rebuild(),this.div!==null&&(yr(this,Fe)&&Bn(this,Xe,Ed).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(yr(this,Ie)||yr(this,Be)||yr(this,Ue)||yr(this,ke))}get isResizable(){return!0}render(){if(this.div)return this.div;let wr,vr;if(this.width&&(wr=this.x,vr=this.y),super.render(),this.div.hidden=!0,yr(this,Be)?Bn(this,Xe,op).call(this):Bn(this,Xe,Ed).call(this),this.width){const[ur,Cr]=this.parentDimensions;this.setAt(wr*ur,vr*Cr,this.width*ur,this.height*Cr)}return this.div}static deserialize(wr,vr,ur){if(wr instanceof Se.StampAnnotationElement)return null;const Cr=super.deserialize(wr,vr,ur),{rect:_r,bitmapUrl:hr,bitmapId:Sr,isSvg:ar,accessibilityData:tr}=wr;Sr&&ur.imageManager.isValidId(Sr)?Hn(Cr,Fe,Sr):Hn(Cr,Ue,hr),Hn(Cr,ze,ar);const[lr,pr]=Cr.pageDimensions;return Cr.width=(_r[2]-_r[0])/lr,Cr.height=(_r[3]-_r[1])/pr,tr&&(Cr.altTextData=tr),Cr}serialize(wr=!1,vr=null){if(this.isEmpty())return null;const ur={annotationType:_e.AnnotationEditorType.STAMP,bitmapId:yr(this,Fe),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:yr(this,ze),structTreeParentId:this._structTreeParentId};if(wr)return ur.bitmapUrl=Bn(this,Xe,_d).call(this,!0),ur.accessibilityData=this.altTextData,ur;const{decorative:Cr,altText:_r}=this.altTextData;if(!Cr&&_r&&(ur.accessibilityData={type:"Figure",alt:_r}),vr===null)return ur;vr.stamps||(vr.stamps=new Map);const hr=yr(this,ze)?(ur.rect[2]-ur.rect[0])*(ur.rect[3]-ur.rect[1]):null;if(!vr.stamps.has(yr(this,Fe)))vr.stamps.set(yr(this,Fe),{area:hr,serialized:ur}),ur.bitmap=Bn(this,Xe,_d).call(this,!1);else if(yr(this,ze)){const Sr=vr.stamps.get(yr(this,Fe));hr>Sr.area&&(Sr.area=hr,Sr.serialized.bitmap.close(),Sr.serialized.bitmap=Bn(this,Xe,_d).call(this,!1))}return ur}};Be=new WeakMap,Fe=new WeakMap,Ie=new WeakMap,Ue=new WeakMap,ke=new WeakMap,Oe=new WeakMap,je=new WeakMap,Ke=new WeakMap,ze=new WeakMap,Ve=new WeakMap,Xe=new WeakSet,oh=function(wr,vr=!1){if(!wr){this.remove();return}Hn(this,Be,wr.bitmap),vr||(Hn(this,Fe,wr.id),Hn(this,ze,wr.isSvg)),Bn(this,Xe,op).call(this)},lh=function(){Hn(this,Ie,null),this._uiManager.enableWaiting(!1),yr(this,Oe)&&this.div.focus()},Ed=function(){if(yr(this,Fe)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(yr(this,Fe)).then(vr=>Bn(this,Xe,oh).call(this,vr,!0)).finally(()=>Bn(this,Xe,lh).call(this));return}if(yr(this,Ue)){const vr=yr(this,Ue);Hn(this,Ue,null),this._uiManager.enableWaiting(!0),Hn(this,Ie,this._uiManager.imageManager.getFromUrl(vr).then(ur=>Bn(this,Xe,oh).call(this,ur)).finally(()=>Bn(this,Xe,lh).call(this)));return}if(yr(this,ke)){const vr=yr(this,ke);Hn(this,ke,null),this._uiManager.enableWaiting(!0),Hn(this,Ie,this._uiManager.imageManager.getFromFile(vr).then(ur=>Bn(this,Xe,oh).call(this,ur)).finally(()=>Bn(this,Xe,lh).call(this)));return}const wr=document.createElement("input");wr.type="file",wr.accept=Je.supportedTypesStr,Hn(this,Ie,new Promise(vr=>{wr.addEventListener("change",async()=>{if(!wr.files||wr.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const ur=await this._uiManager.imageManager.getFromFile(wr.files[0]);Bn(this,Xe,oh).call(this,ur)}vr()}),wr.addEventListener("cancel",()=>{this.remove(),vr()})}).finally(()=>Bn(this,Xe,lh).call(this))),wr.click()},op=function(){const{div:wr}=this;let{width:vr,height:ur}=yr(this,Be);const[Cr,_r]=this.pageDimensions,hr=.75;if(this.width)vr=this.width*Cr,ur=this.height*_r;else if(vr>hr*Cr||ur>hr*_r){const lr=Math.min(hr*Cr/vr,hr*_r/ur);vr*=lr,ur*=lr}const[Sr,ar]=this.parentDimensions;this.setDims(vr*Sr/Cr,ur*ar/_r),this._uiManager.enableWaiting(!1);const tr=Hn(this,Oe,document.createElement("canvas"));wr.append(tr),wr.hidden=!1,Bn(this,Xe,lp).call(this,vr,ur),Bn(this,Xe,Mm).call(this),yr(this,Ve)||(this.parent.addUndoableEditor(this),Hn(this,Ve,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Om=function(wr,vr){var hr;const[ur,Cr]=this.parentDimensions;this.width=wr/ur,this.height=vr/Cr,this.setDims(wr,vr),(hr=this._initialOptions)!=null&&hr.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,yr(this,Ke)!==null&&clearTimeout(yr(this,Ke)),Hn(this,Ke,setTimeout(()=>{Hn(this,Ke,null),Bn(this,Xe,lp).call(this,wr,vr)},200))},km=function(wr,vr){const{width:ur,height:Cr}=yr(this,Be);let _r=ur,hr=Cr,Sr=yr(this,Be);for(;_r>2*wr||hr>2*vr;){const ar=_r,tr=hr;_r>2*wr&&(_r=_r>=16384?Math.floor(_r/2)-1:Math.ceil(_r/2)),hr>2*vr&&(hr=hr>=16384?Math.floor(hr/2)-1:Math.ceil(hr/2));const lr=new OffscreenCanvas(_r,hr);lr.getContext("2d").drawImage(Sr,0,0,ar,tr,0,0,_r,hr),Sr=lr.transferToImageBitmap()}return Sr},lp=function(wr,vr){wr=Math.ceil(wr),vr=Math.ceil(vr);const ur=yr(this,Oe);if(!ur||ur.width===wr&&ur.height===vr)return;ur.width=wr,ur.height=vr;const Cr=yr(this,ze)?yr(this,Be):Bn(this,Xe,km).call(this,wr,vr),_r=ur.getContext("2d");_r.filter=this._uiManager.hcmFilter,_r.drawImage(Cr,0,0,Cr.width,Cr.height,0,0,wr,vr)},_d=function(wr){if(wr){if(yr(this,ze)){const Cr=this._uiManager.imageManager.getSvgUrl(yr(this,Fe));if(Cr)return Cr}const vr=document.createElement("canvas");return{width:vr.width,height:vr.height}=yr(this,Be),vr.getContext("2d").drawImage(yr(this,Be),0,0),vr.toDataURL()}if(yr(this,ze)){const[vr,ur]=this.pageDimensions,Cr=Math.round(this.width*vr*Ce.PixelsPerInch.PDF_TO_CSS_UNITS),_r=Math.round(this.height*ur*Ce.PixelsPerInch.PDF_TO_CSS_UNITS),hr=new OffscreenCanvas(Cr,_r);return hr.getContext("2d").drawImage(yr(this,Be),0,0,yr(this,Be).width,yr(this,Be).height,0,0,Cr,_r),hr.transferToImageBitmap()}return structuredClone(yr(this,Be))},Mm=function(){Hn(this,je,new ResizeObserver(wr=>{const vr=wr[0].contentRect;vr.width&&vr.height&&Bn(this,Xe,Om).call(this,vr.width,vr.height)})),yr(this,je).observe(this.div)},ys(Je,"_type","stamp");let Re=Je;t.StampEditor=Re}],__webpack_module_cache__={};function __w_pdfjs_require__(Ee){var t=__webpack_module_cache__[Ee];if(t!==void 0)return t.exports;var Ae=__webpack_module_cache__[Ee]={exports:{}};return __webpack_modules__[Ee](Ae,Ae.exports,__w_pdfjs_require__),Ae.exports}var __webpack_exports__={};return(()=>{var Ee=__webpack_exports__;Object.defineProperty(Ee,"__esModule",{value:!0}),Object.defineProperty(Ee,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(Ee,"AnnotationEditorLayer",{enumerable:!0,get:function(){return Ce.AnnotationEditorLayer}}),Object.defineProperty(Ee,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(Ee,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(Ee,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Se.AnnotationEditorUIManager}}),Object.defineProperty(Ee,"AnnotationLayer",{enumerable:!0,get:function(){return Re.AnnotationLayer}}),Object.defineProperty(Ee,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(Ee,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(Ee,"DOMSVGFactory",{enumerable:!0,get:function(){return _e.DOMSVGFactory}}),Object.defineProperty(Ee,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(Ee,"GlobalWorkerOptions",{enumerable:!0,get:function(){return Be.GlobalWorkerOptions}}),Object.defineProperty(Ee,"ImageKind",{enumerable:!0,get:function(){return t.ImageKind}}),Object.defineProperty(Ee,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(Ee,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(Ee,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(Ee,"PDFDataRangeTransport",{enumerable:!0,get:function(){return Ae.PDFDataRangeTransport}}),Object.defineProperty(Ee,"PDFDateString",{enumerable:!0,get:function(){return _e.PDFDateString}}),Object.defineProperty(Ee,"PDFWorker",{enumerable:!0,get:function(){return Ae.PDFWorker}}),Object.defineProperty(Ee,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(Ee,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(Ee,"PixelsPerInch",{enumerable:!0,get:function(){return _e.PixelsPerInch}}),Object.defineProperty(Ee,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(Ee,"RenderingCancelledException",{enumerable:!0,get:function(){return _e.RenderingCancelledException}}),Object.defineProperty(Ee,"SVGGraphics",{enumerable:!0,get:function(){return Ae.SVGGraphics}}),Object.defineProperty(Ee,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(Ee,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(Ee,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(Ee,"XfaLayer",{enumerable:!0,get:function(){return Fe.XfaLayer}}),Object.defineProperty(Ee,"build",{enumerable:!0,get:function(){return Ae.build}}),Object.defineProperty(Ee,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(Ee,"getDocument",{enumerable:!0,get:function(){return Ae.getDocument}}),Object.defineProperty(Ee,"getFilenameFromUrl",{enumerable:!0,get:function(){return _e.getFilenameFromUrl}}),Object.defineProperty(Ee,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _e.getPdfFilenameFromUrl}}),Object.defineProperty(Ee,"getXfaPageViewport",{enumerable:!0,get:function(){return _e.getXfaPageViewport}}),Object.defineProperty(Ee,"isDataScheme",{enumerable:!0,get:function(){return _e.isDataScheme}}),Object.defineProperty(Ee,"isPdfFile",{enumerable:!0,get:function(){return _e.isPdfFile}}),Object.defineProperty(Ee,"loadScript",{enumerable:!0,get:function(){return _e.loadScript}}),Object.defineProperty(Ee,"noContextMenu",{enumerable:!0,get:function(){return _e.noContextMenu}}),Object.defineProperty(Ee,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(Ee,"renderTextLayer",{enumerable:!0,get:function(){return xe.renderTextLayer}}),Object.defineProperty(Ee,"setLayerDimensions",{enumerable:!0,get:function(){return _e.setLayerDimensions}}),Object.defineProperty(Ee,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(Ee,"updateTextLayer",{enumerable:!0,get:function(){return xe.updateTextLayer}}),Object.defineProperty(Ee,"version",{enumerable:!0,get:function(){return Ae.version}});var t=__w_pdfjs_require__(1),Ae=__w_pdfjs_require__(2),_e=__w_pdfjs_require__(6),xe=__w_pdfjs_require__(26),Ce=__w_pdfjs_require__(27),Se=__w_pdfjs_require__(5),Re=__w_pdfjs_require__(29),Be=__w_pdfjs_require__(14),Fe=__w_pdfjs_require__(32)})(),__webpack_exports__})())}(pdf$1)),pdf$1.exports}var pdfExports=requirePdf();const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule;var __spreadArray=function(Ee,t,Ae){if(Ae||arguments.length===2)for(var _e=0,xe=t.length,Ce;_e<xe;_e++)(Ce||!(_e in t))&&(Ce||(Ce=Array.prototype.slice.call(t,0,_e)),Ce[_e]=t[_e]);return Ee.concat(Ce||Array.prototype.slice.call(t))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(Ee,t){var Ae={};return allEvents.forEach(function(_e){var xe=Ee[_e];xe&&(t?Ae[_e]=function(Ce){return xe(Ce,t(_e))}:Ae[_e]=xe)}),Ae}function makeCancellablePromise(Ee){var t=!1,Ae=new Promise(function(_e,xe){Ee.then(function(Ce){return!t&&_e(Ce)}).catch(function(Ce){return!t&&xe(Ce)})});return{promise:Ae,cancel:function(){t=!0}}}function r(Ee){var t,Ae,_e="";if(typeof Ee=="string"||typeof Ee=="number")_e+=Ee;else if(typeof Ee=="object")if(Array.isArray(Ee)){var xe=Ee.length;for(t=0;t<xe;t++)Ee[t]&&(Ae=r(Ee[t]))&&(_e&&(_e+=" "),_e+=Ae)}else for(Ae in Ee)Ee[Ae]&&(_e&&(_e+=" "),_e+=Ae);return _e}function clsx(){for(var Ee,t,Ae=0,_e="",xe=arguments.length;Ae<xe;Ae++)(Ee=arguments[Ae])&&(t=r(Ee))&&(_e&&(_e+=" "),_e+=t);return _e}var prefix="Invariant failed";function invariant(Ee,t){if(!Ee)throw new Error(prefix)}function warning(Ee,t){}const DocumentContext=reactExports.createContext(null);function Message({children:Ee,type:t}){return React.createElement("div",{className:`react-pdf__message react-pdf__message--${t}`},Ee)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(Ae=>{invariant(this.pdfDocument),invariant(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(Ae):Array.isArray(t)?Ae(t):t.then(Ae)}).then(Ae=>{invariant(Array.isArray(Ae));const _e=Ae[0];new Promise(xe=>{invariant(this.pdfDocument),_e instanceof Object?this.pdfDocument.getPageIndex(_e).then(Ce=>{xe(Ce)}).catch(()=>{invariant(!1)}):typeof _e=="number"?xe(_e):invariant(!1)}).then(xe=>{const Ce=xe+1;invariant(this.pdfViewer),invariant(Ce>=1&&Ce<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:Ae,pageIndex:xe,pageNumber:Ce})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const Ae=t-1;invariant(this.pdfViewer),invariant(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:Ae,pageNumber:t})}addLinkAttributes(t,Ae,_e){t.href=Ae,t.rel=this.externalLinkRel||DEFAULT_LINK_REL,t.target=_e?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u";function isDefined(Ee){return typeof Ee<"u"}function isProvided(Ee){return isDefined(Ee)&&Ee!==null}function isString(Ee){return typeof Ee=="string"}function isArrayBuffer(Ee){return Ee instanceof ArrayBuffer}function isBlob(Ee){return invariant(isBrowser),Ee instanceof Blob}function isDataURI(Ee){return isString(Ee)&&/^data:/.test(Ee)}function dataURItoByteString(Ee){invariant(isDataURI(Ee));const[t="",Ae=""]=Ee.split(",");return t.split(";").indexOf("base64")!==-1?atob(Ae):unescape(Ae)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}function cancelRunningTask(Ee){Ee&&Ee.cancel&&Ee.cancel()}function makePageCallback(Ee,t){return Object.defineProperty(Ee,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(Ee,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(Ee,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(Ee,"originalHeight",{get(){return this.view[3]},configurable:!0}),Ee}function isCancelException(Ee){return Ee.name==="RenderingCancelledException"}function loadFromFile(Ee){return new Promise((t,Ae)=>{const _e=new FileReader;_e.onload=()=>{if(!_e.result)return Ae(new Error("Error while reading a file."));t(_e.result)},_e.onerror=xe=>{if(!xe.target)return Ae(new Error("Error while reading a file."));const{error:Ce}=xe.target;if(!Ce)return Ae(new Error("Error while reading a file."));switch(Ce.code){case Ce.NOT_FOUND_ERR:return Ae(new Error("Error while reading a file: File not found."));case Ce.SECURITY_ERR:return Ae(new Error("Error while reading a file: Security error."));case Ce.ABORT_ERR:return Ae(new Error("Error while reading a file: Aborted."));default:return Ae(new Error("Error while reading a file."))}},_e.readAsArrayBuffer(Ee)})}function reducer(Ee,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return Ee}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const Ee={};return allEvents.forEach(t=>{Ee[t]=PropTypes.func}),Ee})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function Ee(t,Ae,_e){const{[Ae]:xe,pageNumber:Ce,pdf:Se}=t;if(!isDefined(Se))return null;if(isDefined(xe)){if(typeof xe!="number")return new Error(`\`${Ae}\` of type \`${typeof xe}\` supplied to \`${_e}\`, expected \`number\`.`);if(xe<0)return new Error(`Expected \`${Ae}\` to be greater or equal to 0.`);const{numPages:Re}=Se;if(xe+1>Re)return new Error(`Expected \`${Ae}\` to be less or equal to ${Re-1}.`)}else if(!isDefined(Ce))return new Error(`\`${Ae}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${_e}\`.`);return null},isPageNumber=function Ee(t,Ae,_e){const{[Ae]:xe,pageIndex:Ce,pdf:Se}=t;if(!isDefined(Se))return null;if(isDefined(xe)){if(typeof xe!="number")return new Error(`\`${Ae}\` of type \`${typeof xe}\` supplied to \`${_e}\`, expected \`number\`.`);if(xe<1)return new Error(`Expected \`${Ae}\` to be greater or equal to 1.`);const{numPages:Re}=Se;if(xe>Re)return new Error(`Expected \`${Ae}\` to be less or equal to ${Re}.`)}else if(!isDefined(Ce))return new Error(`\`${Ae}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${_e}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(Ee,t,Ae,_e){function xe(Ce){return Ce instanceof Ae?Ce:new Ae(function(Se){Se(Ce)})}return new(Ae||(Ae=Promise))(function(Ce,Se){function Re(Ie){try{Fe(_e.next(Ie))}catch(Ue){Se(Ue)}}function Be(Ie){try{Fe(_e.throw(Ie))}catch(Ue){Se(Ue)}}function Fe(Ie){Ie.done?Ce(Ie.value):xe(Ie.value).then(Re,Be)}Fe((_e=_e.apply(Ee,t||[])).next())})},__rest$1=function(Ee,t){var Ae={};for(var _e in Ee)Object.prototype.hasOwnProperty.call(Ee,_e)&&t.indexOf(_e)<0&&(Ae[_e]=Ee[_e]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xe=0,_e=Object.getOwnPropertySymbols(Ee);xe<_e.length;xe++)t.indexOf(_e[xe])<0&&Object.prototype.propertyIsEnumerable.call(Ee,_e[xe])&&(Ae[_e[xe]]=Ee[_e[xe]]);return Ae};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(Ee,t)=>{switch(t){case PasswordResponses.NEED_PASSWORD:{const Ae=prompt("Enter the password to open this PDF file.");Ee(Ae);break}case PasswordResponses.INCORRECT_PASSWORD:{const Ae=prompt("Invalid password. Please try again.");Ee(Ae);break}}},Document=reactExports.forwardRef(function Ee(t,Ae){var{children:_e,className:xe,error:Ce="Failed to load PDF file.",externalLinkRel:Se,externalLinkTarget:Re,file:Be,inputRef:Fe,imageResourcesPath:Ie,loading:Ue="Loading PDF…",noData:ke="No PDF file specified.",onItemClick:Oe,onLoadError:je,onLoadProgress:Ke,onLoadSuccess:ze,onPassword:Ve=defaultOnPassword,onSourceError:Xe,onSourceSuccess:ir,options:sr,renderMode:rr,rotate:nr}=t,We=__rest$1(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[Ge,Ze]=useResolver(),{value:or,error:He}=Ge,[Je,$e]=useResolver(),{value:mr,error:wr}=Je,vr=reactExports.useRef(new LinkService),ur=reactExports.useRef([]),Cr=reactExports.useRef({scrollPageIntoView:bn=>{const{dest:An,pageNumber:Fr,pageIndex:dn=Fr-1}=bn;if(Oe){Oe({dest:An,pageIndex:dn,pageNumber:Fr});return}const Dr=ur.current[dn];if(Dr){Dr.scrollIntoView();return}}});reactExports.useImperativeHandle(Ae,()=>({linkService:vr,pages:ur,viewer:Cr}),[]);function _r(){ir&&ir()}function hr(){He&&(He.toString(),Xe&&Xe(He))}function Sr(){Ze({type:"RESET"})}reactExports.useEffect(Sr,[Be,Ze]);const ar=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!Be)return null;if(typeof Be=="string")return isDataURI(Be)?{data:dataURItoByteString(Be)}:{url:Be};if(Be instanceof PDFDataRangeTransport)return{range:Be};if(isArrayBuffer(Be))return{data:Be};if(isBrowser&&isBlob(Be))return{data:yield loadFromFile(Be)};if(invariant(typeof Be=="object"),invariant("data"in Be||"range"in Be||"url"in Be),"url"in Be&&typeof Be.url=="string"&&isDataURI(Be.url)){const{url:bn}=Be,An=__rest$1(Be,["url"]),Fr=dataURItoByteString(bn);return Object.assign({data:Fr},An)}return Be}),[Be]);reactExports.useEffect(()=>{const bn=makeCancellablePromise(ar());return bn.promise.then(An=>{Ze({type:"RESOLVE",value:An})}).catch(An=>{Ze({type:"REJECT",error:An})}),()=>{cancelRunningTask(bn)}},[ar,Ze]),reactExports.useEffect(()=>{if(!(typeof or>"u")){if(or===!1){hr();return}_r()}},[or]);function tr(){mr&&(ze&&ze(mr),ur.current=new Array(mr.numPages),vr.current.setDocument(mr))}function lr(){wr&&(wr.toString(),je&&je(wr))}function pr(){$e({type:"RESET"})}reactExports.useEffect(pr,[$e,or]);function Er(){if(!or)return;const bn=sr?Object.assign(Object.assign({},or),sr):or,An=pdfjs.getDocument(bn);Ke&&(An.onProgress=Ke),Ve&&(An.onPassword=Ve);const Fr=An;return Fr.promise.then(dn=>{$e({type:"RESOLVE",value:dn})}).catch(dn=>{Fr.destroyed||$e({type:"REJECT",error:dn})}),()=>{Fr.destroy()}}reactExports.useEffect(Er,[sr,$e,or]),reactExports.useEffect(()=>{if(!(typeof mr>"u")){if(mr===!1){lr();return}tr()}},[mr]);function Rr(){vr.current.setViewer(Cr.current),vr.current.setExternalLinkRel(Se),vr.current.setExternalLinkTarget(Re)}reactExports.useEffect(Rr,[Se,Re]);function Tr(bn,An){ur.current[bn]=An}function Ir(bn){delete ur.current[bn]}const Zr=reactExports.useMemo(()=>({imageResourcesPath:Ie,linkService:vr.current,onItemClick:Oe,pdf:mr,registerPage:Tr,renderMode:rr,rotate:nr,unregisterPage:Ir}),[Ie,Oe,mr,rr,nr]),zr=reactExports.useMemo(()=>makeEventProps(We,()=>mr),[We,mr]);function $r(){return React.createElement(DocumentContext.Provider,{value:Zr},_e)}function vn(){return Be?mr==null?React.createElement(Message,{type:"loading"},typeof Ue=="function"?Ue():Ue):mr===!1?React.createElement(Message,{type:"error"},typeof Ce=="function"?Ce():Ce):$r():React.createElement(Message,{type:"no-data"},typeof ke=="function"?ke():ke)}return React.createElement("div",Object.assign({className:clsx("react-pdf__Document",xe),ref:Fe,style:{"--scale-factor":"1"}},zr),vn())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var Ee=[],t=0;t<arguments.length;t++)Ee[t]=arguments[t];var Ae=Ee.filter(Boolean);if(Ae.length<=1){var _e=Ae[0];return _e||null}return function(Ce){Ae.forEach(function(Se){typeof Se=="function"?Se(Ce):Se&&(Se.current=Ce)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(Ee){return Ee in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(Ee){return"children"in Ee}function isStructTreeNodeWithOnlyContentChild(Ee){return isStructTreeNode(Ee)?Ee.children.length===1&&0 in Ee.children&&"id"in Ee.children[0]:!1}function getRoleAttributes(Ee){const t={};if(isStructTreeNode(Ee)){const{role:Ae}=Ee,_e=Ae.match(HEADING_PATTERN);if(_e)t.role="heading",t["aria-level"]=Number(_e[1]);else if(isPdfRole(Ae)){const xe=PDF_ROLE_TO_HTML_ROLE[Ae];xe&&(t.role=xe)}}return t}function getBaseAttributes(Ee){const t={};if(isStructTreeNode(Ee)){if(Ee.alt!==void 0&&(t["aria-label"]=Ee.alt),Ee.lang!==void 0&&(t.lang=Ee.lang),isStructTreeNodeWithOnlyContentChild(Ee)){const[Ae]=Ee.children;if(Ae){const _e=getBaseAttributes(Ae);return Object.assign(Object.assign({},t),_e)}}}else"id"in Ee&&(t["aria-owns"]=Ee.id);return t}function getAttributes(Ee){return Ee?Object.assign(Object.assign({},getRoleAttributes(Ee)),getBaseAttributes(Ee)):null}function StructTreeItem({className:Ee,node:t}){const Ae=reactExports.useMemo(()=>getAttributes(t),[t]),_e=reactExports.useMemo(()=>!isStructTreeNode(t)||isStructTreeNodeWithOnlyContentChild(t)?null:t.children.map((xe,Ce)=>React.createElement(StructTreeItem,{key:Ce,node:xe})),[t]);return React.createElement("span",Object.assign({className:Ee},Ae),_e)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const Ee=usePageContext();invariant(Ee);const{onGetStructTreeError:t,onGetStructTreeSuccess:Ae}=Ee,[_e,xe]=useResolver(),{value:Ce,error:Se}=_e,{customTextRenderer:Re,page:Be}=Ee;function Fe(){Ce&&Ae&&Ae(Ce)}function Ie(){Se&&(Se.toString(),t&&t(Se))}function Ue(){xe({type:"RESET"})}reactExports.useEffect(Ue,[xe,Be]);function ke(){if(Re||!Be)return;const Oe=makeCancellablePromise(Be.getStructTree()),je=Oe;return Oe.promise.then(Ke=>{xe({type:"RESOLVE",value:Ke})}).catch(Ke=>{xe({type:"REJECT",error:Ke})}),()=>cancelRunningTask(je)}return reactExports.useEffect(ke,[Re,Be,xe]),reactExports.useEffect(()=>{if(Ce!==void 0){if(Ce===!1){Ie();return}Fe()}},[Ce]),Ce?React.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:Ce}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(Ee){const t=usePageContext();invariant(t);const Ae=Object.assign(Object.assign({},t),Ee),{_className:_e,canvasBackground:xe,devicePixelRatio:Ce=getDevicePixelRatio(),onRenderError:Se,onRenderSuccess:Re,page:Be,renderForms:Fe,renderTextLayer:Ie,rotate:Ue,scale:ke}=Ae,{canvasRef:Oe}=Ee;invariant(Be);const je=reactExports.useRef(null);function Ke(){Be&&Re&&Re(makePageCallback(Be,ke))}function ze(rr){isCancelException(rr)||(rr.toString(),Se&&Se(rr))}const Ve=reactExports.useMemo(()=>Be.getViewport({scale:ke*Ce,rotation:Ue}),[Ce,Be,Ue,ke]),Xe=reactExports.useMemo(()=>Be.getViewport({scale:ke,rotation:Ue}),[Be,Ue,ke]);function ir(){if(!Be)return;Be.cleanup();const{current:rr}=je;if(!rr)return;rr.width=Ve.width,rr.height=Ve.height,rr.style.width=`${Math.floor(Xe.width)}px`,rr.style.height=`${Math.floor(Xe.height)}px`,rr.style.visibility="hidden";const nr={annotationMode:Fe?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:rr.getContext("2d",{alpha:!1}),viewport:Ve};xe&&(nr.background=xe);const We=Be.render(nr),Ge=We;return We.promise.then(()=>{rr.style.visibility="",Ke()}).catch(ze),()=>cancelRunningTask(Ge)}reactExports.useEffect(ir,[xe,je,Ce,Be,Fe,Ve,Xe]);const sr=reactExports.useCallback(()=>{const{current:rr}=je;rr&&(rr.width=0,rr.height=0)},[je]);return reactExports.useEffect(()=>sr,[sr]),React.createElement("canvas",{className:`${_e}__canvas`,dir:"ltr",ref:mergeRefs(Oe,je),style:{display:"block",userSelect:"none"}},Ie?React.createElement(StructTree,null):null)}function PageSVG(){const Ee=usePageContext();invariant(Ee);const{_className:t,onRenderSuccess:Ae,onRenderError:_e,page:xe,rotate:Ce,scale:Se}=Ee;invariant(xe);const[Re,Be]=useResolver(),{value:Fe,error:Ie}=Re;function Ue(){xe&&Ae&&Ae(makePageCallback(xe,Se))}function ke(){Ie&&(isCancelException(Ie)||(Ie.toString(),_e&&_e(Ie)))}const Oe=reactExports.useMemo(()=>xe.getViewport({scale:Se,rotation:Ce}),[xe,Ce,Se]);function je(){Be({type:"RESET"})}reactExports.useEffect(je,[xe,Be,Oe]);function Ke(){if(!xe)return;const ir=makeCancellablePromise(xe.getOperatorList());return ir.promise.then(sr=>{new pdfjs.SVGGraphics(xe.commonObjs,xe.objs).getSVG(sr,Oe).then(nr=>{if(!(nr instanceof SVGElement))throw new Error("getSVG returned unexpected result.");Be({type:"RESOLVE",value:nr})}).catch(nr=>{Be({type:"REJECT",error:nr})})}).catch(sr=>{Be({type:"REJECT",error:sr})}),()=>cancelRunningTask(ir)}reactExports.useEffect(Ke,[xe,Be,Oe]),reactExports.useEffect(()=>{if(Fe!==void 0){if(Fe===!1){ke();return}Ue()}},[Fe]);function ze(ir){if(!ir||!Fe)return;ir.firstElementChild||ir.appendChild(Fe);const{width:sr,height:rr}=Oe;Fe.setAttribute("width",`${sr}`),Fe.setAttribute("height",`${rr}`)}const{width:Ve,height:Xe}=Oe;return React.createElement("div",{className:`${t}__svg`,ref:ir=>ze(ir),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:Ve,height:Xe,userSelect:"none"}})}function isTextItem(Ee){return"str"in Ee}function TextLayer(){const Ee=usePageContext();invariant(Ee);const{customTextRenderer:t,onGetTextError:Ae,onGetTextSuccess:_e,onRenderTextLayerError:xe,onRenderTextLayerSuccess:Ce,page:Se,pageIndex:Re,pageNumber:Be,rotate:Fe,scale:Ie}=Ee;invariant(Se);const[Ue,ke]=useResolver(),{value:Oe,error:je}=Ue,Ke=reactExports.useRef(null),ze=reactExports.useRef();parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10);function Ve(){Oe&&_e&&_e(Oe)}function Xe(){je&&(je.toString(),Ae&&Ae(je))}function ir(){ke({type:"RESET"})}reactExports.useEffect(ir,[Se,ke]);function sr(){if(!Se)return;const He=makeCancellablePromise(Se.getTextContent()),Je=He;return He.promise.then($e=>{ke({type:"RESOLVE",value:$e})}).catch($e=>{ke({type:"REJECT",error:$e})}),()=>cancelRunningTask(Je)}reactExports.useEffect(sr,[Se,ke]),reactExports.useEffect(()=>{if(Oe!==void 0){if(Oe===!1){Xe();return}Ve()}},[Oe]);const rr=reactExports.useCallback(()=>{Ce&&Ce()},[Ce]),nr=reactExports.useCallback(He=>{He.toString(),xe&&xe(He)},[xe]);function We(){const He=ze.current;He&&He.classList.add("active")}function Ge(){const He=ze.current;He&&He.classList.remove("active")}const Ze=reactExports.useMemo(()=>Se.getViewport({scale:Ie,rotation:Fe}),[Se,Fe,Ie]);function or(){if(!Se||!Oe)return;const{current:He}=Ke;if(!He)return;He.innerHTML="";const Je=Se.streamTextContent({includeMarkedContent:!0}),$e={container:He,textContentSource:Je,viewport:Ze},mr=pdfjs.renderTextLayer($e),wr=mr;return mr.promise.then(()=>{const vr=document.createElement("div");vr.className="endOfContent",He.append(vr),ze.current=vr;const Cr=!!He.querySelector(".markedContent")?He.querySelectorAll(".markedContent > *:not(.markedContent"):He.children;if(t){let _r=0;Oe.items.forEach((hr,Sr)=>{if(!isTextItem(hr))return;const ar=Cr[_r];if(!ar)return;const tr=t(Object.assign({pageIndex:Re,pageNumber:Be,itemIndex:Sr},hr));ar.innerHTML=tr,_r+=hr.str&&hr.hasEOL?2:1})}rr()}).catch(nr),()=>cancelRunningTask(wr)}return reactExports.useLayoutEffect(or,[t,nr,rr,Se,Re,Be,Oe,Ze]),React.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:Ge,onMouseDown:We,ref:Ke})}function AnnotationLayer(){const Ee=useDocumentContext();invariant(Ee);const t=usePageContext();invariant(t);const Ae=Object.assign(Object.assign({},Ee),t),{imageResourcesPath:_e,linkService:xe,onGetAnnotationsError:Ce,onGetAnnotationsSuccess:Se,onRenderAnnotationLayerError:Re,onRenderAnnotationLayerSuccess:Be,page:Fe,pdf:Ie,renderForms:Ue,rotate:ke,scale:Oe=1}=Ae;invariant(Fe);const[je,Ke]=useResolver(),{value:ze,error:Ve}=je,Xe=reactExports.useRef(null);parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10);function ir(){ze&&Se&&Se(ze)}function sr(){Ve&&(Ve.toString(),Ce&&Ce(Ve))}function rr(){Ke({type:"RESET"})}reactExports.useEffect(rr,[Ke,Fe]);function nr(){if(!Fe)return;const He=makeCancellablePromise(Fe.getAnnotations()),Je=He;return He.promise.then($e=>{Ke({type:"RESOLVE",value:$e})}).catch($e=>{Ke({type:"REJECT",error:$e})}),()=>{cancelRunningTask(Je)}}reactExports.useEffect(nr,[Ke,Fe,Ue]),reactExports.useEffect(()=>{if(ze!==void 0){if(ze===!1){sr();return}ir()}},[ze]);function We(){Be&&Be()}function Ge(He){Re&&Re(He)}const Ze=reactExports.useMemo(()=>Fe.getViewport({scale:Oe,rotation:ke}),[Fe,ke,Oe]);function or(){if(!Ie||!Fe||!ze)return;const{current:He}=Xe;if(!He)return;const Je=Ze.clone({dontFlip:!0}),$e={accessibilityManager:null,annotationCanvasMap:null,div:He,l10n:null,page:Fe,viewport:Je},mr={annotations:ze,annotationStorage:Ie.annotationStorage,div:He,downloadManager:null,imageResourcesPath:_e,linkService:xe,page:Fe,renderForms:Ue,viewport:Je};He.innerHTML="";try{new pdfjs.AnnotationLayer($e).render(mr),We()}catch(wr){Ge(wr)}return()=>{}}return reactExports.useEffect(or,[ze,_e,xe,Fe,Ue,Ze]),React.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:Xe})}var __rest=function(Ee,t){var Ae={};for(var _e in Ee)Object.prototype.hasOwnProperty.call(Ee,_e)&&t.indexOf(_e)<0&&(Ae[_e]=Ee[_e]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xe=0,_e=Object.getOwnPropertySymbols(Ee);xe<_e.length;xe++)t.indexOf(_e[xe])<0&&Object.prototype.propertyIsEnumerable.call(Ee,_e[xe])&&(Ae[_e[xe]]=Ee[_e[xe]]);return Ae};const defaultScale=1,Page=function Ee(t){const Ae=useDocumentContext();invariant(Ae);const _e=Object.assign(Object.assign({},Ae),t),{_className:xe="react-pdf__Page",_enableRegisterUnregisterPage:Ce=!0,canvasBackground:Se,canvasRef:Re,children:Be,className:Fe,customRenderer:Ie,customTextRenderer:Ue,devicePixelRatio:ke,error:Oe="Failed to load the page.",height:je,inputRef:Ke,loading:ze="Loading page…",noData:Ve="No page specified.",onGetAnnotationsError:Xe,onGetAnnotationsSuccess:ir,onGetStructTreeError:sr,onGetStructTreeSuccess:rr,onGetTextError:nr,onGetTextSuccess:We,onLoadError:Ge,onLoadSuccess:Ze,onRenderAnnotationLayerError:or,onRenderAnnotationLayerSuccess:He,onRenderError:Je,onRenderSuccess:$e,onRenderTextLayerError:mr,onRenderTextLayerSuccess:wr,pageIndex:vr,pageNumber:ur,pdf:Cr,registerPage:_r,renderAnnotationLayer:hr=!0,renderForms:Sr=!1,renderMode:ar="canvas",renderTextLayer:tr=!0,rotate:lr,scale:pr=defaultScale,unregisterPage:Er,width:Rr}=_e,Tr=__rest(_e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ir,Zr]=useResolver(),{value:zr,error:$r}=Ir,vn=reactExports.useRef(null);invariant(Cr);const bn=isProvided(ur)?ur-1:vr??null,An=ur??(isProvided(vr)?vr+1:null),Fr=lr??(zr?zr.rotate:null),dn=reactExports.useMemo(()=>{if(!zr)return null;let In=1;const Kn=pr??defaultScale;if(Rr||je){const si=zr.getViewport({scale:1,rotation:Fr});Rr?In=Rr/si.width:je&&(In=je/si.height)}return Kn*In},[je,zr,Fr,pr,Rr]);function Dr(){return()=>{isProvided(bn)&&Ce&&Er&&Er(bn)}}reactExports.useEffect(Dr,[Ce,Cr,bn,Er]);function jr(){if(Ze){if(!zr||!dn)return;Ze(makePageCallback(zr,dn))}if(Ce&&_r){if(!isProvided(bn)||!vn.current)return;_r(bn,vn.current)}}function hn(){$r&&($r.toString(),Ge&&Ge($r))}function pn(){Zr({type:"RESET"})}reactExports.useEffect(pn,[Zr,Cr,bn]);function xn(){if(!Cr||!An)return;const In=makeCancellablePromise(Cr.getPage(An)),Kn=In;return In.promise.then(si=>{Zr({type:"RESOLVE",value:si})}).catch(si=>{Zr({type:"REJECT",error:si})}),()=>cancelRunningTask(Kn)}reactExports.useEffect(xn,[Zr,Cr,bn,An,_r]),reactExports.useEffect(()=>{if(zr!==void 0){if(zr===!1){hn();return}jr()}},[zr,dn]);const Dn=reactExports.useMemo(()=>zr&&isProvided(bn)&&An&&isProvided(Fr)&&isProvided(dn)?{_className:xe,canvasBackground:Se,customTextRenderer:Ue,devicePixelRatio:ke,onGetAnnotationsError:Xe,onGetAnnotationsSuccess:ir,onGetStructTreeError:sr,onGetStructTreeSuccess:rr,onGetTextError:nr,onGetTextSuccess:We,onRenderAnnotationLayerError:or,onRenderAnnotationLayerSuccess:He,onRenderError:Je,onRenderSuccess:$e,onRenderTextLayerError:mr,onRenderTextLayerSuccess:wr,page:zr,pageIndex:bn,pageNumber:An,renderForms:Sr,renderTextLayer:tr,rotate:Fr,scale:dn}:null,[xe,Se,Ue,ke,Xe,ir,sr,rr,nr,We,or,He,Je,$e,mr,wr,zr,bn,An,Sr,tr,Fr,dn]),On=reactExports.useMemo(()=>makeEventProps(Tr,()=>zr&&(dn?makePageCallback(zr,dn):void 0)),[Tr,zr,dn]),yn=`${bn}@${dn}/${Fr}`,Gn=`${bn}/${Fr}`;function Qn(){switch(ar){case"custom":return invariant(Ie),React.createElement(Ie,{key:`${yn}_custom`});case"none":return null;case"svg":return React.createElement(PageSVG,{key:`${Gn}_svg`});case"canvas":default:return React.createElement(PageCanvas,{key:`${yn}_canvas`,canvasRef:Re})}}function di(){return tr?React.createElement(TextLayer,{key:`${yn}_text`}):null}function ni(){return hr?React.createElement(AnnotationLayer,{key:`${yn}_annotations`}):null}function wi(){return React.createElement(PageContext.Provider,{value:Dn},Qn(),di(),ni(),Be)}function Nr(){return An?Cr===null||zr===void 0||zr===null?React.createElement(Message,{type:"loading"},typeof ze=="function"?ze():ze):Cr===!1||zr===!1?React.createElement(Message,{type:"error"},typeof Oe=="function"?Oe():Oe):wi():React.createElement(Message,{type:"no-data"},typeof Ve=="function"?Ve():Ve)}return React.createElement("div",Object.assign({className:clsx(xe,Fe),"data-page-number":An,ref:mergeRefs(Ke,vn),style:{"--scale-factor":`${dn}`,backgroundColor:Se||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},On),Nr())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";pdfjs.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;Modal.setAppElement("#root");const SignaturePdfModal=({isOpen:Ee,onClose:t,customerData:Ae,ticketNum:_e,onComplete:xe,pdfFile:Ce})=>{const Se=reactExports.useRef(),[Re,Be]=reactExports.useState(null),[Fe,Ie]=reactExports.useState(!1),[Ue,ke]=reactExports.useState(!1),Oe=({numPages:ze})=>{Be(ze)},je=ze=>{console.error("PDF load error:",ze)},Ke=async()=>{if(Se.current.isEmpty()){alert("Please provide a signature.");return}ke(!0);let ze;try{ze=Se.current.getTrimmedCanvas()}catch{console.warn("getTrimmedCanvas failed, falling back to getCanvas"),ze=Se.current.getCanvas()}try{const Xe=await(await new Promise(Sr=>ze.toBlob(ar=>Sr(ar),"image/png"))).arrayBuffer(),sr=await(await fetch(Ce)).arrayBuffer(),rr=await PDFDocument.load(sr),nr=rr.addPage(),{width:We,height:Ge}=nr.getSize(),Ze=await rr.embedPng(Xe);nr.drawImage(Ze,{x:50,y:Ge-250,width:200,height:100});const or=await rr.embedFont(StandardFonts.Helvetica),He=50,Je=We/2+10;let $e=Ge-100;const mr=18;nr.drawText("Ticket#:",{x:He,y:$e,size:12,font:or,color:rgb(0,0,0)}),nr.drawText(`${Ae.location}${_e}`,{x:He+70,y:$e,size:12,font:or}),$e-=mr,nr.drawText("Contact Name:",{x:He,y:$e,size:12,font:or}),nr.drawText(`${Ae.customerName}`,{x:He+100,y:$e,size:12,font:or}),$e-=mr,nr.drawText("Company Name:",{x:He,y:$e,size:12,font:or}),nr.drawText(`${Ae.companyName||""}`,{x:He+100,y:$e,size:12,font:or}),$e-=mr,nr.drawText("Contact Mobile:",{x:He,y:$e,size:12,font:or}),nr.drawText(`${Ae.mobileNumber}`,{x:He+100,y:$e,size:12,font:or}),$e-=mr,nr.drawText("Contact Email:",{x:He,y:$e,size:12,font:or}),nr.drawText(`${Ae.emailAddress}`,{x:He+100,y:$e,size:12,font:or}),$e=Ge-100,nr.drawText("Date and time:",{x:Je,y:$e,size:12,font:or}),nr.drawText(`${Ae.date}`,{x:Je+110,y:$e,size:12,font:or}),$e-=mr,nr.drawText("Issued By:",{x:Je,y:$e,size:12,font:or}),nr.drawText(`${Ae.issuedBy}`,{x:Je+110,y:$e,size:12,font:or}),$e-=mr,nr.drawText("Serial Number:",{x:Je,y:$e,size:12,font:or}),nr.drawText(`${Ae.serialNum}`,{x:Je+110,y:$e,size:12,font:or}),$e-=mr,nr.drawText("Device Type:",{x:Je,y:$e,size:12,font:or}),nr.drawText(`${Ae.machineType}`,{x:Je+110,y:$e,size:12,font:or}),$e-=mr,nr.drawText("Description:",{x:Je,y:$e,size:12,font:or}),nr.drawText(`${Ae.deviceDescription}`,{x:Je+110,y:$e,size:12,font:or}),$e-=mr,nr.drawText("Symptom:",{x:Je,y:$e,size:12,font:or}),nr.drawText(`${Ae.symptom}`,{x:Je+110,y:$e,size:12,font:or});const wr=await rr.save(),vr=new Blob([wr],{type:"application/octec-stream"}),ur=getStorage(),Cr=ref(ur,`testcontracts/Contract${Ae.location}${_e}${Ae.customerName}.pdf`),_r=new Date().toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});await uploadBytes(Cr,vr);const hr=`testcontracts/Contract${Ae.location}${_e}${Ae.customerName}.pdf`;xe(hr),t()}catch(Ve){console.error("Failed to save signed PDF:",Ve),alert("Something went wrong while saving.")}finally{ke(!1)}};return jsxRuntimeExports.jsxs(Modal,{isOpen:Ee,onRequestClose:t,className:"signature-modal",overlayClassName:"modal-overlay",children:[jsxRuntimeExports.jsx("h2",{children:"Terms & Conditions"}),jsxRuntimeExports.jsxs("div",{className:"pdf-preview",children:[jsxRuntimeExports.jsx(Document,{file:Ce,onLoadSuccess:Oe,onLoadError:je,loading:jsxRuntimeExports.jsx("div",{children:"Loading PDF..."}),error:jsxRuntimeExports.jsx("div",{children:"Failed to load PDF. Please check console for details."}),children:Re&&Array.from(new Array(Re),(ze,Ve)=>jsxRuntimeExports.jsx(Page,{pageNumber:Ve+1,renderTextLayer:!1,renderAnnotationLayer:!1},`page_${Ve+1}`))}),!Re&&jsxRuntimeExports.jsx("div",{children:"Waiting for PDF to load..."})]}),jsxRuntimeExports.jsxs("div",{className:"signature-box",children:[jsxRuntimeExports.jsx("p",{children:"Sign below to agree:"}),jsxRuntimeExports.jsxs("div",{className:"signature-wrapper",children:[!Fe&&jsxRuntimeExports.jsx("div",{className:"sig-placeholder",children:"Sign here"}),jsxRuntimeExports.jsx(SignatureCanvas,{ref:Se,onBegin:()=>Ie(!0),penColor:"black",canvasProps:{width:300,height:100,className:"sig-canvas"}})]})]}),jsxRuntimeExports.jsxs("div",{className:"modal-buttons",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Se.current.clear(),Ie(!1)},children:"Clear"}),jsxRuntimeExports.jsx("button",{onClick:Ke,disabled:Ue,children:Ue?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"spinner"}),"Saving..."]}):"Accept & Continue"})]})]})},contractPdfFile=`${window.location.origin}/Amman_new_contract.pdf`,NewTicket=()=>{const{technician:Ee}=useUser(),[t,Ae]=reactExports.useState({ticketNum:null,customerName:"",mobileNumber:"",emailAddress:"",customerType:"personal",companyName:"",machineType:"",serialNum:"",deviceIMEI:"",details:[`Started by ${Ee.name}`],deviceDescription:"",warrantyStatus:"Apple limited warranty",symptom:"",location:"M",ticketStates:[0],technicions:[Ee.name],countryCode:"962"}),[_e,xe]=reactExports.useState(!1),[Ce,Se]=reactExports.useState(!1),[Re,Be]=reactExports.useState(null),[Fe,Ie]=reactExports.useState(""),[Ue,ke]=reactExports.useState(!1),Oe=useNavigate();reactExports.useEffect(()=>{(async()=>{const ir=collection(db,"tickets");console.log("ref",ir);const sr=query(ir,orderBy("ticketNum","desc"),limit(1)),rr=await getDocs(sr),nr=rr.empty?1e3:rr.docs[0].data().ticketNum+1;console.log("TECH in new",Ee.name),Ae(We=>({...We,ticketNum:nr}))})()},[]);const je=Xe=>{const{name:ir,value:sr}=Xe.target;ir==="machineType"?sr==="Other"?(ke(!0),Ae(rr=>({...rr,[ir]:""}))):(ke(!1),Ie(""),Ae(rr=>({...rr,[ir]:sr}))):Ae(rr=>({...rr,[ir]:sr}))},Ke=Xe=>{const{value:ir}=Xe.target;Ie(ir),Ae(sr=>({...sr,machineType:ir}))},ze=async Xe=>{Be(Re),console.log("The URL",Xe);try{const ir=t.ticketNum,sr=getStorage(),rr=ref(sr,`contracts/${ir}.png`);await uploadBytes(rr,Re);const nr=new Date().toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});await addDoc(collection(db,"tickets"),{...t,date:nr,contractURL:Xe}),await Ve(Xe,nr),alert("Ticket created successfully!"),Oe("/tickets")}catch(ir){console.error("Error creating ticket:",ir),alert("Failed to create ticket.")}},Ve=async(Xe,ir)=>{try{const sr=`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <style>
            .email-container { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; }
            .header { background-color: #1ccad4; color: white; padding: 20px; text-align: center; }
            .content { padding: 20px; background-color: #f9f9f9; }
            .ticket-info { background-color: white; padding: 15px; margin: 15px 0; border-radius: 8px; }
            .info-row { margin: 8px 0; }
            .label { font-weight: bold; color: #333; }
            .download-button { 
              display: inline-block; 
              background-color: #1ccad4; 
              color: white; 
              padding: 12px 24px; 
              text-decoration: none; 
              border-radius: 5px; 
              margin: 15px 0; 
            }
            .footer { text-align: center; margin-top: 20px; color: #666; font-size: 12px; }
          </style>
        </head>
        <body>
          <div class="email-container">
            <div class="header">
              <h2>Device Received - 365Solutions</h2>
              <p>Apple Authorized Service Center</p>
            </div>
            
            <div class="content">
              <p>Dear ${t.customerName},</p>
              
              <p>We have received your device at 365Solutions Apple Authorized Service Center. Thank you for choosing our services.</p>
              
              <div class="ticket-info">
                <h3 style="color: #1ccad4;">Service Ticket Information</h3>
                <div class="info-row">
                  <span class="label">Ticket Number:</span> ${t.location}${t.ticketNum}
                </div>
                <div class="info-row">
                  <span class="label">Date Received:</span> ${ir}
                </div>
                <div class="info-row">
                  <span class="label">Device Type:</span> ${t.machineType}
                </div>
                <div class="info-row">
                  <span class="label">Serial Number:</span> ${t.serialNum}
                </div>
                <div class="info-row">
                  <span class="label">Device Description:</span> ${t.deviceDescription}
                </div>
                <div class="info-row">
                  <span class="label">Reported Issue:</span> ${t.symptom}
                </div>
                <div class="info-row">
                  <span class="label">Warranty Status:</span> ${t.warrantyStatus}
                </div>
              </div>
              
              <p><strong>What happens next?</strong></p>
              <ul>
                <li>Our technicians will begin diagnostic work on your device</li>
                <li>We will contact you with updates on the repair status</li>
                <li>You will receive notification when your device is ready for pickup</li>
              </ul>
              
              <p>Please download and keep a copy of your signed service contract:</p>
              <a " class="download-button">Download Service Contract</a>
              
              <p>If you have any questions, please contact us at:</p>
              <ul>
                <li>Email: ${t.location==="M"?"help@365solutionsjo.com":"irbid@365solutionsjo.com"}</li>
                <li>Phone: ${t.location==="M"?"+962-6-XXX-XXXX":"+962-2-XXX-XXXX"}</li>
              </ul>
              
              <div class="footer">
                <p>365Solutions - Apple Authorized Service Center</p>
                <p>Professional device repair services you can trust</p>
              </div>
            </div>
          </div>
        </body>
        </html>
      `,rr={to:t.emailAddress,subject:`Service Confirmation - Your device has been received (Ticket #${t.location}${t.ticketNum})`,html:sr,location:t.location};(await fetch(API_ENDPOINTS.SEND_EMAIL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(rr)})).ok?console.log("Customer notification email sent successfully"):console.error("Failed to send customer notification email")}catch(sr){console.error("Error sending customer notification email:",sr)}};return jsxRuntimeExports.jsxs("div",{className:"ticket-container",children:[jsxRuntimeExports.jsxs("div",{className:"ticket-card",children:[jsxRuntimeExports.jsx("h2",{children:"Create New Ticket"}),jsxRuntimeExports.jsxs("form",{onSubmit:Xe=>Xe.preventDefault(),className:"ticket-form",children:[jsxRuntimeExports.jsxs("div",{className:"form-group readonly",children:[jsxRuntimeExports.jsx("label",{children:"Ticket Number"}),jsxRuntimeExports.jsx("div",{className:"readonly-value",children:t.ticketNum})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Customer Name"}),jsxRuntimeExports.jsx("input",{name:"customerName",value:t.customerName,onChange:je,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Mobile Number"}),jsxRuntimeExports.jsx("input",{name:"mobileNumber",value:t.mobileNumber,onChange:je,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",name:"emailAddress",value:t.emailAddress,onChange:je,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Customer Type"}),jsxRuntimeExports.jsxs("select",{name:"customerType",value:t.customerType,onChange:je,children:[jsxRuntimeExports.jsx("option",{value:"personal",children:"Personal"}),jsxRuntimeExports.jsx("option",{value:"business",children:"Business"})]})]}),t.customerType==="business"&&jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Company Name"}),jsxRuntimeExports.jsx("input",{name:"companyName",value:t.companyName,onChange:je,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Device Type"}),jsxRuntimeExports.jsxs("select",{name:"machineType",value:Ue?"Other":t.machineType,onChange:je,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a device"}),jsxRuntimeExports.jsx("option",{value:"iMac",children:"iMac"}),jsxRuntimeExports.jsx("option",{value:"MacBook Pro",children:"MacBook Pro"}),jsxRuntimeExports.jsx("option",{value:"MacBook Air",children:"MacBook Air"}),jsxRuntimeExports.jsx("option",{value:"Mac mini",children:"Mac mini"}),jsxRuntimeExports.jsx("option",{value:"Mac Pro",children:"Mac Pro"}),jsxRuntimeExports.jsx("option",{value:"Mac Studio",children:"Mac Studio"}),jsxRuntimeExports.jsx("option",{value:"Apple Studio Display",children:"Apple Studio Display"}),jsxRuntimeExports.jsx("option",{value:"iPhone",children:"iPhone"}),jsxRuntimeExports.jsx("option",{value:"iPhoneX",children:"iPhoneX"}),jsxRuntimeExports.jsx("option",{value:"iPhoneXS",children:"iPhoneXS"}),jsxRuntimeExports.jsx("option",{value:"iPhoneXS Max",children:"iPhoneXS Max"}),jsxRuntimeExports.jsx("option",{value:"iPhone11",children:"iPhone11"}),jsxRuntimeExports.jsx("option",{value:"iPhone12",children:"iPhone12"}),jsxRuntimeExports.jsx("option",{value:"iPhone12 mini",children:"iPhone12 mini"}),jsxRuntimeExports.jsx("option",{value:"iPhone12 Pro",children:"iPhone12 Pro"}),jsxRuntimeExports.jsx("option",{value:"iPhone12 Pro Max",children:"iPhone12 Pro Max"}),jsxRuntimeExports.jsx("option",{value:"iPhone13",children:"iPhone13"}),jsxRuntimeExports.jsx("option",{value:"iPhone13 mini",children:"iPhone13 mini"}),jsxRuntimeExports.jsx("option",{value:"iPhone13 Pro",children:"iPhone13 Pro"}),jsxRuntimeExports.jsx("option",{value:"iPhone13 Pro Max",children:"iPhone13 Pro Max"}),jsxRuntimeExports.jsx("option",{value:"iPhone14",children:"iPhone14"}),jsxRuntimeExports.jsx("option",{value:"iPhone14 Plus",children:"iPhone14 Plus"}),jsxRuntimeExports.jsx("option",{value:"iPhone14 Pro",children:"iPhone14 Pro"}),jsxRuntimeExports.jsx("option",{value:"iPhone14 Pro Max",children:"iPhone14 Pro Max"}),jsxRuntimeExports.jsx("option",{value:"iPhone15",children:"iPhone15"}),jsxRuntimeExports.jsx("option",{value:"iPhone15 Plus",children:"iPhone15 Plus"}),jsxRuntimeExports.jsx("option",{value:"iPhone15 Pro",children:"iPhone15 Pro"}),jsxRuntimeExports.jsx("option",{value:"iPhone15 Pro Max",children:"iPhone15 Pro Max"}),jsxRuntimeExports.jsx("option",{value:"iPhone16",children:"iPhone16"}),jsxRuntimeExports.jsx("option",{value:"iPhone16 Plus",children:"iPhone16 Plus"}),jsxRuntimeExports.jsx("option",{value:"iPhone16 Pro",children:"iPhone16 Pro"}),jsxRuntimeExports.jsx("option",{value:"iPhone16 Pro Max",children:"iPhone16 Pro Max"}),jsxRuntimeExports.jsx("option",{value:"iPad",children:"iPad"}),jsxRuntimeExports.jsx("option",{value:"iPadPro 11",children:"iPadPro 11"}),jsxRuntimeExports.jsx("option",{value:"iPadPro 12.9",children:"iPadPro 12.9"}),jsxRuntimeExports.jsx("option",{value:"iPadAir",children:"iPadAir"}),jsxRuntimeExports.jsx("option",{value:"iPad mini",children:"iPad mini"}),jsxRuntimeExports.jsx("option",{value:"AppleWatch",children:"AppleWatch"}),jsxRuntimeExports.jsx("option",{value:"AppleTV",children:"AppleTV"}),jsxRuntimeExports.jsx("option",{value:"Apple Pencil1",children:"Apple Pencil1"}),jsxRuntimeExports.jsx("option",{value:"Apple Pencil2",children:"Apple Pencil2"}),jsxRuntimeExports.jsx("option",{value:"Apple AirPods",children:"Apple AirPods"}),jsxRuntimeExports.jsx("option",{value:"Apple Pencil",children:"Apple Pencil"}),jsxRuntimeExports.jsx("option",{value:"Beats",children:"Beats"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]})]}),Ue&&jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Custom Device Type"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter custom device type",value:Fe,onChange:Ke,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Device Serial Number"}),jsxRuntimeExports.jsx("input",{name:"serialNum",value:t.serialNum,onChange:je,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"IMEI Number"}),jsxRuntimeExports.jsx("input",{name:"deviceIMEI",value:t.deviceIMEI,onChange:je,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Device Description"}),jsxRuntimeExports.jsx("input",{name:"deviceDescription",value:t.deviceDescription,onChange:je,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Warranty Status"}),jsxRuntimeExports.jsxs("select",{name:"warrantyStatus",value:t.warrantyStatus,onChange:je,children:[jsxRuntimeExports.jsx("option",{children:"Apple limited warranty"}),jsxRuntimeExports.jsx("option",{children:"Out of warranty"}),jsxRuntimeExports.jsx("option",{children:"Apple care protection"}),jsxRuntimeExports.jsx("option",{children:"Quality program"}),jsxRuntimeExports.jsx("option",{children:"Repeate Service"}),jsxRuntimeExports.jsx("option",{children:"CS code"})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Symptom"}),jsxRuntimeExports.jsx("textarea",{name:"symptom",value:t.symptom,onChange:je,required:!0})]}),jsxRuntimeExports.jsx("button",{className:"submit-button",onClick:Xe=>{Xe.preventDefault(),Se(!0)},children:"Create Ticket"})]})]}),jsxRuntimeExports.jsx(SignaturePdfModal,{isOpen:Ce,onClose:()=>Se(!1),customerData:t,ticketNum:t.ticketNum,location:t.location,onComplete:ze,pdfFile:contractPdfFile})]})},PrivateRoute=({children:Ee})=>{const[t,Ae]=useAuthState(auth);return reactExports.useEffect(()=>{!Ae&&!t&&alert("Please login first.")},[Ae,t]),Ae?jsxRuntimeExports.jsx("div",{children:"Loading..."}):t?Ee:jsxRuntimeExports.jsx(Navigate,{to:"/"})};Modal.setAppElement("#root");const PartsModal=({isOpen:Ee,onClose:t,ticket:Ae})=>{const[_e,xe]=reactExports.useState(""),[Ce,Se]=reactExports.useState(""),[Re,Be]=reactExports.useState(""),[Fe,Ie]=reactExports.useState("Apple limited warranty"),[Ue,ke]=reactExports.useState(""),[Oe,je]=reactExports.useState(""),[Ke,ze]=reactExports.useState(""),[Ve,Xe]=reactExports.useState(!1),[ir,sr]=reactExports.useState(""),[rr,nr]=reactExports.useState(""),[We,Ge]=reactExports.useState([]),[Ze,or]=reactExports.useState(!1),[He,Je]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{if(Ae!=null&&Ae.partDeliveryNote){console.log("Fetching delivery note:",Ae.partDeliveryNote);try{const Sr=doc(db,"partsDeliveryNotes",Ae.partDeliveryNote),ar=await getDoc(Sr);if(ar.exists()){const tr=ar.data();if(tr.parts&&tr.parts.length>0)Ge(tr.parts),or(!1);else if(tr.partNumbers||tr.partDescriptions||tr.newSerialNumber){console.log("Old format detected, migrating data..."),Je(tr),or(!0);const lr=$e(tr);Ge(lr),lr.length>0&&(await mr(Ae.partDeliveryNote,tr,lr),or(!1))}else or(!1);console.log("Fetched parts delivery note:",tr)}}catch(Sr){console.error("Failed to fetch delivery note:",Sr)}}})()},[Ae]);const $e=hr=>{const Sr=[],ar=hr.partNumbers||[],tr=hr.partDescriptions||[],lr=hr.newSerialNumber||[],pr=hr.oldSerialNumber||[],Er=hr.warrantyStatus||[],Rr=hr.qtys||[],Tr=hr.prices||[],Ir=hr.services||[],Zr=Math.max(ar.length,tr.length,lr.length,pr.length,Er.length,Rr.length,Tr.length,Ir.length);for(let zr=0;zr<Zr;zr++){const $r=Ir[zr]&&Ir[zr].trim()!=="",vn={partNumber:$r?"":ar[zr]||"",newSN:$r?"":lr[zr]||"",oldSN:$r?"":pr[zr]||"",warrantyStatus:$r?"":Er[zr]||"Apple limited warranty",description:tr[zr]||"",quantity:Rr[zr]||"1",price:Tr[zr]||"0"};Sr.push(vn)}return console.log("Migrated parts:",Sr),Sr},mr=async(hr,Sr,ar)=>{try{const tr=doc(db,"partsDeliveryNotes",hr);await updateDoc(tr,{...Sr,parts:ar,migratedAt:new Date}),console.log("Successfully migrated and saved parts data")}catch(tr){console.error("Failed to save migrated parts:",tr)}},wr=async()=>{if(!He||!(Ae!=null&&Ae.partDeliveryNote)){alert("No old data available for migration");return}try{const hr=$e(He);Ge(hr),hr.length>0&&(await mr(Ae.partDeliveryNote,He,hr),or(!1),alert("Data migration completed successfully!"))}catch(hr){console.error("Manual migration failed:",hr),alert("Migration failed. Please try again.")}},vr=()=>{const hr={partNumber:Ve?"":_e,newSN:Ve?"":Ce,oldSN:Ve?"":Re,warrantyStatus:Ve?"":Fe,description:Ve?ir==="Other"?rr:ir:Ue,quantity:Oe||"1",price:Ke||"0"};Ge([...We,hr]),xe(""),Se(""),Be(""),Ie("Apple limited warranty"),ke(""),je(""),ze(""),Xe(!1),sr(""),nr("")},ur=hr=>{const Sr=We.filter((ar,tr)=>tr!==hr);Ge(Sr)},Cr=async()=>{if(Ae)try{const hr=new Date().getTime(),Sr=Ae.customerName.replace(/[^a-zA-Z0-9]/g,""),ar=`PDN${Ae.location}${Ae.ticketNum}${Sr}${hr}`,tr=doc(db,"partsDeliveryNotes",ar);await setDoc(tr,{ticketId:Ae.id,ticketNum:Ae.ticketNum,customerName:Ae.customerName,machineType:Ae.machineType,serialNumber:Ae.serialNum,warrantyStatus:Ae.warrantyStatus,technician:Ae.technician||"",symptom:Ae.symptom,createdAt:new Date,parts:We}),await updateDoc(doc(db,"tickets",Ae.id),{partDeliveryNote:ar}),alert("Parts delivery note saved successfully."),t()}catch(hr){console.error("Failed to save parts delivery note:",hr),alert("Failed to save parts delivery note.")}},_r=new Date().toLocaleDateString();return jsxRuntimeExports.jsxs(Modal,{isOpen:Ee,onRequestClose:t,className:"right-modal",overlayClassName:"modal-overlay",children:[jsxRuntimeExports.jsx("button",{className:"modal-close-button",onClick:t,children:"×"}),jsxRuntimeExports.jsxs("div",{className:"modal-form",children:[jsxRuntimeExports.jsx("label",{children:"Part#:"}),jsxRuntimeExports.jsx("input",{type:"text",value:_e,onChange:hr=>xe(hr.target.value),placeholder:"Enter Part#",disabled:Ve}),jsxRuntimeExports.jsx("label",{children:"New SN:"}),jsxRuntimeExports.jsx("input",{type:"text",value:Ce,onChange:hr=>Se(hr.target.value),placeholder:"Enter New SN",disabled:Ve}),jsxRuntimeExports.jsx("label",{children:"Old SN:"}),jsxRuntimeExports.jsx("input",{type:"text",value:Re,onChange:hr=>Be(hr.target.value),placeholder:"Enter Old SN",disabled:Ve}),jsxRuntimeExports.jsx("label",{children:"Warranty Status:"}),jsxRuntimeExports.jsxs("select",{value:Fe,onChange:hr=>Ie(hr.target.value),disabled:Ve,children:[jsxRuntimeExports.jsx("option",{children:"Apple limited warranty"}),jsxRuntimeExports.jsx("option",{children:"Out of warranty"}),jsxRuntimeExports.jsx("option",{children:"CS code"}),jsxRuntimeExports.jsx("option",{children:"Quality program"})]}),jsxRuntimeExports.jsx("label",{children:"Part Description:"}),jsxRuntimeExports.jsx("input",{type:"text",value:Ue,onChange:hr=>ke(hr.target.value),placeholder:"Enter Description",disabled:Ve}),jsxRuntimeExports.jsx("label",{children:"Quantity:"}),jsxRuntimeExports.jsx("input",{type:"number",value:Oe,onChange:hr=>je(hr.target.value),placeholder:"Enter Quantity"}),jsxRuntimeExports.jsx("label",{children:"Price:"}),jsxRuntimeExports.jsx("input",{type:"text",value:Ke,onChange:hr=>ze(hr.target.value),placeholder:"Enter Price"}),jsxRuntimeExports.jsxs("div",{className:"service-section",children:[jsxRuntimeExports.jsxs("div",{className:"service-row",children:[jsxRuntimeExports.jsxs("label",{className:"service-checkbox",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Ve,onChange:hr=>Xe(hr.target.checked)}),"Service"]}),Ve&&jsxRuntimeExports.jsxs("div",{className:"service-type-select",children:[jsxRuntimeExports.jsx("label",{children:"Service Type:"}),jsxRuntimeExports.jsxs("select",{value:ir,onChange:hr=>sr(hr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Service Type"}),jsxRuntimeExports.jsx("option",{value:"Software",children:"Software"}),jsxRuntimeExports.jsx("option",{value:"Upgrade system",children:"Upgrade system"}),jsxRuntimeExports.jsx("option",{value:"Transfer data",children:"Transfer data"}),jsxRuntimeExports.jsx("option",{value:"Cleaning",children:"Cleaning"}),jsxRuntimeExports.jsx("option",{value:"Miss use",children:"Miss use"}),jsxRuntimeExports.jsx("option",{value:"NTF",children:"NTF"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]}),ir==="Other"&&jsxRuntimeExports.jsx("input",{type:"text",value:rr,onChange:hr=>nr(hr.target.value),placeholder:"Enter custom service",className:"custom-service-input"})]})]}),jsxRuntimeExports.jsx("button",{onClick:vr,className:"apply-button",children:"Apply"})]})]}),jsxRuntimeExports.jsxs("div",{className:"delivery-header",children:[jsxRuntimeExports.jsxs("div",{className:"logo-section",children:[jsxRuntimeExports.jsx("img",{src:"/path/to/your/logo.png",alt:"Logo",className:"logo-img"}),jsxRuntimeExports.jsx("h2",{children:"Delivery Note"}),jsxRuntimeExports.jsx("div",{className:"underline"})]}),jsxRuntimeExports.jsxs("div",{className:"delivery-details",children:[jsxRuntimeExports.jsxs("div",{className:"left",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivery Date:"})," ",_r]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Customer Name:"})," ",Ae==null?void 0:Ae.customerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Invoice #:"})," ",Ae==null?void 0:Ae.ticketNum]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Product Type:"})," ",Ae==null?void 0:Ae.machineType]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Repair ID:"})," ",Ae==null?void 0:Ae.id]})]}),jsxRuntimeExports.jsxs("div",{className:"right",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Serial Number:"})," ",Ae==null?void 0:Ae.serialNum]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Device Issue:"})," ",Ae==null?void 0:Ae.symptom]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Warranty Status:"})," ",(Ae==null?void 0:Ae.warrantyStatus)||""]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Technician:"})," ",(Ae==null?void 0:Ae.technician)||""]}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx("strong",{children:"Tech ID:"})})]})]})]}),jsxRuntimeExports.jsxs("table",{className:"delivery-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Item Description"}),jsxRuntimeExports.jsx("th",{children:"Part #"}),jsxRuntimeExports.jsx("th",{children:"Old Serial #"}),jsxRuntimeExports.jsx("th",{children:"New Serial #"}),jsxRuntimeExports.jsx("th",{children:"Quantity"}),jsxRuntimeExports.jsx("th",{children:"Warranty Status"})]})}),jsxRuntimeExports.jsx("tbody",{children:We.map((hr,Sr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:hr.description}),jsxRuntimeExports.jsx("td",{children:hr.partNumber}),jsxRuntimeExports.jsx("td",{children:hr.oldSN}),jsxRuntimeExports.jsx("td",{children:hr.newSN}),jsxRuntimeExports.jsx("td",{children:hr.quantity}),jsxRuntimeExports.jsx("td",{children:hr.warrantyStatus}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("button",{className:"delete-part-button",onClick:()=>ur(Sr),title:"Delete part",children:"🗑"})})]},Sr))})]}),jsxRuntimeExports.jsxs("div",{className:"modal-actions",children:[Ze&&jsxRuntimeExports.jsx("button",{className:"migration-button",onClick:wr,title:"Migrate old data format to new parts structure",children:"🔄 Migrate Old Data"}),jsxRuntimeExports.jsx("button",{className:"save-button",onClick:Cr,children:"Save"})]})]})};Modal.setAppElement("#root");const PriceQuotationModal=({isOpen:Ee,onClose:t,ticket:Ae})=>{const[_e,xe]=reactExports.useState(""),[Ce,Se]=reactExports.useState(""),[Re,Be]=reactExports.useState("1"),[Fe,Ie]=reactExports.useState("0"),[Ue,ke]=reactExports.useState(!1),[Oe,je]=reactExports.useState(""),[Ke,ze]=reactExports.useState(""),[Ve,Xe]=reactExports.useState([]),[ir,sr]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{if(Ae!=null&&Ae.priceQuotationRef)try{const Je=doc(db,"priceQuotationsData",Ae.priceQuotationRef),$e=await getDoc(Je);if($e.exists()){const mr=$e.data();Xe(mr.quotes||[])}}catch(Je){console.error("Failed to fetch price quotation:",Je)}})()},[Ae]);const rr=()=>{xe(""),Se(""),Be("1"),Ie("0"),ke(!1),je(""),ze("")},nr=()=>{if(!Ae)return null;const He=Ae.customerName?Ae.customerName.replace(/[^a-zA-Z0-9]/g,""):"UnknownCustomer",Je=Ae.location?Ae.location.replace(/[^a-zA-Z0-9]/g,""):"UnknownLocation",$e=new Date().getTime();return`PQ_${Je}_${He}_${$e}`},We=async()=>{if(!Ce||!Ue&&!_e||Ue&&!Oe&&!Ke){alert("Please fill in all required fields: Description, and either Part# (for parts) or Service Type (for services)");return}const He={partNumber:Ue?"":_e,description:Ce,quantity:parseInt(Re)||1,price:parseFloat(Fe)||0,service:Ue,serviceType:Ue?Oe==="Custom"?Ke:Oe:""},Je=[...Ve,He];Xe(Je);try{let $e=Ae.priceQuotationRef||nr();const mr={ticketId:Ae.ticketId,customer:Ae.customerName,location:Ae.location,quotes:Je,createdAt:new Date,updatedAt:new Date};if(Ae.priceQuotationRef){const wr=doc(db,"priceQuotationsData",Ae.priceQuotationRef);await updateDoc(wr,{quotes:Je,updatedAt:new Date})}else{const wr=doc(db,"priceQuotationsData",$e);await setDoc(wr,mr);const vr=doc(db,"tickets",Ae.id);await updateDoc(vr,{priceQuotationRef:$e})}rr()}catch($e){console.error("Error saving quote:",$e),alert("Failed to save quote. Please try again.")}},Ge=async He=>{const Je=Ve.filter(($e,mr)=>mr!==He);Xe(Je);try{if(Ae.priceQuotationRef){const $e=doc(db,"priceQuotationsData",Ae.priceQuotationRef);await updateDoc($e,{quotes:Je,updatedAt:new Date})}}catch($e){console.error("Error deleting quote:",$e),alert("Failed to delete quote. Please try again.")}},Ze=()=>Ve.reduce((He,Je)=>He+Je.price*Je.quantity,0).toFixed(2),or=async()=>{if(Ve.length===0){alert("Please add items to the quotation before sending email.");return}if(!Ae.emailAddress){alert("No email address found for this customer.");return}sr(!0);try{const He=Ve.map((Cr,_r)=>`<tr>
          <td style="padding: 8px; border: 1px solid #ddd;">${_r+1}</td>
          <td style="padding: 8px; border: 1px solid #ddd;">${Cr.service?"Service":"Part"}</td>
          <td style="padding: 8px; border: 1px solid #ddd;">${Cr.partNumber||(Cr.service?Cr.serviceType:"")}</td>
          <td style="padding: 8px; border: 1px solid #ddd;">${Cr.description}</td>
          <td style="padding: 8px; border: 1px solid #ddd;">${Cr.quantity}</td>
          <td style="padding: 8px; border: 1px solid #ddd;">${Cr.price.toFixed(2)} JOD</td>
          <td style="padding: 8px; border: 1px solid #ddd;">${(Cr.price*Cr.quantity).toFixed(2)} JOD</td>
        </tr>`).join(""),Je="/src/assets/logo_new.png",$e="/src/assets/email_logo.png";let mr="",wr="";try{const _r=await(await fetch(Je)).blob();mr=await new Promise(hr=>{const Sr=new FileReader;Sr.onloadend=()=>hr(Sr.result),Sr.readAsDataURL(_r)})}catch(Cr){console.warn("Could not load header logo for email:",Cr)}try{const _r=await(await fetch($e)).blob();wr=await new Promise(hr=>{const Sr=new FileReader;Sr.onloadend=()=>hr(Sr.result),Sr.readAsDataURL(_r)})}catch(Cr){console.warn("Could not load footer logo for email:",Cr)}const vr=`
        <div style="font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto;">
          <div style="display: flex; align-items: center; margin-bottom: 20px; border-bottom: 2px solid #094549; padding-bottom: 15px;">
            ${mr?`<img src="${mr}" alt="365 Solutions Logo" style="max-height: 60px; height: auto; margin-right: 20px;" />`:""}
            <h2 style="color: #094549; margin: 0; flex-grow: 1;">Price Quotation</h2>
          </div>
          <h3>Ticket #${Ae.location}${Ae.ticketNum}</h3>
          <p><strong>Customer:</strong> ${Ae.customerName}</p>

          <p><strong>Date:</strong> ${new Date().toLocaleDateString()}</p>
          
          <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
            <thead>
              <tr style="background-color: #f0f0f0;">
                <th style="padding: 10px; border: 1px solid #ddd;">#</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Type</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Part #</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Description</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Qty</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Price</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Total</th>
              </tr>
            </thead>
            <tbody>
              ${He}
              <tr style="background-color: #f9f9f9; font-weight: bold;">
                <td colspan="6" style="padding: 10px; border: 1px solid #ddd; text-align: right;">Grand Total:</td>
                <td style="padding: 10px; border: 1px solid #ddd;">${Ze()} JOD</td>
              </tr>
            </tbody>
          </table>
          
          <p style="margin-top: 15px; font-style: italic; color: #333; text-align: center;">
            All prices include 16% sales tax
          </p>
          
          <p style="margin-top: 30px; color: #666;">
            This quotation is valid for 7 days from the date of issue.
          </p>
          
          <div style="margin-top: 40px; border-top: 1px solid #eee; padding-top: 20px; font-size: 13px; color: #999; text-align: center;">
            ${wr?`<div style="margin-bottom: 15px;">
              <img src="${wr}" alt="365 Solutions Email Logo" style="max-height: 40px; height: auto;" />
            </div>`:""}
            <p>© 2025 365 Solutions. All rights reserved.</p>
            <p>Mecca Street, Building No. 221, Amman, Jordan • help@365solutionsjo.com, Tel: +962 796818189</p>
            <p>Wasfi AlTal Street, Irbid, Jordan • irbid@365solutionsjo.com, Tel: +962 796818189</p>
          </div>
        </div>
      `,ur=await fetch(API_ENDPOINTS.SEND_EMAIL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:Ae.emailAddress,subject:`Price Quotation - Ticket #${Ae.ticketId}`,html:vr,location:Ae.location})});if(ur.ok)alert(`Price quotation sent successfully to ${Ae.emailAddress}`);else{const Cr=await ur.json().catch(()=>({error:"Unknown error"}));throw new Error(Cr.error||`Server returned ${ur.status}: ${ur.statusText}`)}}catch(He){console.error("Error sending email:",He),alert(`Failed to send email: ${He.message}`)}finally{sr(!1)}};return jsxRuntimeExports.jsxs(Modal,{isOpen:Ee,onRequestClose:t,className:"right-modal",overlayClassName:"modal-overlay",children:[jsxRuntimeExports.jsx("button",{className:"modal-close-button",onClick:t,children:"×"}),jsxRuntimeExports.jsxs("div",{className:"modal-form",children:[jsxRuntimeExports.jsxs("div",{className:"logo-section",children:[jsxRuntimeExports.jsx("h2",{children:"Price Quotation"}),jsxRuntimeExports.jsx("div",{className:"underline"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Ticket#:"})}),jsxRuntimeExports.jsx("p",{children:Ae==null?void 0:Ae.ticketNum})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Customer:"})}),jsxRuntimeExports.jsx("p",{children:Ae==null?void 0:Ae.customerName})]}),jsxRuntimeExports.jsx("div",{className:"service-section",children:jsxRuntimeExports.jsxs("div",{className:"service-row",children:[jsxRuntimeExports.jsxs("div",{className:"service-checkbox",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Ue,onChange:He=>ke(He.target.checked)}),jsxRuntimeExports.jsx("label",{children:"Service"})]}),Ue&&jsxRuntimeExports.jsxs("div",{className:"service-type-select",children:[jsxRuntimeExports.jsx("label",{children:"Service Type:"}),jsxRuntimeExports.jsxs("select",{value:Oe,onChange:He=>je(He.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Service Type"}),jsxRuntimeExports.jsx("option",{value:"Diagnosis",children:"Diagnosis"}),jsxRuntimeExports.jsx("option",{value:"Repair",children:"Repair"}),jsxRuntimeExports.jsx("option",{value:"Software Update",children:"Software Update"}),jsxRuntimeExports.jsx("option",{value:"Hardware Installation",children:"Hardware Installation"}),jsxRuntimeExports.jsx("option",{value:"Data Recovery",children:"Data Recovery"}),jsxRuntimeExports.jsx("option",{value:"Maintenance",children:"Maintenance"}),jsxRuntimeExports.jsx("option",{value:"Consultation",children:"Consultation"}),jsxRuntimeExports.jsx("option",{value:"Custom",children:"Custom"})]}),Oe==="Custom"&&jsxRuntimeExports.jsx("input",{type:"text",className:"custom-service-input",placeholder:"Enter custom service type",value:Ke,onChange:He=>ze(He.target.value)})]})]})}),!Ue&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Part #:"})}),jsxRuntimeExports.jsx("input",{type:"text",value:_e,onChange:He=>xe(He.target.value),placeholder:"Enter part number"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Description:"})}),jsxRuntimeExports.jsx("input",{type:"text",value:Ce,onChange:He=>Se(He.target.value),placeholder:"Enter description"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Quantity:"})}),jsxRuntimeExports.jsx("input",{type:"number",value:Re,onChange:He=>Be(He.target.value),placeholder:"Enter quantity",min:"1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:jsxRuntimeExports.jsx("strong",{children:"Price:"})}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",value:Fe,onChange:He=>Ie(He.target.value),placeholder:"Enter price",min:"0"})]}),jsxRuntimeExports.jsx("button",{className:"apply-button",onClick:We,children:"Add to Quote"}),Ve.length>0&&jsxRuntimeExports.jsxs("div",{className:"delivery-header",children:[jsxRuntimeExports.jsx("h3",{children:"Price Quotation Items"}),jsxRuntimeExports.jsxs("table",{className:"delivery-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Type"}),jsxRuntimeExports.jsx("th",{children:"Part #"}),jsxRuntimeExports.jsx("th",{children:"Description"}),jsxRuntimeExports.jsx("th",{children:"Qty"}),jsxRuntimeExports.jsx("th",{children:"Price"}),jsxRuntimeExports.jsx("th",{children:"Total"}),jsxRuntimeExports.jsx("th",{children:"Action"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[Ve.map((He,Je)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:He.service?"Service":"Part"}),jsxRuntimeExports.jsx("td",{children:He.partNumber||(He.service?He.serviceType:"")}),jsxRuntimeExports.jsx("td",{children:He.description}),jsxRuntimeExports.jsx("td",{children:He.quantity}),jsxRuntimeExports.jsxs("td",{children:[He.price.toFixed(2)," JOD"]}),jsxRuntimeExports.jsxs("td",{children:[(He.price*He.quantity).toFixed(2)," JOD"]}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("button",{className:"delete-part-button",onClick:()=>Ge(Je),children:"🗑️"})})]},Je)),jsxRuntimeExports.jsxs("tr",{style:{fontWeight:"bold",backgroundColor:"#f0f0f0"},children:[jsxRuntimeExports.jsx("td",{colSpan:"5",children:"Total:"}),jsxRuntimeExports.jsxs("td",{children:[Ze()," JOD"]}),jsxRuntimeExports.jsx("td",{})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"modal-actions",children:[Ve.length>0&&jsxRuntimeExports.jsx("button",{className:"apply-button",onClick:or,disabled:ir,style:{marginBottom:"10px",backgroundColor:ir?"#ccc":"#3333cc"},children:ir?"Sending...":"Send Price Quotation by Email"}),jsxRuntimeExports.jsx("button",{className:"save-button",onClick:t,children:"Close"})]})]})};Modal.setAppElement("#root");const statusOptions=["Start","VMI Troubleshooting","Repair Released from Processing","Awaiting Parts","Parts Allocated","In Repair","Ready For Pickup","Repair Marked Complete"],statusMap={0:"Start",1:"VMI Troubleshooting",2:"Repair Released from Processing",3:"Awaiting Parts",4:"Parts Allocated",5:"In Repair",6:"Ready For Pickup",7:"Repair Marked Complete"},ProcessTicketPage=()=>{var vr;const{id:Ee}=useParams(),{technician:t}=useUser(),[Ae,_e]=reactExports.useState(null),[xe,Ce]=reactExports.useState(""),[Se,Re]=reactExports.useState(!0),[Be,Fe]=reactExports.useState(0),[Ie,Ue]=reactExports.useState(0),[ke,Oe]=reactExports.useState(""),[je,Ke]=reactExports.useState(""),[ze,Ve]=reactExports.useState(!1),[Xe,ir]=reactExports.useState(!1),[sr,rr]=reactExports.useState([]),[nr,We]=reactExports.useState(!1),Ge=getStorage(),Ze=()=>Ve(!0),or=()=>Ve(!1),He=()=>ir(!0),Je=()=>ir(!1);reactExports.useEffect(()=>{(async()=>{var hr;const Cr=doc(db,"tickets",Ee),_r=await getDoc(Cr);if(_r.exists()){const Sr=_r.data(),ar=((hr=Sr.ticketStates)==null?void 0:hr.slice(-1)[0])||0;if(_e({id:_r.id,...Sr}),Fe(ar),Ue(ar),Sr.mediaURLs)try{const tr=await Promise.all(Sr.mediaURLs.map(async lr=>{const pr=ref(Ge,lr);return await getDownloadURL(pr)}));rr(tr)}catch(tr){console.error("Failed to fetch media URLs:",tr)}Re(!1)}})()},[Ee]);const $e=async()=>{if(!ke.trim()){alert("Please add a note.");return}const ur=doc(db,"tickets",Ee),_r=new Date().toLocaleString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),hr=(t==null?void 0:t.name)||"Unknown Technician",Sr=`[${_r}] ${hr}: ${ke.trim()}`,ar={ticketStates:[...Ae.ticketStates,parseInt(Ie)],details:[...Ae.details||[],Sr],technicions:[...Ae.technicions,hr]};Ie===1&&(ar.approvalRequired=!0,ar.approvalStatus="pending"),await updateDoc(ur,ar),parseInt(Ie)===6&&await mr(),alert("Status and note updated successfully"),_e(tr=>({...tr,ticketStates:[...tr.ticketStates,parseInt(Ie)],details:[...tr.details||[],Sr],technicions:[...tr.technicions,t.name],approvalRequired:Ie===1?!0:tr.approvalRequired,approvalStatus:Ie===1?"pending":tr.approvalStatus})),Oe("")},mr=async()=>{try{const ur=new Date().toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),Cr=`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <style>
            .email-container { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; }
            .header { background-color: #28a745; color: white; padding: 20px; text-align: center; }
            .content { padding: 20px; background-color: #f9f9f9; }
            .ticket-info { background-color: white; padding: 15px; margin: 15px 0; border-radius: 8px; }
            .info-row { margin: 8px 0; }
            .label { font-weight: bold; color: #333; }
            .pickup-notice { 
              background-color: #d4edda; 
              border: 1px solid #c3e6cb; 
              color: #155724; 
              padding: 15px; 
              border-radius: 8px; 
              margin: 15px 0; 
            }
            .footer { text-align: center; margin-top: 20px; color: #666; font-size: 12px; }
          </style>
        </head>
        <body>
          <div class="email-container">
            <div class="header">
              <h2>🎉 Your Device is Ready for Pickup!</h2>
              <p>365Solutions - Apple Authorized Service Center</p>
            </div>
            
            <div class="content">
              <p>Dear ${Ae.customerName},</p>
              
              <p><strong>Great news!</strong> Your device has been successfully repaired and is now ready for pickup.</p>
              
              <div class="pickup-notice">
                <h3 style="margin-top: 0;">📍 Ready for Pickup</h3>
                <p>Your device is waiting for you at our service center. Please bring a valid ID and your service receipt when collecting your device.</p>
              </div>
              
              <div class="ticket-info">
                <h3 style="color: #28a745;">Service Completion Details</h3>
                <div class="info-row">
                  <span class="label">Ticket Number:</span> ${Ae.location}${Ae.ticketNum}
                </div>
                <div class="info-row">
                  <span class="label">Completion Date:</span> ${ur}
                </div>
                <div class="info-row">
                  <span class="label">Device Type:</span> ${Ae.machineType}
                </div>
                <div class="info-row">
                  <span class="label">Serial Number:</span> ${Ae.serialNum}
                </div>
                <div class="info-row">
                  <span class="label">Original Issue:</span> ${Ae.symptom}
                </div>
                ${Ae.caseID?`<div class="info-row"><span class="label">Repair ID:</span> ${Ae.caseID}</div>`:""}
              </div>
              
              <div style="background-color: white; padding: 15px; margin: 15px 0; border-radius: 8px;">
                <h3 style="color: #1ccad4;">Pickup Information</h3>
                <p><strong>Service Center Location:</strong></p>
                <p>${Ae.location==="M"?"Amman Branch":"Irbid Branch"}</p>
                
                <p><strong>Business Hours:</strong></p>
                <ul>
                  <li>Sunday - Thursday: 9:00 AM - 6:00 PM</li>
                  <li>Saturday: 9:00 AM - 2:00 PM</li>
                  <li>Friday: Closed</li>
                </ul>
                
                <p><strong>What to bring:</strong></p>
                <ul>
                  <li>Valid photo ID</li>
                  <li>Service receipt or ticket number</li>
                  <li>Payment method (if applicable)</li>
                </ul>
              </div>
              
              <p><strong>Contact Information:</strong></p>
              <ul>
                <li>Email: ${Ae.location==="M"?"help@365solutionsjo.com":"irbid@365solutionsjo.com"}</li>
                <li>Phone: ${Ae.location==="M"?"+962-6-XXX-XXXX":"+962-2-XXX-XXXX"}</li>
              </ul>
              
              <p>Thank you for choosing 365Solutions for your device repair needs. We appreciate your patience and look forward to serving you again.</p>
              
              <div class="footer">
                <p>365Solutions - Apple Authorized Service Center</p>
                <p>Professional device repair services you can trust</p>
              </div>
            </div>
          </div>
        </body>
        </html>
      `,_r={to:Ae.emailAddress,subject:`🎉 Device Ready for Pickup - Ticket #${Ae.location}${Ae.ticketNum}`,html:Cr,location:Ae.location};(await fetch(API_ENDPOINTS.SEND_EMAIL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_r)})).ok?console.log("Ready for pickup email sent successfully"):console.error("Failed to send ready for pickup email")}catch(ur){console.error("Error sending ready for pickup email:",ur)}},wr=async()=>{if(!je.trim()){alert("Please enter a repair ID.");return}const ur=doc(db,"tickets",Ee);try{await updateDoc(ur,{caseID:je.trim(),lastModified:new Date().toISOString()}),Ke(""),alert("Repair ID updated successfully"),_e(Cr=>({...Cr,caseIDID:je.trim()}))}catch(Cr){console.error("Error updating repair ID:",Cr),alert("Failed to update repair ID. Please try again.")}};return Se?jsxRuntimeExports.jsx("div",{className:"loading",children:"Loading ticket..."}):jsxRuntimeExports.jsxs("div",{className:"process-ticket-layout",children:[jsxRuntimeExports.jsxs("div",{className:"process-ticket-container",children:[Ae.approvalRequired&&jsxRuntimeExports.jsxs("div",{className:"approval-toast",children:[jsxRuntimeExports.jsx("span",{className:"pulse-indicator"}),jsxRuntimeExports.jsxs("div",{className:"approval-message",children:[jsxRuntimeExports.jsx("strong",{children:"Approval Needed"}),": This ticket is currently awaiting admin approval. You can only select the final steps."]})]}),Ae.approvalStatus==="rejected"&&jsxRuntimeExports.jsxs("div",{className:"rejected-banner",children:["❌ This ticket has been ",jsxRuntimeExports.jsx("strong",{children:"rejected"})," by the admin."]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-grid",children:[jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Ticket#:"}),jsxRuntimeExports.jsxs("span",{children:[Ae.location,Ae.ticketNum]})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Customer:"}),jsxRuntimeExports.jsx("span",{children:Ae.customerName})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Mobile:"}),jsxRuntimeExports.jsx("span",{children:Ae.mobileNumber})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Email:"}),jsxRuntimeExports.jsx("span",{children:Ae.emailAddress})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Device:"}),jsxRuntimeExports.jsx("span",{children:Ae.machineType})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Symptom:"}),jsxRuntimeExports.jsx("span",{children:Ae.symptom})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Repair ID:"}),jsxRuntimeExports.jsx("span",{children:Ae.caseID||"Not assigned"})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-info-item",children:[jsxRuntimeExports.jsx("label",{children:"Current Status:"}),jsxRuntimeExports.jsx("span",{children:statusMap[(vr=Ae.ticketStates)==null?void 0:vr.slice(-1)[0]]||"Unknown"})]})]}),jsxRuntimeExports.jsxs("div",{className:"repair-id-update-section",children:[jsxRuntimeExports.jsx("h3",{children:"Update Repair ID"}),jsxRuntimeExports.jsx("label",{htmlFor:"repair-id-standalone",children:"Repair ID:"}),jsxRuntimeExports.jsx("input",{id:"repair-id-standalone",type:"text",value:je,onChange:ur=>Ke(ur.target.value),placeholder:"Enter repair ID",className:"repair-id-input"}),jsxRuntimeExports.jsx("button",{className:"repair-id-update-button",onClick:wr,disabled:!je.trim(),children:"Update Repair ID"})]}),jsxRuntimeExports.jsxs("div",{className:"status-update-section",children:[jsxRuntimeExports.jsx("label",{htmlFor:"status-select",children:"Change Status:"}),jsxRuntimeExports.jsx("select",{id:"status",value:Ie,onChange:ur=>Ue(parseInt(ur.target.value)),children:statusOptions.map((ur,Cr)=>{const _r=Cr<=Be,hr=Ae.approvalRequired&&Cr<6||Ae.approvalStatus==="rejected"&&Cr<6;return jsxRuntimeExports.jsx("option",{value:Cr,disabled:_r||hr,children:ur},Cr)})}),jsxRuntimeExports.jsx("label",{htmlFor:"status-note",children:"Note:"}),jsxRuntimeExports.jsx("textarea",{id:"status-note",value:ke,onChange:ur=>Oe(ur.target.value),placeholder:"Enter technician note (required)",rows:4,required:!0}),jsxRuntimeExports.jsx("button",{onClick:$e,disabled:Ie<=Be||ke.trim()==="",children:"Update Status"})]}),(t==null?void 0:t.permission)==="Admin"&&Ae.approvalRequired&&Ae.approvalStatus==="pending"&&jsxRuntimeExports.jsxs("div",{className:"admin-approval-section",children:[jsxRuntimeExports.jsx("p",{className:"approval-warning",children:"This ticket is awaiting approval."}),jsxRuntimeExports.jsx("button",{className:"approve-btn",onClick:async()=>{await updateDoc(doc(db,"tickets",Ee),{approvalRequired:!1,approvalStatus:"approved"}),_e(ur=>({...ur,approvalRequired:!1,approvalStatus:"approved"}))},children:"Approve Ticket"}),jsxRuntimeExports.jsx("button",{className:"reject-btn",onClick:async()=>{await updateDoc(doc(db,"tickets",Ee),{approvalRequired:!1,approvalStatus:"rejected"}),_e(ur=>({...ur,approvalRequired:!1,approvalStatus:"rejected"}))},children:"Reject Ticket"})]})]}),jsxRuntimeExports.jsxs("div",{className:"process-ticket-sidebar",children:[jsxRuntimeExports.jsx("button",{className:"side-button",onClick:()=>We(!0),children:"Media"}),jsxRuntimeExports.jsx("button",{className:"side-button",children:"Report"}),jsxRuntimeExports.jsx("button",{className:"side-button",onClick:Ze,children:"Parts"}),jsxRuntimeExports.jsx("button",{className:"side-button",onClick:He,children:"Price Quotation"})]}),jsxRuntimeExports.jsx(PartsModal,{isOpen:ze,onClose:or,ticket:Ae}),jsxRuntimeExports.jsx(PriceQuotationModal,{isOpen:Xe,onClose:Je,ticket:Ae}),jsxRuntimeExports.jsx(MediaModal,{isOpen:nr,onClose:()=>We(!1),mediaURLs:sr,setMediaURLs:rr,ticket:Ae})]})},AdminDashboard=()=>{const{technician:Ee}=useUser(),t=useNavigate(),[Ae,_e]=reactExports.useState([]),[xe,Ce]=reactExports.useState({totalTickets:0,pendingApproval:0,completedToday:0,activeUsers:0}),Se=(Ee==null?void 0:Ee.name)==="System Admin"||(Ee==null?void 0:Ee.permission)==="SystemAdmin";reactExports.useEffect(()=>{Be(),Re()},[]);const Re=async()=>{try{const Ue=await getDocs(collection(db,"tickets")),ke=Ue.size,Oe=query(collection(db,"tickets"),where("approvalRequired","==",!0)),Ke=(await getDocs(Oe)).size,ze=new Date().toDateString(),Xe=Ue.docs.map(rr=>({id:rr.id,...rr.data()})).filter(rr=>{const nr=rr.details&&rr.details.length>0?rr.details[rr.details.length-1]:null;return nr&&nr.includes("Closed")&&new Date(nr.split(" - ")[0]).toDateString()===ze}).length,sr=(await getDocs(collection(db,"technicions"))).size;Ce({totalTickets:ke,pendingApproval:Ke,completedToday:Xe,activeUsers:sr})}catch(Ue){console.error("Error fetching stats:",Ue)}},Be=async()=>{const Ue=query(collection(db,"tickets"),where("approvalRequired","==",!0)),Oe=(await getDocs(Ue)).docs.map(je=>({id:je.id,...je.data()}));_e(Oe)},Fe=async Ue=>{const ke=doc(db,"tickets",Ue);await updateDoc(ke,{waitingApproval:!1}),_e(Oe=>Oe.filter(je=>je.id!==Ue)),Re()},Ie=async Ue=>{const ke=doc(db,"tickets",Ue);await updateDoc(ke,{waitingApproval:!1}),_e(Oe=>Oe.filter(je=>je.id!==Ue)),Re()};return jsxRuntimeExports.jsxs("div",{className:"admin-dashboard",children:[jsxRuntimeExports.jsxs("div",{className:"dashboard-header",children:[jsxRuntimeExports.jsx("h1",{children:"🛠️ Admin Dashboard"}),jsxRuntimeExports.jsxs("p",{children:["Welcome, ",Ee==null?void 0:Ee.name]})]}),jsxRuntimeExports.jsxs("div",{className:"stats-grid",children:[jsxRuntimeExports.jsxs("div",{className:"stat-card",children:[jsxRuntimeExports.jsx("div",{className:"stat-icon",children:"🎫"}),jsxRuntimeExports.jsxs("div",{className:"stat-info",children:[jsxRuntimeExports.jsx("h3",{children:xe.totalTickets}),jsxRuntimeExports.jsx("p",{children:"Total Tickets"})]})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card pending",children:[jsxRuntimeExports.jsx("div",{className:"stat-icon",children:"⏳"}),jsxRuntimeExports.jsxs("div",{className:"stat-info",children:[jsxRuntimeExports.jsx("h3",{children:xe.pendingApproval}),jsxRuntimeExports.jsx("p",{children:"Pending Approval"})]})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card completed",children:[jsxRuntimeExports.jsx("div",{className:"stat-icon",children:"✅"}),jsxRuntimeExports.jsxs("div",{className:"stat-info",children:[jsxRuntimeExports.jsx("h3",{children:xe.completedToday}),jsxRuntimeExports.jsx("p",{children:"Completed Today"})]})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card users",children:[jsxRuntimeExports.jsx("div",{className:"stat-icon",children:"👥"}),jsxRuntimeExports.jsxs("div",{className:"stat-info",children:[jsxRuntimeExports.jsx("h3",{children:xe.activeUsers}),jsxRuntimeExports.jsx("p",{children:"Active Users"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"quick-actions",children:[jsxRuntimeExports.jsx("h2",{children:"⚡ Quick Actions"}),jsxRuntimeExports.jsxs("div",{className:"action-buttons",children:[jsxRuntimeExports.jsx("button",{className:"action-btn primary",onClick:()=>t("/tickets"),children:"📋 View All Tickets"}),jsxRuntimeExports.jsx("button",{className:"action-btn secondary",onClick:()=>t("/tickets/new"),children:"➕ Create New Ticket"}),Se&&jsxRuntimeExports.jsx("button",{className:"action-btn admin",onClick:()=>t("/user-management"),children:"👥 Manage Users"}),jsxRuntimeExports.jsx("button",{className:"action-btn info",onClick:()=>t("/archived"),children:"📚 View Archived"})]})]}),jsxRuntimeExports.jsxs("div",{className:"pending-section",children:[jsxRuntimeExports.jsx("h2",{children:"🔍 Pending Ticket Approvals"}),Ae.length===0?jsxRuntimeExports.jsx("div",{className:"no-pending",children:jsxRuntimeExports.jsx("p",{children:"✅ No tickets awaiting approval."})}):jsxRuntimeExports.jsx("div",{className:"pending-list",children:Ae.map(Ue=>jsxRuntimeExports.jsxs("div",{className:"pending-ticket",children:[jsxRuntimeExports.jsxs("div",{className:"ticket-info",children:[jsxRuntimeExports.jsxs("h3",{children:["#",Ue.location,Ue.ticketNum]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Customer:"})," ",Ue.customerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Device:"})," ",Ue.machineType]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Issue:"})," ",Ue.symptom]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Date:"})," ",Ue.date]})]}),jsxRuntimeExports.jsxs("div",{className:"ticket-actions",children:[jsxRuntimeExports.jsx("button",{className:"approve-btn",onClick:()=>Fe(Ue.id),children:"✅ Approve"}),jsxRuntimeExports.jsx("button",{className:"disapprove-btn",onClick:()=>Ie(Ue.id),children:"❌ Disapprove"})]})]},Ue.id))})]})]})},SystemAdminRoute=({children:Ee})=>{const{technician:t,loading:Ae}=useUser();return Ae?jsxRuntimeExports.jsx("div",{children:"Loading..."}):t?t.name!=="System Admin"&&t.permission!=="SystemAdmin"&&t.permission!=="Admin"?(alert("Access denied. Admin privileges required."),jsxRuntimeExports.jsx(Navigate,{to:"/tickets"})):Ee:(alert("Please log in first."),jsxRuntimeExports.jsx(Navigate,{to:"/"}))},logoImage="/assets/logo_new-DzVM95lh.png",DeliveryPage=()=>{const{id:Ee}=useParams(),{technician:t}=useUser(),[Ae,_e]=reactExports.useState(null),[xe,Ce]=reactExports.useState(!1),[Se,Re]=reactExports.useState(!1),[Be,Fe]=reactExports.useState(!1),[Ie,Ue]=reactExports.useState(!1),ke=reactExports.useRef(null),Oe=reactExports.useRef(),je=useNavigate();reactExports.useEffect(()=>{(async()=>{const sr=doc(db,"tickets",Ee),rr=await getDoc(sr);if(rr.exists()){const nr={id:rr.id,...rr.data()};_e(nr),Re(!!rr.data().partDeliveryNote),console.log("🧪 Testing email function with current ticket data")}})()},[Ee]);const Ke=async(ir=null)=>{try{const sr=ir||Ae;if(console.log("🔄 Starting to send ticket closed email for:",sr.customerName),console.log("📧 Customer email:",sr.emailAddress),console.log("🎫 Ticket ID:",sr.id),console.log("📍 Location:",sr.location),!sr.emailAddress||sr.emailAddress.trim()===""){console.error("❌ No customer email address found"),alert("Cannot send email: No customer email address found");return}const rr=new Date().toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),nr=[];if(sr.contractURL){const or=`https://firebasestorage.googleapis.com/v0/b/solutions-system-1e0f5.appspot.com/o/${encodeURIComponent(sr.contractURL)}?alt=media`;nr.push({name:"Service Agreement Contract",url:or,icon:"📄"})}if(sr.deliveryNoteURL){const or=`https://firebasestorage.googleapis.com/v0/b/solutions-system-1e0f5.appspot.com/o/${encodeURIComponent(sr.deliveryNoteURL)}?alt=media`;nr.push({name:"Delivery Receipt",url:or,icon:"🧾"})}if(sr.partsDeliveryNoteURL){const or=`https://firebasestorage.googleapis.com/v0/b/solutions-system-1e0f5.appspot.com/o/${encodeURIComponent(sr.partsDeliveryNoteURL)}?alt=media`;nr.push({name:"Parts Delivery Note",url:or,icon:"🔧"})}const We=`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <style>
            .email-container { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; }
            .header { background-color: #28a745; color: white; padding: 20px; text-align: center; }
            .content { padding: 20px; background-color: #f9f9f9; }
            .ticket-info { background-color: white; padding: 15px; margin: 15px 0; border-radius: 8px; }
            .info-row { margin: 8px 0; }
            .label { font-weight: bold; color: #333; }
            .completion-notice { 
              background-color: #d1ecf1; 
              border: 1px solid #bee5eb; 
              color: #0c5460; 
              padding: 15px; 
              border-radius: 8px; 
              margin: 15px 0; 
            }
            .documents-section {
              background-color: white; 
              padding: 15px; 
              margin: 15px 0; 
              border-radius: 8px;
              border: 2px solid #1ccad4;
            }
            .document-link { 
              display: inline-block; 
              background-color: #1ccad4; 
              color: white; 
              padding: 10px 20px; 
              text-decoration: none; 
              border-radius: 5px; 
              margin: 8px 8px 8px 0; 
              font-weight: bold;
            }
            .document-link:hover { background-color: #16b1bd; }
            .footer { text-align: center; margin-top: 20px; color: #666; font-size: 12px; }
          </style>
        </head>
        <body>
          <div class="email-container">
            <div class="header">
              <h2>✅ Service Completed - Ticket Closed</h2>
              <p>365Solutions - Apple Authorized Service Center</p>
            </div>
            
            <div class="content">
              <p>Dear ${sr.customerName},</p>
              
              <div class="completion-notice">
                <h3 style="margin-top: 0;">🎉 Service Complete!</h3>
                <p><strong>Your device has been successfully repaired and delivered. Your service ticket is now closed.</strong></p>
                <p>We hope you're satisfied with our repair service. Thank you for choosing 365Solutions!</p>
              </div>
              
              <div class="ticket-info">
                <h3 style="color: #28a745;">Final Service Summary</h3>
                <div class="info-row">
                  <span class="label">Ticket Number:</span> ${sr.location}${sr.ticketNum}
                </div>
                <div class="info-row">
                  <span class="label">Completion Date:</span> ${rr}
                </div>
                <div class="info-row">
                  <span class="label">Device Type:</span> ${sr.machineType}
                </div>
                <div class="info-row">
                  <span class="label">Serial Number:</span> ${sr.serialNum}
                </div>
                <div class="info-row">
                  <span class="label">Original Issue:</span> ${sr.symptom}
                </div>
                ${sr.caseID?`<div class="info-row"><span class="label">Repair ID:</span> ${sr.caseID}</div>`:""}
                <div class="info-row">
                  <span class="label">Service Status:</span> <strong style="color: #28a745;">COMPLETED ✅</strong>
                </div>
              </div>
              
              ${nr.length>0?`
              <div class="documents-section">
                <h3 style="color: #1ccad4; margin-top: 0;">📋 Your Signed Documents</h3>
                <p>Please download and keep copies of your signed service documents for your records:</p>
                ${nr.map(or=>`
                  <a href="${or.url}" class="document-link" target="_blank">
                    ${or.icon} Download ${or.name}
                  </a>
                `).join("")}
              </div>
              `:""}
              
              <div style="background-color: white; padding: 15px; margin: 15px 0; border-radius: 8px;">
                <h3 style="color: #1ccad4;">Thank You for Choosing 365Solutions!</h3>
                <p>✅ <strong>Service completed successfully</strong></p>
                <p>✅ <strong>Device delivered to customer</strong></p>
                <p>✅ <strong>All documentation provided</strong></p>
                
                <p><strong>Customer Satisfaction:</strong></p>
                <p>Your satisfaction is important to us. If you have any questions about the repair or need further assistance, please don't hesitate to contact us.</p>
                
                <p><strong>Warranty Information:</strong></p>
                <p>Please keep your service documents as they contain important warranty information for the repair work performed.</p>
              </div>
              
              <p><strong>Future Service Needs:</strong></p>
              <p>Should you need any future repairs or have questions about your device, please contact us at:</p>
              <ul>
                <li>Email: ${sr.location==="M"?"help@365solutionsjo.com":"irbid@365solutionsjo.com"}</li>
                <li>Phone: ${sr.location==="M"?"+962-6-XXX-XXXX":"+962-2-XXX-XXXX"}</li>
              </ul>
              
              <div class="footer">
                <p>365Solutions - Apple Authorized Service Center</p>
                <p>Professional device repair services you can trust</p>
                <p><strong>Thank you for your business!</strong></p>
              </div>
            </div>
          </div>
        </body>
        </html>
      `,Ge={to:sr.emailAddress,subject:`✅ Service Complete - Ticket Closed #${sr.location}${sr.ticketNum}`,html:We,location:sr.location};console.log("📤 Sending email to:",Ge.to),console.log("📧 Email subject:",Ge.subject),console.log("🔄 Full email data:",JSON.stringify(Ge,null,2)),(await fetch(API_ENDPOINTS.SEND_EMAIL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ge)})).ok?(console.log("Ticket closed email sent successfully"),alert("Ticket closed email sent successfully!")):(console.error("Failed to send ticket closed email"),alert("Failed to send ticket closed email"))}catch(sr){console.error("Error sending ticket closed email:",sr),alert(`Error sending email: ${sr.message}`)}},ze=async()=>{var ir;if(!(!Ae||!Ae.id))try{setTimeout(async()=>{const sr=Oe.current;if(!sr){alert("PDF content not found");return}Fe(!0),sr.classList.add("no-print-mode");const rr=await html2canvas(sr,{scale:2}),nr=rr.toDataURL("image/jpeg"),We=new E("p","mm","a4"),Ge=We.internal.pageSize.getWidth(),Ze=We.internal.pageSize.getHeight(),or=rr.width,He=rr.height,Je=Math.min(Ge/or,Ze/He),$e=or*Je,mr=He*Je,wr=(Ge-$e)/2;We.addImage(nr,"JPEG",wr,0,$e,mr,void 0,"FAST");const ur=We.output("blob"),Cr=getStorage(),_r=`testDeliveryNotes/Delivery_${Ae.id}.pdf`,hr=ref(Cr,_r);await uploadBytes(hr,ur);const Sr=await getDownloadURL(hr),ar=Ae.technicions||[],tr=(t==null?void 0:t.name)||"Unknown Technician",lr=[...ar,tr],pr=Ae.details||[],Rr=`${new Date().toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})} - Closed by ${tr}`,Tr=[...pr,Rr];await updateDoc(doc(db,"tickets",Ae.id),{deliveryNoteURL:_r,ticketStates:[...Ae.ticketStates,7],technicions:lr,details:Tr});const Ir={...Ae,deliveryNoteURL:_r,ticketStates:[...Ae.ticketStates,7],technicions:lr,details:Tr};_e(Ir),await Ke(Ir),alert("Delivery note was saved successfully"),Fe(!1),Se||je("/tickets/")},200)}catch(sr){console.error("Error saving delivery note:",sr),alert("Failed to save PDF.")}finally{Fe(!1),(ir=Oe.current)==null||ir.classList.remove("no-print-mode"),Ce(!1)}},Ve=new Date().toLocaleDateString("en-GB"),Xe=()=>{ke.current.clear(),Ce(!1)};return Ae?jsxRuntimeExports.jsxs("div",{className:"delivery-page-container",children:[Be&&jsxRuntimeExports.jsxs("div",{className:"saving-overlay",children:[jsxRuntimeExports.jsx("div",{className:"spinner-PDF"}),jsxRuntimeExports.jsx("p",{children:"Saving PDF, please wait..."})]}),jsxRuntimeExports.jsx("div",{className:"delivery-page-content",ref:Oe,children:jsxRuntimeExports.jsxs("div",{className:"modal-contents",children:[jsxRuntimeExports.jsxs("div",{className:"header-section",children:[jsxRuntimeExports.jsx("img",{src:logoImage,alt:"365 Solutions Logo",className:"logo"}),jsxRuntimeExports.jsx("h2",{className:"modal-title",children:"إقرار استلام جهاز"})]}),jsxRuntimeExports.jsxs("p",{className:"arabic-text",children:["أقر أنا ",jsxRuntimeExports.jsx("strong",{children:Ae.customerName})," بأني قد استلمت جهاز"," ",jsxRuntimeExports.jsx("strong",{children:Ae.machineType}),jsxRuntimeExports.jsx("br",{}),"والذي تم تسليمه للشركة بتاريخ ",jsxRuntimeExports.jsx("strong",{children:Ae.date})," ويحمل رقم تسلسلي ",jsxRuntimeExports.jsx("strong",{children:Ae.serialNum}),jsxRuntimeExports.jsx("br",{}),"ويحمل استلام برقم ",jsxRuntimeExports.jsx("strong",{children:Ae.ticketNum})," لأغراض الصيانة وقد تم عمل الصيانة اللازمة من قبلهم",jsxRuntimeExports.jsx("br",{}),"وعليه أُخلي مسؤولية الشركة من أي مطالبات لاحقاً إلا بما تقضيه شروط الضمان المعتمدة من قبل الشركة الأم",jsxRuntimeExports.jsx("br",{}),"وبناءً على ذلك أوقع."]}),jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"الاسم:"}),jsxRuntimeExports.jsx("span",{children:Ae.customerName})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"التوقيع:"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{ref:ke,penColor:"black",minWidth:.5,maxWidth:1.5,canvasProps:{width:100,height:100,className:"sig-canvas"},onEnd:()=>Ce(!ke.current.isEmpty())})})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"التاريخ:"}),jsxRuntimeExports.jsx("span",{children:Ve})]}),jsxRuntimeExports.jsxs("div",{className:"image-upload-section",children:[jsxRuntimeExports.jsx("p",{children:"* مرفق صورة عن إثبات الشخصية"}),jsxRuntimeExports.jsxs("label",{className:"upload-label",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*"}),jsxRuntimeExports.jsx("div",{className:"upload-icon",children:"📷"})]})]}),jsxRuntimeExports.jsxs("div",{className:"footer-info",children:[jsxRuntimeExports.jsxs("p",{children:["Mecca St, Building 221, Amman, Jordan",jsxRuntimeExports.jsx("br",{}),"Mob: +962 7 96181819",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:"mailto:help@365solutionsjo.com",children:"help@365solutionsjo.com"})]}),jsxRuntimeExports.jsx("img",{src:"/apple-authorised.png",alt:"Apple Authorised Logo",className:"apple-logo"})]})]}),jsxRuntimeExports.jsxs("div",{className:"button-row no-print",children:[jsxRuntimeExports.jsx("button",{className:"clear-button",onClick:Xe,children:"Clear"}),jsxRuntimeExports.jsx("button",{className:"save-button",onClick:ze,disabled:!xe,children:"Save"}),jsxRuntimeExports.jsx("button",{style:{backgroundColor:"#007bff",color:"white",padding:"10px 15px",border:"none",borderRadius:"5px",cursor:"pointer",marginLeft:"10px"},onClick:()=>Ke(Ae),children:"🧪 Test Email"})]})]})}),Se&&!Be&&jsxRuntimeExports.jsxs("button",{className:"next-arrow-button no-print",onClick:()=>je(`/tickets/${Ae.id}/part-delivery`),title:"Next: Sign Parts Delivery Note",children:["Next",jsxRuntimeExports.jsx(FaArrowRight,{})]})]}):jsxRuntimeExports.jsx("p",{children:"Loading..."})},PartsDeliveryPage=()=>{var ir;const{id:Ee}=useParams(),{technician:t}=useUser(),[Ae,_e]=reactExports.useState(!1),xe=reactExports.useRef(null),Ce=reactExports.useRef(null),Se=reactExports.useRef(null),[Re,Be]=reactExports.useState(!1),[Fe,Ie]=reactExports.useState(null),[Ue,ke]=reactExports.useState(null),[Oe,je]=reactExports.useState(!1),Ke=useNavigate();reactExports.useEffect(()=>{(async()=>{var We;const rr=doc(db,"tickets",Ee),nr=await getDoc(rr);if(nr.exists()){const Ge=nr.data();if(Ie(Ge),Ge.partDeliveryNote){const Ze=doc(db,"partsDeliveryNotes",Ge.partDeliveryNote),or=await getDoc(Ze);if(or.exists()){const He=or.data();ke(He);const Je=(We=He.parts)==null?void 0:We.some($e=>parseFloat($e.price||0)>0);je(Je)}}}})()},[Ee]);const ze=()=>{xe.current.clear(),Ce.current.clear(),_e(!1)},Ve=()=>{Ce.current.isEmpty()||_e(!0)},Xe=async()=>{try{const sr=Se.current;if(!sr){alert("PDF content not found");return}Be(!0),sr.classList.add("no-print-mode");const rr=await html2canvas(sr,{scale:2}),nr=rr.toDataURL("image/jpeg"),We=new E("p","mm","a4"),Ge=We.internal.pageSize.getWidth(),Ze=rr.height*Ge/rr.width;We.addImage(nr,"JPEG",0,0,Ge,Ze);const or=We.output("blob"),He=`testDeliveryNotes/PDN${Ee}.pdf`,Je=ref(getStorage(),He);await uploadBytes(Je,or);const $e=await getDownloadURL(Je);await updateDoc(doc(db,"tickets",Ee),{partsDeliveryNoteURL:He,hasAnInvoice:Oe}),alert("Parts Delivery Note saved successfully!"),Oe||Ke("/tickets/")}catch(sr){console.error("Failed to save PDF:",sr),alert("An error occurred while saving.")}finally{Be(!1)}};return!Fe||!Ue?jsxRuntimeExports.jsx("p",{children:"Loading..."}):jsxRuntimeExports.jsxs("div",{className:"parts-page-wrapper",children:[Re&&jsxRuntimeExports.jsxs("div",{className:"saving-overlay",children:[jsxRuntimeExports.jsx("div",{className:"spinner-PDF"}),jsxRuntimeExports.jsx("p",{children:"Saving PDF, please wait..."})]}),jsxRuntimeExports.jsxs("div",{className:"parts-delivery-container",ref:Se,children:[jsxRuntimeExports.jsxs("div",{className:"header-section",children:[jsxRuntimeExports.jsx("img",{src:logoImage,alt:"365 Solutions Logo",className:"logo"}),jsxRuntimeExports.jsx("h2",{className:"modal-title",children:"Delivery Note"})]}),jsxRuntimeExports.jsxs("div",{className:"info-row",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivery Date:"})," ",new Date().toLocaleDateString("en-GB"),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Customer Name:"})," ",Fe.customerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Invoice #:"})," ",Fe.location,Fe.ticketNum,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Product Type:"})," ",Fe.machineType]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Serial Number:"})," ",Fe.serialNum,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Device Issue:"})," ",Fe.symptom||"-",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Warranty Status:"})," ",Fe.warrantyStatus||"-",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Technician:"})," ",(t==null?void 0:t.name)||"Unknown Technician"]})})]}),jsxRuntimeExports.jsxs("table",{className:"parts-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Item Description"}),jsxRuntimeExports.jsx("th",{children:"Part #"}),jsxRuntimeExports.jsx("th",{children:"Old Serial#"}),jsxRuntimeExports.jsx("th",{children:"New Serial#"}),jsxRuntimeExports.jsx("th",{children:"Quantity"}),jsxRuntimeExports.jsx("th",{children:"Warranty Status"})]})}),jsxRuntimeExports.jsx("tbody",{children:(ir=Ue.parts)==null?void 0:ir.map((sr,rr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:sr.description}),jsxRuntimeExports.jsx("td",{children:sr.partNumber}),jsxRuntimeExports.jsx("td",{children:sr.oldSN}),jsxRuntimeExports.jsx("td",{children:sr.newSN}),jsxRuntimeExports.jsx("td",{children:sr.quantity}),jsxRuntimeExports.jsx("td",{children:sr.warrantyStatus})]},rr))})]}),jsxRuntimeExports.jsxs("div",{className:"notes-section",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Service Notes:"})," ",Ue.serviceNotes||"-"]}),jsxRuntimeExports.jsxs("ol",{children:[jsxRuntimeExports.jsx("li",{children:"Warranty for any replaced part is valid for 90 days"}),jsxRuntimeExports.jsx("li",{children:"Refund for any paid services is within 3 days if the same issue occurred again"}),jsxRuntimeExports.jsx("li",{children:"Receipt should be provided upon refund"})]})]}),jsxRuntimeExports.jsxs("div",{className:"signatures",children:[jsxRuntimeExports.jsxs("div",{className:"signature-block",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Issued by:"})," ",(t==null?void 0:t.name)||"Unknown Technician"]}),jsxRuntimeExports.jsx("label",{children:"Signature:"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{penColor:"black",canvasProps:{width:200,height:100,className:"sig-canvas"},ref:xe})})]}),jsxRuntimeExports.jsxs("div",{className:"signature-block",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Received by:"})," ",Fe.customerName]}),jsxRuntimeExports.jsx("label",{children:"Signature:"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{penColor:"black",canvasProps:{width:200,height:100,className:"sig-canvas"},ref:Ce,onEnd:Ve})})]})]}),jsxRuntimeExports.jsxs("div",{className:"action-buttons no-print",children:[jsxRuntimeExports.jsx("button",{className:"clear-button",onClick:ze,children:"Clear"}),jsxRuntimeExports.jsx("button",{className:"save-button",onClick:Xe,disabled:!Ae,children:"Save"})]})]}),Oe&&!Re&&jsxRuntimeExports.jsxs("button",{className:"next-arrow-button no-print",onClick:()=>Ke(`/tickets/${Ee}/receipt-page`),children:["Next",jsxRuntimeExports.jsx(FaArrowRight,{})]})]})},ReceiptPage=()=>{const{id:Ee}=useParams(),{technician:t}=useUser(),[Ae,_e]=reactExports.useState(!1),xe=reactExports.useRef(null),Ce=reactExports.useRef(null),Se=reactExports.useRef(null),[Re,Be]=reactExports.useState(!1),[Fe,Ie]=reactExports.useState(null),[Ue,ke]=reactExports.useState(null),[Oe,je]=reactExports.useState([]),[Ke,ze]=reactExports.useState(0),Ve=useNavigate();reactExports.useEffect(()=>{(async()=>{var Ge;const nr=doc(db,"tickets",Ee),We=await getDoc(nr);if(We.exists()){const Ze=We.data();if(Ie(Ze),Ze.partDeliveryNote){const or=doc(db,"partsDeliveryNotes",Ze.partDeliveryNote),He=await getDoc(or);if(He.exists()){const Je=He.data();ke(Je);const $e=((Ge=Je.parts)==null?void 0:Ge.filter(wr=>parseFloat(wr.price||0)>0))||[];je($e);const mr=$e.reduce((wr,vr)=>wr+parseFloat(vr.price||0)*parseInt(vr.quantity||1),0);ze(mr)}}}})()},[Ee]);const Xe=()=>{xe.current.clear(),Ce.current.clear(),_e(!1)},ir=()=>{Ce.current.isEmpty()||_e(!0)},sr=async()=>{try{const rr=Se.current;if(!rr){alert("PDF content not found");return}Be(!0),rr.classList.add("no-print-mode");const nr=await html2canvas(rr,{scale:2}),We=nr.toDataURL("image/jpeg"),Ge=new E("p","mm","a4"),Ze=Ge.internal.pageSize.getWidth(),or=nr.height*Ze/nr.width;Ge.addImage(We,"JPEG",0,0,Ze,or);const He=Ge.output("blob"),Je=`receipts/Receipt_${Ee}.pdf`,$e=ref(getStorage(),Je);await uploadBytes($e,He);const mr=await getDownloadURL($e);await updateDoc(doc(db,"tickets",Ee),{invoiceURL:Je}),alert("Receipt saved successfully!"),Ve("/tickets/")}catch(rr){console.error("Failed to save PDF:",rr),alert("An error occurred while saving.")}finally{Be(!1)}};return!Fe||!Ue||Oe.length===0?jsxRuntimeExports.jsx("p",{children:"Loading..."}):jsxRuntimeExports.jsxs("div",{className:"receipt-page-wrapper",children:[Re&&jsxRuntimeExports.jsxs("div",{className:"saving-overlay",children:[jsxRuntimeExports.jsx("div",{className:"spinner-PDF"}),jsxRuntimeExports.jsx("p",{children:"Saving PDF, please wait..."})]}),jsxRuntimeExports.jsxs("div",{className:"receipt-container",ref:Se,children:[jsxRuntimeExports.jsxs("div",{className:"header-section",children:[jsxRuntimeExports.jsx("img",{src:logoImage,alt:"365 Solutions Logo",className:"logo"}),jsxRuntimeExports.jsx("h2",{className:"modal-title",children:"Receipt"})]}),jsxRuntimeExports.jsxs("div",{className:"info-row",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Date:"})," ",new Date().toLocaleDateString("en-GB"),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Customer Name:"})," ",Fe.customerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Receipt #:"})," ",Fe.location,Fe.ticketNum,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Product Type:"})," ",Fe.machineType]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Serial Number:"})," ",Fe.serialNum,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Device Issue:"})," ",Fe.symptom||"-",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Warranty Status:"})," ",Fe.warrantyStatus||"-",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Technician:"})," ",(t==null?void 0:t.name)||"Unknown Technician"]})})]}),jsxRuntimeExports.jsxs("table",{className:"receipt-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Item Description"}),jsxRuntimeExports.jsx("th",{children:"Part #"}),jsxRuntimeExports.jsx("th",{children:"Quantity"}),jsxRuntimeExports.jsx("th",{children:"Unit Price"}),jsxRuntimeExports.jsx("th",{children:"Total Price"})]})}),jsxRuntimeExports.jsx("tbody",{children:Oe.map((rr,nr)=>{const We=parseFloat(rr.price||0),Ge=parseInt(rr.quantity||1),Ze=We*Ge;return jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:rr.description}),jsxRuntimeExports.jsx("td",{children:rr.partNumber}),jsxRuntimeExports.jsx("td",{children:Ge}),jsxRuntimeExports.jsxs("td",{children:[We.toFixed(2)," JOD"]}),jsxRuntimeExports.jsxs("td",{children:[Ze.toFixed(2)," JOD"]})]},nr)})}),jsxRuntimeExports.jsx("tfoot",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{colSpan:"4",className:"total-label",children:jsxRuntimeExports.jsx("strong",{children:"Total Amount:"})}),jsxRuntimeExports.jsx("td",{className:"total-amount",children:jsxRuntimeExports.jsxs("strong",{children:[Ke.toFixed(2)," JOD"]})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"notes-section",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Service Notes:"})," ",Ue.serviceNotes||"-"]}),jsxRuntimeExports.jsxs("ol",{children:[jsxRuntimeExports.jsx("li",{children:"Warranty for any replaced part is valid for 90 days"}),jsxRuntimeExports.jsx("li",{children:"Refund for any paid services is within 3 days if the same issue occurred again"}),jsxRuntimeExports.jsx("li",{children:"Receipt should be provided upon refund"})]})]}),jsxRuntimeExports.jsxs("div",{className:"signatures",children:[jsxRuntimeExports.jsxs("div",{className:"signature-block",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Issued by:"})," ",(t==null?void 0:t.name)||"Unknown Technician"]}),jsxRuntimeExports.jsx("label",{children:"Signature:"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{penColor:"black",canvasProps:{width:200,height:100,className:"sig-canvas"},ref:xe})})]}),jsxRuntimeExports.jsxs("div",{className:"signature-block",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Paid by:"})," ",Fe.customerName]}),jsxRuntimeExports.jsx("label",{children:"Signature:"}),jsxRuntimeExports.jsx("div",{className:"signature-box",children:jsxRuntimeExports.jsx(SignatureCanvas,{penColor:"black",canvasProps:{width:200,height:100,className:"sig-canvas"},ref:Ce,onEnd:ir})})]})]}),jsxRuntimeExports.jsxs("div",{className:"action-buttons no-print",children:[jsxRuntimeExports.jsx("button",{className:"clear-button",onClick:Xe,children:"Clear"}),jsxRuntimeExports.jsx("button",{className:"save-button",onClick:sr,disabled:!Ae,children:"Save Receipt"})]})]})]})};function App(){return jsxRuntimeExports.jsxs("div",{className:"app-container",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("main",{className:"main-content",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LoginPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/tickets",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Tickets,{})})}),jsxRuntimeExports.jsx(Route,{path:"/tickets/:id",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Tickets,{})})}),jsxRuntimeExports.jsx(Route,{path:"/customers",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Customers,{})})}),jsxRuntimeExports.jsx(Route,{path:"/devices",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Devices,{})})}),jsxRuntimeExports.jsx(Route,{path:"/archived",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Archived,{})})}),jsxRuntimeExports.jsx(Route,{path:"/tickets/new",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(NewTicket,{})})}),jsxRuntimeExports.jsx(Route,{path:"/tickets/:id/process",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(ProcessTicketPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(AdminDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/user-management",element:jsxRuntimeExports.jsx(SystemAdminRoute,{children:jsxRuntimeExports.jsx(UserManagement,{})})}),jsxRuntimeExports.jsx(Route,{path:"/tickets/:id/deliver",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(DeliveryPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/tickets/:id/part-delivery",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(PartsDeliveryPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/tickets/:id/receipt-page",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(ReceiptPage,{})})})]})})]})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(UserProvider,{children:jsxRuntimeExports.jsx(App,{})})})}));export{_typeof as _,commonjsGlobal$2 as c,getDefaultExportFromCjs as g};
